(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const dt of document.querySelectorAll('link[rel="modulepreload"]'))tt(dt);new MutationObserver(dt=>{for(const mt of dt)if(mt.type==="childList")for(const an of mt.addedNodes)an.tagName==="LINK"&&an.rel==="modulepreload"&&tt(an)}).observe(document,{childList:!0,subtree:!0});function $(dt){const mt={};return dt.integrity&&(mt.integrity=dt.integrity),dt.referrerPolicy&&(mt.referrerPolicy=dt.referrerPolicy),dt.crossOrigin==="use-credentials"?mt.credentials="include":dt.crossOrigin==="anonymous"?mt.credentials="omit":mt.credentials="same-origin",mt}function tt(dt){if(dt.ep)return;dt.ep=!0;const mt=$(dt);fetch(dt.href,mt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,g,$){this.props=i,this.context=g,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,g){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,g,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,g,$){this.props=i,this.context=g,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,g,$){var tt,dt={},mt=null,an=null;if(g!=null)for(tt in g.ref!==void 0&&(an=g.ref),g.key!==void 0&&(mt=""+g.key),g)J.call(g,tt)&&!L$1.hasOwnProperty(tt)&&(dt[tt]=g[tt]);var An=arguments.length-2;if(An===1)dt.children=$;else if(1<An){for(var Dn=Array(An),Jn=0;Jn<An;Jn++)Dn[Jn]=arguments[Jn+2];dt.children=Dn}if(i&&i.defaultProps)for(tt in An=i.defaultProps,An)dt[tt]===void 0&&(dt[tt]=An[tt]);return{$$typeof:l$2,type:i,key:mt,ref:an,props:dt,_owner:K$1.current}}function N$1(i,g){return{$$typeof:l$2,type:i.type,key:g,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape(i){var g={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function($){return g[$]})}var P$2=/\/+/g;function Q$1(i,g){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):g.toString(36)}function R$1(i,g,$,tt,dt){var mt=typeof i;(mt==="undefined"||mt==="boolean")&&(i=null);var an=!1;if(i===null)an=!0;else switch(mt){case"string":case"number":an=!0;break;case"object":switch(i.$$typeof){case l$2:case n$1:an=!0}}if(an)return an=i,dt=dt(an),i=tt===""?"."+Q$1(an,0):tt,I$1(dt)?($="",i!=null&&($=i.replace(P$2,"$&/")+"/"),R$1(dt,g,$,"",function(Jn){return Jn})):dt!=null&&(O$1(dt)&&(dt=N$1(dt,$+(!dt.key||an&&an.key===dt.key?"":(""+dt.key).replace(P$2,"$&/")+"/")+i)),g.push(dt)),1;if(an=0,tt=tt===""?".":tt+":",I$1(i))for(var An=0;An<i.length;An++){mt=i[An];var Dn=tt+Q$1(mt,An);an+=R$1(mt,g,$,Dn,dt)}else if(Dn=A$1(i),typeof Dn=="function")for(i=Dn.call(i),An=0;!(mt=i.next()).done;)mt=mt.value,Dn=tt+Q$1(mt,An++),an+=R$1(mt,g,$,Dn,dt);else if(mt==="object")throw g=String(i),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return an}function S$1(i,g,$){if(i==null)return i;var tt=[],dt=0;return R$1(i,tt,"","",function(mt){return g.call($,mt,dt++)}),tt}function T$1(i){if(i._status===-1){var g=i._result;g=g(),g.then(function($){(i._status===0||i._status===-1)&&(i._status=1,i._result=$)},function($){(i._status===0||i._status===-1)&&(i._status=2,i._result=$)}),i._status===-1&&(i._status=0,i._result=g)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,g,$){S$1(i,function(){g.apply(this,arguments)},$)},count:function(i){var g=0;return S$1(i,function(){g++}),g},toArray:function(i){return S$1(i,function(g){return g})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,g,$){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var tt=C$1({},i.props),dt=i.key,mt=i.ref,an=i._owner;if(g!=null){if(g.ref!==void 0&&(mt=g.ref,an=K$1.current),g.key!==void 0&&(dt=""+g.key),i.type&&i.type.defaultProps)var An=i.type.defaultProps;for(Dn in g)J.call(g,Dn)&&!L$1.hasOwnProperty(Dn)&&(tt[Dn]=g[Dn]===void 0&&An!==void 0?An[Dn]:g[Dn])}var Dn=arguments.length-2;if(Dn===1)tt.children=$;else if(1<Dn){An=Array(Dn);for(var Jn=0;Jn<Dn;Jn++)An[Jn]=arguments[Jn+2];tt.children=An}return{$$typeof:l$2,type:i.type,key:dt,ref:mt,props:tt,_owner:an}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var g=M$1.bind(null,i);return g.type=i,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,g){return{$$typeof:x,type:i,compare:g===void 0?null:g}};react_production_min.startTransition=function(i){var g=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=g}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,g){return U$1.current.useCallback(i,g)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,g){return U$1.current.useEffect(i,g)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,g,$){return U$1.current.useImperativeHandle(i,g,$)};react_production_min.useInsertionEffect=function(i,g){return U$1.current.useInsertionEffect(i,g)};react_production_min.useLayoutEffect=function(i,g){return U$1.current.useLayoutEffect(i,g)};react_production_min.useMemo=function(i,g){return U$1.current.useMemo(i,g)};react_production_min.useReducer=function(i,g,$){return U$1.current.useReducer(i,g,$)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,g,$){return U$1.current.useSyncExternalStore(i,g,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(i,g,$){var tt,dt={},mt=null,an=null;$!==void 0&&(mt=""+$),g.key!==void 0&&(mt=""+g.key),g.ref!==void 0&&(an=g.ref);for(tt in g)m$2.call(g,tt)&&!p$2.hasOwnProperty(tt)&&(dt[tt]=g[tt]);if(i&&i.defaultProps)for(tt in g=i.defaultProps,g)dt[tt]===void 0&&(dt[tt]=g[tt]);return{$$typeof:k$1,type:i,key:mt,ref:an,props:dt,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function g(yt,Ht){var Bt=yt.length;yt.push(Ht);e:for(;0<Bt;){var bt=Bt-1>>>1,Et=yt[bt];if(0<dt(Et,Ht))yt[bt]=Ht,yt[Bt]=Et,Bt=bt;else break e}}function $(yt){return yt.length===0?null:yt[0]}function tt(yt){if(yt.length===0)return null;var Ht=yt[0],Bt=yt.pop();if(Bt!==Ht){yt[0]=Bt;e:for(var bt=0,Et=yt.length,At=Et>>>1;bt<At;){var Ct=2*(bt+1)-1,ct=yt[Ct],it=Ct+1,_e=yt[it];if(0>dt(ct,Bt))it<Et&&0>dt(_e,ct)?(yt[bt]=_e,yt[it]=Bt,bt=it):(yt[bt]=ct,yt[Ct]=Bt,bt=Ct);else if(it<Et&&0>dt(_e,Bt))yt[bt]=_e,yt[it]=Bt,bt=it;else break e}}return Ht}function dt(yt,Ht){var Bt=yt.sortIndex-Ht.sortIndex;return Bt!==0?Bt:yt.id-Ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mt=performance;i.unstable_now=function(){return mt.now()}}else{var an=Date,An=an.now();i.unstable_now=function(){return an.now()-An}}var Dn=[],Jn=[],Vn=1,er=null,Lt=3,kt=!1,_=!1,pt=!1,ht=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(yt){for(var Ht=$(Jn);Ht!==null;){if(Ht.callback===null)tt(Jn);else if(Ht.startTime<=yt)tt(Jn),Ht.sortIndex=Ht.expirationTime,g(Dn,Ht);else break;Ht=$(Jn)}}function xt(yt){if(pt=!1,gt(yt),!_)if($(Dn)!==null)_=!0,pn(Ut);else{var Ht=$(Jn);Ht!==null&&vn(xt,Ht.startTime-yt)}}function Ut(yt,Ht){_=!1,pt&&(pt=!1,ot(Xt),Xt=-1),kt=!0;var Bt=Lt;try{for(gt(Ht),er=$(Dn);er!==null&&(!(er.expirationTime>Ht)||yt&&!Qt());){var bt=er.callback;if(typeof bt=="function"){er.callback=null,Lt=er.priorityLevel;var Et=bt(er.expirationTime<=Ht);Ht=i.unstable_now(),typeof Et=="function"?er.callback=Et:er===$(Dn)&&tt(Dn),gt(Ht)}else tt(Dn);er=$(Dn)}if(er!==null)var At=!0;else{var Ct=$(Jn);Ct!==null&&vn(xt,Ct.startTime-Ht),At=!1}return At}finally{er=null,Lt=Bt,kt=!1}}var rt=!1,vt=null,Xt=-1,nn=5,cn=-1;function Qt(){return!(i.unstable_now()-cn<nn)}function hn(){if(vt!==null){var yt=i.unstable_now();cn=yt;var Ht=!0;try{Ht=vt(!0,yt)}finally{Ht?fn():(rt=!1,vt=null)}}else rt=!1}var fn;if(typeof at=="function")fn=function(){at(hn)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,mn=Nn.port2;Nn.port1.onmessage=hn,fn=function(){mn.postMessage(null)}}else fn=function(){ht(hn,0)};function pn(yt){vt=yt,rt||(rt=!0,fn())}function vn(yt,Ht){Xt=ht(function(){yt(i.unstable_now())},Ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(yt){yt.callback=null},i.unstable_continueExecution=function(){_||kt||(_=!0,pn(Ut))},i.unstable_forceFrameRate=function(yt){0>yt||125<yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nn=0<yt?Math.floor(1e3/yt):5},i.unstable_getCurrentPriorityLevel=function(){return Lt},i.unstable_getFirstCallbackNode=function(){return $(Dn)},i.unstable_next=function(yt){switch(Lt){case 1:case 2:case 3:var Ht=3;break;default:Ht=Lt}var Bt=Lt;Lt=Ht;try{return yt()}finally{Lt=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(yt,Ht){switch(yt){case 1:case 2:case 3:case 4:case 5:break;default:yt=3}var Bt=Lt;Lt=yt;try{return Ht()}finally{Lt=Bt}},i.unstable_scheduleCallback=function(yt,Ht,Bt){var bt=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?bt+Bt:bt):Bt=bt,yt){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=Bt+Et,yt={id:Vn++,callback:Ht,priorityLevel:yt,startTime:Bt,expirationTime:Et,sortIndex:-1},Bt>bt?(yt.sortIndex=Bt,g(Jn,yt),$(Dn)===null&&yt===$(Jn)&&(pt?(ot(Xt),Xt=-1):pt=!0,vn(xt,Bt-bt))):(yt.sortIndex=Et,g(Dn,yt),_||kt||(_=!0,pn(Ut))),yt},i.unstable_shouldYield=Qt,i.unstable_wrapCallback=function(yt){var Ht=Lt;return function(){var Bt=Lt;Lt=Ht;try{return yt.apply(this,arguments)}finally{Lt=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+i,$=1;$<arguments.length;$++)g+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+i+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,g){ha(i,g),ha(i+"Capture",g)}function ha(i,g){for(ea[i]=g,i=0;i<g.length;i++)da.add(g[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,g,$,tt){if($!==null&&$.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return tt?!1:$!==null?!$.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,g,$,tt){if(g===null||typeof g>"u"||pa(i,g,$,tt))return!0;if(tt)return!1;if($!==null)switch($.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$1(i,g,$,tt,dt,mt,an){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=tt,this.attributeNamespace=dt,this.mustUseProperty=$,this.propertyName=i,this.type=g,this.sanitizeURL=mt,this.removeEmptyString=an}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var g=i[0];z[g]=new v$1(g,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,g,$,tt){var dt=z.hasOwnProperty(g)?z[g]:null;(dt!==null?dt.type!==0:tt||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,$,dt,tt)&&($=null),tt||dt===null?oa(g)&&($===null?i.removeAttribute(g):i.setAttribute(g,""+$)):dt.mustUseProperty?i[dt.propertyName]=$===null?dt.type===3?!1:"":$:(g=dt.attributeName,tt=dt.attributeNamespace,$===null?i.removeAttribute(g):(dt=dt.type,$=dt===3||dt===4&&$===!0?"":""+$,tt?i.setAttributeNS(tt,g,$):i.setAttribute(g,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch($){var g=$.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+i}var Na=!1;function Oa(i,g){if(!i||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Jn){var tt=Jn}Reflect.construct(i,[],g)}else{try{g.call()}catch(Jn){tt=Jn}i.call(g.prototype)}else{try{throw Error()}catch(Jn){tt=Jn}i()}}catch(Jn){if(Jn&&tt&&typeof Jn.stack=="string"){for(var dt=Jn.stack.split(`
`),mt=tt.stack.split(`
`),an=dt.length-1,An=mt.length-1;1<=an&&0<=An&&dt[an]!==mt[An];)An--;for(;1<=an&&0<=An;an--,An--)if(dt[an]!==mt[An]){if(an!==1||An!==1)do if(an--,An--,0>An||dt[an]!==mt[An]){var Dn=`
`+dt[an].replace(" at new "," at ");return i.displayName&&Dn.includes("<anonymous>")&&(Dn=Dn.replace("<anonymous>",i.displayName)),Dn}while(1<=an&&0<=An);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var g=i.render;return i=i.displayName,i||(i=g.displayName||g.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return g=i.displayName||null,g!==null?g:Qa(i.type)||"Memo";case Ha:g=i._payload,i=i._init;try{return Qa(i(g))}catch{}}return null}function Ra(i){var g=i.type;switch(i.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=g.render,i=i.displayName||i.name||"",g.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var g=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(i){var g=Ta(i)?"checked":"value",$=Object.getOwnPropertyDescriptor(i.constructor.prototype,g),tt=""+i[g];if(!i.hasOwnProperty(g)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var dt=$.get,mt=$.set;return Object.defineProperty(i,g,{configurable:!0,get:function(){return dt.call(this)},set:function(an){tt=""+an,mt.call(this,an)}}),Object.defineProperty(i,g,{enumerable:$.enumerable}),{getValue:function(){return tt},setValue:function(an){tt=""+an},stopTracking:function(){i._valueTracker=null,delete i[g]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var g=i._valueTracker;if(!g)return!0;var $=g.getValue(),tt="";return i&&(tt=Ta(i)?i.checked?"true":"false":i.value),i=tt,i!==$?(g.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,g){var $=g.checked;return A({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??i._wrapperState.initialChecked})}function Za(i,g){var $=g.defaultValue==null?"":g.defaultValue,tt=g.checked!=null?g.checked:g.defaultChecked;$=Sa(g.value!=null?g.value:$),i._wrapperState={initialChecked:tt,initialValue:$,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(i,g){g=g.checked,g!=null&&ta(i,"checked",g,!1)}function bb(i,g){ab(i,g);var $=Sa(g.value),tt=g.type;if($!=null)tt==="number"?($===0&&i.value===""||i.value!=$)&&(i.value=""+$):i.value!==""+$&&(i.value=""+$);else if(tt==="submit"||tt==="reset"){i.removeAttribute("value");return}g.hasOwnProperty("value")?cb(i,g.type,$):g.hasOwnProperty("defaultValue")&&cb(i,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(i.defaultChecked=!!g.defaultChecked)}function db(i,g,$){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var tt=g.type;if(!(tt!=="submit"&&tt!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+i._wrapperState.initialValue,$||g===i.value||(i.value=g),i.defaultValue=g}$=i.name,$!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,$!==""&&(i.name=$)}function cb(i,g,$){(g!=="number"||Xa(i.ownerDocument)!==i)&&($==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+$&&(i.defaultValue=""+$))}var eb=Array.isArray;function fb(i,g,$,tt){if(i=i.options,g){g={};for(var dt=0;dt<$.length;dt++)g["$"+$[dt]]=!0;for($=0;$<i.length;$++)dt=g.hasOwnProperty("$"+i[$].value),i[$].selected!==dt&&(i[$].selected=dt),dt&&tt&&(i[$].defaultSelected=!0)}else{for($=""+Sa($),g=null,dt=0;dt<i.length;dt++){if(i[dt].value===$){i[dt].selected=!0,tt&&(i[dt].defaultSelected=!0);return}g!==null||i[dt].disabled||(g=i[dt])}g!==null&&(g.selected=!0)}}function gb(i,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},g,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,g){var $=g.value;if($==null){if($=g.children,g=g.defaultValue,$!=null){if(g!=null)throw Error(p$1(92));if(eb($)){if(1<$.length)throw Error(p$1(93));$=$[0]}g=$}g==null&&(g=""),$=g}i._wrapperState={initialValue:Sa($)}}function ib(i,g){var $=Sa(g.value),tt=Sa(g.defaultValue);$!=null&&($=""+$,$!==i.value&&(i.value=$),g.defaultValue==null&&i.defaultValue!==$&&(i.defaultValue=$)),tt!=null&&(i.defaultValue=""+tt)}function jb(i){var g=i.textContent;g===i._wrapperState.initialValue&&g!==""&&g!==null&&(i.value=g)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,g){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(g):i==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,$,tt,dt){MSApp.execUnsafeLocalFunction(function(){return i(g,$,tt,dt)})}:i}(function(i,g){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;g.firstChild;)i.appendChild(g.firstChild)}});function ob(i,g){if(g){var $=i.firstChild;if($&&$===i.lastChild&&$.nodeType===3){$.nodeValue=g;return}}i.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(g){g=g+i.charAt(0).toUpperCase()+i.substring(1),pb[g]=pb[i]})});function rb(i,g,$){return g==null||typeof g=="boolean"||g===""?"":$||typeof g!="number"||g===0||pb.hasOwnProperty(i)&&pb[i]?(""+g).trim():g+"px"}function sb(i,g){i=i.style;for(var $ in g)if(g.hasOwnProperty($)){var tt=$.indexOf("--")===0,dt=rb($,g[$],tt);$==="float"&&($="cssFloat"),tt?i.setProperty($,dt):i[$]=dt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,g){if(g){if(tb[i]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$1(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$1(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$1(62))}}function vb(i,g){if(i.indexOf("-")===-1)return typeof g.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var g=i.stateNode;g&&(g=Db(g),yb(i.stateNode,i.type,g))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,g=Ab;if(Ab=zb=null,Bb(i),g)for(i=0;i<g.length;i++)Bb(g[i])}}function Gb(i,g){return i(g)}function Hb(){}var Ib=!1;function Jb(i,g,$){if(Ib)return i(g,$);Ib=!0;try{return Gb(i,g,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,g){var $=i.stateNode;if($===null)return null;var tt=Db($);if(tt===null)return null;$=tt[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(i=i.type,tt=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!tt;break e;default:i=!1}if(i)return null;if($&&typeof $!="function")throw Error(p$1(231,g,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,g,$,tt,dt,mt,an,An,Dn){var Jn=Array.prototype.slice.call(arguments,3);try{g.apply($,Jn)}catch(Vn){this.onError(Vn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,g,$,tt,dt,mt,an,An,Dn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,g,$,tt,dt,mt,an,An,Dn){if(Tb.apply(this,arguments),Ob){if(Ob){var Jn=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=Jn)}}function Vb(i){var g=i,$=i;if(i.alternate)for(;g.return;)g=g.return;else{i=g;do g=i,g.flags&4098&&($=g.return),i=g.return;while(i)}return g.tag===3?$:null}function Wb(i){if(i.tag===13){var g=i.memoizedState;if(g===null&&(i=i.alternate,i!==null&&(g=i.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var g=i.alternate;if(!g){if(g=Vb(i),g===null)throw Error(p$1(188));return g!==i?null:i}for(var $=i,tt=g;;){var dt=$.return;if(dt===null)break;var mt=dt.alternate;if(mt===null){if(tt=dt.return,tt!==null){$=tt;continue}break}if(dt.child===mt.child){for(mt=dt.child;mt;){if(mt===$)return Xb(dt),i;if(mt===tt)return Xb(dt),g;mt=mt.sibling}throw Error(p$1(188))}if($.return!==tt.return)$=dt,tt=mt;else{for(var an=!1,An=dt.child;An;){if(An===$){an=!0,$=dt,tt=mt;break}if(An===tt){an=!0,tt=dt,$=mt;break}An=An.sibling}if(!an){for(An=mt.child;An;){if(An===$){an=!0,$=mt,tt=dt;break}if(An===tt){an=!0,tt=mt,$=dt;break}An=An.sibling}if(!an)throw Error(p$1(189))}}if($.alternate!==tt)throw Error(p$1(190))}if($.tag!==3)throw Error(p$1(188));return $.stateNode.current===$?i:g}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var g=$b(i);if(g!==null)return g;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,g){var $=i.pendingLanes;if($===0)return 0;var tt=0,dt=i.suspendedLanes,mt=i.pingedLanes,an=$&268435455;if(an!==0){var An=an&~dt;An!==0?tt=tc(An):(mt&=an,mt!==0&&(tt=tc(mt)))}else an=$&~dt,an!==0?tt=tc(an):mt!==0&&(tt=tc(mt));if(tt===0)return 0;if(g!==0&&g!==tt&&!(g&dt)&&(dt=tt&-tt,mt=g&-g,dt>=mt||dt===16&&(mt&4194240)!==0))return g;if(tt&4&&(tt|=$&16),g=i.entangledLanes,g!==0)for(i=i.entanglements,g&=tt;0<g;)$=31-oc(g),dt=1<<$,tt|=i[$],g&=~dt;return tt}function vc(i,g){switch(i){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,g){for(var $=i.suspendedLanes,tt=i.pingedLanes,dt=i.expirationTimes,mt=i.pendingLanes;0<mt;){var an=31-oc(mt),An=1<<an,Dn=dt[an];Dn===-1?(!(An&$)||An&tt)&&(dt[an]=vc(An,g)):Dn<=g&&(i.expiredLanes|=An),mt&=~An}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var g=[],$=0;31>$;$++)g.push(i);return g}function Ac(i,g,$){i.pendingLanes|=g,g!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,g=31-oc(g),i[g]=$}function Bc(i,g){var $=i.pendingLanes&~g;i.pendingLanes=g,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=g,i.mutableReadLanes&=g,i.entangledLanes&=g,g=i.entanglements;var tt=i.eventTimes;for(i=i.expirationTimes;0<$;){var dt=31-oc($),mt=1<<dt;g[dt]=0,tt[dt]=-1,i[dt]=-1,$&=~mt}}function Cc(i,g){var $=i.entangledLanes|=g;for(i=i.entanglements;$;){var tt=31-oc($),dt=1<<tt;dt&g|i[tt]&g&&(i[tt]|=g),$&=~dt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,g){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(i,g,$,tt,dt,mt){return i===null||i.nativeEvent!==mt?(i={blockedOn:g,domEventName:$,eventSystemFlags:tt,nativeEvent:mt,targetContainers:[dt]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),i):(i.eventSystemFlags|=tt,g=i.targetContainers,dt!==null&&g.indexOf(dt)===-1&&g.push(dt),i)}function Uc(i,g,$,tt,dt){switch(g){case"focusin":return Lc=Tc(Lc,i,g,$,tt,dt),!0;case"dragenter":return Mc=Tc(Mc,i,g,$,tt,dt),!0;case"mouseover":return Nc=Tc(Nc,i,g,$,tt,dt),!0;case"pointerover":var mt=dt.pointerId;return Oc.set(mt,Tc(Oc.get(mt)||null,i,g,$,tt,dt)),!0;case"gotpointercapture":return mt=dt.pointerId,Pc.set(mt,Tc(Pc.get(mt)||null,i,g,$,tt,dt)),!0}return!1}function Vc(i){var g=Wc(i.target);if(g!==null){var $=Vb(g);if($!==null){if(g=$.tag,g===13){if(g=Wb($),g!==null){i.blockedOn=g,Ic(i.priority,function(){Gc($)});return}}else if(g===3&&$.stateNode.current.memoizedState.isDehydrated){i.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var g=i.targetContainers;0<g.length;){var $=Yc(i.domEventName,i.eventSystemFlags,g[0],i.nativeEvent);if($===null){$=i.nativeEvent;var tt=new $.constructor($.type,$);wb=tt,$.target.dispatchEvent(tt),wb=null}else return g=Cb($),g!==null&&Fc(g),i.blockedOn=$,!1;g.shift()}return!0}function Zc(i,g,$){Xc(i)&&$.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,g){i.blockedOn===g&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function g(dt){return ad(dt,i)}if(0<Kc.length){ad(Kc[0],i);for(var $=1;$<Kc.length;$++){var tt=Kc[$];tt.blockedOn===i&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(g),Pc.forEach(g),$=0;$<Qc.length;$++)tt=Qc[$],tt.blockedOn===i&&(tt.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,g,$,tt){var dt=C,mt=cd.transition;cd.transition=null;try{C=1,fd(i,g,$,tt)}finally{C=dt,cd.transition=mt}}function gd(i,g,$,tt){var dt=C,mt=cd.transition;cd.transition=null;try{C=4,fd(i,g,$,tt)}finally{C=dt,cd.transition=mt}}function fd(i,g,$,tt){if(dd){var dt=Yc(i,g,$,tt);if(dt===null)hd(i,g,tt,id,$),Sc(i,tt);else if(Uc(dt,i,g,$,tt))tt.stopPropagation();else if(Sc(i,tt),g&4&&-1<Rc.indexOf(i)){for(;dt!==null;){var mt=Cb(dt);if(mt!==null&&Ec(mt),mt=Yc(i,g,$,tt),mt===null&&hd(i,g,tt,id,$),mt===dt)break;dt=mt}dt!==null&&tt.stopPropagation()}else hd(i,g,tt,null,$)}}var id=null;function Yc(i,g,$,tt){if(id=null,i=xb(tt),i=Wc(i),i!==null)if(g=Vb(i),g===null)i=null;else if($=g.tag,$===13){if(i=Wb(g),i!==null)return i;i=null}else if($===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;i=null}else g!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,g=ld,$=g.length,tt,dt="value"in kd?kd.value:kd.textContent,mt=dt.length;for(i=0;i<$&&g[i]===dt[i];i++);var an=$-i;for(tt=1;tt<=an&&g[$-tt]===dt[mt-tt];tt++);return md=dt.slice(i,1<tt?1-tt:void 0)}function od(i){var g=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&g===13&&(i=13)):i=g,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function g($,tt,dt,mt,an){this._reactName=$,this._targetInst=dt,this.type=tt,this.nativeEvent=mt,this.target=an,this.currentTarget=null;for(var An in i)i.hasOwnProperty(An)&&($=i[An],this[An]=$?$(mt):mt[An]);return this.isDefaultPrevented=(mt.defaultPrevented!=null?mt.defaultPrevented:mt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(i):(i=Od[i])?!!g[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var g=Md[i.key]||i.key;if(g!=="Unidentified")return g}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,g){switch(i){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,g){switch(i){case"compositionend":return he(g);case"keypress":return g.which!==32?null:(fe=!0,ee);case"textInput":return i=g.data,i===ee&&fe?null:i;default:return null}}function ke(i,g){if(ie)return i==="compositionend"||!ae&&ge(i,g)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g==="input"?!!le[i.type]:g==="textarea"}function ne(i,g,$,tt){Eb(tt),g=oe(g,"onChange"),0<g.length&&($=new td("onChange","change",null,$,tt),i.push({event:$,listeners:g}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var g=ue(i);if(Wa(g))return i}function ve(i,g){if(i==="change")return g}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var g=[];ne(g,qe,i,xb(i)),Jb(re,g)}}function Ce(i,g,$){i==="focusin"?(Ae(),pe=g,qe=$,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,g){if(i==="click")return te(g)}function Fe(i,g){if(i==="input"||i==="change")return te(g)}function Ge(i,g){return i===g&&(i!==0||1/i===1/g)||i!==i&&g!==g}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,g){if(He(i,g))return!0;if(typeof i!="object"||i===null||typeof g!="object"||g===null)return!1;var $=Object.keys(i),tt=Object.keys(g);if($.length!==tt.length)return!1;for(tt=0;tt<$.length;tt++){var dt=$[tt];if(!ja.call(g,dt)||!He(i[dt],g[dt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,g){var $=Je(i);i=0;for(var tt;$;){if($.nodeType===3){if(tt=i+$.textContent.length,i<=g&&tt>=g)return{node:$,offset:g-i};i=tt}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(i,g){return i&&g?i===g?!0:i&&i.nodeType===3?!1:g&&g.nodeType===3?Le(i,g.parentNode):"contains"in i?i.contains(g):i.compareDocumentPosition?!!(i.compareDocumentPosition(g)&16):!1:!1}function Me(){for(var i=window,g=Xa();g instanceof i.HTMLIFrameElement;){try{var $=typeof g.contentWindow.location.href=="string"}catch{$=!1}if($)i=g.contentWindow;else break;g=Xa(i.document)}return g}function Ne(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g&&(g==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||g==="textarea"||i.contentEditable==="true")}function Oe(i){var g=Me(),$=i.focusedElem,tt=i.selectionRange;if(g!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(tt!==null&&Ne($)){if(g=tt.start,i=tt.end,i===void 0&&(i=g),"selectionStart"in $)$.selectionStart=g,$.selectionEnd=Math.min(i,$.value.length);else if(i=(g=$.ownerDocument||document)&&g.defaultView||window,i.getSelection){i=i.getSelection();var dt=$.textContent.length,mt=Math.min(tt.start,dt);tt=tt.end===void 0?mt:Math.min(tt.end,dt),!i.extend&&mt>tt&&(dt=tt,tt=mt,mt=dt),dt=Ke($,mt);var an=Ke($,tt);dt&&an&&(i.rangeCount!==1||i.anchorNode!==dt.node||i.anchorOffset!==dt.offset||i.focusNode!==an.node||i.focusOffset!==an.offset)&&(g=g.createRange(),g.setStart(dt.node,dt.offset),i.removeAllRanges(),mt>tt?(i.addRange(g),i.extend(an.node,an.offset)):(g.setEnd(an.node,an.offset),i.addRange(g)))}}for(g=[],i=$;i=i.parentNode;)i.nodeType===1&&g.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<g.length;$++)i=g[$],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,g,$){var tt=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(g=new td("onSelect","select",null,g,$),i.push({event:g,listeners:tt}),g.target=Qe)))}function Ve(i,g){var $={};return $[i.toLowerCase()]=g.toLowerCase(),$["Webkit"+i]="webkit"+g,$["Moz"+i]="moz"+g,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var g=We[i],$;for($ in g)if(g.hasOwnProperty($)&&$ in Ye)return Xe[i]=g[$];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,g){df.set(i,g),fa(g,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,g,$){var tt=i.type||"unknown-event";i.currentTarget=$,Ub(tt,g,void 0,i),i.currentTarget=null}function se(i,g){g=(g&4)!==0;for(var $=0;$<i.length;$++){var tt=i[$],dt=tt.event;tt=tt.listeners;e:{var mt=void 0;if(g)for(var an=tt.length-1;0<=an;an--){var An=tt[an],Dn=An.instance,Jn=An.currentTarget;if(An=An.listener,Dn!==mt&&dt.isPropagationStopped())break e;nf(dt,An,Jn),mt=Dn}else for(an=0;an<tt.length;an++){if(An=tt[an],Dn=An.instance,Jn=An.currentTarget,An=An.listener,Dn!==mt&&dt.isPropagationStopped())break e;nf(dt,An,Jn),mt=Dn}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,g){var $=g[of];$===void 0&&($=g[of]=new Set);var tt=i+"__bubble";$.has(tt)||(pf(g,i,2,!1),$.add(tt))}function qf(i,g,$){var tt=0;g&&(tt|=4),pf($,i,tt,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,i),qf($,!0,i))});var g=i.nodeType===9?i:i.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(i,g,$,tt){switch(jd(g)){case 1:var dt=ed;break;case 4:dt=gd;break;default:dt=fd}$=dt.bind(null,g,$,i),dt=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(dt=!0),tt?dt!==void 0?i.addEventListener(g,$,{capture:!0,passive:dt}):i.addEventListener(g,$,!0):dt!==void 0?i.addEventListener(g,$,{passive:dt}):i.addEventListener(g,$,!1)}function hd(i,g,$,tt,dt){var mt=tt;if(!(g&1)&&!(g&2)&&tt!==null)e:for(;;){if(tt===null)return;var an=tt.tag;if(an===3||an===4){var An=tt.stateNode.containerInfo;if(An===dt||An.nodeType===8&&An.parentNode===dt)break;if(an===4)for(an=tt.return;an!==null;){var Dn=an.tag;if((Dn===3||Dn===4)&&(Dn=an.stateNode.containerInfo,Dn===dt||Dn.nodeType===8&&Dn.parentNode===dt))return;an=an.return}for(;An!==null;){if(an=Wc(An),an===null)return;if(Dn=an.tag,Dn===5||Dn===6){tt=mt=an;continue e}An=An.parentNode}}tt=tt.return}Jb(function(){var Jn=mt,Vn=xb($),er=[];e:{var Lt=df.get(i);if(Lt!==void 0){var kt=td,_=i;switch(i){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":_="focus",kt=Fd;break;case"focusout":_="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var pt=(g&4)!==0,ht=!pt&&i==="scroll",ot=pt?Lt!==null?Lt+"Capture":null:Lt;pt=[];for(var at=Jn,gt;at!==null;){gt=at;var xt=gt.stateNode;if(gt.tag===5&&xt!==null&&(gt=xt,ot!==null&&(xt=Kb(at,ot),xt!=null&&pt.push(tf(at,xt,gt)))),ht)break;at=at.return}0<pt.length&&(Lt=new kt(Lt,_,null,$,Vn),er.push({event:Lt,listeners:pt}))}}if(!(g&7)){e:{if(Lt=i==="mouseover"||i==="pointerover",kt=i==="mouseout"||i==="pointerout",Lt&&$!==wb&&(_=$.relatedTarget||$.fromElement)&&(Wc(_)||_[uf]))break e;if((kt||Lt)&&(Lt=Vn.window===Vn?Vn:(Lt=Vn.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,kt?(_=$.relatedTarget||$.toElement,kt=Jn,_=_?Wc(_):null,_!==null&&(ht=Vb(_),_!==ht||_.tag!==5&&_.tag!==6)&&(_=null)):(kt=null,_=Jn),kt!==_)){if(pt=Bd,xt="onMouseLeave",ot="onMouseEnter",at="mouse",(i==="pointerout"||i==="pointerover")&&(pt=Td,xt="onPointerLeave",ot="onPointerEnter",at="pointer"),ht=kt==null?Lt:ue(kt),gt=_==null?Lt:ue(_),Lt=new pt(xt,at+"leave",kt,$,Vn),Lt.target=ht,Lt.relatedTarget=gt,xt=null,Wc(Vn)===Jn&&(pt=new pt(ot,at+"enter",_,$,Vn),pt.target=gt,pt.relatedTarget=ht,xt=pt),ht=xt,kt&&_)t:{for(pt=kt,ot=_,at=0,gt=pt;gt;gt=vf(gt))at++;for(gt=0,xt=ot;xt;xt=vf(xt))gt++;for(;0<at-gt;)pt=vf(pt),at--;for(;0<gt-at;)ot=vf(ot),gt--;for(;at--;){if(pt===ot||ot!==null&&pt===ot.alternate)break t;pt=vf(pt),ot=vf(ot)}pt=null}else pt=null;kt!==null&&wf(er,Lt,kt,pt,!1),_!==null&&ht!==null&&wf(er,ht,_,pt,!0)}}e:{if(Lt=Jn?ue(Jn):window,kt=Lt.nodeName&&Lt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Lt.type==="file")var Ut=ve;else if(me(Lt))if(we)Ut=Fe;else{Ut=De;var rt=Ce}else(kt=Lt.nodeName)&&kt.toLowerCase()==="input"&&(Lt.type==="checkbox"||Lt.type==="radio")&&(Ut=Ee);if(Ut&&(Ut=Ut(i,Jn))){ne(er,Ut,$,Vn);break e}rt&&rt(i,Lt,Jn),i==="focusout"&&(rt=Lt._wrapperState)&&rt.controlled&&Lt.type==="number"&&cb(Lt,"number",Lt.value)}switch(rt=Jn?ue(Jn):window,i){case"focusin":(me(rt)||rt.contentEditable==="true")&&(Qe=rt,Re=Jn,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(er,$,Vn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(er,$,Vn)}var vt;if(ae)e:{switch(i){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else ie?ge(i,$)&&(Xt="onCompositionEnd"):i==="keydown"&&$.keyCode===229&&(Xt="onCompositionStart");Xt&&(de&&$.locale!=="ko"&&(ie||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&ie&&(vt=nd()):(kd=Vn,ld="value"in kd?kd.value:kd.textContent,ie=!0)),rt=oe(Jn,Xt),0<rt.length&&(Xt=new Ld(Xt,i,null,$,Vn),er.push({event:Xt,listeners:rt}),vt?Xt.data=vt:(vt=he($),vt!==null&&(Xt.data=vt)))),(vt=ce?je(i,$):ke(i,$))&&(Jn=oe(Jn,"onBeforeInput"),0<Jn.length&&(Vn=new Ld("onBeforeInput","beforeinput",null,$,Vn),er.push({event:Vn,listeners:Jn}),Vn.data=vt))}se(er,g)})}function tf(i,g,$){return{instance:i,listener:g,currentTarget:$}}function oe(i,g){for(var $=g+"Capture",tt=[];i!==null;){var dt=i,mt=dt.stateNode;dt.tag===5&&mt!==null&&(dt=mt,mt=Kb(i,$),mt!=null&&tt.unshift(tf(i,mt,dt)),mt=Kb(i,g),mt!=null&&tt.push(tf(i,mt,dt))),i=i.return}return tt}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,g,$,tt,dt){for(var mt=g._reactName,an=[];$!==null&&$!==tt;){var An=$,Dn=An.alternate,Jn=An.stateNode;if(Dn!==null&&Dn===tt)break;An.tag===5&&Jn!==null&&(An=Jn,dt?(Dn=Kb($,mt),Dn!=null&&an.unshift(tf($,Dn,An))):dt||(Dn=Kb($,mt),Dn!=null&&an.push(tf($,Dn,An)))),$=$.return}an.length!==0&&i.push({event:g,listeners:an})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,g,$){if(g=zf(g),zf(i)!==g&&$)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,g){return i==="textarea"||i==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,g){var $=g,tt=0;do{var dt=$.nextSibling;if(i.removeChild($),dt&&dt.nodeType===8)if($=dt.data,$==="/$"){if(tt===0){i.removeChild(dt),bd(g);return}tt--}else $!=="$"&&$!=="$?"&&$!=="$!"||tt++;$=dt}while($);bd(g)}function Lf(i){for(;i!=null;i=i.nextSibling){var g=i.nodeType;if(g===1||g===3)break;if(g===8){if(g=i.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var g=0;i;){if(i.nodeType===8){var $=i.data;if($==="$"||$==="$!"||$==="$?"){if(g===0)return i;g--}else $==="/$"&&g++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var g=i[Of];if(g)return g;for(var $=i.parentNode;$;){if(g=$[uf]||$[Of]){if($=g.alternate,g.child!==null||$!==null&&$.child!==null)for(i=Mf(i);i!==null;){if($=i[Of])return $;i=Mf(i)}return g}i=$,$=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,g){Tf++,Sf[Tf]=i.current,i.current=g}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,g){var $=i.type.contextTypes;if(!$)return Vf;var tt=i.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===g)return tt.__reactInternalMemoizedMaskedChildContext;var dt={},mt;for(mt in $)dt[mt]=g[mt];return tt&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=dt),dt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,g,$){if(H.current!==Vf)throw Error(p$1(168));G(H,g),G(Wf,$)}function bg(i,g,$){var tt=i.stateNode;if(g=g.childContextTypes,typeof tt.getChildContext!="function")return $;tt=tt.getChildContext();for(var dt in tt)if(!(dt in g))throw Error(p$1(108,Ra(i)||"Unknown",dt));return A({},$,tt)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,g,$){var tt=i.stateNode;if(!tt)throw Error(p$1(169));$?(i=bg(i,g,Xf),tt.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,g=C;try{var $=eg;for(C=1;i<$.length;i++){var tt=$[i];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(dt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),dt}finally{C=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,g){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=g}function ug(i,g,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var tt=rg;i=sg;var dt=32-oc(tt)-1;tt&=~(1<<dt),$+=1;var mt=32-oc(g)+dt;if(30<mt){var an=dt-dt%5;mt=(tt&(1<<an)-1).toString(32),tt>>=an,dt-=an,rg=1<<32-oc(g)+dt|$<<dt|tt,sg=mt+i}else rg=1<<mt|$<<dt|tt,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,g){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=g,$.return=i,g=i.deletions,g===null?(i.deletions=[$],i.flags|=16):g.push($)}function Cg(i,g){switch(i.tag){case 5:var $=i.type;return g=g.nodeType!==1||$.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(i.stateNode=g,xg=i,yg=Lf(g.firstChild),!0):!1;case 6:return g=i.pendingProps===""||g.nodeType!==3?null:g,g!==null?(i.stateNode=g,xg=i,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?($=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:g,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=g,$.return=i,i.child=$,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var g=yg;if(g){var $=g;if(!Cg(i,g)){if(Dg(i))throw Error(p$1(418));g=Lf($.nextSibling);var tt=xg;g&&Cg(i,g)?Ag(tt,$):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var g;if((g=i.tag!==3)&&!(g=i.tag!==5)&&(g=i.type,g=g!=="head"&&g!=="body"&&!Ef(i.type,i.memoizedProps)),g&&(g=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;g;)Ag(i,g),g=Lf(g.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,g=0;i;){if(i.nodeType===8){var $=i.data;if($==="/$"){if(g===0){yg=Lf(i.nextSibling);break e}g--}else $!=="$"&&$!=="$!"&&$!=="$?"||g++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,g){if(i&&i.defaultProps){g=A({},g),i=i.defaultProps;for(var $ in i)g[$]===void 0&&(g[$]=i[$]);return g}return g}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var g=Mg.current;E(Mg),i._currentValue=g}function Sg(i,g,$){for(;i!==null;){var tt=i.alternate;if((i.childLanes&g)!==g?(i.childLanes|=g,tt!==null&&(tt.childLanes|=g)):tt!==null&&(tt.childLanes&g)!==g&&(tt.childLanes|=g),i===$)break;i=i.return}}function Tg(i,g){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&g&&(Ug=!0),i.firstContext=null)}function Vg(i){var g=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:g,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return g}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,g,$,tt){var dt=g.interleaved;return dt===null?($.next=$,Xg(g)):($.next=dt.next,dt.next=$),g.interleaved=$,Zg(i,tt)}function Zg(i,g){i.lanes|=g;var $=i.alternate;for($!==null&&($.lanes|=g),$=i,i=i.return;i!==null;)i.childLanes|=g,$=i.alternate,$!==null&&($.childLanes|=g),$=i,i=i.return;return $.tag===3?$.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,g){i=i.updateQueue,g.updateQueue===i&&(g.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,g){return{eventTime:i,lane:g,tag:0,payload:null,callback:null,next:null}}function dh(i,g,$){var tt=i.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var dt=tt.pending;return dt===null?g.next=g:(g.next=dt.next,dt.next=g),tt.pending=g,Zg(i,$)}return dt=tt.interleaved,dt===null?(g.next=g,Xg(tt)):(g.next=dt.next,dt.next=g),tt.interleaved=g,Zg(i,$)}function eh(i,g,$){if(g=g.updateQueue,g!==null&&(g=g.shared,($&4194240)!==0)){var tt=g.lanes;tt&=i.pendingLanes,$|=tt,g.lanes=$,Cc(i,$)}}function fh(i,g){var $=i.updateQueue,tt=i.alternate;if(tt!==null&&(tt=tt.updateQueue,$===tt)){var dt=null,mt=null;if($=$.firstBaseUpdate,$!==null){do{var an={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};mt===null?dt=mt=an:mt=mt.next=an,$=$.next}while($!==null);mt===null?dt=mt=g:mt=mt.next=g}else dt=mt=g;$={baseState:tt.baseState,firstBaseUpdate:dt,lastBaseUpdate:mt,shared:tt.shared,effects:tt.effects},i.updateQueue=$;return}i=$.lastBaseUpdate,i===null?$.firstBaseUpdate=g:i.next=g,$.lastBaseUpdate=g}function gh(i,g,$,tt){var dt=i.updateQueue;$g=!1;var mt=dt.firstBaseUpdate,an=dt.lastBaseUpdate,An=dt.shared.pending;if(An!==null){dt.shared.pending=null;var Dn=An,Jn=Dn.next;Dn.next=null,an===null?mt=Jn:an.next=Jn,an=Dn;var Vn=i.alternate;Vn!==null&&(Vn=Vn.updateQueue,An=Vn.lastBaseUpdate,An!==an&&(An===null?Vn.firstBaseUpdate=Jn:An.next=Jn,Vn.lastBaseUpdate=Dn))}if(mt!==null){var er=dt.baseState;an=0,Vn=Jn=Dn=null,An=mt;do{var Lt=An.lane,kt=An.eventTime;if((tt&Lt)===Lt){Vn!==null&&(Vn=Vn.next={eventTime:kt,lane:0,tag:An.tag,payload:An.payload,callback:An.callback,next:null});e:{var _=i,pt=An;switch(Lt=g,kt=$,pt.tag){case 1:if(_=pt.payload,typeof _=="function"){er=_.call(kt,er,Lt);break e}er=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=pt.payload,Lt=typeof _=="function"?_.call(kt,er,Lt):_,Lt==null)break e;er=A({},er,Lt);break e;case 2:$g=!0}}An.callback!==null&&An.lane!==0&&(i.flags|=64,Lt=dt.effects,Lt===null?dt.effects=[An]:Lt.push(An))}else kt={eventTime:kt,lane:Lt,tag:An.tag,payload:An.payload,callback:An.callback,next:null},Vn===null?(Jn=Vn=kt,Dn=er):Vn=Vn.next=kt,an|=Lt;if(An=An.next,An===null){if(An=dt.shared.pending,An===null)break;Lt=An,An=Lt.next,Lt.next=null,dt.lastBaseUpdate=Lt,dt.shared.pending=null}}while(1);if(Vn===null&&(Dn=er),dt.baseState=Dn,dt.firstBaseUpdate=Jn,dt.lastBaseUpdate=Vn,g=dt.shared.interleaved,g!==null){dt=g;do an|=dt.lane,dt=dt.next;while(dt!==g)}else mt===null&&(dt.shared.lanes=0);hh|=an,i.lanes=an,i.memoizedState=er}}function ih(i,g,$){if(i=g.effects,g.effects=null,i!==null)for(g=0;g<i.length;g++){var tt=i[g],dt=tt.callback;if(dt!==null){if(tt.callback=null,tt=$,typeof dt!="function")throw Error(p$1(191,dt));dt.call(tt)}}}var jh=new aa.Component().refs;function kh(i,g,$,tt){g=i.memoizedState,$=$(tt,g),$=$==null?g:A({},g,$),i.memoizedState=$,i.lanes===0&&(i.updateQueue.baseState=$)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,g,$){i=i._reactInternals;var tt=L(),dt=lh(i),mt=ch(tt,dt);mt.payload=g,$!=null&&(mt.callback=$),g=dh(i,mt,dt),g!==null&&(mh(g,i,dt,tt),eh(g,i,dt))},enqueueReplaceState:function(i,g,$){i=i._reactInternals;var tt=L(),dt=lh(i),mt=ch(tt,dt);mt.tag=1,mt.payload=g,$!=null&&(mt.callback=$),g=dh(i,mt,dt),g!==null&&(mh(g,i,dt,tt),eh(g,i,dt))},enqueueForceUpdate:function(i,g){i=i._reactInternals;var $=L(),tt=lh(i),dt=ch($,tt);dt.tag=2,g!=null&&(dt.callback=g),g=dh(i,dt,tt),g!==null&&(mh(g,i,tt,$),eh(g,i,tt))}};function oh(i,g,$,tt,dt,mt,an){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(tt,mt,an):g.prototype&&g.prototype.isPureReactComponent?!Ie($,tt)||!Ie(dt,mt):!0}function ph(i,g,$){var tt=!1,dt=Vf,mt=g.contextType;return typeof mt=="object"&&mt!==null?mt=Vg(mt):(dt=Zf(g)?Xf:H.current,tt=g.contextTypes,mt=(tt=tt!=null)?Yf(i,dt):Vf),g=new g($,mt),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=nh,i.stateNode=g,g._reactInternals=i,tt&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=dt,i.__reactInternalMemoizedMaskedChildContext=mt),g}function qh(i,g,$,tt){i=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps($,tt),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps($,tt),g.state!==i&&nh.enqueueReplaceState(g,g.state,null)}function rh(i,g,$,tt){var dt=i.stateNode;dt.props=$,dt.state=i.memoizedState,dt.refs=jh,ah(i);var mt=g.contextType;typeof mt=="object"&&mt!==null?dt.context=Vg(mt):(mt=Zf(g)?Xf:H.current,dt.context=Yf(i,mt)),dt.state=i.memoizedState,mt=g.getDerivedStateFromProps,typeof mt=="function"&&(kh(i,g,mt,$),dt.state=i.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof dt.getSnapshotBeforeUpdate=="function"||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(g=dt.state,typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount(),g!==dt.state&&nh.enqueueReplaceState(dt,dt.state,null),gh(i,$,dt,tt),dt.state=i.memoizedState),typeof dt.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,g,$){if(i=$.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$1(309));var tt=$.stateNode}if(!tt)throw Error(p$1(147,i));var dt=tt,mt=""+i;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===mt?g.ref:(g=function(an){var An=dt.refs;An===jh&&(An=dt.refs={}),an===null?delete An[mt]:An[mt]=an},g._stringRef=mt,g)}if(typeof i!="string")throw Error(p$1(284));if(!$._owner)throw Error(p$1(290,i))}return i}function th(i,g){throw i=Object.prototype.toString.call(g),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":i))}function uh(i){var g=i._init;return g(i._payload)}function vh(i){function g(ot,at){if(i){var gt=ot.deletions;gt===null?(ot.deletions=[at],ot.flags|=16):gt.push(at)}}function $(ot,at){if(!i)return null;for(;at!==null;)g(ot,at),at=at.sibling;return null}function tt(ot,at){for(ot=new Map;at!==null;)at.key!==null?ot.set(at.key,at):ot.set(at.index,at),at=at.sibling;return ot}function dt(ot,at){return ot=wh(ot,at),ot.index=0,ot.sibling=null,ot}function mt(ot,at,gt){return ot.index=gt,i?(gt=ot.alternate,gt!==null?(gt=gt.index,gt<at?(ot.flags|=2,at):gt):(ot.flags|=2,at)):(ot.flags|=1048576,at)}function an(ot){return i&&ot.alternate===null&&(ot.flags|=2),ot}function An(ot,at,gt,xt){return at===null||at.tag!==6?(at=xh(gt,ot.mode,xt),at.return=ot,at):(at=dt(at,gt),at.return=ot,at)}function Dn(ot,at,gt,xt){var Ut=gt.type;return Ut===ya?Vn(ot,at,gt.props.children,xt,gt.key):at!==null&&(at.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ha&&uh(Ut)===at.type)?(xt=dt(at,gt.props),xt.ref=sh(ot,at,gt),xt.return=ot,xt):(xt=yh(gt.type,gt.key,gt.props,null,ot.mode,xt),xt.ref=sh(ot,at,gt),xt.return=ot,xt)}function Jn(ot,at,gt,xt){return at===null||at.tag!==4||at.stateNode.containerInfo!==gt.containerInfo||at.stateNode.implementation!==gt.implementation?(at=zh(gt,ot.mode,xt),at.return=ot,at):(at=dt(at,gt.children||[]),at.return=ot,at)}function Vn(ot,at,gt,xt,Ut){return at===null||at.tag!==7?(at=Ah(gt,ot.mode,xt,Ut),at.return=ot,at):(at=dt(at,gt),at.return=ot,at)}function er(ot,at,gt){if(typeof at=="string"&&at!==""||typeof at=="number")return at=xh(""+at,ot.mode,gt),at.return=ot,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return gt=yh(at.type,at.key,at.props,null,ot.mode,gt),gt.ref=sh(ot,null,at),gt.return=ot,gt;case wa:return at=zh(at,ot.mode,gt),at.return=ot,at;case Ha:var xt=at._init;return er(ot,xt(at._payload),gt)}if(eb(at)||Ka(at))return at=Ah(at,ot.mode,gt,null),at.return=ot,at;th(ot,at)}return null}function Lt(ot,at,gt,xt){var Ut=at!==null?at.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return Ut!==null?null:An(ot,at,""+gt,xt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===Ut?Dn(ot,at,gt,xt):null;case wa:return gt.key===Ut?Jn(ot,at,gt,xt):null;case Ha:return Ut=gt._init,Lt(ot,at,Ut(gt._payload),xt)}if(eb(gt)||Ka(gt))return Ut!==null?null:Vn(ot,at,gt,xt,null);th(ot,gt)}return null}function kt(ot,at,gt,xt,Ut){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ot=ot.get(gt)||null,An(at,ot,""+xt,Ut);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return ot=ot.get(xt.key===null?gt:xt.key)||null,Dn(at,ot,xt,Ut);case wa:return ot=ot.get(xt.key===null?gt:xt.key)||null,Jn(at,ot,xt,Ut);case Ha:var rt=xt._init;return kt(ot,at,gt,rt(xt._payload),Ut)}if(eb(xt)||Ka(xt))return ot=ot.get(gt)||null,Vn(at,ot,xt,Ut,null);th(at,xt)}return null}function _(ot,at,gt,xt){for(var Ut=null,rt=null,vt=at,Xt=at=0,nn=null;vt!==null&&Xt<gt.length;Xt++){vt.index>Xt?(nn=vt,vt=null):nn=vt.sibling;var cn=Lt(ot,vt,gt[Xt],xt);if(cn===null){vt===null&&(vt=nn);break}i&&vt&&cn.alternate===null&&g(ot,vt),at=mt(cn,at,Xt),rt===null?Ut=cn:rt.sibling=cn,rt=cn,vt=nn}if(Xt===gt.length)return $(ot,vt),I&&tg(ot,Xt),Ut;if(vt===null){for(;Xt<gt.length;Xt++)vt=er(ot,gt[Xt],xt),vt!==null&&(at=mt(vt,at,Xt),rt===null?Ut=vt:rt.sibling=vt,rt=vt);return I&&tg(ot,Xt),Ut}for(vt=tt(ot,vt);Xt<gt.length;Xt++)nn=kt(vt,ot,Xt,gt[Xt],xt),nn!==null&&(i&&nn.alternate!==null&&vt.delete(nn.key===null?Xt:nn.key),at=mt(nn,at,Xt),rt===null?Ut=nn:rt.sibling=nn,rt=nn);return i&&vt.forEach(function(Qt){return g(ot,Qt)}),I&&tg(ot,Xt),Ut}function pt(ot,at,gt,xt){var Ut=Ka(gt);if(typeof Ut!="function")throw Error(p$1(150));if(gt=Ut.call(gt),gt==null)throw Error(p$1(151));for(var rt=Ut=null,vt=at,Xt=at=0,nn=null,cn=gt.next();vt!==null&&!cn.done;Xt++,cn=gt.next()){vt.index>Xt?(nn=vt,vt=null):nn=vt.sibling;var Qt=Lt(ot,vt,cn.value,xt);if(Qt===null){vt===null&&(vt=nn);break}i&&vt&&Qt.alternate===null&&g(ot,vt),at=mt(Qt,at,Xt),rt===null?Ut=Qt:rt.sibling=Qt,rt=Qt,vt=nn}if(cn.done)return $(ot,vt),I&&tg(ot,Xt),Ut;if(vt===null){for(;!cn.done;Xt++,cn=gt.next())cn=er(ot,cn.value,xt),cn!==null&&(at=mt(cn,at,Xt),rt===null?Ut=cn:rt.sibling=cn,rt=cn);return I&&tg(ot,Xt),Ut}for(vt=tt(ot,vt);!cn.done;Xt++,cn=gt.next())cn=kt(vt,ot,Xt,cn.value,xt),cn!==null&&(i&&cn.alternate!==null&&vt.delete(cn.key===null?Xt:cn.key),at=mt(cn,at,Xt),rt===null?Ut=cn:rt.sibling=cn,rt=cn);return i&&vt.forEach(function(hn){return g(ot,hn)}),I&&tg(ot,Xt),Ut}function ht(ot,at,gt,xt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var Ut=gt.key,rt=at;rt!==null;){if(rt.key===Ut){if(Ut=gt.type,Ut===ya){if(rt.tag===7){$(ot,rt.sibling),at=dt(rt,gt.props.children),at.return=ot,ot=at;break e}}else if(rt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ha&&uh(Ut)===rt.type){$(ot,rt.sibling),at=dt(rt,gt.props),at.ref=sh(ot,rt,gt),at.return=ot,ot=at;break e}$(ot,rt);break}else g(ot,rt);rt=rt.sibling}gt.type===ya?(at=Ah(gt.props.children,ot.mode,xt,gt.key),at.return=ot,ot=at):(xt=yh(gt.type,gt.key,gt.props,null,ot.mode,xt),xt.ref=sh(ot,at,gt),xt.return=ot,ot=xt)}return an(ot);case wa:e:{for(rt=gt.key;at!==null;){if(at.key===rt)if(at.tag===4&&at.stateNode.containerInfo===gt.containerInfo&&at.stateNode.implementation===gt.implementation){$(ot,at.sibling),at=dt(at,gt.children||[]),at.return=ot,ot=at;break e}else{$(ot,at);break}else g(ot,at);at=at.sibling}at=zh(gt,ot.mode,xt),at.return=ot,ot=at}return an(ot);case Ha:return rt=gt._init,ht(ot,at,rt(gt._payload),xt)}if(eb(gt))return _(ot,at,gt,xt);if(Ka(gt))return pt(ot,at,gt,xt);th(ot,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,at!==null&&at.tag===6?($(ot,at.sibling),at=dt(at,gt),at.return=ot,ot=at):($(ot,at),at=xh(gt,ot.mode,xt),at.return=ot,ot=at),an(ot)):$(ot,at)}return ht}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$1(174));return i}function Ih(i,g){switch(G(Gh,g),G(Fh,i),G(Eh,Dh),i=g.nodeType,i){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:i=i===8?g.parentNode:g,g=i.namespaceURI||null,i=i.tagName,g=lb(g,i)}E(Eh),G(Eh,g)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var g=Hh(Eh.current),$=lb(g,i.type);g!==$&&(G(Fh,i),G(Eh,$))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var g=i;g!==null;){if(g.tag===13){var $=g.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(i,g){if(g===null)return!1;for(var $=0;$<g.length&&$<i.length;$++)if(!He(i[$],g[$]))return!1;return!0}function Xh(i,g,$,tt,dt,mt){if(Rh=mt,N=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=$(tt,dt),Th){mt=0;do{if(Th=!1,Uh=0,25<=mt)throw Error(p$1(301));mt+=1,P$1=O=null,g.updateQueue=null,Ph.current=$h,i=$(tt,dt)}while(Th)}if(Ph.current=ai,g=O!==null&&O.next!==null,Rh=0,P$1=O=N=null,Sh=!1,g)throw Error(p$1(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N.memoizedState=P$1=i:P$1=P$1.next=i,P$1}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var g=P$1===null?N.memoizedState:P$1.next;if(g!==null)P$1=g,O=i;else{if(i===null)throw Error(p$1(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P$1===null?N.memoizedState=P$1=i:P$1=P$1.next=i}return P$1}function ei(i,g){return typeof g=="function"?g(i):g}function fi(i){var g=di(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=i;var tt=O,dt=tt.baseQueue,mt=$.pending;if(mt!==null){if(dt!==null){var an=dt.next;dt.next=mt.next,mt.next=an}tt.baseQueue=dt=mt,$.pending=null}if(dt!==null){mt=dt.next,tt=tt.baseState;var An=an=null,Dn=null,Jn=mt;do{var Vn=Jn.lane;if((Rh&Vn)===Vn)Dn!==null&&(Dn=Dn.next={lane:0,action:Jn.action,hasEagerState:Jn.hasEagerState,eagerState:Jn.eagerState,next:null}),tt=Jn.hasEagerState?Jn.eagerState:i(tt,Jn.action);else{var er={lane:Vn,action:Jn.action,hasEagerState:Jn.hasEagerState,eagerState:Jn.eagerState,next:null};Dn===null?(An=Dn=er,an=tt):Dn=Dn.next=er,N.lanes|=Vn,hh|=Vn}Jn=Jn.next}while(Jn!==null&&Jn!==mt);Dn===null?an=tt:Dn.next=An,He(tt,g.memoizedState)||(Ug=!0),g.memoizedState=tt,g.baseState=an,g.baseQueue=Dn,$.lastRenderedState=tt}if(i=$.interleaved,i!==null){dt=i;do mt=dt.lane,N.lanes|=mt,hh|=mt,dt=dt.next;while(dt!==i)}else dt===null&&($.lanes=0);return[g.memoizedState,$.dispatch]}function gi(i){var g=di(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=i;var tt=$.dispatch,dt=$.pending,mt=g.memoizedState;if(dt!==null){$.pending=null;var an=dt=dt.next;do mt=i(mt,an.action),an=an.next;while(an!==dt);He(mt,g.memoizedState)||(Ug=!0),g.memoizedState=mt,g.baseQueue===null&&(g.baseState=mt),$.lastRenderedState=mt}return[mt,tt]}function hi(){}function ii(i,g){var $=N,tt=di(),dt=g(),mt=!He(tt.memoizedState,dt);if(mt&&(tt.memoizedState=dt,Ug=!0),tt=tt.queue,ji(ki.bind(null,$,tt,i),[i]),tt.getSnapshot!==g||mt||P$1!==null&&P$1.memoizedState.tag&1){if($.flags|=2048,li(9,mi.bind(null,$,tt,dt,g),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni($,g,dt)}return dt}function ni(i,g,$){i.flags|=16384,i={getSnapshot:g,value:$},g=N.updateQueue,g===null?(g={lastEffect:null,stores:null},N.updateQueue=g,g.stores=[i]):($=g.stores,$===null?g.stores=[i]:$.push(i))}function mi(i,g,$,tt){g.value=$,g.getSnapshot=tt,oi(g)&&pi(i)}function ki(i,g,$){return $(function(){oi(g)&&pi(i)})}function oi(i){var g=i.getSnapshot;i=i.value;try{var $=g();return!He(i,$)}catch{return!0}}function pi(i){var g=Zg(i,1);g!==null&&mh(g,i,1,-1)}function qi(i){var g=ci();return typeof i=="function"&&(i=i()),g.memoizedState=g.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},g.queue=i,i=i.dispatch=ri.bind(null,N,i),[g.memoizedState,i]}function li(i,g,$,tt){return i={tag:i,create:g,destroy:$,deps:tt,next:null},g=N.updateQueue,g===null?(g={lastEffect:null,stores:null},N.updateQueue=g,g.lastEffect=i.next=i):($=g.lastEffect,$===null?g.lastEffect=i.next=i:(tt=$.next,$.next=i,i.next=tt,g.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,g,$,tt){var dt=ci();N.flags|=i,dt.memoizedState=li(1|g,$,void 0,tt===void 0?null:tt)}function ui(i,g,$,tt){var dt=di();tt=tt===void 0?null:tt;var mt=void 0;if(O!==null){var an=O.memoizedState;if(mt=an.destroy,tt!==null&&Wh(tt,an.deps)){dt.memoizedState=li(g,$,mt,tt);return}}N.flags|=i,dt.memoizedState=li(1|g,$,mt,tt)}function vi(i,g){return ti(8390656,8,i,g)}function ji(i,g){return ui(2048,8,i,g)}function wi(i,g){return ui(4,2,i,g)}function xi(i,g){return ui(4,4,i,g)}function yi(i,g){if(typeof g=="function")return i=i(),g(i),function(){g(null)};if(g!=null)return i=i(),g.current=i,function(){g.current=null}}function zi(i,g,$){return $=$!=null?$.concat([i]):null,ui(4,4,yi.bind(null,g,i),$)}function Ai(){}function Bi(i,g){var $=di();g=g===void 0?null:g;var tt=$.memoizedState;return tt!==null&&g!==null&&Wh(g,tt[1])?tt[0]:($.memoizedState=[i,g],i)}function Ci(i,g){var $=di();g=g===void 0?null:g;var tt=$.memoizedState;return tt!==null&&g!==null&&Wh(g,tt[1])?tt[0]:(i=i(),$.memoizedState=[i,g],i)}function Di(i,g,$){return Rh&21?(He($,g)||($=yc(),N.lanes|=$,hh|=$,i.baseState=!0),g):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=$)}function Ei(i,g){var $=C;C=$!==0&&4>$?$:4,i(!0);var tt=Qh.transition;Qh.transition={};try{i(!1),g()}finally{C=$,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(i,g,$){var tt=lh(i);if($={lane:tt,action:$,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(g,$);else if($=Yg(i,g,$,tt),$!==null){var dt=L();mh($,i,tt,dt),Ji($,g,tt)}}function ri(i,g,$){var tt=lh(i),dt={lane:tt,action:$,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(g,dt);else{var mt=i.alternate;if(i.lanes===0&&(mt===null||mt.lanes===0)&&(mt=g.lastRenderedReducer,mt!==null))try{var an=g.lastRenderedState,An=mt(an,$);if(dt.hasEagerState=!0,dt.eagerState=An,He(An,an)){var Dn=g.interleaved;Dn===null?(dt.next=dt,Xg(g)):(dt.next=Dn.next,Dn.next=dt),g.interleaved=dt;return}}catch{}finally{}$=Yg(i,g,dt,tt),$!==null&&(dt=L(),mh($,i,tt,dt),Ji($,g,tt))}}function Hi(i){var g=i.alternate;return i===N||g!==null&&g===N}function Ii(i,g){Th=Sh=!0;var $=i.pending;$===null?g.next=g:(g.next=$.next,$.next=g),i.pending=g}function Ji(i,g,$){if($&4194240){var tt=g.lanes;tt&=i.pendingLanes,$|=tt,g.lanes=$,Cc(i,$)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,g){return ci().memoizedState=[i,g===void 0?null:g],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,g,$){return $=$!=null?$.concat([i]):null,ti(4194308,4,yi.bind(null,g,i),$)},useLayoutEffect:function(i,g){return ti(4194308,4,i,g)},useInsertionEffect:function(i,g){return ti(4,2,i,g)},useMemo:function(i,g){var $=ci();return g=g===void 0?null:g,i=i(),$.memoizedState=[i,g],i},useReducer:function(i,g,$){var tt=ci();return g=$!==void 0?$(g):g,tt.memoizedState=tt.baseState=g,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},tt.queue=i,i=i.dispatch=Gi.bind(null,N,i),[tt.memoizedState,i]},useRef:function(i){var g=ci();return i={current:i},g.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),g=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[g,i]},useMutableSource:function(){},useSyncExternalStore:function(i,g,$){var tt=N,dt=ci();if(I){if($===void 0)throw Error(p$1(407));$=$()}else{if($=g(),R===null)throw Error(p$1(349));Rh&30||ni(tt,g,$)}dt.memoizedState=$;var mt={value:$,getSnapshot:g};return dt.queue=mt,vi(ki.bind(null,tt,mt,i),[i]),tt.flags|=2048,li(9,mi.bind(null,tt,mt,$,g),void 0,null),$},useId:function(){var i=ci(),g=R.identifierPrefix;if(I){var $=sg,tt=rg;$=(tt&~(1<<32-oc(tt)-1)).toString(32)+$,g=":"+g+"R"+$,$=Uh++,0<$&&(g+="H"+$.toString(32)),g+=":"}else $=Vh++,g=":"+g+"r"+$.toString(32)+":";return i.memoizedState=g},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var g=di();return Di(g,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],g=di().memoizedState;return[i,g]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var g=di();return O===null?g.memoizedState=i:Di(g,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],g=di().memoizedState;return[i,g]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,g){try{var $="",tt=g;do $+=Pa(tt),tt=tt.return;while(tt);var dt=$}catch(mt){dt=`
Error generating stack: `+mt.message+`
`+mt.stack}return{value:i,source:g,stack:dt,digest:null}}function Li(i,g,$){return{value:i,source:null,stack:$??null,digest:g??null}}function Mi(i,g){try{console.error(g.value)}catch($){setTimeout(function(){throw $})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,g,$){$=ch(-1,$),$.tag=3,$.payload={element:null};var tt=g.value;return $.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(i,g)},$}function Ri(i,g,$){$=ch(-1,$),$.tag=3;var tt=i.type.getDerivedStateFromError;if(typeof tt=="function"){var dt=g.value;$.payload=function(){return tt(dt)},$.callback=function(){Mi(i,g)}}var mt=i.stateNode;return mt!==null&&typeof mt.componentDidCatch=="function"&&($.callback=function(){Mi(i,g),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var an=g.stack;this.componentDidCatch(g.value,{componentStack:an!==null?an:""})}),$}function Ti(i,g,$){var tt=i.pingCache;if(tt===null){tt=i.pingCache=new Ni;var dt=new Set;tt.set(g,dt)}else dt=tt.get(g),dt===void 0&&(dt=new Set,tt.set(g,dt));dt.has($)||(dt.add($),i=Ui.bind(null,i,g,$),g.then(i,i))}function Vi(i){do{var g;if((g=i.tag===13)&&(g=i.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return i;i=i.return}while(i!==null);return null}function Wi(i,g,$,tt,dt){return i.mode&1?(i.flags|=65536,i.lanes=dt,i):(i===g?i.flags|=65536:(i.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(g=ch(-1,1),g.tag=2,dh($,g,1))),$.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,g,$,tt){g.child=i===null?Ch(g,null,$,tt):Bh(g,i.child,$,tt)}function Zi(i,g,$,tt,dt){$=$.render;var mt=g.ref;return Tg(g,dt),tt=Xh(i,g,$,tt,mt,dt),$=bi(),i!==null&&!Ug?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~dt,$i(i,g,dt)):(I&&$&&vg(g),g.flags|=1,Yi(i,g,tt,dt),g.child)}function aj(i,g,$,tt,dt){if(i===null){var mt=$.type;return typeof mt=="function"&&!bj(mt)&&mt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(g.tag=15,g.type=mt,cj(i,g,mt,tt,dt)):(i=yh($.type,null,tt,g,g.mode,dt),i.ref=g.ref,i.return=g,g.child=i)}if(mt=i.child,!(i.lanes&dt)){var an=mt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(an,tt)&&i.ref===g.ref)return $i(i,g,dt)}return g.flags|=1,i=wh(mt,tt),i.ref=g.ref,i.return=g,g.child=i}function cj(i,g,$,tt,dt){if(i!==null){var mt=i.memoizedProps;if(Ie(mt,tt)&&i.ref===g.ref)if(Ug=!1,g.pendingProps=tt=mt,(i.lanes&dt)!==0)i.flags&131072&&(Ug=!0);else return g.lanes=i.lanes,$i(i,g,dt)}return dj(i,g,$,tt,dt)}function ej(i,g,$){var tt=g.pendingProps,dt=tt.children,mt=i!==null?i.memoizedState:null;if(tt.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=$;else{if(!($&1073741824))return i=mt!==null?mt.baseLanes|$:$,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:i,cachePool:null,transitions:null},g.updateQueue=null,G(fj,gj),gj|=i,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=mt!==null?mt.baseLanes:$,G(fj,gj),gj|=tt}else mt!==null?(tt=mt.baseLanes|$,g.memoizedState=null):tt=$,G(fj,gj),gj|=tt;return Yi(i,g,dt,$),g.child}function hj(i,g){var $=g.ref;(i===null&&$!==null||i!==null&&i.ref!==$)&&(g.flags|=512,g.flags|=2097152)}function dj(i,g,$,tt,dt){var mt=Zf($)?Xf:H.current;return mt=Yf(g,mt),Tg(g,dt),$=Xh(i,g,$,tt,mt,dt),tt=bi(),i!==null&&!Ug?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~dt,$i(i,g,dt)):(I&&tt&&vg(g),g.flags|=1,Yi(i,g,$,dt),g.child)}function ij(i,g,$,tt,dt){if(Zf($)){var mt=!0;cg(g)}else mt=!1;if(Tg(g,dt),g.stateNode===null)jj(i,g),ph(g,$,tt),rh(g,$,tt,dt),tt=!0;else if(i===null){var an=g.stateNode,An=g.memoizedProps;an.props=An;var Dn=an.context,Jn=$.contextType;typeof Jn=="object"&&Jn!==null?Jn=Vg(Jn):(Jn=Zf($)?Xf:H.current,Jn=Yf(g,Jn));var Vn=$.getDerivedStateFromProps,er=typeof Vn=="function"||typeof an.getSnapshotBeforeUpdate=="function";er||typeof an.UNSAFE_componentWillReceiveProps!="function"&&typeof an.componentWillReceiveProps!="function"||(An!==tt||Dn!==Jn)&&qh(g,an,tt,Jn),$g=!1;var Lt=g.memoizedState;an.state=Lt,gh(g,tt,an,dt),Dn=g.memoizedState,An!==tt||Lt!==Dn||Wf.current||$g?(typeof Vn=="function"&&(kh(g,$,Vn,tt),Dn=g.memoizedState),(An=$g||oh(g,$,An,tt,Lt,Dn,Jn))?(er||typeof an.UNSAFE_componentWillMount!="function"&&typeof an.componentWillMount!="function"||(typeof an.componentWillMount=="function"&&an.componentWillMount(),typeof an.UNSAFE_componentWillMount=="function"&&an.UNSAFE_componentWillMount()),typeof an.componentDidMount=="function"&&(g.flags|=4194308)):(typeof an.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=tt,g.memoizedState=Dn),an.props=tt,an.state=Dn,an.context=Jn,tt=An):(typeof an.componentDidMount=="function"&&(g.flags|=4194308),tt=!1)}else{an=g.stateNode,bh(i,g),An=g.memoizedProps,Jn=g.type===g.elementType?An:Lg(g.type,An),an.props=Jn,er=g.pendingProps,Lt=an.context,Dn=$.contextType,typeof Dn=="object"&&Dn!==null?Dn=Vg(Dn):(Dn=Zf($)?Xf:H.current,Dn=Yf(g,Dn));var kt=$.getDerivedStateFromProps;(Vn=typeof kt=="function"||typeof an.getSnapshotBeforeUpdate=="function")||typeof an.UNSAFE_componentWillReceiveProps!="function"&&typeof an.componentWillReceiveProps!="function"||(An!==er||Lt!==Dn)&&qh(g,an,tt,Dn),$g=!1,Lt=g.memoizedState,an.state=Lt,gh(g,tt,an,dt);var _=g.memoizedState;An!==er||Lt!==_||Wf.current||$g?(typeof kt=="function"&&(kh(g,$,kt,tt),_=g.memoizedState),(Jn=$g||oh(g,$,Jn,tt,Lt,_,Dn)||!1)?(Vn||typeof an.UNSAFE_componentWillUpdate!="function"&&typeof an.componentWillUpdate!="function"||(typeof an.componentWillUpdate=="function"&&an.componentWillUpdate(tt,_,Dn),typeof an.UNSAFE_componentWillUpdate=="function"&&an.UNSAFE_componentWillUpdate(tt,_,Dn)),typeof an.componentDidUpdate=="function"&&(g.flags|=4),typeof an.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof an.componentDidUpdate!="function"||An===i.memoizedProps&&Lt===i.memoizedState||(g.flags|=4),typeof an.getSnapshotBeforeUpdate!="function"||An===i.memoizedProps&&Lt===i.memoizedState||(g.flags|=1024),g.memoizedProps=tt,g.memoizedState=_),an.props=tt,an.state=_,an.context=Dn,tt=Jn):(typeof an.componentDidUpdate!="function"||An===i.memoizedProps&&Lt===i.memoizedState||(g.flags|=4),typeof an.getSnapshotBeforeUpdate!="function"||An===i.memoizedProps&&Lt===i.memoizedState||(g.flags|=1024),tt=!1)}return kj(i,g,$,tt,mt,dt)}function kj(i,g,$,tt,dt,mt){hj(i,g);var an=(g.flags&128)!==0;if(!tt&&!an)return dt&&dg(g,$,!1),$i(i,g,mt);tt=g.stateNode,Xi.current=g;var An=an&&typeof $.getDerivedStateFromError!="function"?null:tt.render();return g.flags|=1,i!==null&&an?(g.child=Bh(g,i.child,null,mt),g.child=Bh(g,null,An,mt)):Yi(i,g,An,mt),g.memoizedState=tt.state,dt&&dg(g,$,!0),g.child}function lj(i){var g=i.stateNode;g.pendingContext?ag(i,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(i,g.context,!1),Ih(i,g.containerInfo)}function mj(i,g,$,tt,dt){return Ig(),Jg(dt),g.flags|=256,Yi(i,g,$,tt),g.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,g,$){var tt=g.pendingProps,dt=M.current,mt=!1,an=(g.flags&128)!==0,An;if((An=an)||(An=i!==null&&i.memoizedState===null?!1:(dt&2)!==0),An?(mt=!0,g.flags&=-129):(i===null||i.memoizedState!==null)&&(dt|=1),G(M,dt&1),i===null)return Eg(g),i=g.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(g.mode&1?i.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(an=tt.children,i=tt.fallback,mt?(tt=g.mode,mt=g.child,an={mode:"hidden",children:an},!(tt&1)&&mt!==null?(mt.childLanes=0,mt.pendingProps=an):mt=qj(an,tt,0,null),i=Ah(i,tt,$,null),mt.return=g,i.return=g,mt.sibling=i,g.child=mt,g.child.memoizedState=oj($),g.memoizedState=nj,i):rj(g,an));if(dt=i.memoizedState,dt!==null&&(An=dt.dehydrated,An!==null))return sj(i,g,an,tt,An,dt,$);if(mt){mt=tt.fallback,an=g.mode,dt=i.child,An=dt.sibling;var Dn={mode:"hidden",children:tt.children};return!(an&1)&&g.child!==dt?(tt=g.child,tt.childLanes=0,tt.pendingProps=Dn,g.deletions=null):(tt=wh(dt,Dn),tt.subtreeFlags=dt.subtreeFlags&14680064),An!==null?mt=wh(An,mt):(mt=Ah(mt,an,$,null),mt.flags|=2),mt.return=g,tt.return=g,tt.sibling=mt,g.child=tt,tt=mt,mt=g.child,an=i.child.memoizedState,an=an===null?oj($):{baseLanes:an.baseLanes|$,cachePool:null,transitions:an.transitions},mt.memoizedState=an,mt.childLanes=i.childLanes&~$,g.memoizedState=nj,tt}return mt=i.child,i=mt.sibling,tt=wh(mt,{mode:"visible",children:tt.children}),!(g.mode&1)&&(tt.lanes=$),tt.return=g,tt.sibling=null,i!==null&&($=g.deletions,$===null?(g.deletions=[i],g.flags|=16):$.push(i)),g.child=tt,g.memoizedState=null,tt}function rj(i,g){return g=qj({mode:"visible",children:g},i.mode,0,null),g.return=i,i.child=g}function tj(i,g,$,tt){return tt!==null&&Jg(tt),Bh(g,i.child,null,$),i=rj(g,g.pendingProps.children),i.flags|=2,g.memoizedState=null,i}function sj(i,g,$,tt,dt,mt,an){if($)return g.flags&256?(g.flags&=-257,tt=Li(Error(p$1(422))),tj(i,g,an,tt)):g.memoizedState!==null?(g.child=i.child,g.flags|=128,null):(mt=tt.fallback,dt=g.mode,tt=qj({mode:"visible",children:tt.children},dt,0,null),mt=Ah(mt,dt,an,null),mt.flags|=2,tt.return=g,mt.return=g,tt.sibling=mt,g.child=tt,g.mode&1&&Bh(g,i.child,null,an),g.child.memoizedState=oj(an),g.memoizedState=nj,mt);if(!(g.mode&1))return tj(i,g,an,null);if(dt.data==="$!"){if(tt=dt.nextSibling&&dt.nextSibling.dataset,tt)var An=tt.dgst;return tt=An,mt=Error(p$1(419)),tt=Li(mt,tt,void 0),tj(i,g,an,tt)}if(An=(an&i.childLanes)!==0,Ug||An){if(tt=R,tt!==null){switch(an&-an){case 4:dt=2;break;case 16:dt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:dt=32;break;case 536870912:dt=268435456;break;default:dt=0}dt=dt&(tt.suspendedLanes|an)?0:dt,dt!==0&&dt!==mt.retryLane&&(mt.retryLane=dt,Zg(i,dt),mh(tt,i,dt,-1))}return uj(),tt=Li(Error(p$1(421))),tj(i,g,an,tt)}return dt.data==="$?"?(g.flags|=128,g.child=i.child,g=vj.bind(null,i),dt._reactRetry=g,null):(i=mt.treeContext,yg=Lf(dt.nextSibling),xg=g,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=g),g=rj(g,tt.children),g.flags|=4096,g)}function wj(i,g,$){i.lanes|=g;var tt=i.alternate;tt!==null&&(tt.lanes|=g),Sg(i.return,g,$)}function xj(i,g,$,tt,dt){var mt=i.memoizedState;mt===null?i.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:tt,tail:$,tailMode:dt}:(mt.isBackwards=g,mt.rendering=null,mt.renderingStartTime=0,mt.last=tt,mt.tail=$,mt.tailMode=dt)}function yj(i,g,$){var tt=g.pendingProps,dt=tt.revealOrder,mt=tt.tail;if(Yi(i,g,tt.children,$),tt=M.current,tt&2)tt=tt&1|2,g.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=g.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,$,g);else if(i.tag===19)wj(i,$,g);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===g)break e;for(;i.sibling===null;){if(i.return===null||i.return===g)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}tt&=1}if(G(M,tt),!(g.mode&1))g.memoizedState=null;else switch(dt){case"forwards":for($=g.child,dt=null;$!==null;)i=$.alternate,i!==null&&Mh(i)===null&&(dt=$),$=$.sibling;$=dt,$===null?(dt=g.child,g.child=null):(dt=$.sibling,$.sibling=null),xj(g,!1,dt,$,mt);break;case"backwards":for($=null,dt=g.child,g.child=null;dt!==null;){if(i=dt.alternate,i!==null&&Mh(i)===null){g.child=dt;break}i=dt.sibling,dt.sibling=$,$=dt,dt=i}xj(g,!0,$,null,mt);break;case"together":xj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function jj(i,g){!(g.mode&1)&&i!==null&&(i.alternate=null,g.alternate=null,g.flags|=2)}function $i(i,g,$){if(i!==null&&(g.dependencies=i.dependencies),hh|=g.lanes,!($&g.childLanes))return null;if(i!==null&&g.child!==i.child)throw Error(p$1(153));if(g.child!==null){for(i=g.child,$=wh(i,i.pendingProps),g.child=$,$.return=g;i.sibling!==null;)i=i.sibling,$=$.sibling=wh(i,i.pendingProps),$.return=g;$.sibling=null}return g.child}function zj(i,g,$){switch(g.tag){case 3:lj(g),Ig();break;case 5:Kh(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:Ih(g,g.stateNode.containerInfo);break;case 10:var tt=g.type._context,dt=g.memoizedProps.value;G(Mg,tt._currentValue),tt._currentValue=dt;break;case 13:if(tt=g.memoizedState,tt!==null)return tt.dehydrated!==null?(G(M,M.current&1),g.flags|=128,null):$&g.child.childLanes?pj(i,g,$):(G(M,M.current&1),i=$i(i,g,$),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(tt=($&g.childLanes)!==0,i.flags&128){if(tt)return yj(i,g,$);g.flags|=128}if(dt=g.memoizedState,dt!==null&&(dt.rendering=null,dt.tail=null,dt.lastEffect=null),G(M,M.current),tt)break;return null;case 22:case 23:return g.lanes=0,ej(i,g,$)}return $i(i,g,$)}var Aj,Bj,Cj,Dj;Aj=function(i,g){for(var $=g.child;$!==null;){if($.tag===5||$.tag===6)i.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===g)break;for(;$.sibling===null;){if($.return===null||$.return===g)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Bj=function(){};Cj=function(i,g,$,tt){var dt=i.memoizedProps;if(dt!==tt){i=g.stateNode,Hh(Eh.current);var mt=null;switch($){case"input":dt=Ya(i,dt),tt=Ya(i,tt),mt=[];break;case"select":dt=A({},dt,{value:void 0}),tt=A({},tt,{value:void 0}),mt=[];break;case"textarea":dt=gb(i,dt),tt=gb(i,tt),mt=[];break;default:typeof dt.onClick!="function"&&typeof tt.onClick=="function"&&(i.onclick=Bf)}ub($,tt);var an;$=null;for(Jn in dt)if(!tt.hasOwnProperty(Jn)&&dt.hasOwnProperty(Jn)&&dt[Jn]!=null)if(Jn==="style"){var An=dt[Jn];for(an in An)An.hasOwnProperty(an)&&($||($={}),$[an]="")}else Jn!=="dangerouslySetInnerHTML"&&Jn!=="children"&&Jn!=="suppressContentEditableWarning"&&Jn!=="suppressHydrationWarning"&&Jn!=="autoFocus"&&(ea.hasOwnProperty(Jn)?mt||(mt=[]):(mt=mt||[]).push(Jn,null));for(Jn in tt){var Dn=tt[Jn];if(An=dt!=null?dt[Jn]:void 0,tt.hasOwnProperty(Jn)&&Dn!==An&&(Dn!=null||An!=null))if(Jn==="style")if(An){for(an in An)!An.hasOwnProperty(an)||Dn&&Dn.hasOwnProperty(an)||($||($={}),$[an]="");for(an in Dn)Dn.hasOwnProperty(an)&&An[an]!==Dn[an]&&($||($={}),$[an]=Dn[an])}else $||(mt||(mt=[]),mt.push(Jn,$)),$=Dn;else Jn==="dangerouslySetInnerHTML"?(Dn=Dn?Dn.__html:void 0,An=An?An.__html:void 0,Dn!=null&&An!==Dn&&(mt=mt||[]).push(Jn,Dn)):Jn==="children"?typeof Dn!="string"&&typeof Dn!="number"||(mt=mt||[]).push(Jn,""+Dn):Jn!=="suppressContentEditableWarning"&&Jn!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Jn)?(Dn!=null&&Jn==="onScroll"&&D("scroll",i),mt||An===Dn||(mt=[])):(mt=mt||[]).push(Jn,Dn))}$&&(mt=mt||[]).push("style",$);var Jn=mt;(g.updateQueue=Jn)&&(g.flags|=4)}};Dj=function(i,g,$,tt){$!==tt&&(g.flags|=4)};function Ej(i,g){if(!I)switch(i.tailMode){case"hidden":g=i.tail;for(var $=null;g!==null;)g.alternate!==null&&($=g),g=g.sibling;$===null?i.tail=null:$.sibling=null;break;case"collapsed":$=i.tail;for(var tt=null;$!==null;)$.alternate!==null&&(tt=$),$=$.sibling;tt===null?g||i.tail===null?i.tail=null:i.tail.sibling=null:tt.sibling=null}}function S(i){var g=i.alternate!==null&&i.alternate.child===i.child,$=0,tt=0;if(g)for(var dt=i.child;dt!==null;)$|=dt.lanes|dt.childLanes,tt|=dt.subtreeFlags&14680064,tt|=dt.flags&14680064,dt.return=i,dt=dt.sibling;else for(dt=i.child;dt!==null;)$|=dt.lanes|dt.childLanes,tt|=dt.subtreeFlags,tt|=dt.flags,dt.return=i,dt=dt.sibling;return i.subtreeFlags|=tt,i.childLanes=$,g}function Fj(i,g,$){var tt=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(g),null;case 1:return Zf(g.type)&&$f(),S(g),null;case 3:return tt=g.stateNode,Jh(),E(Wf),E(H),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(i===null||i.child===null)&&(Gg(g)?g.flags|=4:i===null||i.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,g),S(g),null;case 5:Lh(g);var dt=Hh(Gh.current);if($=g.type,i!==null&&g.stateNode!=null)Cj(i,g,$,tt,dt),i.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!tt){if(g.stateNode===null)throw Error(p$1(166));return S(g),null}if(i=Hh(Eh.current),Gg(g)){tt=g.stateNode,$=g.type;var mt=g.memoizedProps;switch(tt[Of]=g,tt[Pf]=mt,i=(g.mode&1)!==0,$){case"dialog":D("cancel",tt),D("close",tt);break;case"iframe":case"object":case"embed":D("load",tt);break;case"video":case"audio":for(dt=0;dt<lf.length;dt++)D(lf[dt],tt);break;case"source":D("error",tt);break;case"img":case"image":case"link":D("error",tt),D("load",tt);break;case"details":D("toggle",tt);break;case"input":Za(tt,mt),D("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!mt.multiple},D("invalid",tt);break;case"textarea":hb(tt,mt),D("invalid",tt)}ub($,mt),dt=null;for(var an in mt)if(mt.hasOwnProperty(an)){var An=mt[an];an==="children"?typeof An=="string"?tt.textContent!==An&&(mt.suppressHydrationWarning!==!0&&Af(tt.textContent,An,i),dt=["children",An]):typeof An=="number"&&tt.textContent!==""+An&&(mt.suppressHydrationWarning!==!0&&Af(tt.textContent,An,i),dt=["children",""+An]):ea.hasOwnProperty(an)&&An!=null&&an==="onScroll"&&D("scroll",tt)}switch($){case"input":Va(tt),db(tt,mt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof mt.onClick=="function"&&(tt.onclick=Bf)}tt=dt,g.updateQueue=tt,tt!==null&&(g.flags|=4)}else{an=dt.nodeType===9?dt:dt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb($)),i==="http://www.w3.org/1999/xhtml"?$==="script"?(i=an.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof tt.is=="string"?i=an.createElement($,{is:tt.is}):(i=an.createElement($),$==="select"&&(an=i,tt.multiple?an.multiple=!0:tt.size&&(an.size=tt.size))):i=an.createElementNS(i,$),i[Of]=g,i[Pf]=tt,Aj(i,g,!1,!1),g.stateNode=i;e:{switch(an=vb($,tt),$){case"dialog":D("cancel",i),D("close",i),dt=tt;break;case"iframe":case"object":case"embed":D("load",i),dt=tt;break;case"video":case"audio":for(dt=0;dt<lf.length;dt++)D(lf[dt],i);dt=tt;break;case"source":D("error",i),dt=tt;break;case"img":case"image":case"link":D("error",i),D("load",i),dt=tt;break;case"details":D("toggle",i),dt=tt;break;case"input":Za(i,tt),dt=Ya(i,tt),D("invalid",i);break;case"option":dt=tt;break;case"select":i._wrapperState={wasMultiple:!!tt.multiple},dt=A({},tt,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,tt),dt=gb(i,tt),D("invalid",i);break;default:dt=tt}ub($,dt),An=dt;for(mt in An)if(An.hasOwnProperty(mt)){var Dn=An[mt];mt==="style"?sb(i,Dn):mt==="dangerouslySetInnerHTML"?(Dn=Dn?Dn.__html:void 0,Dn!=null&&nb(i,Dn)):mt==="children"?typeof Dn=="string"?($!=="textarea"||Dn!=="")&&ob(i,Dn):typeof Dn=="number"&&ob(i,""+Dn):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?Dn!=null&&mt==="onScroll"&&D("scroll",i):Dn!=null&&ta(i,mt,Dn,an))}switch($){case"input":Va(i),db(i,tt,!1);break;case"textarea":Va(i),jb(i);break;case"option":tt.value!=null&&i.setAttribute("value",""+Sa(tt.value));break;case"select":i.multiple=!!tt.multiple,mt=tt.value,mt!=null?fb(i,!!tt.multiple,mt,!1):tt.defaultValue!=null&&fb(i,!!tt.multiple,tt.defaultValue,!0);break;default:typeof dt.onClick=="function"&&(i.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S(g),null;case 6:if(i&&g.stateNode!=null)Dj(i,g,i.memoizedProps,tt);else{if(typeof tt!="string"&&g.stateNode===null)throw Error(p$1(166));if($=Hh(Gh.current),Hh(Eh.current),Gg(g)){if(tt=g.stateNode,$=g.memoizedProps,tt[Of]=g,(mt=tt.nodeValue!==$)&&(i=xg,i!==null))switch(i.tag){case 3:Af(tt.nodeValue,$,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,$,(i.mode&1)!==0)}mt&&(g.flags|=4)}else tt=($.nodeType===9?$:$.ownerDocument).createTextNode(tt),tt[Of]=g,g.stateNode=tt}return S(g),null;case 13:if(E(M),tt=g.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&g.mode&1&&!(g.flags&128))Hg(),Ig(),g.flags|=98560,mt=!1;else if(mt=Gg(g),tt!==null&&tt.dehydrated!==null){if(i===null){if(!mt)throw Error(p$1(318));if(mt=g.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(p$1(317));mt[Of]=g}else Ig(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;S(g),mt=!1}else zg!==null&&(Gj(zg),zg=null),mt=!0;if(!mt)return g.flags&65536?g:null}return g.flags&128?(g.lanes=$,g):(tt=tt!==null,tt!==(i!==null&&i.memoizedState!==null)&&tt&&(g.child.flags|=8192,g.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),g.updateQueue!==null&&(g.flags|=4),S(g),null);case 4:return Jh(),Bj(i,g),i===null&&sf(g.stateNode.containerInfo),S(g),null;case 10:return Rg(g.type._context),S(g),null;case 17:return Zf(g.type)&&$f(),S(g),null;case 19:if(E(M),mt=g.memoizedState,mt===null)return S(g),null;if(tt=(g.flags&128)!==0,an=mt.rendering,an===null)if(tt)Ej(mt,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=g.child;i!==null;){if(an=Mh(i),an!==null){for(g.flags|=128,Ej(mt,!1),tt=an.updateQueue,tt!==null&&(g.updateQueue=tt,g.flags|=4),g.subtreeFlags=0,tt=$,$=g.child;$!==null;)mt=$,i=tt,mt.flags&=14680066,an=mt.alternate,an===null?(mt.childLanes=0,mt.lanes=i,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=an.childLanes,mt.lanes=an.lanes,mt.child=an.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=an.memoizedProps,mt.memoizedState=an.memoizedState,mt.updateQueue=an.updateQueue,mt.type=an.type,i=an.dependencies,mt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),$=$.sibling;return G(M,M.current&1|2),g.child}i=i.sibling}mt.tail!==null&&B()>Hj&&(g.flags|=128,tt=!0,Ej(mt,!1),g.lanes=4194304)}else{if(!tt)if(i=Mh(an),i!==null){if(g.flags|=128,tt=!0,$=i.updateQueue,$!==null&&(g.updateQueue=$,g.flags|=4),Ej(mt,!0),mt.tail===null&&mt.tailMode==="hidden"&&!an.alternate&&!I)return S(g),null}else 2*B()-mt.renderingStartTime>Hj&&$!==1073741824&&(g.flags|=128,tt=!0,Ej(mt,!1),g.lanes=4194304);mt.isBackwards?(an.sibling=g.child,g.child=an):($=mt.last,$!==null?$.sibling=an:g.child=an,mt.last=an)}return mt.tail!==null?(g=mt.tail,mt.rendering=g,mt.tail=g.sibling,mt.renderingStartTime=B(),g.sibling=null,$=M.current,G(M,tt?$&1|2:$&1),g):(S(g),null);case 22:case 23:return Ij(),tt=g.memoizedState!==null,i!==null&&i.memoizedState!==null!==tt&&(g.flags|=8192),tt&&g.mode&1?gj&1073741824&&(S(g),g.subtreeFlags&6&&(g.flags|=8192)):S(g),null;case 24:return null;case 25:return null}throw Error(p$1(156,g.tag))}function Jj(i,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=g.flags,i&65536&&!(i&128)?(g.flags=i&-65537|128,g):null;case 5:return Lh(g),null;case 13:if(E(M),i=g.memoizedState,i!==null&&i.dehydrated!==null){if(g.alternate===null)throw Error(p$1(340));Ig()}return i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(g.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,g){var $=i.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(tt){W(i,g,tt)}else $.current=null}function Nj(i,g,$){try{$()}catch(tt){W(i,g,tt)}}var Oj=!1;function Pj(i,g){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var $={start:i.selectionStart,end:i.selectionEnd};else e:{$=($=i.ownerDocument)&&$.defaultView||window;var tt=$.getSelection&&$.getSelection();if(tt&&tt.rangeCount!==0){$=tt.anchorNode;var dt=tt.anchorOffset,mt=tt.focusNode;tt=tt.focusOffset;try{$.nodeType,mt.nodeType}catch{$=null;break e}var an=0,An=-1,Dn=-1,Jn=0,Vn=0,er=i,Lt=null;t:for(;;){for(var kt;er!==$||dt!==0&&er.nodeType!==3||(An=an+dt),er!==mt||tt!==0&&er.nodeType!==3||(Dn=an+tt),er.nodeType===3&&(an+=er.nodeValue.length),(kt=er.firstChild)!==null;)Lt=er,er=kt;for(;;){if(er===i)break t;if(Lt===$&&++Jn===dt&&(An=an),Lt===mt&&++Vn===tt&&(Dn=an),(kt=er.nextSibling)!==null)break;er=Lt,Lt=er.parentNode}er=kt}$=An===-1||Dn===-1?null:{start:An,end:Dn}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:i,selectionRange:$},dd=!1,V=g;V!==null;)if(g=V,i=g.child,(g.subtreeFlags&1028)!==0&&i!==null)i.return=g,V=i;else for(;V!==null;){g=V;try{var _=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var pt=_.memoizedProps,ht=_.memoizedState,ot=g.stateNode,at=ot.getSnapshotBeforeUpdate(g.elementType===g.type?pt:Lg(g.type,pt),ht);ot.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var gt=g.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(xt){W(g,g.return,xt)}if(i=g.sibling,i!==null){i.return=g.return,V=i;break}V=g.return}return _=Oj,Oj=!1,_}function Qj(i,g,$){var tt=g.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var dt=tt=tt.next;do{if((dt.tag&i)===i){var mt=dt.destroy;dt.destroy=void 0,mt!==void 0&&Nj(g,$,mt)}dt=dt.next}while(dt!==tt)}}function Rj(i,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var $=g=g.next;do{if(($.tag&i)===i){var tt=$.create;$.destroy=tt()}$=$.next}while($!==g)}}function Sj(i){var g=i.ref;if(g!==null){var $=i.stateNode;switch(i.tag){case 5:i=$;break;default:i=$}typeof g=="function"?g(i):g.current=i}}function Tj(i){var g=i.alternate;g!==null&&(i.alternate=null,Tj(g)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(g=i.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,g,$){var tt=i.tag;if(tt===5||tt===6)i=i.stateNode,g?$.nodeType===8?$.parentNode.insertBefore(i,g):$.insertBefore(i,g):($.nodeType===8?(g=$.parentNode,g.insertBefore(i,$)):(g=$,g.appendChild(i)),$=$._reactRootContainer,$!=null||g.onclick!==null||(g.onclick=Bf));else if(tt!==4&&(i=i.child,i!==null))for(Wj(i,g,$),i=i.sibling;i!==null;)Wj(i,g,$),i=i.sibling}function Xj(i,g,$){var tt=i.tag;if(tt===5||tt===6)i=i.stateNode,g?$.insertBefore(i,g):$.appendChild(i);else if(tt!==4&&(i=i.child,i!==null))for(Xj(i,g,$),i=i.sibling;i!==null;)Xj(i,g,$),i=i.sibling}var X=null,Yj=!1;function Zj(i,g,$){for($=$.child;$!==null;)ak(i,g,$),$=$.sibling}function ak(i,g,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Mj($,g);case 6:var tt=X,dt=Yj;X=null,Zj(i,g,$),X=tt,Yj=dt,X!==null&&(Yj?(i=X,$=$.stateNode,i.nodeType===8?i.parentNode.removeChild($):i.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Yj?(i=X,$=$.stateNode,i.nodeType===8?Kf(i.parentNode,$):i.nodeType===1&&Kf(i,$),bd(i)):Kf(X,$.stateNode));break;case 4:tt=X,dt=Yj,X=$.stateNode.containerInfo,Yj=!0,Zj(i,g,$),X=tt,Yj=dt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=$.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){dt=tt=tt.next;do{var mt=dt,an=mt.destroy;mt=mt.tag,an!==void 0&&(mt&2||mt&4)&&Nj($,g,an),dt=dt.next}while(dt!==tt)}Zj(i,g,$);break;case 1:if(!U&&(Mj($,g),tt=$.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=$.memoizedProps,tt.state=$.memoizedState,tt.componentWillUnmount()}catch(An){W($,g,An)}Zj(i,g,$);break;case 21:Zj(i,g,$);break;case 22:$.mode&1?(U=(tt=U)||$.memoizedState!==null,Zj(i,g,$),U=tt):Zj(i,g,$);break;default:Zj(i,g,$)}}function bk(i){var g=i.updateQueue;if(g!==null){i.updateQueue=null;var $=i.stateNode;$===null&&($=i.stateNode=new Lj),g.forEach(function(tt){var dt=ck.bind(null,i,tt);$.has(tt)||($.add(tt),tt.then(dt,dt))})}}function dk(i,g){var $=g.deletions;if($!==null)for(var tt=0;tt<$.length;tt++){var dt=$[tt];try{var mt=i,an=g,An=an;e:for(;An!==null;){switch(An.tag){case 5:X=An.stateNode,Yj=!1;break e;case 3:X=An.stateNode.containerInfo,Yj=!0;break e;case 4:X=An.stateNode.containerInfo,Yj=!0;break e}An=An.return}if(X===null)throw Error(p$1(160));ak(mt,an,dt),X=null,Yj=!1;var Dn=dt.alternate;Dn!==null&&(Dn.return=null),dt.return=null}catch(Jn){W(dt,g,Jn)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)ek(g,i),g=g.sibling}function ek(i,g){var $=i.alternate,tt=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(g,i),fk(i),tt&4){try{Qj(3,i,i.return),Rj(3,i)}catch(pt){W(i,i.return,pt)}try{Qj(5,i,i.return)}catch(pt){W(i,i.return,pt)}}break;case 1:dk(g,i),fk(i),tt&512&&$!==null&&Mj($,$.return);break;case 5:if(dk(g,i),fk(i),tt&512&&$!==null&&Mj($,$.return),i.flags&32){var dt=i.stateNode;try{ob(dt,"")}catch(pt){W(i,i.return,pt)}}if(tt&4&&(dt=i.stateNode,dt!=null)){var mt=i.memoizedProps,an=$!==null?$.memoizedProps:mt,An=i.type,Dn=i.updateQueue;if(i.updateQueue=null,Dn!==null)try{An==="input"&&mt.type==="radio"&&mt.name!=null&&ab(dt,mt),vb(An,an);var Jn=vb(An,mt);for(an=0;an<Dn.length;an+=2){var Vn=Dn[an],er=Dn[an+1];Vn==="style"?sb(dt,er):Vn==="dangerouslySetInnerHTML"?nb(dt,er):Vn==="children"?ob(dt,er):ta(dt,Vn,er,Jn)}switch(An){case"input":bb(dt,mt);break;case"textarea":ib(dt,mt);break;case"select":var Lt=dt._wrapperState.wasMultiple;dt._wrapperState.wasMultiple=!!mt.multiple;var kt=mt.value;kt!=null?fb(dt,!!mt.multiple,kt,!1):Lt!==!!mt.multiple&&(mt.defaultValue!=null?fb(dt,!!mt.multiple,mt.defaultValue,!0):fb(dt,!!mt.multiple,mt.multiple?[]:"",!1))}dt[Pf]=mt}catch(pt){W(i,i.return,pt)}}break;case 6:if(dk(g,i),fk(i),tt&4){if(i.stateNode===null)throw Error(p$1(162));dt=i.stateNode,mt=i.memoizedProps;try{dt.nodeValue=mt}catch(pt){W(i,i.return,pt)}}break;case 3:if(dk(g,i),fk(i),tt&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(pt){W(i,i.return,pt)}break;case 4:dk(g,i),fk(i);break;case 13:dk(g,i),fk(i),dt=i.child,dt.flags&8192&&(mt=dt.memoizedState!==null,dt.stateNode.isHidden=mt,!mt||dt.alternate!==null&&dt.alternate.memoizedState!==null||(gk=B())),tt&4&&bk(i);break;case 22:if(Vn=$!==null&&$.memoizedState!==null,i.mode&1?(U=(Jn=U)||Vn,dk(g,i),U=Jn):dk(g,i),fk(i),tt&8192){if(Jn=i.memoizedState!==null,(i.stateNode.isHidden=Jn)&&!Vn&&i.mode&1)for(V=i,Vn=i.child;Vn!==null;){for(er=V=Vn;V!==null;){switch(Lt=V,kt=Lt.child,Lt.tag){case 0:case 11:case 14:case 15:Qj(4,Lt,Lt.return);break;case 1:Mj(Lt,Lt.return);var _=Lt.stateNode;if(typeof _.componentWillUnmount=="function"){tt=Lt,$=Lt.return;try{g=tt,_.props=g.memoizedProps,_.state=g.memoizedState,_.componentWillUnmount()}catch(pt){W(tt,$,pt)}}break;case 5:Mj(Lt,Lt.return);break;case 22:if(Lt.memoizedState!==null){hk(er);continue}}kt!==null?(kt.return=Lt,V=kt):hk(er)}Vn=Vn.sibling}e:for(Vn=null,er=i;;){if(er.tag===5){if(Vn===null){Vn=er;try{dt=er.stateNode,Jn?(mt=dt.style,typeof mt.setProperty=="function"?mt.setProperty("display","none","important"):mt.display="none"):(An=er.stateNode,Dn=er.memoizedProps.style,an=Dn!=null&&Dn.hasOwnProperty("display")?Dn.display:null,An.style.display=rb("display",an))}catch(pt){W(i,i.return,pt)}}}else if(er.tag===6){if(Vn===null)try{er.stateNode.nodeValue=Jn?"":er.memoizedProps}catch(pt){W(i,i.return,pt)}}else if((er.tag!==22&&er.tag!==23||er.memoizedState===null||er===i)&&er.child!==null){er.child.return=er,er=er.child;continue}if(er===i)break e;for(;er.sibling===null;){if(er.return===null||er.return===i)break e;Vn===er&&(Vn=null),er=er.return}Vn===er&&(Vn=null),er.sibling.return=er.return,er=er.sibling}}break;case 19:dk(g,i),fk(i),tt&4&&bk(i);break;case 21:break;default:dk(g,i),fk(i)}}function fk(i){var g=i.flags;if(g&2){try{e:{for(var $=i.return;$!==null;){if(Uj($)){var tt=$;break e}$=$.return}throw Error(p$1(160))}switch(tt.tag){case 5:var dt=tt.stateNode;tt.flags&32&&(ob(dt,""),tt.flags&=-33);var mt=Vj(i);Xj(i,mt,dt);break;case 3:case 4:var an=tt.stateNode.containerInfo,An=Vj(i);Wj(i,An,an);break;default:throw Error(p$1(161))}}catch(Dn){W(i,i.return,Dn)}i.flags&=-3}g&4096&&(i.flags&=-4097)}function ik(i,g,$){V=i,jk(i)}function jk(i,g,$){for(var tt=(i.mode&1)!==0;V!==null;){var dt=V,mt=dt.child;if(dt.tag===22&&tt){var an=dt.memoizedState!==null||Kj;if(!an){var An=dt.alternate,Dn=An!==null&&An.memoizedState!==null||U;An=Kj;var Jn=U;if(Kj=an,(U=Dn)&&!Jn)for(V=dt;V!==null;)an=V,Dn=an.child,an.tag===22&&an.memoizedState!==null?kk(dt):Dn!==null?(Dn.return=an,V=Dn):kk(dt);for(;mt!==null;)V=mt,jk(mt),mt=mt.sibling;V=dt,Kj=An,U=Jn}lk(i)}else dt.subtreeFlags&8772&&mt!==null?(mt.return=dt,V=mt):lk(i)}}function lk(i){for(;V!==null;){var g=V;if(g.flags&8772){var $=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:U||Rj(5,g);break;case 1:var tt=g.stateNode;if(g.flags&4&&!U)if($===null)tt.componentDidMount();else{var dt=g.elementType===g.type?$.memoizedProps:Lg(g.type,$.memoizedProps);tt.componentDidUpdate(dt,$.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var mt=g.updateQueue;mt!==null&&ih(g,mt,tt);break;case 3:var an=g.updateQueue;if(an!==null){if($=null,g.child!==null)switch(g.child.tag){case 5:$=g.child.stateNode;break;case 1:$=g.child.stateNode}ih(g,an,$)}break;case 5:var An=g.stateNode;if($===null&&g.flags&4){$=An;var Dn=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Dn.autoFocus&&$.focus();break;case"img":Dn.src&&($.src=Dn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Jn=g.alternate;if(Jn!==null){var Vn=Jn.memoizedState;if(Vn!==null){var er=Vn.dehydrated;er!==null&&bd(er)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||g.flags&512&&Sj(g)}catch(Lt){W(g,g.return,Lt)}}if(g===i){V=null;break}if($=g.sibling,$!==null){$.return=g.return,V=$;break}V=g.return}}function hk(i){for(;V!==null;){var g=V;if(g===i){V=null;break}var $=g.sibling;if($!==null){$.return=g.return,V=$;break}V=g.return}}function kk(i){for(;V!==null;){var g=V;try{switch(g.tag){case 0:case 11:case 15:var $=g.return;try{Rj(4,g)}catch(Dn){W(g,$,Dn)}break;case 1:var tt=g.stateNode;if(typeof tt.componentDidMount=="function"){var dt=g.return;try{tt.componentDidMount()}catch(Dn){W(g,dt,Dn)}}var mt=g.return;try{Sj(g)}catch(Dn){W(g,mt,Dn)}break;case 5:var an=g.return;try{Sj(g)}catch(Dn){W(g,an,Dn)}}}catch(Dn){W(g,g.return,Dn)}if(g===i){V=null;break}var An=g.sibling;if(An!==null){An.return=g.return,V=An;break}V=g.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,g,$,tt){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(i,$,tt),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=$),T===4&&Dk(i,Z)),Ek(i,tt),$===1&&K===0&&!(g.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,g){var $=i.callbackNode;wc(i,g);var tt=uc(i,i===R?Z:0);if(tt===0)$!==null&&bc($),i.callbackNode=null,i.callbackPriority=0;else if(g=tt&-tt,i.callbackPriority!==g){if($!=null&&bc($),g===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(tt)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Gk($,Hk.bind(null,i))}i.callbackPriority=g,i.callbackNode=$}}function Hk(i,g){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var $=i.callbackNode;if(Ik()&&i.callbackNode!==$)return null;var tt=uc(i,i===R?Z:0);if(tt===0)return null;if(tt&30||tt&i.expiredLanes||g)g=Jk(i,tt);else{g=tt;var dt=K;K|=2;var mt=Kk();(R!==i||Z!==g)&&(vk=null,Hj=B()+500,Lk(i,g));do try{Mk();break}catch(An){Nk(i,An)}while(1);Qg(),nk.current=mt,K=dt,Y!==null?g=0:(R=null,Z=0,g=T)}if(g!==0){if(g===2&&(dt=xc(i),dt!==0&&(tt=dt,g=Ok(i,dt))),g===1)throw $=qk,Lk(i,0),Dk(i,tt),Ek(i,B()),$;if(g===6)Dk(i,tt);else{if(dt=i.current.alternate,!(tt&30)&&!Pk(dt)&&(g=Jk(i,tt),g===2&&(mt=xc(i),mt!==0&&(tt=mt,g=Ok(i,mt))),g===1))throw $=qk,Lk(i,0),Dk(i,tt),Ek(i,B()),$;switch(i.finishedWork=dt,i.finishedLanes=tt,g){case 0:case 1:throw Error(p$1(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,tt),(tt&130023424)===tt&&(g=gk+500-B(),10<g)){if(uc(i,0)!==0)break;if(dt=i.suspendedLanes,(dt&tt)!==tt){L(),i.pingedLanes|=i.suspendedLanes&dt;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),g);break}Qk(i,uk,vk);break;case 4:if(Dk(i,tt),(tt&4194240)===tt)break;for(g=i.eventTimes,dt=-1;0<tt;){var an=31-oc(tt);mt=1<<an,an=g[an],an>dt&&(dt=an),tt&=~mt}if(tt=dt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),tt);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(i,B()),i.callbackNode===$?Hk.bind(null,i):null}function Ok(i,g){var $=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,g).flags|=256),i=Jk(i,g),i!==2&&(g=uk,uk=$,g!==null&&Gj(g)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var g=i;;){if(g.flags&16384){var $=g.updateQueue;if($!==null&&($=$.stores,$!==null))for(var tt=0;tt<$.length;tt++){var dt=$[tt],mt=dt.getSnapshot;dt=dt.value;try{if(!He(mt(),dt))return!1}catch{return!1}}}if($=g.child,g.subtreeFlags&16384&&$!==null)$.return=g,g=$;else{if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Dk(i,g){for(g&=~sk,g&=~rk,i.suspendedLanes|=g,i.pingedLanes&=~g,i=i.expirationTimes;0<g;){var $=31-oc(g),tt=1<<$;i[$]=-1,g&=~tt}}function Fk(i){if(K&6)throw Error(p$1(327));Ik();var g=uc(i,0);if(!(g&1))return Ek(i,B()),null;var $=Jk(i,g);if(i.tag!==0&&$===2){var tt=xc(i);tt!==0&&(g=tt,$=Ok(i,tt))}if($===1)throw $=qk,Lk(i,0),Dk(i,g),Ek(i,B()),$;if($===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=g,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,g){var $=K;K|=1;try{return i(g)}finally{K=$,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var g=K;K|=1;var $=pk.transition,tt=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=tt,pk.transition=$,K=g,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,g){i.finishedWork=null,i.finishedLanes=0;var $=i.timeoutHandle;if($!==-1&&(i.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var tt=$;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}$=$.return}if(R=i,Y=i=wh(i.current,null),Z=gj=g,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(g=0;g<Wg.length;g++)if($=Wg[g],tt=$.interleaved,tt!==null){$.interleaved=null;var dt=tt.next,mt=$.pending;if(mt!==null){var an=mt.next;mt.next=dt,tt.next=an}$.pending=tt}Wg=null}return i}function Nk(i,g){do{var $=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N.memoizedState;tt!==null;){var dt=tt.queue;dt!==null&&(dt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O=N=null,Th=!1,Uh=0,ok.current=null,$===null||$.return===null){T=1,qk=g,Y=null;break}e:{var mt=i,an=$.return,An=$,Dn=g;if(g=Z,An.flags|=32768,Dn!==null&&typeof Dn=="object"&&typeof Dn.then=="function"){var Jn=Dn,Vn=An,er=Vn.tag;if(!(Vn.mode&1)&&(er===0||er===11||er===15)){var Lt=Vn.alternate;Lt?(Vn.updateQueue=Lt.updateQueue,Vn.memoizedState=Lt.memoizedState,Vn.lanes=Lt.lanes):(Vn.updateQueue=null,Vn.memoizedState=null)}var kt=Vi(an);if(kt!==null){kt.flags&=-257,Wi(kt,an,An,mt,g),kt.mode&1&&Ti(mt,Jn,g),g=kt,Dn=Jn;var _=g.updateQueue;if(_===null){var pt=new Set;pt.add(Dn),g.updateQueue=pt}else _.add(Dn);break e}else{if(!(g&1)){Ti(mt,Jn,g),uj();break e}Dn=Error(p$1(426))}}else if(I&&An.mode&1){var ht=Vi(an);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Wi(ht,an,An,mt,g),Jg(Ki(Dn,An));break e}}mt=Dn=Ki(Dn,An),T!==4&&(T=2),tk===null?tk=[mt]:tk.push(mt),mt=an;do{switch(mt.tag){case 3:mt.flags|=65536,g&=-g,mt.lanes|=g;var ot=Oi(mt,Dn,g);fh(mt,ot);break e;case 1:An=Dn;var at=mt.type,gt=mt.stateNode;if(!(mt.flags&128)&&(typeof at.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){mt.flags|=65536,g&=-g,mt.lanes|=g;var xt=Ri(mt,An,g);fh(mt,xt);break e}}mt=mt.return}while(mt!==null)}Tk($)}catch(Ut){g=Ut,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,g){var $=K;K|=2;var tt=Kk();(R!==i||Z!==g)&&(vk=null,Lk(i,g));do try{Uk();break}catch(dt){Nk(i,dt)}while(1);if(Qg(),K=$,nk.current=tt,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var g=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,g===null?Tk(i):Y=g,ok.current=null}function Tk(i){var g=i;do{var $=g.alternate;if(i=g.return,g.flags&32768){if($=Jj($,g),$!==null){$.flags&=32767,Y=$;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if($=Fj($,g,gj),$!==null){Y=$;return}if(g=g.sibling,g!==null){Y=g;return}Y=g=i}while(g!==null);T===0&&(T=5)}function Qk(i,g,$){var tt=C,dt=pk.transition;try{pk.transition=null,C=1,Xk(i,g,$,tt)}finally{pk.transition=dt,C=tt}return null}function Xk(i,g,$,tt){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));$=i.finishedWork;var dt=i.finishedLanes;if($===null)return null;if(i.finishedWork=null,i.finishedLanes=0,$===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var mt=$.lanes|$.childLanes;if(Bc(i,mt),i===R&&(Y=R=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),mt=($.flags&15990)!==0,$.subtreeFlags&15990||mt){mt=pk.transition,pk.transition=null;var an=C;C=1;var An=K;K|=4,ok.current=null,Pj(i,$),ek($,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=$,ik($),dc(),K=An,C=an,pk.transition=mt}else i.current=$;if(wk&&(wk=!1,xk=i,yk=dt),mt=i.pendingLanes,mt===0&&(Si=null),mc($.stateNode),Ek(i,B()),g!==null)for(tt=i.onRecoverableError,$=0;$<g.length;$++)dt=g[$],tt(dt.value,{componentStack:dt.stack,digest:dt.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),mt=i.pendingLanes,mt&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),g=pk.transition,$=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var tt=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var dt=K;for(K|=4,V=i.current;V!==null;){var mt=V,an=mt.child;if(V.flags&16){var An=mt.deletions;if(An!==null){for(var Dn=0;Dn<An.length;Dn++){var Jn=An[Dn];for(V=Jn;V!==null;){var Vn=V;switch(Vn.tag){case 0:case 11:case 15:Qj(8,Vn,mt)}var er=Vn.child;if(er!==null)er.return=Vn,V=er;else for(;V!==null;){Vn=V;var Lt=Vn.sibling,kt=Vn.return;if(Tj(Vn),Vn===Jn){V=null;break}if(Lt!==null){Lt.return=kt,V=Lt;break}V=kt}}}var _=mt.alternate;if(_!==null){var pt=_.child;if(pt!==null){_.child=null;do{var ht=pt.sibling;pt.sibling=null,pt=ht}while(pt!==null)}}V=mt}}if(mt.subtreeFlags&2064&&an!==null)an.return=mt,V=an;else e:for(;V!==null;){if(mt=V,mt.flags&2048)switch(mt.tag){case 0:case 11:case 15:Qj(9,mt,mt.return)}var ot=mt.sibling;if(ot!==null){ot.return=mt.return,V=ot;break e}V=mt.return}}var at=i.current;for(V=at;V!==null;){an=V;var gt=an.child;if(an.subtreeFlags&2064&&gt!==null)gt.return=an,V=gt;else e:for(an=at;V!==null;){if(An=V,An.flags&2048)try{switch(An.tag){case 0:case 11:case 15:Rj(9,An)}}catch(Ut){W(An,An.return,Ut)}if(An===an){V=null;break e}var xt=An.sibling;if(xt!==null){xt.return=An.return,V=xt;break e}V=An.return}}if(K=dt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}tt=!0}return tt}finally{C=$,pk.transition=g}}return!1}function Yk(i,g,$){g=Ki($,g),g=Oi(i,g,1),i=dh(i,g,1),g=L(),i!==null&&(Ac(i,1,g),Ek(i,g))}function W(i,g,$){if(i.tag===3)Yk(i,i,$);else for(;g!==null;){if(g.tag===3){Yk(g,i,$);break}else if(g.tag===1){var tt=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){i=Ki($,i),i=Ri(g,i,1),g=dh(g,i,1),i=L(),g!==null&&(Ac(g,1,i),Ek(g,i));break}}g=g.return}}function Ui(i,g,$){var tt=i.pingCache;tt!==null&&tt.delete(g),g=L(),i.pingedLanes|=i.suspendedLanes&$,R===i&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=$),Ek(i,g)}function Zk(i,g){g===0&&(i.mode&1?(g=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):g=1);var $=L();i=Zg(i,g),i!==null&&(Ac(i,g,$),Ek(i,$))}function vj(i){var g=i.memoizedState,$=0;g!==null&&($=g.retryLane),Zk(i,$)}function ck(i,g){var $=0;switch(i.tag){case 13:var tt=i.stateNode,dt=i.memoizedState;dt!==null&&($=dt.retryLane);break;case 19:tt=i.stateNode;break;default:throw Error(p$1(314))}tt!==null&&tt.delete(g),Zk(i,$)}var Wk;Wk=function(i,g,$){if(i!==null)if(i.memoizedProps!==g.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&$)&&!(g.flags&128))return Ug=!1,zj(i,g,$);Ug=!!(i.flags&131072)}else Ug=!1,I&&g.flags&1048576&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var tt=g.type;jj(i,g),i=g.pendingProps;var dt=Yf(g,H.current);Tg(g,$),dt=Xh(null,g,tt,i,dt,$);var mt=bi();return g.flags|=1,typeof dt=="object"&&dt!==null&&typeof dt.render=="function"&&dt.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf(tt)?(mt=!0,cg(g)):mt=!1,g.memoizedState=dt.state!==null&&dt.state!==void 0?dt.state:null,ah(g),dt.updater=nh,g.stateNode=dt,dt._reactInternals=g,rh(g,tt,i,$),g=kj(null,g,tt,!0,mt,$)):(g.tag=0,I&&mt&&vg(g),Yi(null,g,dt,$),g=g.child),g;case 16:tt=g.elementType;e:{switch(jj(i,g),i=g.pendingProps,dt=tt._init,tt=dt(tt._payload),g.type=tt,dt=g.tag=$k(tt),i=Lg(tt,i),dt){case 0:g=dj(null,g,tt,i,$);break e;case 1:g=ij(null,g,tt,i,$);break e;case 11:g=Zi(null,g,tt,i,$);break e;case 14:g=aj(null,g,tt,Lg(tt.type,i),$);break e}throw Error(p$1(306,tt,""))}return g;case 0:return tt=g.type,dt=g.pendingProps,dt=g.elementType===tt?dt:Lg(tt,dt),dj(i,g,tt,dt,$);case 1:return tt=g.type,dt=g.pendingProps,dt=g.elementType===tt?dt:Lg(tt,dt),ij(i,g,tt,dt,$);case 3:e:{if(lj(g),i===null)throw Error(p$1(387));tt=g.pendingProps,mt=g.memoizedState,dt=mt.element,bh(i,g),gh(g,tt,null,$);var an=g.memoizedState;if(tt=an.element,mt.isDehydrated)if(mt={element:tt,isDehydrated:!1,cache:an.cache,pendingSuspenseBoundaries:an.pendingSuspenseBoundaries,transitions:an.transitions},g.updateQueue.baseState=mt,g.memoizedState=mt,g.flags&256){dt=Ki(Error(p$1(423)),g),g=mj(i,g,tt,$,dt);break e}else if(tt!==dt){dt=Ki(Error(p$1(424)),g),g=mj(i,g,tt,$,dt);break e}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I=!0,zg=null,$=Ch(g,null,tt,$),g.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),tt===dt){g=$i(i,g,$);break e}Yi(i,g,tt,$)}g=g.child}return g;case 5:return Kh(g),i===null&&Eg(g),tt=g.type,dt=g.pendingProps,mt=i!==null?i.memoizedProps:null,an=dt.children,Ef(tt,dt)?an=null:mt!==null&&Ef(tt,mt)&&(g.flags|=32),hj(i,g),Yi(i,g,an,$),g.child;case 6:return i===null&&Eg(g),null;case 13:return pj(i,g,$);case 4:return Ih(g,g.stateNode.containerInfo),tt=g.pendingProps,i===null?g.child=Bh(g,null,tt,$):Yi(i,g,tt,$),g.child;case 11:return tt=g.type,dt=g.pendingProps,dt=g.elementType===tt?dt:Lg(tt,dt),Zi(i,g,tt,dt,$);case 7:return Yi(i,g,g.pendingProps,$),g.child;case 8:return Yi(i,g,g.pendingProps.children,$),g.child;case 12:return Yi(i,g,g.pendingProps.children,$),g.child;case 10:e:{if(tt=g.type._context,dt=g.pendingProps,mt=g.memoizedProps,an=dt.value,G(Mg,tt._currentValue),tt._currentValue=an,mt!==null)if(He(mt.value,an)){if(mt.children===dt.children&&!Wf.current){g=$i(i,g,$);break e}}else for(mt=g.child,mt!==null&&(mt.return=g);mt!==null;){var An=mt.dependencies;if(An!==null){an=mt.child;for(var Dn=An.firstContext;Dn!==null;){if(Dn.context===tt){if(mt.tag===1){Dn=ch(-1,$&-$),Dn.tag=2;var Jn=mt.updateQueue;if(Jn!==null){Jn=Jn.shared;var Vn=Jn.pending;Vn===null?Dn.next=Dn:(Dn.next=Vn.next,Vn.next=Dn),Jn.pending=Dn}}mt.lanes|=$,Dn=mt.alternate,Dn!==null&&(Dn.lanes|=$),Sg(mt.return,$,g),An.lanes|=$;break}Dn=Dn.next}}else if(mt.tag===10)an=mt.type===g.type?null:mt.child;else if(mt.tag===18){if(an=mt.return,an===null)throw Error(p$1(341));an.lanes|=$,An=an.alternate,An!==null&&(An.lanes|=$),Sg(an,$,g),an=mt.sibling}else an=mt.child;if(an!==null)an.return=mt;else for(an=mt;an!==null;){if(an===g){an=null;break}if(mt=an.sibling,mt!==null){mt.return=an.return,an=mt;break}an=an.return}mt=an}Yi(i,g,dt.children,$),g=g.child}return g;case 9:return dt=g.type,tt=g.pendingProps.children,Tg(g,$),dt=Vg(dt),tt=tt(dt),g.flags|=1,Yi(i,g,tt,$),g.child;case 14:return tt=g.type,dt=Lg(tt,g.pendingProps),dt=Lg(tt.type,dt),aj(i,g,tt,dt,$);case 15:return cj(i,g,g.type,g.pendingProps,$);case 17:return tt=g.type,dt=g.pendingProps,dt=g.elementType===tt?dt:Lg(tt,dt),jj(i,g),g.tag=1,Zf(tt)?(i=!0,cg(g)):i=!1,Tg(g,$),ph(g,tt,dt),rh(g,tt,dt,$),kj(null,g,tt,!0,i,$);case 19:return yj(i,g,$);case 22:return ej(i,g,$)}throw Error(p$1(156,g.tag))};function Gk(i,g){return ac(i,g)}function al(i,g,$,tt){this.tag=i,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,g,$,tt){return new al(i,g,$,tt)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,g){var $=i.alternate;return $===null?($=Bg(i.tag,g,i.key,i.mode),$.elementType=i.elementType,$.type=i.type,$.stateNode=i.stateNode,$.alternate=i,i.alternate=$):($.pendingProps=g,$.type=i.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=i.flags&14680064,$.childLanes=i.childLanes,$.lanes=i.lanes,$.child=i.child,$.memoizedProps=i.memoizedProps,$.memoizedState=i.memoizedState,$.updateQueue=i.updateQueue,g=i.dependencies,$.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},$.sibling=i.sibling,$.index=i.index,$.ref=i.ref,$}function yh(i,g,$,tt,dt,mt){var an=2;if(tt=i,typeof i=="function")bj(i)&&(an=1);else if(typeof i=="string")an=5;else e:switch(i){case ya:return Ah($.children,dt,mt,g);case za:an=8,dt|=8;break;case Aa:return i=Bg(12,$,g,dt|2),i.elementType=Aa,i.lanes=mt,i;case Ea:return i=Bg(13,$,g,dt),i.elementType=Ea,i.lanes=mt,i;case Fa:return i=Bg(19,$,g,dt),i.elementType=Fa,i.lanes=mt,i;case Ia:return qj($,dt,mt,g);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:an=10;break e;case Ca:an=9;break e;case Da:an=11;break e;case Ga:an=14;break e;case Ha:an=16,tt=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return g=Bg(an,$,g,dt),g.elementType=i,g.type=tt,g.lanes=mt,g}function Ah(i,g,$,tt){return i=Bg(7,i,tt,g),i.lanes=$,i}function qj(i,g,$,tt){return i=Bg(22,i,tt,g),i.elementType=Ia,i.lanes=$,i.stateNode={isHidden:!1},i}function xh(i,g,$){return i=Bg(6,i,null,g),i.lanes=$,i}function zh(i,g,$){return g=Bg(4,i.children!==null?i.children:[],i.key,g),g.lanes=$,g.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},g}function bl(i,g,$,tt,dt){this.tag=g,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=dt,this.mutableSourceEagerHydrationData=null}function cl(i,g,$,tt,dt,mt,an,An,Dn){return i=new bl(i,g,$,An,Dn),g===1?(g=1,mt===!0&&(g|=8)):g=0,mt=Bg(3,null,null,g),i.current=mt,mt.stateNode=i,mt.memoizedState={element:tt,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(mt),i}function dl(i,g,$){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:i,containerInfo:g,implementation:$}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var g=i;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(p$1(171))}if(i.tag===1){var $=i.type;if(Zf($))return bg(i,$,g)}return g}function fl(i,g,$,tt,dt,mt,an,An,Dn){return i=cl($,tt,!0,i,dt,mt,an,An,Dn),i.context=el(null),$=i.current,tt=L(),dt=lh($),mt=ch(tt,dt),mt.callback=g??null,dh($,mt,dt),i.current.lanes=dt,Ac(i,dt,tt),Ek(i,tt),i}function gl(i,g,$,tt){var dt=g.current,mt=L(),an=lh(dt);return $=el($),g.context===null?g.context=$:g.pendingContext=$,g=ch(mt,an),g.payload={element:i},tt=tt===void 0?null:tt,tt!==null&&(g.callback=tt),i=dh(dt,g,an),i!==null&&(mh(i,dt,an,mt),eh(i,dt,an)),an}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,g){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var $=i.retryLane;i.retryLane=$!==0&&$<g?$:g}}function jl(i,g){il(i,g),(i=i.alternate)&&il(i,g)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var g=this._internalRoot;if(g===null)throw Error(p$1(409));gl(i,g,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var g=i.containerInfo;Sk(function(){gl(null,i,null,null)}),g[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var g=Hc();i={blockedOn:null,target:i,priority:g};for(var $=0;$<Qc.length&&g!==0&&g<Qc[$].priority;$++);Qc.splice($,0,i),$===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,g,$,tt,dt){if(dt){if(typeof tt=="function"){var mt=tt;tt=function(){var Jn=hl(an);mt.call(Jn)}}var an=fl(g,tt,i,0,null,!1,!1,"",ql);return i._reactRootContainer=an,i[uf]=an.current,sf(i.nodeType===8?i.parentNode:i),Sk(),an}for(;dt=i.lastChild;)i.removeChild(dt);if(typeof tt=="function"){var An=tt;tt=function(){var Jn=hl(Dn);An.call(Jn)}}var Dn=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=Dn,i[uf]=Dn.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(g,Dn,$,tt)}),Dn}function sl(i,g,$,tt,dt){var mt=$._reactRootContainer;if(mt){var an=mt;if(typeof dt=="function"){var An=dt;dt=function(){var Dn=hl(an);An.call(Dn)}}gl(g,an,i,dt)}else an=rl($,g,i,dt,tt);return hl(an)}Ec=function(i){switch(i.tag){case 3:var g=i.stateNode;if(g.current.memoizedState.isDehydrated){var $=tc(g.pendingLanes);$!==0&&(Cc(g,$|1),Ek(g,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(i,1);if(tt!==null){var dt=L();mh(tt,i,1,dt)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var g=Zg(i,134217728);if(g!==null){var $=L();mh(g,i,134217728,$)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var g=lh(i),$=Zg(i,g);if($!==null){var tt=L();mh($,i,g,tt)}jl(i,g)}};Hc=function(){return C};Ic=function(i,g){var $=C;try{return C=i,g()}finally{C=$}};yb=function(i,g,$){switch(g){case"input":if(bb(i,$),g=$.name,$.type==="radio"&&g!=null){for($=i;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<$.length;g++){var tt=$[g];if(tt!==i&&tt.form===i.form){var dt=Db(tt);if(!dt)throw Error(p$1(90));Wa(tt),bb(tt,dt)}}}break;case"textarea":ib(i,$);break;case"select":g=$.value,g!=null&&fb(i,!!$.multiple,g,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,g){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(g))throw Error(p$1(200));return dl(i,g,null,$)};reactDom_production_min.createRoot=function(i,g){if(!ol(i))throw Error(p$1(299));var $=!1,tt="",dt=ll;return g!=null&&(g.unstable_strictMode===!0&&($=!0),g.identifierPrefix!==void 0&&(tt=g.identifierPrefix),g.onRecoverableError!==void 0&&(dt=g.onRecoverableError)),g=cl(i,1,!1,null,null,$,!1,tt,dt),i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),new ml(g)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var g=i._reactInternals;if(g===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(g),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,g,$){if(!pl(g))throw Error(p$1(200));return sl(null,i,g,!0,$)};reactDom_production_min.hydrateRoot=function(i,g,$){if(!ol(i))throw Error(p$1(405));var tt=$!=null&&$.hydratedSources||null,dt=!1,mt="",an=ll;if($!=null&&($.unstable_strictMode===!0&&(dt=!0),$.identifierPrefix!==void 0&&(mt=$.identifierPrefix),$.onRecoverableError!==void 0&&(an=$.onRecoverableError)),g=fl(g,null,i,1,$??null,dt,!1,mt,an),i[uf]=g.current,sf(i),tt)for(i=0;i<tt.length;i++)$=tt[i],dt=$._getVersion,dt=dt($._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[$,dt]:g.mutableSourceEagerHydrationData.push($,dt);return new nl(g)};reactDom_production_min.render=function(i,g,$){if(!pl(g))throw Error(p$1(200));return sl(null,i,g,!1,$)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$1(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,g,$,tt){if(!pl($))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return sl(i,g,$,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;var main={exports:{}},excalidraw_production_min={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(i,g){(function($,tt){i.exports=tt(reactExports,reactDomExports)})(self,function($,tt){return function(){var dt,mt,an,An,Dn={45:function(Lt,kt,_){function pt(ot){var at,gt,xt="";if(typeof ot=="string"||typeof ot=="number")xt+=ot;else if(typeof ot=="object")if(Array.isArray(ot))for(at=0;at<ot.length;at++)ot[at]&&(gt=pt(ot[at]))&&(xt&&(xt+=" "),xt+=gt);else for(at in ot)ot[at]&&(xt&&(xt+=" "),xt+=at);return xt}function ht(){for(var ot,at,gt=0,xt="";gt<arguments.length;)(ot=arguments[gt++])&&(at=pt(ot))&&(xt&&(xt+=" "),xt+=at);return xt}_.d(kt,{Z:function(){return ht}})},6233:function(Lt,kt){var _;_=function(pt){pt.version="0.3.0";var ht=function(){for(var gt=0,xt=new Array(256),Ut=0;Ut!=256;++Ut)gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=Ut)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1,xt[Ut]=gt;return typeof Int32Array<"u"?new Int32Array(xt):xt}(),ot=typeof Buffer<"u";function at(gt){for(var xt=-1,Ut=0,rt=gt.length-7;Ut<rt;)xt=(xt=(xt=(xt=(xt=(xt=(xt=(xt=xt>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])];for(;Ut<rt+7;)xt=xt>>>8^ht[255&(xt^gt[Ut++])];return-1^xt}pt.table=ht,pt.bstr=function(gt){if(gt.length>32768&&ot)return at(new Buffer(gt));for(var xt=-1,Ut=gt.length-1,rt=0;rt<Ut;)xt=ht[255&(xt^gt.charCodeAt(rt++))]^xt>>>8,xt=ht[255&(xt^gt.charCodeAt(rt++))]^xt>>>8;return rt===Ut&&(xt=xt>>>8^ht[255&(xt^gt.charCodeAt(rt))]),-1^xt},pt.buf=function(gt){if(gt.length>1e4)return at(gt);for(var xt=-1,Ut=0,rt=gt.length-3;Ut<rt;)xt=(xt=(xt=(xt=xt>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])])>>>8^ht[255&(xt^gt[Ut++])];for(;Ut<rt+3;)xt=xt>>>8^ht[255&(xt^gt[Ut++])];return-1^xt},pt.str=function(gt){for(var xt,Ut,rt=-1,vt=0,Xt=gt.length;vt<Xt;)(xt=gt.charCodeAt(vt++))<128?rt=rt>>>8^ht[255&(rt^xt)]:xt<2048?rt=(rt=rt>>>8^ht[255&(rt^(192|xt>>6&31))])>>>8^ht[255&(rt^(128|63&xt))]:xt>=55296&&xt<57344?(xt=64+(1023&xt),Ut=1023&gt.charCodeAt(vt++),rt=(rt=(rt=(rt=rt>>>8^ht[255&(rt^(240|xt>>8&7))])>>>8^ht[255&(rt^(128|xt>>2&63))])>>>8^ht[255&(rt^(128|Ut>>6&15|3&xt))])>>>8^ht[255&(rt^(128|63&Ut))]):rt=(rt=(rt=rt>>>8^ht[255&(rt^(224|xt>>12&15))])>>>8^ht[255&(rt^(128|xt>>6&63))])>>>8^ht[255&(rt^(128|63&xt))];return-1^rt}},_(typeof DO_NOT_EXPORT_CRC>"u"?kt:{})},4739:function(Lt,kt,_){_.d(kt,{Dv:function(){return Wt},KO:function(){return In},Vv:function(){return yt},b9:function(){return Ot},cn:function(){return $t},zt:function(){return tn}});var pt=_(9787);const ht=Symbol(),ot=rn=>!!rn[ht],at=rn=>{var _t,St;(St=(_t=rn[ht]).c)==null||St.call(_t)},gt=(rn,_t)=>{const St=rn[ht].o,Vt=_t[ht].o;return St===Vt||rn===Vt||ot(St)&&gt(St,_t)},xt=rn=>{const _t={o:rn,c:null},St=new Promise(Vt=>{_t.c=()=>{_t.c=null,Vt()},rn.then(_t.c,_t.c)});return St[ht]=_t,St};var Ut=Object.defineProperty,rt=Object.defineProperties,vt=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,Qt=(rn,_t,St)=>_t in rn?Ut(rn,_t,{enumerable:!0,configurable:!0,writable:!0,value:St}):rn[_t]=St;const hn=rn=>"init"in rn,fn="r",Nn="w",mn="c",pn="s",vn=rn=>{const _t=new WeakMap,St=new WeakMap,Vt=new Map;let Pt,qt;if(Pt=new Set,qt=new Set,rn)for(const[Wn,ln]of rn){const Un={v:ln,r:0,d:new Map};Object.freeze(Un),hn(Wn)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Wn),_t.set(Wn,Un)}const dn=new WeakMap,Rt=new WeakMap,Zt=Wn=>{let ln=Rt.get(Wn);return ln||(ln=new Map,Rt.set(Wn,ln)),ln},zt=(Wn,ln)=>{if(Wn){const Un=Zt(Wn);let wn=Un.get(ln);return wn||(wn=zt(Wn.p,ln),wn&&("p"in wn&&wn.p.then(()=>Un.delete(ln)),Un.set(ln,wn))),wn}return _t.get(ln)},ft=(Wn,ln,Un)=>{if(Object.freeze(Un),Wn)Zt(Wn).set(ln,Un);else{const wn=_t.get(ln);_t.set(ln,Un),Vt.has(ln)||Vt.set(ln,wn)}},Gt=(Wn,ln=new Map,Un)=>{if(!Un)return ln;const wn=new Map;let Mn=!1;return Un.forEach(zn=>{var jn;const $n=((jn=zt(Wn,zn))==null?void 0:jn.r)||0;wn.set(zn,$n),ln.get(zn)!==$n&&(Mn=!0)}),ln.size!==wn.size||Mn?wn:ln},wt=(Wn,ln,Un,wn,Mn)=>{const zn=zt(Wn,ln);if(zn){if(Mn&&(!("p"in zn)||!gt(zn.p,Mn)))return zn;"p"in zn&&at(zn.p)}const jn={v:Un,r:(zn==null?void 0:zn.r)||0,d:Gt(Wn,zn==null?void 0:zn.d,wn)};return zn&&"v"in zn&&Object.is(zn.v,Un)?jn.d===zn.d||jn.d.size===zn.d.size&&Array.from(jn.d.keys()).every($n=>zn.d.has($n))||Promise.resolve().then(()=>{Pn(Wn)}):(++jn.r,jn.d.has(ln)&&(jn.d=new Map(jn.d).set(ln,jn.r))),ft(Wn,ln,jn),jn},Jt=(Wn,ln,Un,wn,Mn)=>{const zn=zt(Wn,ln);if(zn){if(Mn&&(!("p"in zn)||!gt(zn.p,Mn)))return zn;"p"in zn&&at(zn.p)}const jn={e:Un,r:(zn==null?void 0:zn.r)||0,d:Gt(Wn,zn==null?void 0:zn.d,wn)};return ft(Wn,ln,jn),jn},Mt=(Wn,ln,Un,wn)=>{const Mn=zt(Wn,ln);if(Mn&&"p"in Mn){if(gt(Mn.p,Un))return Mn;at(Mn.p)}((jn,$n,cr)=>{let or=dn.get($n);or||(or=new Map,dn.set($n,or)),cr.then(()=>{or.get(jn)===cr&&(or.delete(jn),or.size||dn.delete($n))}),or.set(jn,cr)})(Wn,ln,Un);const zn={p:Un,r:(Mn==null?void 0:Mn.r)||0,d:Gt(Wn,Mn==null?void 0:Mn.d,wn)};return ft(Wn,ln,zn),zn},un=(Wn,ln,Un,wn)=>{if(Un instanceof Promise){const Mn=xt(Un.then(zn=>{wt(Wn,ln,zn,wn,Mn),Pn(Wn)}).catch(zn=>{if(zn instanceof Promise)return ot(zn)?zn.then(()=>{jt(Wn,ln,!0)}):zn;Jt(Wn,ln,zn,wn,Mn),Pn(Wn)}));return Mt(Wn,ln,Mn,wn)}return wt(Wn,ln,Un,wn)},bn=(Wn,ln)=>{const Un=zt(Wn,ln);if(Un){"p"in Un&&at(Un.p);const zn=(wn=((jn,$n)=>{for(var cr in $n||($n={}))nn.call($n,cr)&&Qt(jn,cr,$n[cr]);if(Xt)for(var cr of Xt($n))cn.call($n,cr)&&Qt(jn,cr,$n[cr]);return jn})({},Un),Mn={i:Un.r},rt(wn,vt(Mn)));ft(Wn,ln,zn)}else console.warn("[Bug] could not invalidate non existing atom",ln);var wn,Mn},jt=(Wn,ln,Un)=>{if(!Un){const Mn=zt(Wn,ln);if(Mn&&(Mn.r!==Mn.i&&"p"in Mn&&Mn.p[ht].c||(Mn.d.forEach((zn,jn)=>{if(jn!==ln)if(St.has(jn)){const $n=zt(Wn,jn);$n&&$n.r===$n.i&&jt(Wn,jn)}else jt(Wn,jn)}),Array.from(Mn.d).every(([zn,jn])=>{const $n=zt(Wn,zn);return $n&&"v"in $n&&$n.r===jn}))))return Mn}const wn=new Set;try{const Mn=ln.read(zn=>{wn.add(zn);const jn=zn===ln?zt(Wn,zn):jt(Wn,zn);if(jn){if("e"in jn)throw jn.e;if("p"in jn)throw jn.p;return jn.v}if(hn(zn))return zn.init;throw new Error("no atom init")});return un(Wn,ln,Mn,wn)}catch(Mn){if(Mn instanceof Promise){const zn=xt(Mn);return Mt(Wn,ln,zn,wn)}return Jt(Wn,ln,Mn,wn)}},Fn=(Wn,ln)=>jt(ln,Wn),yn=(Wn,ln)=>!ln.l.size&&(!ln.t.size||ln.t.size===1&&ln.t.has(Wn)),Gn=(Wn,ln)=>{const Un=St.get(ln);Un==null||Un.t.forEach(wn=>{wn!==ln&&(bn(Wn,wn),Gn(Wn,wn))})},Nt=(Wn,ln,Un)=>{let wn=!0;const Mn=(jn,$n)=>{const cr=jt(Wn,jn);if("e"in cr)throw cr.e;if("p"in cr){if($n!=null&&$n.unstable_promise)return cr.p.then(()=>Mn(jn,$n));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",jn),cr.p}if("v"in cr)return cr.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",jn),new Error("no value found")},zn=ln.write(Mn,(jn,$n)=>{let cr;if(jn===ln){if(!hn(jn))throw new Error("atom not writable");(ur=>{const Ur=new Set,Zr=dn.get(ur);return Zr&&(dn.delete(ur),Zr.forEach((yr,Ar)=>{at(yr),Ur.add(Ar)})),Ur})(jn).forEach(ur=>{ur!==Wn&&un(ur,jn,$n)}),un(Wn,jn,$n),Gn(Wn,jn)}else cr=Nt(Wn,jn,$n);return wn||Pn(Wn),cr},Un);return wn=!1,Wn=void 0,zn},Xn=(Wn,ln,Un)=>{const wn=Nt(Un,Wn,ln);return Pn(Un),wn},Cn=(Wn,ln)=>{const Un={t:new Set(ln&&[ln]),l:new Set};if(St.set(Wn,Un),qt.add(Wn),jt(void 0,Wn).d.forEach((wn,Mn)=>{const zn=St.get(Mn);zn?zn.t.add(Wn):Mn!==Wn&&Cn(Mn,Wn)}),(wn=>!!wn.write)(Wn)&&Wn.onMount){const wn=zn=>Xn(Wn,zn),Mn=Wn.onMount(wn);Mn&&(Un.u=Mn)}return Un},xn=Wn=>{var ln;const Un=(ln=St.get(Wn))==null?void 0:ln.u;Un&&Un(),St.delete(Wn),qt.delete(Wn);const wn=zt(void 0,Wn);wn?wn.d.forEach((Mn,zn)=>{if(zn!==Wn){const jn=St.get(zn);jn&&(jn.t.delete(Wn),yn(zn,jn)&&xn(zn))}}):console.warn("[Bug] could not find atom state to unmount",Wn)},Tn=(Wn,ln,Un)=>{const wn=new Set(ln.d.keys());Un==null||Un.forEach((Mn,zn)=>{if(wn.has(zn))return void wn.delete(zn);const jn=St.get(zn);jn&&(jn.t.delete(Wn),yn(zn,jn)&&xn(zn))}),wn.forEach(Mn=>{const zn=St.get(Mn);zn?zn.t.add(Wn):St.has(Wn)&&Cn(Mn,Wn)})},Pn=Wn=>{if(Wn)Zt(Wn).forEach((ln,Un)=>{if(ln!==_t.get(Un)){const wn=St.get(Un);wn==null||wn.l.forEach(Mn=>Mn(Wn))}});else{for(;Vt.size;){const ln=Array.from(Vt);Vt.clear(),ln.forEach(([Un,wn])=>{const Mn=zt(void 0,Un);Mn&&Mn.d!==(wn==null?void 0:wn.d)&&Tn(Un,Mn,wn==null?void 0:wn.d);const zn=St.get(Un);zn==null||zn.l.forEach(jn=>jn())})}Pt.forEach(ln=>ln())}},tr=(Wn,ln)=>{ln&&(Un=>{Zt(Un).forEach((wn,Mn)=>{const zn=_t.get(Mn);(wn.r>((zn==null?void 0:zn.r)||0)||"v"in wn&&wn.r===(zn==null?void 0:zn.r)&&wn.d!==(zn==null?void 0:zn.d))&&(_t.set(Mn,wn),wn.d!==(zn==null?void 0:zn.d)&&Tn(Mn,wn,zn==null?void 0:zn.d))})})(ln),Pn(void 0)},ir=(Wn,ln)=>{const Un=(wn=>{let Mn=St.get(wn);return Mn||(Mn=Cn(wn)),Mn})(Wn).l;return Un.add(ln),()=>{Un.delete(ln),(wn=>{const Mn=St.get(wn);Mn&&yn(wn,Mn)&&xn(wn)})(Wn)}},gr=(Wn,ln)=>{for(const[Un,wn]of Wn)hn(Un)&&(un(ln,Un,wn),Gn(ln,Un));Pn(ln)};return{[fn]:Fn,[Nn]:Xn,[mn]:tr,[pn]:ir,h:gr,n:Wn=>(Pt.add(Wn),()=>{Pt.delete(Wn)}),l:()=>qt.values(),a:Wn=>_t.get(Wn),m:Wn=>St.get(Wn)}},yt=rn=>{const _t=vn(rn),St=Vt=>new Promise((Pt,qt)=>{const dn=_t.r(Vt);"e"in dn?qt(dn.e):Pt("p"in dn?dn.p.then(()=>St(Vt)):dn.v)});return{get:Vt=>{const Pt=_t.r(Vt);if("e"in Pt)throw Pt.e;if(!("p"in Pt))return Pt.v},asyncGet:St,set:(Vt,Pt)=>_t.w(Vt,Pt),sub:(Vt,Pt)=>_t.s(Vt,Pt),SECRET_INTERNAL_store:_t}},Ht=(rn,_t)=>({s:_t?_t(rn).SECRET_INTERNAL_store:vn(rn)}),Bt=new Map,bt=rn=>(Bt.has(rn)||Bt.set(rn,(0,pt.createContext)(Ht())),Bt.get(rn));var Et=Object.defineProperty,At=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,lt=(rn,_t,St)=>_t in rn?Et(rn,_t,{enumerable:!0,configurable:!0,writable:!0,value:St}):rn[_t]=St,st=(rn,_t)=>{for(var St in _t||(_t={}))it.call(_t,St)&&lt(rn,St,_t[St]);if(ct)for(var St of ct(_t))_e.call(_t,St)&&lt(rn,St,_t[St]);return rn};const It=rn=>rn.debugLabel||rn.toString(),Dt=([rn,_t])=>Object.fromEntries(_t.flatMap(St=>{var Vt,Pt;const qt=(Vt=rn.m)==null?void 0:Vt.call(rn,St);if(!qt)return[];const dn=qt.t,Rt=((Pt=rn.a)==null?void 0:Pt.call(rn,St))||{};return[[It(St),(Zt=st(st(st({},"e"in Rt&&{error:Rt.e}),"p"in Rt&&{promise:Rt.p}),"v"in Rt&&{value:Rt.v}),zt={dependents:Array.from(dn).map(It)},At(Zt,Ct(zt)))]];var Zt,zt})),tn=({children:rn,initialValues:_t,scope:St,unstable_createStore:Vt,unstable_enableVersionedWrite:Pt})=>{const[qt,dn]=(0,pt.useState)();(0,pt.useEffect)(()=>{qt&&(Rt.current.s.c(null,qt),delete qt.p)},[qt]);const Rt=(0,pt.useRef)();Rt.current||(Rt.current=Ht(_t,Vt),Pt&&(Rt.current.w=zt=>{dn(ft=>{const Gt=ft?{p:ft}:{};return zt(Gt),Gt})})),Pt||(zt=>{const{s:ft}=zt,[Gt,wt]=(0,pt.useState)([]);(0,pt.useEffect)(()=>{var Jt;const Mt=()=>{var bn;wt(Array.from(((bn=ft.l)==null?void 0:bn.call(ft))||[]))},un=(Jt=ft.n)==null?void 0:Jt.call(ft,Mt);return Mt(),un},[ft]),(0,pt.useDebugValue)([ft,Gt],Dt)})(Rt.current);const Zt=bt(St);return(0,pt.createElement)(Zt.Provider,{value:Rt.current},rn)};let Tt=0;function $t(rn,_t){const St="atom"+ ++Tt,Vt={toString:()=>St};return typeof rn=="function"?Vt.read=rn:(Vt.init=rn,Vt.read=Pt=>Pt(Vt),Vt.write=(Pt,qt,dn)=>qt(Vt,typeof dn=="function"?dn(Pt(Vt)):dn)),_t&&(Vt.write=_t),Vt}function Wt(rn,_t){const St=bt(_t),{s:Vt}=(0,pt.useContext)(St),Pt=(0,pt.useCallback)(zt=>{const ft=Vt.r(rn,zt);if("e"in ft)throw ft.e;if("p"in ft)throw ft.p;if("v"in ft)return ft.v;throw new Error("no atom value")},[Vt,rn]),[[qt,dn,Rt],Zt]=(0,pt.useReducer)((0,pt.useCallback)((zt,ft)=>{const Gt=Pt(ft);return Object.is(zt[1],Gt)&&zt[2]===rn?zt:[ft,Gt,rn]},[Pt,rn]),void 0,()=>[void 0,Pt(void 0),rn]);return Rt!==rn&&Zt(void 0),(0,pt.useEffect)(()=>{const zt=Vt.s(rn,Zt);return Zt(void 0),zt},[Vt,rn]),(0,pt.useEffect)(()=>{Vt.c(rn,qt)}),(0,pt.useDebugValue)(dn),dn}function Ot(rn,_t){const St=bt(_t),{s:Vt,w:Pt}=(0,pt.useContext)(St);return(0,pt.useCallback)(qt=>{if(!("write"in rn))throw new Error("not writable atom");const dn=Rt=>Vt.w(rn,qt,Rt);return Pt?Pt(dn):dn()},[Vt,Pt,rn])}function In(rn,_t){return"scope"in rn&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),_t=rn.scope),[Wt(rn,_t),Ot(rn,_t)]}},200:function(Lt,kt,_){var pt="Expected a function",ht=/^\s+|\s+$/g,ot=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,gt=/^0o[0-7]+$/i,xt=parseInt,Ut=typeof _.g=="object"&&_.g&&_.g.Object===Object&&_.g,rt=typeof self=="object"&&self&&self.Object===Object&&self,vt=Ut||rt||Function("return this")(),Xt=Object.prototype.toString,nn=Math.max,cn=Math.min,Qt=function(){return vt.Date.now()};function hn(mn,pn,vn){var yt,Ht,Bt,bt,Et,At,Ct=0,ct=!1,it=!1,_e=!0;if(typeof mn!="function")throw new TypeError(pt);function lt($t){var Wt=yt,Ot=Ht;return yt=Ht=void 0,Ct=$t,bt=mn.apply(Ot,Wt)}function st($t){return Ct=$t,Et=setTimeout(Dt,pn),ct?lt($t):bt}function It($t){var Wt=$t-At;return At===void 0||Wt>=pn||Wt<0||it&&$t-Ct>=Bt}function Dt(){var $t=Qt();if(It($t))return tn($t);Et=setTimeout(Dt,function(Wt){var Ot=pn-(Wt-At);return it?cn(Ot,Bt-(Wt-Ct)):Ot}($t))}function tn($t){return Et=void 0,_e&&yt?lt($t):(yt=Ht=void 0,bt)}function Tt(){var $t=Qt(),Wt=It($t);if(yt=arguments,Ht=this,At=$t,Wt){if(Et===void 0)return st(At);if(it)return Et=setTimeout(Dt,pn),lt(At)}return Et===void 0&&(Et=setTimeout(Dt,pn)),bt}return pn=Nn(pn)||0,fn(vn)&&(ct=!!vn.leading,Bt=(it="maxWait"in vn)?nn(Nn(vn.maxWait)||0,pn):Bt,_e="trailing"in vn?!!vn.trailing:_e),Tt.cancel=function(){Et!==void 0&&clearTimeout(Et),Ct=0,yt=At=Ht=Et=void 0},Tt.flush=function(){return Et===void 0?bt:tn(Qt())},Tt}function fn(mn){var pn=typeof mn;return!!mn&&(pn=="object"||pn=="function")}function Nn(mn){if(typeof mn=="number")return mn;if(function(yt){return typeof yt=="symbol"||function(Ht){return!!Ht&&typeof Ht=="object"}(yt)&&Xt.call(yt)=="[object Symbol]"}(mn))return NaN;if(fn(mn)){var pn=typeof mn.valueOf=="function"?mn.valueOf():mn;mn=fn(pn)?pn+"":pn}if(typeof mn!="string")return mn===0?mn:+mn;mn=mn.replace(ht,"");var vn=at.test(mn);return vn||gt.test(mn)?xt(mn.slice(2),vn?2:8):ot.test(mn)?NaN:+mn}Lt.exports=function(mn,pn,vn){var yt=!0,Ht=!0;if(typeof mn!="function")throw new TypeError(pt);return fn(vn)&&(yt="leading"in vn?!!vn.leading:yt,Ht="trailing"in vn?!!vn.trailing:Ht),hn(mn,pn,{leading:yt,maxWait:pn,trailing:Ht})}},2744:function(Lt,kt,_){var pt={};(0,_(9187).assign)(pt,_(4395),_(578),_(2684)),Lt.exports=pt},4395:function(Lt,kt,_){var pt=_(7651),ht=_(9187),ot=_(8592),at=_(5604),gt=_(249),xt=Object.prototype.toString;function Ut(vt){if(!(this instanceof Ut))return new Ut(vt);this.options=ht.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},vt||{});var Xt=this.options;Xt.raw&&Xt.windowBits>0?Xt.windowBits=-Xt.windowBits:Xt.gzip&&Xt.windowBits>0&&Xt.windowBits<16&&(Xt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var nn=pt.deflateInit2(this.strm,Xt.level,Xt.method,Xt.windowBits,Xt.memLevel,Xt.strategy);if(nn!==0)throw new Error(at[nn]);if(Xt.header&&pt.deflateSetHeader(this.strm,Xt.header),Xt.dictionary){var cn;if(cn=typeof Xt.dictionary=="string"?ot.string2buf(Xt.dictionary):xt.call(Xt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Xt.dictionary):Xt.dictionary,(nn=pt.deflateSetDictionary(this.strm,cn))!==0)throw new Error(at[nn]);this._dict_set=!0}}function rt(vt,Xt){var nn=new Ut(Xt);if(nn.push(vt,!0),nn.err)throw nn.msg||at[nn.err];return nn.result}Ut.prototype.push=function(vt,Xt){var nn,cn,Qt=this.strm,hn=this.options.chunkSize;if(this.ended)return!1;cn=Xt===~~Xt?Xt:Xt===!0?4:0,typeof vt=="string"?Qt.input=ot.string2buf(vt):xt.call(vt)==="[object ArrayBuffer]"?Qt.input=new Uint8Array(vt):Qt.input=vt,Qt.next_in=0,Qt.avail_in=Qt.input.length;do{if(Qt.avail_out===0&&(Qt.output=new ht.Buf8(hn),Qt.next_out=0,Qt.avail_out=hn),(nn=pt.deflate(Qt,cn))!==1&&nn!==0)return this.onEnd(nn),this.ended=!0,!1;Qt.avail_out!==0&&(Qt.avail_in!==0||cn!==4&&cn!==2)||(this.options.to==="string"?this.onData(ot.buf2binstring(ht.shrinkBuf(Qt.output,Qt.next_out))):this.onData(ht.shrinkBuf(Qt.output,Qt.next_out)))}while((Qt.avail_in>0||Qt.avail_out===0)&&nn!==1);return cn===4?(nn=pt.deflateEnd(this.strm),this.onEnd(nn),this.ended=!0,nn===0):cn!==2||(this.onEnd(0),Qt.avail_out=0,!0)},Ut.prototype.onData=function(vt){this.chunks.push(vt)},Ut.prototype.onEnd=function(vt){vt===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=vt,this.msg=this.strm.msg},kt.Deflate=Ut,kt.deflate=rt,kt.deflateRaw=function(vt,Xt){return(Xt=Xt||{}).raw=!0,rt(vt,Xt)},kt.gzip=function(vt,Xt){return(Xt=Xt||{}).gzip=!0,rt(vt,Xt)}},578:function(Lt,kt,_){var pt=_(7823),ht=_(9187),ot=_(8592),at=_(2684),gt=_(5604),xt=_(249),Ut=_(9968),rt=Object.prototype.toString;function vt(nn){if(!(this instanceof vt))return new vt(nn);this.options=ht.assign({chunkSize:16384,windowBits:0,to:""},nn||{});var cn=this.options;cn.raw&&cn.windowBits>=0&&cn.windowBits<16&&(cn.windowBits=-cn.windowBits,cn.windowBits===0&&(cn.windowBits=-15)),!(cn.windowBits>=0&&cn.windowBits<16)||nn&&nn.windowBits||(cn.windowBits+=32),cn.windowBits>15&&cn.windowBits<48&&!(15&cn.windowBits)&&(cn.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xt,this.strm.avail_out=0;var Qt=pt.inflateInit2(this.strm,cn.windowBits);if(Qt!==at.Z_OK)throw new Error(gt[Qt]);if(this.header=new Ut,pt.inflateGetHeader(this.strm,this.header),cn.dictionary&&(typeof cn.dictionary=="string"?cn.dictionary=ot.string2buf(cn.dictionary):rt.call(cn.dictionary)==="[object ArrayBuffer]"&&(cn.dictionary=new Uint8Array(cn.dictionary)),cn.raw&&(Qt=pt.inflateSetDictionary(this.strm,cn.dictionary))!==at.Z_OK))throw new Error(gt[Qt])}function Xt(nn,cn){var Qt=new vt(cn);if(Qt.push(nn,!0),Qt.err)throw Qt.msg||gt[Qt.err];return Qt.result}vt.prototype.push=function(nn,cn){var Qt,hn,fn,Nn,mn,pn=this.strm,vn=this.options.chunkSize,yt=this.options.dictionary,Ht=!1;if(this.ended)return!1;hn=cn===~~cn?cn:cn===!0?at.Z_FINISH:at.Z_NO_FLUSH,typeof nn=="string"?pn.input=ot.binstring2buf(nn):rt.call(nn)==="[object ArrayBuffer]"?pn.input=new Uint8Array(nn):pn.input=nn,pn.next_in=0,pn.avail_in=pn.input.length;do{if(pn.avail_out===0&&(pn.output=new ht.Buf8(vn),pn.next_out=0,pn.avail_out=vn),(Qt=pt.inflate(pn,at.Z_NO_FLUSH))===at.Z_NEED_DICT&&yt&&(Qt=pt.inflateSetDictionary(this.strm,yt)),Qt===at.Z_BUF_ERROR&&Ht===!0&&(Qt=at.Z_OK,Ht=!1),Qt!==at.Z_STREAM_END&&Qt!==at.Z_OK)return this.onEnd(Qt),this.ended=!0,!1;pn.next_out&&(pn.avail_out!==0&&Qt!==at.Z_STREAM_END&&(pn.avail_in!==0||hn!==at.Z_FINISH&&hn!==at.Z_SYNC_FLUSH)||(this.options.to==="string"?(fn=ot.utf8border(pn.output,pn.next_out),Nn=pn.next_out-fn,mn=ot.buf2string(pn.output,fn),pn.next_out=Nn,pn.avail_out=vn-Nn,Nn&&ht.arraySet(pn.output,pn.output,fn,Nn,0),this.onData(mn)):this.onData(ht.shrinkBuf(pn.output,pn.next_out)))),pn.avail_in===0&&pn.avail_out===0&&(Ht=!0)}while((pn.avail_in>0||pn.avail_out===0)&&Qt!==at.Z_STREAM_END);return Qt===at.Z_STREAM_END&&(hn=at.Z_FINISH),hn===at.Z_FINISH?(Qt=pt.inflateEnd(this.strm),this.onEnd(Qt),this.ended=!0,Qt===at.Z_OK):hn!==at.Z_SYNC_FLUSH||(this.onEnd(at.Z_OK),pn.avail_out=0,!0)},vt.prototype.onData=function(nn){this.chunks.push(nn)},vt.prototype.onEnd=function(nn){nn===at.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=nn,this.msg=this.strm.msg},kt.Inflate=vt,kt.inflate=Xt,kt.inflateRaw=function(nn,cn){return(cn=cn||{}).raw=!0,Xt(nn,cn)},kt.ungzip=Xt},9187:function(Lt,kt){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function pt(at,gt){return Object.prototype.hasOwnProperty.call(at,gt)}kt.assign=function(at){for(var gt=Array.prototype.slice.call(arguments,1);gt.length;){var xt=gt.shift();if(xt){if(typeof xt!="object")throw new TypeError(xt+"must be non-object");for(var Ut in xt)pt(xt,Ut)&&(at[Ut]=xt[Ut])}}return at},kt.shrinkBuf=function(at,gt){return at.length===gt?at:at.subarray?at.subarray(0,gt):(at.length=gt,at)};var ht={arraySet:function(at,gt,xt,Ut,rt){if(gt.subarray&&at.subarray)at.set(gt.subarray(xt,xt+Ut),rt);else for(var vt=0;vt<Ut;vt++)at[rt+vt]=gt[xt+vt]},flattenChunks:function(at){var gt,xt,Ut,rt,vt,Xt;for(Ut=0,gt=0,xt=at.length;gt<xt;gt++)Ut+=at[gt].length;for(Xt=new Uint8Array(Ut),rt=0,gt=0,xt=at.length;gt<xt;gt++)vt=at[gt],Xt.set(vt,rt),rt+=vt.length;return Xt}},ot={arraySet:function(at,gt,xt,Ut,rt){for(var vt=0;vt<Ut;vt++)at[rt+vt]=gt[xt+vt]},flattenChunks:function(at){return[].concat.apply([],at)}};kt.setTyped=function(at){at?(kt.Buf8=Uint8Array,kt.Buf16=Uint16Array,kt.Buf32=Int32Array,kt.assign(kt,ht)):(kt.Buf8=Array,kt.Buf16=Array,kt.Buf32=Array,kt.assign(kt,ot))},kt.setTyped(_)},8592:function(Lt,kt,_){var pt=_(9187),ht=!0,ot=!0;try{String.fromCharCode.apply(null,[0])}catch{ht=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ot=!1}for(var at=new pt.Buf8(256),gt=0;gt<256;gt++)at[gt]=gt>=252?6:gt>=248?5:gt>=240?4:gt>=224?3:gt>=192?2:1;function xt(Ut,rt){if(rt<65534&&(Ut.subarray&&ot||!Ut.subarray&&ht))return String.fromCharCode.apply(null,pt.shrinkBuf(Ut,rt));for(var vt="",Xt=0;Xt<rt;Xt++)vt+=String.fromCharCode(Ut[Xt]);return vt}at[254]=at[254]=1,kt.string2buf=function(Ut){var rt,vt,Xt,nn,cn,Qt=Ut.length,hn=0;for(nn=0;nn<Qt;nn++)(64512&(vt=Ut.charCodeAt(nn)))==55296&&nn+1<Qt&&(64512&(Xt=Ut.charCodeAt(nn+1)))==56320&&(vt=65536+(vt-55296<<10)+(Xt-56320),nn++),hn+=vt<128?1:vt<2048?2:vt<65536?3:4;for(rt=new pt.Buf8(hn),cn=0,nn=0;cn<hn;nn++)(64512&(vt=Ut.charCodeAt(nn)))==55296&&nn+1<Qt&&(64512&(Xt=Ut.charCodeAt(nn+1)))==56320&&(vt=65536+(vt-55296<<10)+(Xt-56320),nn++),vt<128?rt[cn++]=vt:vt<2048?(rt[cn++]=192|vt>>>6,rt[cn++]=128|63&vt):vt<65536?(rt[cn++]=224|vt>>>12,rt[cn++]=128|vt>>>6&63,rt[cn++]=128|63&vt):(rt[cn++]=240|vt>>>18,rt[cn++]=128|vt>>>12&63,rt[cn++]=128|vt>>>6&63,rt[cn++]=128|63&vt);return rt},kt.buf2binstring=function(Ut){return xt(Ut,Ut.length)},kt.binstring2buf=function(Ut){for(var rt=new pt.Buf8(Ut.length),vt=0,Xt=rt.length;vt<Xt;vt++)rt[vt]=Ut.charCodeAt(vt);return rt},kt.buf2string=function(Ut,rt){var vt,Xt,nn,cn,Qt=rt||Ut.length,hn=new Array(2*Qt);for(Xt=0,vt=0;vt<Qt;)if((nn=Ut[vt++])<128)hn[Xt++]=nn;else if((cn=at[nn])>4)hn[Xt++]=65533,vt+=cn-1;else{for(nn&=cn===2?31:cn===3?15:7;cn>1&&vt<Qt;)nn=nn<<6|63&Ut[vt++],cn--;cn>1?hn[Xt++]=65533:nn<65536?hn[Xt++]=nn:(nn-=65536,hn[Xt++]=55296|nn>>10&1023,hn[Xt++]=56320|1023&nn)}return xt(hn,Xt)},kt.utf8border=function(Ut,rt){var vt;for((rt=rt||Ut.length)>Ut.length&&(rt=Ut.length),vt=rt-1;vt>=0&&(192&Ut[vt])==128;)vt--;return vt<0||vt===0?rt:vt+at[Ut[vt]]>rt?vt:rt}},3693:function(Lt){Lt.exports=function(kt,_,pt,ht){for(var ot=65535&kt|0,at=kt>>>16&65535|0,gt=0;pt!==0;){pt-=gt=pt>2e3?2e3:pt;do at=at+(ot=ot+_[ht++]|0)|0;while(--gt);ot%=65521,at%=65521}return ot|at<<16|0}},2684:function(Lt){Lt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(Lt){var kt=function(){for(var _,pt=[],ht=0;ht<256;ht++){_=ht;for(var ot=0;ot<8;ot++)_=1&_?3988292384^_>>>1:_>>>1;pt[ht]=_}return pt}();Lt.exports=function(_,pt,ht,ot){var at=kt,gt=ot+ht;_^=-1;for(var xt=ot;xt<gt;xt++)_=_>>>8^at[255&(_^pt[xt])];return-1^_}},7651:function(Lt,kt,_){var pt,ht=_(9187),ot=_(8676),at=_(3693),gt=_(8464),xt=_(5604),Ut=-2,rt=258,vt=262,Xt=103,nn=113,cn=666;function Qt(_e,lt){return _e.msg=xt[lt],lt}function hn(_e){return(_e<<1)-(_e>4?9:0)}function fn(_e){for(var lt=_e.length;--lt>=0;)_e[lt]=0}function Nn(_e){var lt=_e.state,st=lt.pending;st>_e.avail_out&&(st=_e.avail_out),st!==0&&(ht.arraySet(_e.output,lt.pending_buf,lt.pending_out,st,_e.next_out),_e.next_out+=st,lt.pending_out+=st,_e.total_out+=st,_e.avail_out-=st,lt.pending-=st,lt.pending===0&&(lt.pending_out=0))}function mn(_e,lt){ot._tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,lt),_e.block_start=_e.strstart,Nn(_e.strm)}function pn(_e,lt){_e.pending_buf[_e.pending++]=lt}function vn(_e,lt){_e.pending_buf[_e.pending++]=lt>>>8&255,_e.pending_buf[_e.pending++]=255&lt}function yt(_e,lt){var st,It,Dt=_e.max_chain_length,tn=_e.strstart,Tt=_e.prev_length,$t=_e.nice_match,Wt=_e.strstart>_e.w_size-vt?_e.strstart-(_e.w_size-vt):0,Ot=_e.window,In=_e.w_mask,rn=_e.prev,_t=_e.strstart+rt,St=Ot[tn+Tt-1],Vt=Ot[tn+Tt];_e.prev_length>=_e.good_match&&(Dt>>=2),$t>_e.lookahead&&($t=_e.lookahead);do if(Ot[(st=lt)+Tt]===Vt&&Ot[st+Tt-1]===St&&Ot[st]===Ot[tn]&&Ot[++st]===Ot[tn+1]){tn+=2,st++;do;while(Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&Ot[++tn]===Ot[++st]&&tn<_t);if(It=rt-(_t-tn),tn=_t-rt,It>Tt){if(_e.match_start=lt,Tt=It,It>=$t)break;St=Ot[tn+Tt-1],Vt=Ot[tn+Tt]}}while((lt=rn[lt&In])>Wt&&--Dt!=0);return Tt<=_e.lookahead?Tt:_e.lookahead}function Ht(_e){var lt,st,It,Dt,tn,Tt,$t,Wt,Ot,In,rn=_e.w_size;do{if(Dt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=rn+(rn-vt)){ht.arraySet(_e.window,_e.window,rn,rn,0),_e.match_start-=rn,_e.strstart-=rn,_e.block_start-=rn,lt=st=_e.hash_size;do It=_e.head[--lt],_e.head[lt]=It>=rn?It-rn:0;while(--st);lt=st=rn;do It=_e.prev[--lt],_e.prev[lt]=It>=rn?It-rn:0;while(--st);Dt+=rn}if(_e.strm.avail_in===0)break;if(Tt=_e.strm,$t=_e.window,Wt=_e.strstart+_e.lookahead,Ot=Dt,In=void 0,(In=Tt.avail_in)>Ot&&(In=Ot),st=In===0?0:(Tt.avail_in-=In,ht.arraySet($t,Tt.input,Tt.next_in,In,Wt),Tt.state.wrap===1?Tt.adler=at(Tt.adler,$t,In,Wt):Tt.state.wrap===2&&(Tt.adler=gt(Tt.adler,$t,In,Wt)),Tt.next_in+=In,Tt.total_in+=In,In),_e.lookahead+=st,_e.lookahead+_e.insert>=3)for(tn=_e.strstart-_e.insert,_e.ins_h=_e.window[tn],_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[tn+1])&_e.hash_mask;_e.insert&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[tn+3-1])&_e.hash_mask,_e.prev[tn&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=tn,tn++,_e.insert--,!(_e.lookahead+_e.insert<3)););}while(_e.lookahead<vt&&_e.strm.avail_in!==0)}function Bt(_e,lt){for(var st,It;;){if(_e.lookahead<vt){if(Ht(_e),_e.lookahead<vt&&lt===0)return 1;if(_e.lookahead===0)break}if(st=0,_e.lookahead>=3&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),st!==0&&_e.strstart-st<=_e.w_size-vt&&(_e.match_length=yt(_e,st)),_e.match_length>=3)if(It=ot._tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-3),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=3){_e.match_length--;do _e.strstart++,_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!=0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+1])&_e.hash_mask;else It=ot._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(It&&(mn(_e,!1),_e.strm.avail_out===0))return 1}return _e.insert=_e.strstart<2?_e.strstart:2,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):_e.last_lit&&(mn(_e,!1),_e.strm.avail_out===0)?1:2}function bt(_e,lt){for(var st,It,Dt;;){if(_e.lookahead<vt){if(Ht(_e),_e.lookahead<vt&&lt===0)return 1;if(_e.lookahead===0)break}if(st=0,_e.lookahead>=3&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=2,st!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-st<=_e.w_size-vt&&(_e.match_length=yt(_e,st),_e.match_length<=5&&(_e.strategy===1||_e.match_length===3&&_e.strstart-_e.match_start>4096)&&(_e.match_length=2)),_e.prev_length>=3&&_e.match_length<=_e.prev_length){Dt=_e.strstart+_e.lookahead-3,It=ot._tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-3),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=Dt&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!=0);if(_e.match_available=0,_e.match_length=2,_e.strstart++,It&&(mn(_e,!1),_e.strm.avail_out===0))return 1}else if(_e.match_available){if((It=ot._tr_tally(_e,0,_e.window[_e.strstart-1]))&&mn(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return 1}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(It=ot._tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<2?_e.strstart:2,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):_e.last_lit&&(mn(_e,!1),_e.strm.avail_out===0)?1:2}function Et(_e,lt,st,It,Dt){this.good_length=_e,this.max_lazy=lt,this.nice_length=st,this.max_chain=It,this.func=Dt}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ht.Buf16(1146),this.dyn_dtree=new ht.Buf16(122),this.bl_tree=new ht.Buf16(78),fn(this.dyn_ltree),fn(this.dyn_dtree),fn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ht.Buf16(16),this.heap=new ht.Buf16(573),fn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ht.Buf16(573),fn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(_e){var lt;return _e&&_e.state?(_e.total_in=_e.total_out=0,_e.data_type=2,(lt=_e.state).pending=0,lt.pending_out=0,lt.wrap<0&&(lt.wrap=-lt.wrap),lt.status=lt.wrap?42:nn,_e.adler=lt.wrap===2?0:1,lt.last_flush=0,ot._tr_init(lt),0):Qt(_e,Ut)}function ct(_e){var lt,st=Ct(_e);return st===0&&((lt=_e.state).window_size=2*lt.w_size,fn(lt.head),lt.max_lazy_match=pt[lt.level].max_lazy,lt.good_match=pt[lt.level].good_length,lt.nice_match=pt[lt.level].nice_length,lt.max_chain_length=pt[lt.level].max_chain,lt.strstart=0,lt.block_start=0,lt.lookahead=0,lt.insert=0,lt.match_length=lt.prev_length=2,lt.match_available=0,lt.ins_h=0),st}function it(_e,lt,st,It,Dt,tn){if(!_e)return Ut;var Tt=1;if(lt===-1&&(lt=6),It<0?(Tt=0,It=-It):It>15&&(Tt=2,It-=16),Dt<1||Dt>9||st!==8||It<8||It>15||lt<0||lt>9||tn<0||tn>4)return Qt(_e,Ut);It===8&&(It=9);var $t=new At;return _e.state=$t,$t.strm=_e,$t.wrap=Tt,$t.gzhead=null,$t.w_bits=It,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=Dt+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+3-1)/3),$t.window=new ht.Buf8(2*$t.w_size),$t.head=new ht.Buf16($t.hash_size),$t.prev=new ht.Buf16($t.w_size),$t.lit_bufsize=1<<Dt+6,$t.pending_buf_size=4*$t.lit_bufsize,$t.pending_buf=new ht.Buf8($t.pending_buf_size),$t.d_buf=1*$t.lit_bufsize,$t.l_buf=3*$t.lit_bufsize,$t.level=lt,$t.strategy=tn,$t.method=st,ct(_e)}pt=[new Et(0,0,0,0,function(_e,lt){var st=65535;for(st>_e.pending_buf_size-5&&(st=_e.pending_buf_size-5);;){if(_e.lookahead<=1){if(Ht(_e),_e.lookahead===0&&lt===0)return 1;if(_e.lookahead===0)break}_e.strstart+=_e.lookahead,_e.lookahead=0;var It=_e.block_start+st;if((_e.strstart===0||_e.strstart>=It)&&(_e.lookahead=_e.strstart-It,_e.strstart=It,mn(_e,!1),_e.strm.avail_out===0)||_e.strstart-_e.block_start>=_e.w_size-vt&&(mn(_e,!1),_e.strm.avail_out===0))return 1}return _e.insert=0,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):(_e.strstart>_e.block_start&&(mn(_e,!1),_e.strm.avail_out),1)}),new Et(4,4,8,4,Bt),new Et(4,5,16,8,Bt),new Et(4,6,32,32,Bt),new Et(4,4,16,16,bt),new Et(8,16,32,32,bt),new Et(8,16,128,128,bt),new Et(8,32,128,256,bt),new Et(32,128,258,1024,bt),new Et(32,258,258,4096,bt)],kt.deflateInit=function(_e,lt){return it(_e,lt,8,15,8,0)},kt.deflateInit2=it,kt.deflateReset=ct,kt.deflateResetKeep=Ct,kt.deflateSetHeader=function(_e,lt){return _e&&_e.state?_e.state.wrap!==2?Ut:(_e.state.gzhead=lt,0):Ut},kt.deflate=function(_e,lt){var st,It,Dt,tn;if(!_e||!_e.state||lt>5||lt<0)return _e?Qt(_e,Ut):Ut;if(It=_e.state,!_e.output||!_e.input&&_e.avail_in!==0||It.status===cn&&lt!==4)return Qt(_e,_e.avail_out===0?-5:Ut);if(It.strm=_e,st=It.last_flush,It.last_flush=lt,It.status===42)if(It.wrap===2)_e.adler=0,pn(It,31),pn(It,139),pn(It,8),It.gzhead?(pn(It,(It.gzhead.text?1:0)+(It.gzhead.hcrc?2:0)+(It.gzhead.extra?4:0)+(It.gzhead.name?8:0)+(It.gzhead.comment?16:0)),pn(It,255&It.gzhead.time),pn(It,It.gzhead.time>>8&255),pn(It,It.gzhead.time>>16&255),pn(It,It.gzhead.time>>24&255),pn(It,It.level===9?2:It.strategy>=2||It.level<2?4:0),pn(It,255&It.gzhead.os),It.gzhead.extra&&It.gzhead.extra.length&&(pn(It,255&It.gzhead.extra.length),pn(It,It.gzhead.extra.length>>8&255)),It.gzhead.hcrc&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending,0)),It.gzindex=0,It.status=69):(pn(It,0),pn(It,0),pn(It,0),pn(It,0),pn(It,0),pn(It,It.level===9?2:It.strategy>=2||It.level<2?4:0),pn(It,3),It.status=nn);else{var Tt=8+(It.w_bits-8<<4)<<8;Tt|=(It.strategy>=2||It.level<2?0:It.level<6?1:It.level===6?2:3)<<6,It.strstart!==0&&(Tt|=32),Tt+=31-Tt%31,It.status=nn,vn(It,Tt),It.strstart!==0&&(vn(It,_e.adler>>>16),vn(It,65535&_e.adler)),_e.adler=1}if(It.status===69)if(It.gzhead.extra){for(Dt=It.pending;It.gzindex<(65535&It.gzhead.extra.length)&&(It.pending!==It.pending_buf_size||(It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),Nn(_e),Dt=It.pending,It.pending!==It.pending_buf_size));)pn(It,255&It.gzhead.extra[It.gzindex]),It.gzindex++;It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),It.gzindex===It.gzhead.extra.length&&(It.gzindex=0,It.status=73)}else It.status=73;if(It.status===73)if(It.gzhead.name){Dt=It.pending;do{if(It.pending===It.pending_buf_size&&(It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),Nn(_e),Dt=It.pending,It.pending===It.pending_buf_size)){tn=1;break}tn=It.gzindex<It.gzhead.name.length?255&It.gzhead.name.charCodeAt(It.gzindex++):0,pn(It,tn)}while(tn!==0);It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),tn===0&&(It.gzindex=0,It.status=91)}else It.status=91;if(It.status===91)if(It.gzhead.comment){Dt=It.pending;do{if(It.pending===It.pending_buf_size&&(It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),Nn(_e),Dt=It.pending,It.pending===It.pending_buf_size)){tn=1;break}tn=It.gzindex<It.gzhead.comment.length?255&It.gzhead.comment.charCodeAt(It.gzindex++):0,pn(It,tn)}while(tn!==0);It.gzhead.hcrc&&It.pending>Dt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Dt,Dt)),tn===0&&(It.status=Xt)}else It.status=Xt;if(It.status===Xt&&(It.gzhead.hcrc?(It.pending+2>It.pending_buf_size&&Nn(_e),It.pending+2<=It.pending_buf_size&&(pn(It,255&_e.adler),pn(It,_e.adler>>8&255),_e.adler=0,It.status=nn)):It.status=nn),It.pending!==0){if(Nn(_e),_e.avail_out===0)return It.last_flush=-1,0}else if(_e.avail_in===0&&hn(lt)<=hn(st)&&lt!==4)return Qt(_e,-5);if(It.status===cn&&_e.avail_in!==0)return Qt(_e,-5);if(_e.avail_in!==0||It.lookahead!==0||lt!==0&&It.status!==cn){var $t=It.strategy===2?function(Wt,Ot){for(var In;;){if(Wt.lookahead===0&&(Ht(Wt),Wt.lookahead===0)){if(Ot===0)return 1;break}if(Wt.match_length=0,In=ot._tr_tally(Wt,0,Wt.window[Wt.strstart]),Wt.lookahead--,Wt.strstart++,In&&(mn(Wt,!1),Wt.strm.avail_out===0))return 1}return Wt.insert=0,Ot===4?(mn(Wt,!0),Wt.strm.avail_out===0?3:4):Wt.last_lit&&(mn(Wt,!1),Wt.strm.avail_out===0)?1:2}(It,lt):It.strategy===3?function(Wt,Ot){for(var In,rn,_t,St,Vt=Wt.window;;){if(Wt.lookahead<=rt){if(Ht(Wt),Wt.lookahead<=rt&&Ot===0)return 1;if(Wt.lookahead===0)break}if(Wt.match_length=0,Wt.lookahead>=3&&Wt.strstart>0&&(rn=Vt[_t=Wt.strstart-1])===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]){St=Wt.strstart+rt;do;while(rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&_t<St);Wt.match_length=rt-(St-_t),Wt.match_length>Wt.lookahead&&(Wt.match_length=Wt.lookahead)}if(Wt.match_length>=3?(In=ot._tr_tally(Wt,1,Wt.match_length-3),Wt.lookahead-=Wt.match_length,Wt.strstart+=Wt.match_length,Wt.match_length=0):(In=ot._tr_tally(Wt,0,Wt.window[Wt.strstart]),Wt.lookahead--,Wt.strstart++),In&&(mn(Wt,!1),Wt.strm.avail_out===0))return 1}return Wt.insert=0,Ot===4?(mn(Wt,!0),Wt.strm.avail_out===0?3:4):Wt.last_lit&&(mn(Wt,!1),Wt.strm.avail_out===0)?1:2}(It,lt):pt[It.level].func(It,lt);if($t!==3&&$t!==4||(It.status=cn),$t===1||$t===3)return _e.avail_out===0&&(It.last_flush=-1),0;if($t===2&&(lt===1?ot._tr_align(It):lt!==5&&(ot._tr_stored_block(It,0,0,!1),lt===3&&(fn(It.head),It.lookahead===0&&(It.strstart=0,It.block_start=0,It.insert=0))),Nn(_e),_e.avail_out===0))return It.last_flush=-1,0}return lt!==4?0:It.wrap<=0?1:(It.wrap===2?(pn(It,255&_e.adler),pn(It,_e.adler>>8&255),pn(It,_e.adler>>16&255),pn(It,_e.adler>>24&255),pn(It,255&_e.total_in),pn(It,_e.total_in>>8&255),pn(It,_e.total_in>>16&255),pn(It,_e.total_in>>24&255)):(vn(It,_e.adler>>>16),vn(It,65535&_e.adler)),Nn(_e),It.wrap>0&&(It.wrap=-It.wrap),It.pending!==0?0:1)},kt.deflateEnd=function(_e){var lt;return _e&&_e.state?(lt=_e.state.status)!==42&&lt!==69&&lt!==73&&lt!==91&&lt!==Xt&&lt!==nn&&lt!==cn?Qt(_e,Ut):(_e.state=null,lt===nn?Qt(_e,-3):0):Ut},kt.deflateSetDictionary=function(_e,lt){var st,It,Dt,tn,Tt,$t,Wt,Ot,In=lt.length;if(!_e||!_e.state||(tn=(st=_e.state).wrap)===2||tn===1&&st.status!==42||st.lookahead)return Ut;for(tn===1&&(_e.adler=at(_e.adler,lt,In,0)),st.wrap=0,In>=st.w_size&&(tn===0&&(fn(st.head),st.strstart=0,st.block_start=0,st.insert=0),Ot=new ht.Buf8(st.w_size),ht.arraySet(Ot,lt,In-st.w_size,st.w_size,0),lt=Ot,In=st.w_size),Tt=_e.avail_in,$t=_e.next_in,Wt=_e.input,_e.avail_in=In,_e.next_in=0,_e.input=lt,Ht(st);st.lookahead>=3;){It=st.strstart,Dt=st.lookahead-2;do st.ins_h=(st.ins_h<<st.hash_shift^st.window[It+3-1])&st.hash_mask,st.prev[It&st.w_mask]=st.head[st.ins_h],st.head[st.ins_h]=It,It++;while(--Dt);st.strstart=It,st.lookahead=2,Ht(st)}return st.strstart+=st.lookahead,st.block_start=st.strstart,st.insert=st.lookahead,st.lookahead=0,st.match_length=st.prev_length=2,st.match_available=0,_e.next_in=$t,_e.input=Wt,_e.avail_in=Tt,st.wrap=tn,0},kt.deflateInfo="pako deflate (from Nodeca project)"},9968:function(Lt){Lt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(Lt){Lt.exports=function(kt,_){var pt,ht,ot,at,gt,xt,Ut,rt,vt,Xt,nn,cn,Qt,hn,fn,Nn,mn,pn,vn,yt,Ht,Bt,bt,Et,At;pt=kt.state,ht=kt.next_in,Et=kt.input,ot=ht+(kt.avail_in-5),at=kt.next_out,At=kt.output,gt=at-(_-kt.avail_out),xt=at+(kt.avail_out-257),Ut=pt.dmax,rt=pt.wsize,vt=pt.whave,Xt=pt.wnext,nn=pt.window,cn=pt.hold,Qt=pt.bits,hn=pt.lencode,fn=pt.distcode,Nn=(1<<pt.lenbits)-1,mn=(1<<pt.distbits)-1;e:do{Qt<15&&(cn+=Et[ht++]<<Qt,Qt+=8,cn+=Et[ht++]<<Qt,Qt+=8),pn=hn[cn&Nn];t:for(;;){if(cn>>>=vn=pn>>>24,Qt-=vn,(vn=pn>>>16&255)===0)At[at++]=65535&pn;else{if(!(16&vn)){if(!(64&vn)){pn=hn[(65535&pn)+(cn&(1<<vn)-1)];continue t}if(32&vn){pt.mode=12;break e}kt.msg="invalid literal/length code",pt.mode=30;break e}yt=65535&pn,(vn&=15)&&(Qt<vn&&(cn+=Et[ht++]<<Qt,Qt+=8),yt+=cn&(1<<vn)-1,cn>>>=vn,Qt-=vn),Qt<15&&(cn+=Et[ht++]<<Qt,Qt+=8,cn+=Et[ht++]<<Qt,Qt+=8),pn=fn[cn&mn];n:for(;;){if(cn>>>=vn=pn>>>24,Qt-=vn,!(16&(vn=pn>>>16&255))){if(!(64&vn)){pn=fn[(65535&pn)+(cn&(1<<vn)-1)];continue n}kt.msg="invalid distance code",pt.mode=30;break e}if(Ht=65535&pn,Qt<(vn&=15)&&(cn+=Et[ht++]<<Qt,(Qt+=8)<vn&&(cn+=Et[ht++]<<Qt,Qt+=8)),(Ht+=cn&(1<<vn)-1)>Ut){kt.msg="invalid distance too far back",pt.mode=30;break e}if(cn>>>=vn,Qt-=vn,Ht>(vn=at-gt)){if((vn=Ht-vn)>vt&&pt.sane){kt.msg="invalid distance too far back",pt.mode=30;break e}if(Bt=0,bt=nn,Xt===0){if(Bt+=rt-vn,vn<yt){yt-=vn;do At[at++]=nn[Bt++];while(--vn);Bt=at-Ht,bt=At}}else if(Xt<vn){if(Bt+=rt+Xt-vn,(vn-=Xt)<yt){yt-=vn;do At[at++]=nn[Bt++];while(--vn);if(Bt=0,Xt<yt){yt-=vn=Xt;do At[at++]=nn[Bt++];while(--vn);Bt=at-Ht,bt=At}}}else if(Bt+=Xt-vn,vn<yt){yt-=vn;do At[at++]=nn[Bt++];while(--vn);Bt=at-Ht,bt=At}for(;yt>2;)At[at++]=bt[Bt++],At[at++]=bt[Bt++],At[at++]=bt[Bt++],yt-=3;yt&&(At[at++]=bt[Bt++],yt>1&&(At[at++]=bt[Bt++]))}else{Bt=at-Ht;do At[at++]=At[Bt++],At[at++]=At[Bt++],At[at++]=At[Bt++],yt-=3;while(yt>2);yt&&(At[at++]=At[Bt++],yt>1&&(At[at++]=At[Bt++]))}break}}break}}while(ht<ot&&at<xt);ht-=yt=Qt>>3,cn&=(1<<(Qt-=yt<<3))-1,kt.next_in=ht,kt.next_out=at,kt.avail_in=ht<ot?ot-ht+5:5-(ht-ot),kt.avail_out=at<xt?xt-at+257:257-(at-xt),pt.hold=cn,pt.bits=Qt}},7823:function(Lt,kt,_){var pt=_(9187),ht=_(3693),ot=_(8464),at=_(9365),gt=_(6446),xt=-2,Ut=12,rt=30;function vt(yt){return(yt>>>24&255)+(yt>>>8&65280)+((65280&yt)<<8)+((255&yt)<<24)}function Xt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new pt.Buf16(320),this.work=new pt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function nn(yt){var Ht;return yt&&yt.state?(Ht=yt.state,yt.total_in=yt.total_out=Ht.total=0,yt.msg="",Ht.wrap&&(yt.adler=1&Ht.wrap),Ht.mode=1,Ht.last=0,Ht.havedict=0,Ht.dmax=32768,Ht.head=null,Ht.hold=0,Ht.bits=0,Ht.lencode=Ht.lendyn=new pt.Buf32(852),Ht.distcode=Ht.distdyn=new pt.Buf32(592),Ht.sane=1,Ht.back=-1,0):xt}function cn(yt){var Ht;return yt&&yt.state?((Ht=yt.state).wsize=0,Ht.whave=0,Ht.wnext=0,nn(yt)):xt}function Qt(yt,Ht){var Bt,bt;return yt&&yt.state?(bt=yt.state,Ht<0?(Bt=0,Ht=-Ht):(Bt=1+(Ht>>4),Ht<48&&(Ht&=15)),Ht&&(Ht<8||Ht>15)?xt:(bt.window!==null&&bt.wbits!==Ht&&(bt.window=null),bt.wrap=Bt,bt.wbits=Ht,cn(yt))):xt}function hn(yt,Ht){var Bt,bt;return yt?(bt=new Xt,yt.state=bt,bt.window=null,(Bt=Qt(yt,Ht))!==0&&(yt.state=null),Bt):xt}var fn,Nn,mn=!0;function pn(yt){if(mn){var Ht;for(fn=new pt.Buf32(512),Nn=new pt.Buf32(32),Ht=0;Ht<144;)yt.lens[Ht++]=8;for(;Ht<256;)yt.lens[Ht++]=9;for(;Ht<280;)yt.lens[Ht++]=7;for(;Ht<288;)yt.lens[Ht++]=8;for(gt(1,yt.lens,0,288,fn,0,yt.work,{bits:9}),Ht=0;Ht<32;)yt.lens[Ht++]=5;gt(2,yt.lens,0,32,Nn,0,yt.work,{bits:5}),mn=!1}yt.lencode=fn,yt.lenbits=9,yt.distcode=Nn,yt.distbits=5}function vn(yt,Ht,Bt,bt){var Et,At=yt.state;return At.window===null&&(At.wsize=1<<At.wbits,At.wnext=0,At.whave=0,At.window=new pt.Buf8(At.wsize)),bt>=At.wsize?(pt.arraySet(At.window,Ht,Bt-At.wsize,At.wsize,0),At.wnext=0,At.whave=At.wsize):((Et=At.wsize-At.wnext)>bt&&(Et=bt),pt.arraySet(At.window,Ht,Bt-bt,Et,At.wnext),(bt-=Et)?(pt.arraySet(At.window,Ht,Bt-bt,bt,0),At.wnext=bt,At.whave=At.wsize):(At.wnext+=Et,At.wnext===At.wsize&&(At.wnext=0),At.whave<At.wsize&&(At.whave+=Et))),0}kt.inflateReset=cn,kt.inflateReset2=Qt,kt.inflateResetKeep=nn,kt.inflateInit=function(yt){return hn(yt,15)},kt.inflateInit2=hn,kt.inflate=function(yt,Ht){var Bt,bt,Et,At,Ct,ct,it,_e,lt,st,It,Dt,tn,Tt,$t,Wt,Ot,In,rn,_t,St,Vt,Pt,qt,dn=0,Rt=new pt.Buf8(4),Zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!yt||!yt.state||!yt.output||!yt.input&&yt.avail_in!==0)return xt;(Bt=yt.state).mode===Ut&&(Bt.mode=13),Ct=yt.next_out,Et=yt.output,it=yt.avail_out,At=yt.next_in,bt=yt.input,ct=yt.avail_in,_e=Bt.hold,lt=Bt.bits,st=ct,It=it,Vt=0;e:for(;;)switch(Bt.mode){case 1:if(Bt.wrap===0){Bt.mode=13;break}for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(2&Bt.wrap&&_e===35615){Bt.check=0,Rt[0]=255&_e,Rt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Rt,2,0),_e=0,lt=0,Bt.mode=2;break}if(Bt.flags=0,Bt.head&&(Bt.head.done=!1),!(1&Bt.wrap)||(((255&_e)<<8)+(_e>>8))%31){yt.msg="incorrect header check",Bt.mode=rt;break}if((15&_e)!=8){yt.msg="unknown compression method",Bt.mode=rt;break}if(lt-=4,St=8+(15&(_e>>>=4)),Bt.wbits===0)Bt.wbits=St;else if(St>Bt.wbits){yt.msg="invalid window size",Bt.mode=rt;break}Bt.dmax=1<<St,yt.adler=Bt.check=1,Bt.mode=512&_e?10:Ut,_e=0,lt=0;break;case 2:for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(Bt.flags=_e,(255&Bt.flags)!=8){yt.msg="unknown compression method",Bt.mode=rt;break}if(57344&Bt.flags){yt.msg="unknown header flags set",Bt.mode=rt;break}Bt.head&&(Bt.head.text=_e>>8&1),512&Bt.flags&&(Rt[0]=255&_e,Rt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Rt,2,0)),_e=0,lt=0,Bt.mode=3;case 3:for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.head&&(Bt.head.time=_e),512&Bt.flags&&(Rt[0]=255&_e,Rt[1]=_e>>>8&255,Rt[2]=_e>>>16&255,Rt[3]=_e>>>24&255,Bt.check=ot(Bt.check,Rt,4,0)),_e=0,lt=0,Bt.mode=4;case 4:for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.head&&(Bt.head.xflags=255&_e,Bt.head.os=_e>>8),512&Bt.flags&&(Rt[0]=255&_e,Rt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Rt,2,0)),_e=0,lt=0,Bt.mode=5;case 5:if(1024&Bt.flags){for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.length=_e,Bt.head&&(Bt.head.extra_len=_e),512&Bt.flags&&(Rt[0]=255&_e,Rt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Rt,2,0)),_e=0,lt=0}else Bt.head&&(Bt.head.extra=null);Bt.mode=6;case 6:if(1024&Bt.flags&&((Dt=Bt.length)>ct&&(Dt=ct),Dt&&(Bt.head&&(St=Bt.head.extra_len-Bt.length,Bt.head.extra||(Bt.head.extra=new Array(Bt.head.extra_len)),pt.arraySet(Bt.head.extra,bt,At,Dt,St)),512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Dt,At)),ct-=Dt,At+=Dt,Bt.length-=Dt),Bt.length))break e;Bt.length=0,Bt.mode=7;case 7:if(2048&Bt.flags){if(ct===0)break e;Dt=0;do St=bt[At+Dt++],Bt.head&&St&&Bt.length<65536&&(Bt.head.name+=String.fromCharCode(St));while(St&&Dt<ct);if(512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Dt,At)),ct-=Dt,At+=Dt,St)break e}else Bt.head&&(Bt.head.name=null);Bt.length=0,Bt.mode=8;case 8:if(4096&Bt.flags){if(ct===0)break e;Dt=0;do St=bt[At+Dt++],Bt.head&&St&&Bt.length<65536&&(Bt.head.comment+=String.fromCharCode(St));while(St&&Dt<ct);if(512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Dt,At)),ct-=Dt,At+=Dt,St)break e}else Bt.head&&(Bt.head.comment=null);Bt.mode=9;case 9:if(512&Bt.flags){for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(_e!==(65535&Bt.check)){yt.msg="header crc mismatch",Bt.mode=rt;break}_e=0,lt=0}Bt.head&&(Bt.head.hcrc=Bt.flags>>9&1,Bt.head.done=!0),yt.adler=Bt.check=0,Bt.mode=Ut;break;case 10:for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}yt.adler=Bt.check=vt(_e),_e=0,lt=0,Bt.mode=11;case 11:if(Bt.havedict===0)return yt.next_out=Ct,yt.avail_out=it,yt.next_in=At,yt.avail_in=ct,Bt.hold=_e,Bt.bits=lt,2;yt.adler=Bt.check=1,Bt.mode=Ut;case Ut:if(Ht===5||Ht===6)break e;case 13:if(Bt.last){_e>>>=7&lt,lt-=7&lt,Bt.mode=27;break}for(;lt<3;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}switch(Bt.last=1&_e,lt-=1,3&(_e>>>=1)){case 0:Bt.mode=14;break;case 1:if(pn(Bt),Bt.mode=20,Ht===6){_e>>>=2,lt-=2;break e}break;case 2:Bt.mode=17;break;case 3:yt.msg="invalid block type",Bt.mode=rt}_e>>>=2,lt-=2;break;case 14:for(_e>>>=7&lt,lt-=7&lt;lt<32;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if((65535&_e)!=(_e>>>16^65535)){yt.msg="invalid stored block lengths",Bt.mode=rt;break}if(Bt.length=65535&_e,_e=0,lt=0,Bt.mode=15,Ht===6)break e;case 15:Bt.mode=16;case 16:if(Dt=Bt.length){if(Dt>ct&&(Dt=ct),Dt>it&&(Dt=it),Dt===0)break e;pt.arraySet(Et,bt,At,Dt,Ct),ct-=Dt,At+=Dt,it-=Dt,Ct+=Dt,Bt.length-=Dt;break}Bt.mode=Ut;break;case 17:for(;lt<14;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(Bt.nlen=257+(31&_e),_e>>>=5,lt-=5,Bt.ndist=1+(31&_e),_e>>>=5,lt-=5,Bt.ncode=4+(15&_e),_e>>>=4,lt-=4,Bt.nlen>286||Bt.ndist>30){yt.msg="too many length or distance symbols",Bt.mode=rt;break}Bt.have=0,Bt.mode=18;case 18:for(;Bt.have<Bt.ncode;){for(;lt<3;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.lens[Zt[Bt.have++]]=7&_e,_e>>>=3,lt-=3}for(;Bt.have<19;)Bt.lens[Zt[Bt.have++]]=0;if(Bt.lencode=Bt.lendyn,Bt.lenbits=7,Pt={bits:Bt.lenbits},Vt=gt(0,Bt.lens,0,19,Bt.lencode,0,Bt.work,Pt),Bt.lenbits=Pt.bits,Vt){yt.msg="invalid code lengths set",Bt.mode=rt;break}Bt.have=0,Bt.mode=19;case 19:for(;Bt.have<Bt.nlen+Bt.ndist;){for(;Wt=(dn=Bt.lencode[_e&(1<<Bt.lenbits)-1])>>>16&255,Ot=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(Ot<16)_e>>>=$t,lt-=$t,Bt.lens[Bt.have++]=Ot;else{if(Ot===16){for(qt=$t+2;lt<qt;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(_e>>>=$t,lt-=$t,Bt.have===0){yt.msg="invalid bit length repeat",Bt.mode=rt;break}St=Bt.lens[Bt.have-1],Dt=3+(3&_e),_e>>>=2,lt-=2}else if(Ot===17){for(qt=$t+3;lt<qt;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}lt-=$t,St=0,Dt=3+(7&(_e>>>=$t)),_e>>>=3,lt-=3}else{for(qt=$t+7;lt<qt;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}lt-=$t,St=0,Dt=11+(127&(_e>>>=$t)),_e>>>=7,lt-=7}if(Bt.have+Dt>Bt.nlen+Bt.ndist){yt.msg="invalid bit length repeat",Bt.mode=rt;break}for(;Dt--;)Bt.lens[Bt.have++]=St}}if(Bt.mode===rt)break;if(Bt.lens[256]===0){yt.msg="invalid code -- missing end-of-block",Bt.mode=rt;break}if(Bt.lenbits=9,Pt={bits:Bt.lenbits},Vt=gt(1,Bt.lens,0,Bt.nlen,Bt.lencode,0,Bt.work,Pt),Bt.lenbits=Pt.bits,Vt){yt.msg="invalid literal/lengths set",Bt.mode=rt;break}if(Bt.distbits=6,Bt.distcode=Bt.distdyn,Pt={bits:Bt.distbits},Vt=gt(2,Bt.lens,Bt.nlen,Bt.ndist,Bt.distcode,0,Bt.work,Pt),Bt.distbits=Pt.bits,Vt){yt.msg="invalid distances set",Bt.mode=rt;break}if(Bt.mode=20,Ht===6)break e;case 20:Bt.mode=21;case 21:if(ct>=6&&it>=258){yt.next_out=Ct,yt.avail_out=it,yt.next_in=At,yt.avail_in=ct,Bt.hold=_e,Bt.bits=lt,at(yt,It),Ct=yt.next_out,Et=yt.output,it=yt.avail_out,At=yt.next_in,bt=yt.input,ct=yt.avail_in,_e=Bt.hold,lt=Bt.bits,Bt.mode===Ut&&(Bt.back=-1);break}for(Bt.back=0;Wt=(dn=Bt.lencode[_e&(1<<Bt.lenbits)-1])>>>16&255,Ot=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(Wt&&!(240&Wt)){for(In=$t,rn=Wt,_t=Ot;Wt=(dn=Bt.lencode[_t+((_e&(1<<In+rn)-1)>>In)])>>>16&255,Ot=65535&dn,!(In+($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}_e>>>=In,lt-=In,Bt.back+=In}if(_e>>>=$t,lt-=$t,Bt.back+=$t,Bt.length=Ot,Wt===0){Bt.mode=26;break}if(32&Wt){Bt.back=-1,Bt.mode=Ut;break}if(64&Wt){yt.msg="invalid literal/length code",Bt.mode=rt;break}Bt.extra=15&Wt,Bt.mode=22;case 22:if(Bt.extra){for(qt=Bt.extra;lt<qt;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.length+=_e&(1<<Bt.extra)-1,_e>>>=Bt.extra,lt-=Bt.extra,Bt.back+=Bt.extra}Bt.was=Bt.length,Bt.mode=23;case 23:for(;Wt=(dn=Bt.distcode[_e&(1<<Bt.distbits)-1])>>>16&255,Ot=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(!(240&Wt)){for(In=$t,rn=Wt,_t=Ot;Wt=(dn=Bt.distcode[_t+((_e&(1<<In+rn)-1)>>In)])>>>16&255,Ot=65535&dn,!(In+($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}_e>>>=In,lt-=In,Bt.back+=In}if(_e>>>=$t,lt-=$t,Bt.back+=$t,64&Wt){yt.msg="invalid distance code",Bt.mode=rt;break}Bt.offset=Ot,Bt.extra=15&Wt,Bt.mode=24;case 24:if(Bt.extra){for(qt=Bt.extra;lt<qt;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}Bt.offset+=_e&(1<<Bt.extra)-1,_e>>>=Bt.extra,lt-=Bt.extra,Bt.back+=Bt.extra}if(Bt.offset>Bt.dmax){yt.msg="invalid distance too far back",Bt.mode=rt;break}Bt.mode=25;case 25:if(it===0)break e;if(Dt=It-it,Bt.offset>Dt){if((Dt=Bt.offset-Dt)>Bt.whave&&Bt.sane){yt.msg="invalid distance too far back",Bt.mode=rt;break}Dt>Bt.wnext?(Dt-=Bt.wnext,tn=Bt.wsize-Dt):tn=Bt.wnext-Dt,Dt>Bt.length&&(Dt=Bt.length),Tt=Bt.window}else Tt=Et,tn=Ct-Bt.offset,Dt=Bt.length;Dt>it&&(Dt=it),it-=Dt,Bt.length-=Dt;do Et[Ct++]=Tt[tn++];while(--Dt);Bt.length===0&&(Bt.mode=21);break;case 26:if(it===0)break e;Et[Ct++]=Bt.length,it--,Bt.mode=21;break;case 27:if(Bt.wrap){for(;lt<32;){if(ct===0)break e;ct--,_e|=bt[At++]<<lt,lt+=8}if(It-=it,yt.total_out+=It,Bt.total+=It,It&&(yt.adler=Bt.check=Bt.flags?ot(Bt.check,Et,It,Ct-It):ht(Bt.check,Et,It,Ct-It)),It=it,(Bt.flags?_e:vt(_e))!==Bt.check){yt.msg="incorrect data check",Bt.mode=rt;break}_e=0,lt=0}Bt.mode=28;case 28:if(Bt.wrap&&Bt.flags){for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[At++]<<lt,lt+=8}if(_e!==(4294967295&Bt.total)){yt.msg="incorrect length check",Bt.mode=rt;break}_e=0,lt=0}Bt.mode=29;case 29:Vt=1;break e;case rt:Vt=-3;break e;case 31:return-4;default:return xt}return yt.next_out=Ct,yt.avail_out=it,yt.next_in=At,yt.avail_in=ct,Bt.hold=_e,Bt.bits=lt,(Bt.wsize||It!==yt.avail_out&&Bt.mode<rt&&(Bt.mode<27||Ht!==4))&&vn(yt,yt.output,yt.next_out,It-yt.avail_out)?(Bt.mode=31,-4):(st-=yt.avail_in,It-=yt.avail_out,yt.total_in+=st,yt.total_out+=It,Bt.total+=It,Bt.wrap&&It&&(yt.adler=Bt.check=Bt.flags?ot(Bt.check,Et,It,yt.next_out-It):ht(Bt.check,Et,It,yt.next_out-It)),yt.data_type=Bt.bits+(Bt.last?64:0)+(Bt.mode===Ut?128:0)+(Bt.mode===20||Bt.mode===15?256:0),(st===0&&It===0||Ht===4)&&Vt===0&&(Vt=-5),Vt)},kt.inflateEnd=function(yt){if(!yt||!yt.state)return xt;var Ht=yt.state;return Ht.window&&(Ht.window=null),yt.state=null,0},kt.inflateGetHeader=function(yt,Ht){var Bt;return yt&&yt.state&&2&(Bt=yt.state).wrap?(Bt.head=Ht,Ht.done=!1,0):xt},kt.inflateSetDictionary=function(yt,Ht){var Bt,bt=Ht.length;return yt&&yt.state?(Bt=yt.state).wrap!==0&&Bt.mode!==11?xt:Bt.mode===11&&ht(1,Ht,bt,0)!==Bt.check?-3:vn(yt,Ht,bt,bt)?(Bt.mode=31,-4):(Bt.havedict=1,0):xt},kt.inflateInfo="pako inflate (from Nodeca project)"},6446:function(Lt,kt,_){var pt=_(9187),ht=15,ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],at=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],gt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Lt.exports=function(Ut,rt,vt,Xt,nn,cn,Qt,hn){var fn,Nn,mn,pn,vn,yt,Ht,Bt,bt,Et=hn.bits,At=0,Ct=0,ct=0,it=0,_e=0,lt=0,st=0,It=0,Dt=0,tn=0,Tt=null,$t=0,Wt=new pt.Buf16(16),Ot=new pt.Buf16(16),In=null,rn=0;for(At=0;At<=ht;At++)Wt[At]=0;for(Ct=0;Ct<Xt;Ct++)Wt[rt[vt+Ct]]++;for(_e=Et,it=ht;it>=1&&Wt[it]===0;it--);if(_e>it&&(_e=it),it===0)return nn[cn++]=20971520,nn[cn++]=20971520,hn.bits=1,0;for(ct=1;ct<it&&Wt[ct]===0;ct++);for(_e<ct&&(_e=ct),It=1,At=1;At<=ht;At++)if(It<<=1,(It-=Wt[At])<0)return-1;if(It>0&&(Ut===0||it!==1))return-1;for(Ot[1]=0,At=1;At<ht;At++)Ot[At+1]=Ot[At]+Wt[At];for(Ct=0;Ct<Xt;Ct++)rt[vt+Ct]!==0&&(Qt[Ot[rt[vt+Ct]]++]=Ct);if(Ut===0?(Tt=In=Qt,yt=19):Ut===1?(Tt=ot,$t-=257,In=at,rn-=257,yt=256):(Tt=gt,In=xt,yt=-1),tn=0,Ct=0,At=ct,vn=cn,lt=_e,st=0,mn=-1,pn=(Dt=1<<_e)-1,Ut===1&&Dt>852||Ut===2&&Dt>592)return 1;for(;;){Ht=At-st,Qt[Ct]<yt?(Bt=0,bt=Qt[Ct]):Qt[Ct]>yt?(Bt=In[rn+Qt[Ct]],bt=Tt[$t+Qt[Ct]]):(Bt=96,bt=0),fn=1<<At-st,ct=Nn=1<<lt;do nn[vn+(tn>>st)+(Nn-=fn)]=Ht<<24|Bt<<16|bt|0;while(Nn!==0);for(fn=1<<At-1;tn&fn;)fn>>=1;if(fn!==0?(tn&=fn-1,tn+=fn):tn=0,Ct++,--Wt[At]==0){if(At===it)break;At=rt[vt+Qt[Ct]]}if(At>_e&&(tn&pn)!==mn){for(st===0&&(st=_e),vn+=ct,It=1<<(lt=At-st);lt+st<it&&!((It-=Wt[lt+st])<=0);)lt++,It<<=1;if(Dt+=1<<lt,Ut===1&&Dt>852||Ut===2&&Dt>592)return 1;nn[mn=tn&pn]=_e<<24|lt<<16|vn-cn|0}}return tn!==0&&(nn[vn+tn]=At-st<<24|4194304|0),hn.bits=_e,0}},5604:function(Lt){Lt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(Lt,kt,_){var pt=_(9187);function ht(Ot){for(var In=Ot.length;--In>=0;)Ot[In]=0}var ot=256,at=286,gt=30,xt=15,Ut=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nn=new Array(576);ht(nn);var cn=new Array(60);ht(cn);var Qt=new Array(512);ht(Qt);var hn=new Array(256);ht(hn);var fn=new Array(29);ht(fn);var Nn,mn,pn,vn=new Array(gt);function yt(Ot,In,rn,_t,St){this.static_tree=Ot,this.extra_bits=In,this.extra_base=rn,this.elems=_t,this.max_length=St,this.has_stree=Ot&&Ot.length}function Ht(Ot,In){this.dyn_tree=Ot,this.max_code=0,this.stat_desc=In}function Bt(Ot){return Ot<256?Qt[Ot]:Qt[256+(Ot>>>7)]}function bt(Ot,In){Ot.pending_buf[Ot.pending++]=255&In,Ot.pending_buf[Ot.pending++]=In>>>8&255}function Et(Ot,In,rn){Ot.bi_valid>16-rn?(Ot.bi_buf|=In<<Ot.bi_valid&65535,bt(Ot,Ot.bi_buf),Ot.bi_buf=In>>16-Ot.bi_valid,Ot.bi_valid+=rn-16):(Ot.bi_buf|=In<<Ot.bi_valid&65535,Ot.bi_valid+=rn)}function At(Ot,In,rn){Et(Ot,rn[2*In],rn[2*In+1])}function Ct(Ot,In){var rn=0;do rn|=1&Ot,Ot>>>=1,rn<<=1;while(--In>0);return rn>>>1}function ct(Ot,In,rn){var _t,St,Vt=new Array(16),Pt=0;for(_t=1;_t<=xt;_t++)Vt[_t]=Pt=Pt+rn[_t-1]<<1;for(St=0;St<=In;St++){var qt=Ot[2*St+1];qt!==0&&(Ot[2*St]=Ct(Vt[qt]++,qt))}}function it(Ot){var In;for(In=0;In<at;In++)Ot.dyn_ltree[2*In]=0;for(In=0;In<gt;In++)Ot.dyn_dtree[2*In]=0;for(In=0;In<19;In++)Ot.bl_tree[2*In]=0;Ot.dyn_ltree[512]=1,Ot.opt_len=Ot.static_len=0,Ot.last_lit=Ot.matches=0}function _e(Ot){Ot.bi_valid>8?bt(Ot,Ot.bi_buf):Ot.bi_valid>0&&(Ot.pending_buf[Ot.pending++]=Ot.bi_buf),Ot.bi_buf=0,Ot.bi_valid=0}function lt(Ot,In,rn,_t){var St=2*In,Vt=2*rn;return Ot[St]<Ot[Vt]||Ot[St]===Ot[Vt]&&_t[In]<=_t[rn]}function st(Ot,In,rn){for(var _t=Ot.heap[rn],St=rn<<1;St<=Ot.heap_len&&(St<Ot.heap_len&&lt(In,Ot.heap[St+1],Ot.heap[St],Ot.depth)&&St++,!lt(In,_t,Ot.heap[St],Ot.depth));)Ot.heap[rn]=Ot.heap[St],rn=St,St<<=1;Ot.heap[rn]=_t}function It(Ot,In,rn){var _t,St,Vt,Pt,qt=0;if(Ot.last_lit!==0)do _t=Ot.pending_buf[Ot.d_buf+2*qt]<<8|Ot.pending_buf[Ot.d_buf+2*qt+1],St=Ot.pending_buf[Ot.l_buf+qt],qt++,_t===0?At(Ot,St,In):(At(Ot,(Vt=hn[St])+ot+1,In),(Pt=Ut[Vt])!==0&&Et(Ot,St-=fn[Vt],Pt),At(Ot,Vt=Bt(--_t),rn),(Pt=rt[Vt])!==0&&Et(Ot,_t-=vn[Vt],Pt));while(qt<Ot.last_lit);At(Ot,256,In)}function Dt(Ot,In){var rn,_t,St,Vt=In.dyn_tree,Pt=In.stat_desc.static_tree,qt=In.stat_desc.has_stree,dn=In.stat_desc.elems,Rt=-1;for(Ot.heap_len=0,Ot.heap_max=573,rn=0;rn<dn;rn++)Vt[2*rn]!==0?(Ot.heap[++Ot.heap_len]=Rt=rn,Ot.depth[rn]=0):Vt[2*rn+1]=0;for(;Ot.heap_len<2;)Vt[2*(St=Ot.heap[++Ot.heap_len]=Rt<2?++Rt:0)]=1,Ot.depth[St]=0,Ot.opt_len--,qt&&(Ot.static_len-=Pt[2*St+1]);for(In.max_code=Rt,rn=Ot.heap_len>>1;rn>=1;rn--)st(Ot,Vt,rn);St=dn;do rn=Ot.heap[1],Ot.heap[1]=Ot.heap[Ot.heap_len--],st(Ot,Vt,1),_t=Ot.heap[1],Ot.heap[--Ot.heap_max]=rn,Ot.heap[--Ot.heap_max]=_t,Vt[2*St]=Vt[2*rn]+Vt[2*_t],Ot.depth[St]=(Ot.depth[rn]>=Ot.depth[_t]?Ot.depth[rn]:Ot.depth[_t])+1,Vt[2*rn+1]=Vt[2*_t+1]=St,Ot.heap[1]=St++,st(Ot,Vt,1);while(Ot.heap_len>=2);Ot.heap[--Ot.heap_max]=Ot.heap[1],function(Zt,zt){var ft,Gt,wt,Jt,Mt,un,bn=zt.dyn_tree,jt=zt.max_code,Fn=zt.stat_desc.static_tree,yn=zt.stat_desc.has_stree,Gn=zt.stat_desc.extra_bits,Nt=zt.stat_desc.extra_base,Xn=zt.stat_desc.max_length,Cn=0;for(Jt=0;Jt<=xt;Jt++)Zt.bl_count[Jt]=0;for(bn[2*Zt.heap[Zt.heap_max]+1]=0,ft=Zt.heap_max+1;ft<573;ft++)(Jt=bn[2*bn[2*(Gt=Zt.heap[ft])+1]+1]+1)>Xn&&(Jt=Xn,Cn++),bn[2*Gt+1]=Jt,Gt>jt||(Zt.bl_count[Jt]++,Mt=0,Gt>=Nt&&(Mt=Gn[Gt-Nt]),un=bn[2*Gt],Zt.opt_len+=un*(Jt+Mt),yn&&(Zt.static_len+=un*(Fn[2*Gt+1]+Mt)));if(Cn!==0){do{for(Jt=Xn-1;Zt.bl_count[Jt]===0;)Jt--;Zt.bl_count[Jt]--,Zt.bl_count[Jt+1]+=2,Zt.bl_count[Xn]--,Cn-=2}while(Cn>0);for(Jt=Xn;Jt!==0;Jt--)for(Gt=Zt.bl_count[Jt];Gt!==0;)(wt=Zt.heap[--ft])>jt||(bn[2*wt+1]!==Jt&&(Zt.opt_len+=(Jt-bn[2*wt+1])*bn[2*wt],bn[2*wt+1]=Jt),Gt--)}}(Ot,In),ct(Vt,Rt,Ot.bl_count)}function tn(Ot,In,rn){var _t,St,Vt=-1,Pt=In[1],qt=0,dn=7,Rt=4;for(Pt===0&&(dn=138,Rt=3),In[2*(rn+1)+1]=65535,_t=0;_t<=rn;_t++)St=Pt,Pt=In[2*(_t+1)+1],++qt<dn&&St===Pt||(qt<Rt?Ot.bl_tree[2*St]+=qt:St!==0?(St!==Vt&&Ot.bl_tree[2*St]++,Ot.bl_tree[32]++):qt<=10?Ot.bl_tree[34]++:Ot.bl_tree[36]++,qt=0,Vt=St,Pt===0?(dn=138,Rt=3):St===Pt?(dn=6,Rt=3):(dn=7,Rt=4))}function Tt(Ot,In,rn){var _t,St,Vt=-1,Pt=In[1],qt=0,dn=7,Rt=4;for(Pt===0&&(dn=138,Rt=3),_t=0;_t<=rn;_t++)if(St=Pt,Pt=In[2*(_t+1)+1],!(++qt<dn&&St===Pt)){if(qt<Rt)do At(Ot,St,Ot.bl_tree);while(--qt!=0);else St!==0?(St!==Vt&&(At(Ot,St,Ot.bl_tree),qt--),At(Ot,16,Ot.bl_tree),Et(Ot,qt-3,2)):qt<=10?(At(Ot,17,Ot.bl_tree),Et(Ot,qt-3,3)):(At(Ot,18,Ot.bl_tree),Et(Ot,qt-11,7));qt=0,Vt=St,Pt===0?(dn=138,Rt=3):St===Pt?(dn=6,Rt=3):(dn=7,Rt=4)}}ht(vn);var $t=!1;function Wt(Ot,In,rn,_t){Et(Ot,0+(_t?1:0),3),function(St,Vt,Pt,qt){_e(St),qt&&(bt(St,Pt),bt(St,~Pt)),pt.arraySet(St.pending_buf,St.window,Vt,Pt,St.pending),St.pending+=Pt}(Ot,In,rn,!0)}kt._tr_init=function(Ot){$t||(function(){var In,rn,_t,St,Vt,Pt=new Array(16);for(_t=0,St=0;St<28;St++)for(fn[St]=_t,In=0;In<1<<Ut[St];In++)hn[_t++]=St;for(hn[_t-1]=St,Vt=0,St=0;St<16;St++)for(vn[St]=Vt,In=0;In<1<<rt[St];In++)Qt[Vt++]=St;for(Vt>>=7;St<gt;St++)for(vn[St]=Vt<<7,In=0;In<1<<rt[St]-7;In++)Qt[256+Vt++]=St;for(rn=0;rn<=xt;rn++)Pt[rn]=0;for(In=0;In<=143;)nn[2*In+1]=8,In++,Pt[8]++;for(;In<=255;)nn[2*In+1]=9,In++,Pt[9]++;for(;In<=279;)nn[2*In+1]=7,In++,Pt[7]++;for(;In<=287;)nn[2*In+1]=8,In++,Pt[8]++;for(ct(nn,287,Pt),In=0;In<gt;In++)cn[2*In+1]=5,cn[2*In]=Ct(In,5);Nn=new yt(nn,Ut,257,at,xt),mn=new yt(cn,rt,0,gt,xt),pn=new yt(new Array(0),vt,0,19,7)}(),$t=!0),Ot.l_desc=new Ht(Ot.dyn_ltree,Nn),Ot.d_desc=new Ht(Ot.dyn_dtree,mn),Ot.bl_desc=new Ht(Ot.bl_tree,pn),Ot.bi_buf=0,Ot.bi_valid=0,it(Ot)},kt._tr_stored_block=Wt,kt._tr_flush_block=function(Ot,In,rn,_t){var St,Vt,Pt=0;Ot.level>0?(Ot.strm.data_type===2&&(Ot.strm.data_type=function(qt){var dn,Rt=4093624447;for(dn=0;dn<=31;dn++,Rt>>>=1)if(1&Rt&&qt.dyn_ltree[2*dn]!==0)return 0;if(qt.dyn_ltree[18]!==0||qt.dyn_ltree[20]!==0||qt.dyn_ltree[26]!==0)return 1;for(dn=32;dn<ot;dn++)if(qt.dyn_ltree[2*dn]!==0)return 1;return 0}(Ot)),Dt(Ot,Ot.l_desc),Dt(Ot,Ot.d_desc),Pt=function(qt){var dn;for(tn(qt,qt.dyn_ltree,qt.l_desc.max_code),tn(qt,qt.dyn_dtree,qt.d_desc.max_code),Dt(qt,qt.bl_desc),dn=18;dn>=3&&qt.bl_tree[2*Xt[dn]+1]===0;dn--);return qt.opt_len+=3*(dn+1)+5+5+4,dn}(Ot),St=Ot.opt_len+3+7>>>3,(Vt=Ot.static_len+3+7>>>3)<=St&&(St=Vt)):St=Vt=rn+5,rn+4<=St&&In!==-1?Wt(Ot,In,rn,_t):Ot.strategy===4||Vt===St?(Et(Ot,2+(_t?1:0),3),It(Ot,nn,cn)):(Et(Ot,4+(_t?1:0),3),function(qt,dn,Rt,Zt){var zt;for(Et(qt,dn-257,5),Et(qt,Rt-1,5),Et(qt,Zt-4,4),zt=0;zt<Zt;zt++)Et(qt,qt.bl_tree[2*Xt[zt]+1],3);Tt(qt,qt.dyn_ltree,dn-1),Tt(qt,qt.dyn_dtree,Rt-1)}(Ot,Ot.l_desc.max_code+1,Ot.d_desc.max_code+1,Pt+1),It(Ot,Ot.dyn_ltree,Ot.dyn_dtree)),it(Ot),_t&&_e(Ot)},kt._tr_tally=function(Ot,In,rn){return Ot.pending_buf[Ot.d_buf+2*Ot.last_lit]=In>>>8&255,Ot.pending_buf[Ot.d_buf+2*Ot.last_lit+1]=255&In,Ot.pending_buf[Ot.l_buf+Ot.last_lit]=255&rn,Ot.last_lit++,In===0?Ot.dyn_ltree[2*rn]++:(Ot.matches++,In--,Ot.dyn_ltree[2*(hn[rn]+ot+1)]++,Ot.dyn_dtree[2*Bt(In)]++),Ot.last_lit===Ot.lit_bufsize-1},kt._tr_align=function(Ot){Et(Ot,2,3),At(Ot,256,nn),function(In){In.bi_valid===16?(bt(In,In.bi_buf),In.bi_buf=0,In.bi_valid=0):In.bi_valid>=8&&(In.pending_buf[In.pending++]=255&In.bi_buf,In.bi_buf>>=8,In.bi_valid-=8)}(Ot)}},249:function(Lt){Lt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(Lt){Lt.exports=function(kt){kt.data&&kt.name&&(kt=kt.data);for(var _=!0,pt="",ht="",ot=0;ot<kt.length;ot++){var at=kt[ot];if(_)at?ht+=String.fromCharCode(at):_=!1;else{if(!at)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");pt+=String.fromCharCode(at)}}return{keyword:ht,text:pt}}},9686:function(Lt){Lt.exports=function(kt,_){if(kt=String(kt),_=String(_),!/^[\x00-\xFF]+$/.test(kt)||!/^[\x00-\xFF]+$/.test(_))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(kt.length>=80)throw new Error('Keyword "'+kt+'" is longer than the 79-character limit imposed by the PNG specification');for(var pt,ht=kt.length+_.length+1,ot=new Uint8Array(ht),at=0,gt=0;gt<kt.length;gt++){if(!(pt=kt.charCodeAt(gt)))throw new Error("0x00 character is not permitted in tEXt keywords");ot[at++]=pt}ot[at++]=0;for(var xt=0;xt<_.length;xt++){if(!(pt=_.charCodeAt(xt)))throw new Error("0x00 character is not permitted in tEXt content");ot[at++]=pt}return{name:"tEXt",data:ot}}},1194:function(Lt,kt,_){kt.encode=_(9686),kt.decode=_(9066)},3434:function(Lt,kt,_){var pt=_(5714),ht=_(6233);Lt.exports=function(xt){var Ut,rt=8,vt=rt;for(Ut=0;Ut<xt.length;Ut++)rt+=xt[Ut].data.length,rt+=12;var Xt=new Uint8Array(rt);for(Xt[0]=137,Xt[1]=80,Xt[2]=78,Xt[3]=71,Xt[4]=13,Xt[5]=10,Xt[6]=26,Xt[7]=10,Ut=0;Ut<xt.length;Ut++){var nn=xt[Ut],cn=nn.name,Qt=nn.data,hn=Qt.length,fn=[cn.charCodeAt(0),cn.charCodeAt(1),cn.charCodeAt(2),cn.charCodeAt(3)];gt[0]=hn,Xt[vt++]=ot[3],Xt[vt++]=ot[2],Xt[vt++]=ot[1],Xt[vt++]=ot[0],Xt[vt++]=fn[0],Xt[vt++]=fn[1],Xt[vt++]=fn[2],Xt[vt++]=fn[3];for(var Nn=0;Nn<hn;)Xt[vt++]=Qt[Nn++];var mn=fn.concat(pt(Qt)),pn=ht.buf(mn);at[0]=pn,Xt[vt++]=ot[3],Xt[vt++]=ot[2],Xt[vt++]=ot[1],Xt[vt++]=ot[0]}return Xt};var ot=new Uint8Array(4),at=new Int32Array(ot.buffer),gt=new Uint32Array(ot.buffer)},2983:function(Lt,kt,_){var pt=_(6233);Lt.exports=function(gt){if(gt[0]!==137)throw new Error("Invalid .png file header");if(gt[1]!==80)throw new Error("Invalid .png file header");if(gt[2]!==78)throw new Error("Invalid .png file header");if(gt[3]!==71)throw new Error("Invalid .png file header");if(gt[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(gt[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(gt[6]!==26)throw new Error("Invalid .png file header");if(gt[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var xt=!1,Ut=[],rt=8;rt<gt.length;){ht[3]=gt[rt++],ht[2]=gt[rt++],ht[1]=gt[rt++],ht[0]=gt[rt++];var vt=at[0]+4,Xt=new Uint8Array(vt);Xt[0]=gt[rt++],Xt[1]=gt[rt++],Xt[2]=gt[rt++],Xt[3]=gt[rt++];var nn=String.fromCharCode(Xt[0])+String.fromCharCode(Xt[1])+String.fromCharCode(Xt[2])+String.fromCharCode(Xt[3]);if(!Ut.length&&nn!=="IHDR")throw new Error("IHDR header missing");if(nn==="IEND"){xt=!0,Ut.push({name:nn,data:new Uint8Array(0)});break}for(var cn=4;cn<vt;cn++)Xt[cn]=gt[rt++];ht[3]=gt[rt++],ht[2]=gt[rt++],ht[1]=gt[rt++],ht[0]=gt[rt++];var Qt=ot[0];if(pt.buf(Xt)!==Qt)throw new Error("CRC values for "+nn+" header do not match, PNG file is likely corrupted");var hn=new Uint8Array(Xt.buffer.slice(4));Ut.push({name:nn,data:hn})}if(!xt)throw new Error(".png file ended prematurely: no IEND header was found");return Ut};var ht=new Uint8Array(4),ot=new Int32Array(ht.buffer),at=new Uint32Array(ht.buffer)},1493:function(Lt,kt,_){function pt(rt,vt){return Math.pow(rt[0]-vt[0],2)+Math.pow(rt[1]-vt[1],2)}function ht(rt,vt,Xt){const nn=pt(vt,Xt);if(nn===0)return pt(rt,vt);let cn=((rt[0]-vt[0])*(Xt[0]-vt[0])+(rt[1]-vt[1])*(Xt[1]-vt[1]))/nn;return cn=Math.max(0,Math.min(1,cn)),pt(rt,ot(vt,Xt,cn))}function ot(rt,vt,Xt){return[rt[0]+(vt[0]-rt[0])*Xt,rt[1]+(vt[1]-rt[1])*Xt]}function at(rt,vt,Xt,nn){const cn=nn||[];if(function(fn,Nn){const mn=fn[Nn+0],pn=fn[Nn+1],vn=fn[Nn+2],yt=fn[Nn+3];let Ht=3*pn[0]-2*mn[0]-yt[0];Ht*=Ht;let Bt=3*pn[1]-2*mn[1]-yt[1];Bt*=Bt;let bt=3*vn[0]-2*yt[0]-mn[0];bt*=bt;let Et=3*vn[1]-2*yt[1]-mn[1];return Et*=Et,Ht<bt&&(Ht=bt),Bt<Et&&(Bt=Et),Ht+Bt}(rt,vt)<Xt){const fn=rt[vt+0];cn.length?(Qt=cn[cn.length-1],hn=fn,Math.sqrt(pt(Qt,hn))>1&&cn.push(fn)):cn.push(fn),cn.push(rt[vt+3])}else{const Nn=rt[vt+0],mn=rt[vt+1],pn=rt[vt+2],vn=rt[vt+3],yt=ot(Nn,mn,.5),Ht=ot(mn,pn,.5),Bt=ot(pn,vn,.5),bt=ot(yt,Ht,.5),Et=ot(Ht,Bt,.5),At=ot(bt,Et,.5);at([Nn,yt,bt,At],0,Xt,cn),at([At,Et,Bt,vn],0,Xt,cn)}var Qt,hn;return cn}function gt(rt,vt){return xt(rt,0,rt.length,vt)}function xt(rt,vt,Xt,nn,cn){const Qt=cn||[],hn=rt[vt],fn=rt[Xt-1];let Nn=0,mn=1;for(let pn=vt+1;pn<Xt-1;++pn){const vn=ht(rt[pn],hn,fn);vn>Nn&&(Nn=vn,mn=pn)}return Math.sqrt(Nn)>nn?(xt(rt,vt,mn+1,nn,Qt),xt(rt,mn,Xt,nn,Qt)):(Qt.length||Qt.push(hn),Qt.push(fn)),Qt}function Ut(rt,vt=.15,Xt){const nn=[],cn=(rt.length-1)/3;for(let Qt=0;Qt<cn;Qt++)at(rt,3*Qt,vt,nn);return Xt&&Xt>0?xt(nn,0,nn.length,Xt):nn}_.d(kt,{o:function(){return gt},s:function(){return Ut}})},6094:function(Lt,kt,_){var pt=_(9787),ht=Symbol.for("react.element"),ot=Symbol.for("react.fragment"),at=Object.prototype.hasOwnProperty,gt=pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xt={key:!0,ref:!0,__self:!0,__source:!0};function Ut(rt,vt,Xt){var nn,cn={},Qt=null,hn=null;for(nn in Xt!==void 0&&(Qt=""+Xt),vt.key!==void 0&&(Qt=""+vt.key),vt.ref!==void 0&&(hn=vt.ref),vt)at.call(vt,nn)&&!xt.hasOwnProperty(nn)&&(cn[nn]=vt[nn]);if(rt&&rt.defaultProps)for(nn in vt=rt.defaultProps)cn[nn]===void 0&&(cn[nn]=vt[nn]);return{$$typeof:ht,type:rt,key:Qt,ref:hn,props:cn,_owner:gt.current}}kt.Fragment=ot,kt.jsx=Ut,kt.jsxs=Ut},4512:function(Lt,kt,_){Lt.exports=_(6094)},8152:function(Lt,kt,_){function pt(){return Math.floor(Math.random()*2147483648)}_.d(kt,{W:function(){return pt},k:function(){return ht}});class ht{constructor(at){this.seed=at}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(Lt,kt,_){function pt(Rt,Zt,zt){if(Rt&&Rt.length){const[ft,Gt]=Zt,wt=Math.PI/180*zt,Jt=Math.cos(wt),Mt=Math.sin(wt);Rt.forEach(un=>{const[bn,jt]=un;un[0]=(bn-ft)*Jt-(jt-Gt)*Mt+ft,un[1]=(bn-ft)*Mt+(jt-Gt)*Jt+Gt})}}function ht(Rt){const Zt=Rt[0],zt=Rt[1];return Math.sqrt(Math.pow(Zt[0]-zt[0],2)+Math.pow(Zt[1]-zt[1],2))}function ot(Rt,Zt){const zt=Zt.hachureAngle+90;let ft=Zt.hachureGap;ft<0&&(ft=4*Zt.strokeWidth),ft=Math.max(ft,.1);const Gt=[0,0];if(zt)for(const Jt of Rt)pt(Jt,Gt,zt);const wt=function(Jt,Mt){const un=[];for(const Gn of Jt){const Nt=[...Gn];Nt[0].join(",")!==Nt[Nt.length-1].join(",")&&Nt.push([Nt[0][0],Nt[0][1]]),Nt.length>2&&un.push(Nt)}const bn=[];Mt=Math.max(Mt,.1);const jt=[];for(const Gn of un)for(let Nt=0;Nt<Gn.length-1;Nt++){const Xn=Gn[Nt],Cn=Gn[Nt+1];if(Xn[1]!==Cn[1]){const xn=Math.min(Xn[1],Cn[1]);jt.push({ymin:xn,ymax:Math.max(Xn[1],Cn[1]),x:xn===Xn[1]?Xn[0]:Cn[0],islope:(Cn[0]-Xn[0])/(Cn[1]-Xn[1])})}}if(jt.sort((Gn,Nt)=>Gn.ymin<Nt.ymin?-1:Gn.ymin>Nt.ymin?1:Gn.x<Nt.x?-1:Gn.x>Nt.x?1:Gn.ymax===Nt.ymax?0:(Gn.ymax-Nt.ymax)/Math.abs(Gn.ymax-Nt.ymax)),!jt.length)return bn;let Fn=[],yn=jt[0].ymin;for(;Fn.length||jt.length;){if(jt.length){let Gn=-1;for(let Nt=0;Nt<jt.length&&!(jt[Nt].ymin>yn);Nt++)Gn=Nt;jt.splice(0,Gn+1).forEach(Nt=>{Fn.push({s:yn,edge:Nt})})}if(Fn=Fn.filter(Gn=>!(Gn.edge.ymax<=yn)),Fn.sort((Gn,Nt)=>Gn.edge.x===Nt.edge.x?0:(Gn.edge.x-Nt.edge.x)/Math.abs(Gn.edge.x-Nt.edge.x)),Fn.length>1)for(let Gn=0;Gn<Fn.length;Gn+=2){const Nt=Gn+1;if(Nt>=Fn.length)break;const Xn=Fn[Gn].edge,Cn=Fn[Nt].edge;bn.push([[Math.round(Xn.x),yn],[Math.round(Cn.x),yn]])}yn+=Mt,Fn.forEach(Gn=>{Gn.edge.x=Gn.edge.x+Mt*Gn.edge.islope})}return bn}(Rt,ft);if(zt){for(const Jt of Rt)pt(Jt,Gt,-zt);(function(Jt,Mt,un){const bn=[];Jt.forEach(jt=>bn.push(...jt)),pt(bn,Mt,un)})(wt,Gt,-zt)}return wt}_.d(kt,{Z:function(){return dn}});class at{constructor(Zt){this.helper=Zt}fillPolygons(Zt,zt){return this._fillPolygons(Zt,zt)}_fillPolygons(Zt,zt){const ft=ot(Zt,zt);return{type:"fillSketch",ops:this.renderLines(ft,zt)}}renderLines(Zt,zt){const ft=[];for(const Gt of Zt)ft.push(...this.helper.doubleLineOps(Gt[0][0],Gt[0][1],Gt[1][0],Gt[1][1],zt));return ft}}class gt extends at{fillPolygons(Zt,zt){let ft=zt.hachureGap;ft<0&&(ft=4*zt.strokeWidth),ft=Math.max(ft,.1);const Gt=ot(Zt,Object.assign({},zt,{hachureGap:ft})),wt=Math.PI/180*zt.hachureAngle,Jt=[],Mt=.5*ft*Math.cos(wt),un=.5*ft*Math.sin(wt);for(const[bn,jt]of Gt)ht([bn,jt])&&Jt.push([[bn[0]-Mt,bn[1]+un],[...jt]],[[bn[0]+Mt,bn[1]-un],[...jt]]);return{type:"fillSketch",ops:this.renderLines(Jt,zt)}}}class xt extends at{fillPolygons(Zt,zt){const ft=this._fillPolygons(Zt,zt),Gt=Object.assign({},zt,{hachureAngle:zt.hachureAngle+90}),wt=this._fillPolygons(Zt,Gt);return ft.ops=ft.ops.concat(wt.ops),ft}}class Ut{constructor(Zt){this.helper=Zt}fillPolygons(Zt,zt){const ft=ot(Zt,zt=Object.assign({},zt,{hachureAngle:0}));return this.dotsOnLines(ft,zt)}dotsOnLines(Zt,zt){const ft=[];let Gt=zt.hachureGap;Gt<0&&(Gt=4*zt.strokeWidth),Gt=Math.max(Gt,.1);let wt=zt.fillWeight;wt<0&&(wt=zt.strokeWidth/2);const Jt=Gt/4;for(const Mt of Zt){const un=ht(Mt),bn=un/Gt,jt=Math.ceil(bn)-1,Fn=un-jt*Gt,yn=(Mt[0][0]+Mt[1][0])/2-Gt/4,Gn=Math.min(Mt[0][1],Mt[1][1]);for(let Nt=0;Nt<jt;Nt++){const Xn=Gn+Fn+Nt*Gt,Cn=yn-Jt+2*Math.random()*Jt,xn=Xn-Jt+2*Math.random()*Jt,Tn=this.helper.ellipse(Cn,xn,wt,wt,zt);ft.push(...Tn.ops)}}return{type:"fillSketch",ops:ft}}}class rt{constructor(Zt){this.helper=Zt}fillPolygons(Zt,zt){const ft=ot(Zt,zt);return{type:"fillSketch",ops:this.dashedLine(ft,zt)}}dashedLine(Zt,zt){const ft=zt.dashOffset<0?zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap:zt.dashOffset,Gt=zt.dashGap<0?zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap:zt.dashGap,wt=[];return Zt.forEach(Jt=>{const Mt=ht(Jt),un=Math.floor(Mt/(ft+Gt)),bn=(Mt+Gt-un*(ft+Gt))/2;let jt=Jt[0],Fn=Jt[1];jt[0]>Fn[0]&&(jt=Jt[1],Fn=Jt[0]);const yn=Math.atan((Fn[1]-jt[1])/(Fn[0]-jt[0]));for(let Gn=0;Gn<un;Gn++){const Nt=Gn*(ft+Gt),Xn=Nt+ft,Cn=[jt[0]+Nt*Math.cos(yn)+bn*Math.cos(yn),jt[1]+Nt*Math.sin(yn)+bn*Math.sin(yn)],xn=[jt[0]+Xn*Math.cos(yn)+bn*Math.cos(yn),jt[1]+Xn*Math.sin(yn)+bn*Math.sin(yn)];wt.push(...this.helper.doubleLineOps(Cn[0],Cn[1],xn[0],xn[1],zt))}}),wt}}class vt{constructor(Zt){this.helper=Zt}fillPolygons(Zt,zt){const ft=zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap,Gt=zt.zigzagOffset<0?ft:zt.zigzagOffset,wt=ot(Zt,zt=Object.assign({},zt,{hachureGap:ft+Gt}));return{type:"fillSketch",ops:this.zigzagLines(wt,Gt,zt)}}zigzagLines(Zt,zt,ft){const Gt=[];return Zt.forEach(wt=>{const Jt=ht(wt),Mt=Math.round(Jt/(2*zt));let un=wt[0],bn=wt[1];un[0]>bn[0]&&(un=wt[1],bn=wt[0]);const jt=Math.atan((bn[1]-un[1])/(bn[0]-un[0]));for(let Fn=0;Fn<Mt;Fn++){const yn=2*Fn*zt,Gn=2*(Fn+1)*zt,Nt=Math.sqrt(2*Math.pow(zt,2)),Xn=[un[0]+yn*Math.cos(jt),un[1]+yn*Math.sin(jt)],Cn=[un[0]+Gn*Math.cos(jt),un[1]+Gn*Math.sin(jt)],xn=[Xn[0]+Nt*Math.cos(jt+Math.PI/4),Xn[1]+Nt*Math.sin(jt+Math.PI/4)];Gt.push(...this.helper.doubleLineOps(Xn[0],Xn[1],xn[0],xn[1],ft),...this.helper.doubleLineOps(xn[0],xn[1],Cn[0],Cn[1],ft))}}),Gt}}const Xt={};var nn=_(8152);const cn={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Qt(Rt,Zt){return Rt.type===Zt}function hn(Rt){const Zt=[],zt=function(Jt){const Mt=new Array;for(;Jt!=="";)if(Jt.match(/^([ \t\r\n,]+)/))Jt=Jt.substr(RegExp.$1.length);else if(Jt.match(/^([aAcChHlLmMqQsStTvVzZ])/))Mt[Mt.length]={type:0,text:RegExp.$1},Jt=Jt.substr(RegExp.$1.length);else{if(!Jt.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];Mt[Mt.length]={type:1,text:`${parseFloat(RegExp.$1)}`},Jt=Jt.substr(RegExp.$1.length)}return Mt[Mt.length]={type:2,text:""},Mt}(Rt);let ft="BOD",Gt=0,wt=zt[Gt];for(;!Qt(wt,2);){let Jt=0;const Mt=[];if(ft==="BOD"){if(wt.text!=="M"&&wt.text!=="m")return hn("M0,0"+Rt);Gt++,Jt=cn[wt.text],ft=wt.text}else Qt(wt,1)?Jt=cn[ft]:(Gt++,Jt=cn[wt.text],ft=wt.text);if(!(Gt+Jt<zt.length))throw new Error("Path data ended short");for(let un=Gt;un<Gt+Jt;un++){const bn=zt[un];if(!Qt(bn,1))throw new Error("Param not a number: "+ft+","+bn.text);Mt[Mt.length]=+bn.text}if(typeof cn[ft]!="number")throw new Error("Bad segment: "+ft);{const un={key:ft,data:Mt};Zt.push(un),Gt+=Jt,wt=zt[Gt],ft==="M"&&(ft="L"),ft==="m"&&(ft="l")}}return Zt}function fn(Rt){let Zt=0,zt=0,ft=0,Gt=0;const wt=[];for(const{key:Jt,data:Mt}of Rt)switch(Jt){case"M":wt.push({key:"M",data:[...Mt]}),[Zt,zt]=Mt,[ft,Gt]=Mt;break;case"m":Zt+=Mt[0],zt+=Mt[1],wt.push({key:"M",data:[Zt,zt]}),ft=Zt,Gt=zt;break;case"L":wt.push({key:"L",data:[...Mt]}),[Zt,zt]=Mt;break;case"l":Zt+=Mt[0],zt+=Mt[1],wt.push({key:"L",data:[Zt,zt]});break;case"C":wt.push({key:"C",data:[...Mt]}),Zt=Mt[4],zt=Mt[5];break;case"c":{const un=Mt.map((bn,jt)=>jt%2?bn+zt:bn+Zt);wt.push({key:"C",data:un}),Zt=un[4],zt=un[5];break}case"Q":wt.push({key:"Q",data:[...Mt]}),Zt=Mt[2],zt=Mt[3];break;case"q":{const un=Mt.map((bn,jt)=>jt%2?bn+zt:bn+Zt);wt.push({key:"Q",data:un}),Zt=un[2],zt=un[3];break}case"A":wt.push({key:"A",data:[...Mt]}),Zt=Mt[5],zt=Mt[6];break;case"a":Zt+=Mt[5],zt+=Mt[6],wt.push({key:"A",data:[Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Zt,zt]});break;case"H":wt.push({key:"H",data:[...Mt]}),Zt=Mt[0];break;case"h":Zt+=Mt[0],wt.push({key:"H",data:[Zt]});break;case"V":wt.push({key:"V",data:[...Mt]}),zt=Mt[0];break;case"v":zt+=Mt[0],wt.push({key:"V",data:[zt]});break;case"S":wt.push({key:"S",data:[...Mt]}),Zt=Mt[2],zt=Mt[3];break;case"s":{const un=Mt.map((bn,jt)=>jt%2?bn+zt:bn+Zt);wt.push({key:"S",data:un}),Zt=un[2],zt=un[3];break}case"T":wt.push({key:"T",data:[...Mt]}),Zt=Mt[0],zt=Mt[1];break;case"t":Zt+=Mt[0],zt+=Mt[1],wt.push({key:"T",data:[Zt,zt]});break;case"Z":case"z":wt.push({key:"Z",data:[]}),Zt=ft,zt=Gt}return wt}function Nn(Rt){const Zt=[];let zt="",ft=0,Gt=0,wt=0,Jt=0,Mt=0,un=0;for(const{key:bn,data:jt}of Rt){switch(bn){case"M":Zt.push({key:"M",data:[...jt]}),[ft,Gt]=jt,[wt,Jt]=jt;break;case"C":Zt.push({key:"C",data:[...jt]}),ft=jt[4],Gt=jt[5],Mt=jt[2],un=jt[3];break;case"L":Zt.push({key:"L",data:[...jt]}),[ft,Gt]=jt;break;case"H":ft=jt[0],Zt.push({key:"L",data:[ft,Gt]});break;case"V":Gt=jt[0],Zt.push({key:"L",data:[ft,Gt]});break;case"S":{let Fn=0,yn=0;zt==="C"||zt==="S"?(Fn=ft+(ft-Mt),yn=Gt+(Gt-un)):(Fn=ft,yn=Gt),Zt.push({key:"C",data:[Fn,yn,...jt]}),Mt=jt[0],un=jt[1],ft=jt[2],Gt=jt[3];break}case"T":{const[Fn,yn]=jt;let Gn=0,Nt=0;zt==="Q"||zt==="T"?(Gn=ft+(ft-Mt),Nt=Gt+(Gt-un)):(Gn=ft,Nt=Gt);const Xn=ft+2*(Gn-ft)/3,Cn=Gt+2*(Nt-Gt)/3,xn=Fn+2*(Gn-Fn)/3,Tn=yn+2*(Nt-yn)/3;Zt.push({key:"C",data:[Xn,Cn,xn,Tn,Fn,yn]}),Mt=Gn,un=Nt,ft=Fn,Gt=yn;break}case"Q":{const[Fn,yn,Gn,Nt]=jt,Xn=ft+2*(Fn-ft)/3,Cn=Gt+2*(yn-Gt)/3,xn=Gn+2*(Fn-Gn)/3,Tn=Nt+2*(yn-Nt)/3;Zt.push({key:"C",data:[Xn,Cn,xn,Tn,Gn,Nt]}),Mt=Fn,un=yn,ft=Gn,Gt=Nt;break}case"A":{const Fn=Math.abs(jt[0]),yn=Math.abs(jt[1]),Gn=jt[2],Nt=jt[3],Xn=jt[4],Cn=jt[5],xn=jt[6];Fn===0||yn===0?(Zt.push({key:"C",data:[ft,Gt,Cn,xn,Cn,xn]}),ft=Cn,Gt=xn):(ft!==Cn||Gt!==xn)&&(pn(ft,Gt,Cn,xn,Fn,yn,Gn,Nt,Xn).forEach(function(Tn){Zt.push({key:"C",data:Tn})}),ft=Cn,Gt=xn);break}case"Z":Zt.push({key:"Z",data:[]}),ft=wt,Gt=Jt}zt=bn}return Zt}function mn(Rt,Zt,zt){return[Rt*Math.cos(zt)-Zt*Math.sin(zt),Rt*Math.sin(zt)+Zt*Math.cos(zt)]}function pn(Rt,Zt,zt,ft,Gt,wt,Jt,Mt,un,bn){const jt=(Fn=Jt,Math.PI*Fn/180);var Fn;let yn=[],Gn=0,Nt=0,Xn=0,Cn=0;if(bn)[Gn,Nt,Xn,Cn]=bn;else{[Rt,Zt]=mn(Rt,Zt,-jt),[zt,ft]=mn(zt,ft,-jt);const jn=(Rt-zt)/2,$n=(Zt-ft)/2;let cr=jn*jn/(Gt*Gt)+$n*$n/(wt*wt);cr>1&&(cr=Math.sqrt(cr),Gt*=cr,wt*=cr);const or=Gt*Gt,ur=wt*wt,Ur=or*ur-or*$n*$n-ur*jn*jn,Zr=or*$n*$n+ur*jn*jn,yr=(Mt===un?-1:1)*Math.sqrt(Math.abs(Ur/Zr));Xn=yr*Gt*$n/wt+(Rt+zt)/2,Cn=yr*-wt*jn/Gt+(Zt+ft)/2,Gn=Math.asin(parseFloat(((Zt-Cn)/wt).toFixed(9))),Nt=Math.asin(parseFloat(((ft-Cn)/wt).toFixed(9))),Rt<Xn&&(Gn=Math.PI-Gn),zt<Xn&&(Nt=Math.PI-Nt),Gn<0&&(Gn=2*Math.PI+Gn),Nt<0&&(Nt=2*Math.PI+Nt),un&&Gn>Nt&&(Gn-=2*Math.PI),!un&&Nt>Gn&&(Nt-=2*Math.PI)}let xn=Nt-Gn;if(Math.abs(xn)>120*Math.PI/180){const jn=Nt,$n=zt,cr=ft;Nt=un&&Nt>Gn?Gn+120*Math.PI/180*1:Gn+120*Math.PI/180*-1,yn=pn(zt=Xn+Gt*Math.cos(Nt),ft=Cn+wt*Math.sin(Nt),$n,cr,Gt,wt,Jt,0,un,[Nt,jn,Xn,Cn])}xn=Nt-Gn;const Tn=Math.cos(Gn),Pn=Math.sin(Gn),tr=Math.cos(Nt),ir=Math.sin(Nt),gr=Math.tan(xn/4),Wn=4/3*Gt*gr,ln=4/3*wt*gr,Un=[Rt,Zt],wn=[Rt+Wn*Pn,Zt-ln*Tn],Mn=[zt+Wn*ir,ft-ln*tr],zn=[zt,ft];if(wn[0]=2*Un[0]-wn[0],wn[1]=2*Un[1]-wn[1],bn)return[wn,Mn,zn].concat(yn);{yn=[wn,Mn,zn].concat(yn);const jn=[];for(let $n=0;$n<yn.length;$n+=3){const cr=mn(yn[$n][0],yn[$n][1],jt),or=mn(yn[$n+1][0],yn[$n+1][1],jt),ur=mn(yn[$n+2][0],yn[$n+2][1],jt);jn.push([cr[0],cr[1],or[0],or[1],ur[0],ur[1]])}return jn}}const vn={randOffset:function(Rt,Zt){return st(Rt,Zt)},randOffsetWithRange:function(Rt,Zt,zt){return lt(Rt,Zt,zt)},ellipse:function(Rt,Zt,zt,ft,Gt){const wt=Et(zt,ft,Gt);return At(Rt,Zt,Gt,wt).opset},doubleLineOps:function(Rt,Zt,zt,ft,Gt){return It(Rt,Zt,zt,ft,Gt,!0)}};function yt(Rt,Zt,zt,ft,Gt){return{type:"path",ops:It(Rt,Zt,zt,ft,Gt)}}function Ht(Rt,Zt,zt){const ft=(Rt||[]).length;if(ft>2){const Gt=[];for(let wt=0;wt<ft-1;wt++)Gt.push(...It(Rt[wt][0],Rt[wt][1],Rt[wt+1][0],Rt[wt+1][1],zt));return Zt&&Gt.push(...It(Rt[ft-1][0],Rt[ft-1][1],Rt[0][0],Rt[0][1],zt)),{type:"path",ops:Gt}}return ft===2?yt(Rt[0][0],Rt[0][1],Rt[1][0],Rt[1][1],zt):{type:"path",ops:[]}}function Bt(Rt,Zt,zt,ft,Gt){return function(wt,Jt){return Ht(wt,!0,Jt)}([[Rt,Zt],[Rt+zt,Zt],[Rt+zt,Zt+ft],[Rt,Zt+ft]],Gt)}function bt(Rt,Zt){let zt=tn(Rt,1*(1+.2*Zt.roughness),Zt);if(!Zt.disableMultiStroke){const ft=tn(Rt,1.5*(1+.22*Zt.roughness),function(Gt){const wt=Object.assign({},Gt);return wt.randomizer=void 0,Gt.seed&&(wt.seed=Gt.seed+1),wt}(Zt));zt=zt.concat(ft)}return{type:"path",ops:zt}}function Et(Rt,Zt,zt){const ft=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Rt/2,2)+Math.pow(Zt/2,2))/2)),Gt=Math.ceil(Math.max(zt.curveStepCount,zt.curveStepCount/Math.sqrt(200)*ft)),wt=2*Math.PI/Gt;let Jt=Math.abs(Rt/2),Mt=Math.abs(Zt/2);const un=1-zt.curveFitting;return Jt+=st(Jt*un,zt),Mt+=st(Mt*un,zt),{increment:wt,rx:Jt,ry:Mt}}function At(Rt,Zt,zt,ft){const[Gt,wt]=$t(ft.increment,Rt,Zt,ft.rx,ft.ry,1,ft.increment*lt(.1,lt(.4,1,zt),zt),zt);let Jt=Tt(Gt,null,zt);if(!zt.disableMultiStroke&&zt.roughness!==0){const[Mt]=$t(ft.increment,Rt,Zt,ft.rx,ft.ry,1.5,0,zt),un=Tt(Mt,null,zt);Jt=Jt.concat(un)}return{estimatedPoints:wt,opset:{type:"path",ops:Jt}}}function Ct(Rt,Zt,zt,ft,Gt,wt,Jt,Mt,un){const bn=Rt,jt=Zt;let Fn=Math.abs(zt/2),yn=Math.abs(ft/2);Fn+=st(.01*Fn,un),yn+=st(.01*yn,un);let Gn=Gt,Nt=wt;for(;Gn<0;)Gn+=2*Math.PI,Nt+=2*Math.PI;Nt-Gn>2*Math.PI&&(Gn=0,Nt=2*Math.PI);const Xn=2*Math.PI/un.curveStepCount,Cn=Math.min(Xn/2,(Nt-Gn)/2),xn=Wt(Cn,bn,jt,Fn,yn,Gn,Nt,1,un);if(!un.disableMultiStroke){const Tn=Wt(Cn,bn,jt,Fn,yn,Gn,Nt,1.5,un);xn.push(...Tn)}return Jt&&(Mt?xn.push(...It(bn,jt,bn+Fn*Math.cos(Gn),jt+yn*Math.sin(Gn),un),...It(bn,jt,bn+Fn*Math.cos(Nt),jt+yn*Math.sin(Nt),un)):xn.push({op:"lineTo",data:[bn,jt]},{op:"lineTo",data:[bn+Fn*Math.cos(Gn),jt+yn*Math.sin(Gn)]})),{type:"path",ops:xn}}function ct(Rt,Zt){const zt=[];for(const ft of Rt)if(ft.length){const Gt=Zt.maxRandomnessOffset||0,wt=ft.length;if(wt>2){zt.push({op:"move",data:[ft[0][0]+st(Gt,Zt),ft[0][1]+st(Gt,Zt)]});for(let Jt=1;Jt<wt;Jt++)zt.push({op:"lineTo",data:[ft[Jt][0]+st(Gt,Zt),ft[Jt][1]+st(Gt,Zt)]})}}return{type:"fillPath",ops:zt}}function it(Rt,Zt){return function(zt,ft){let Gt=zt.fillStyle||"hachure";if(!Xt[Gt])switch(Gt){case"zigzag":Xt[Gt]||(Xt[Gt]=new gt(ft));break;case"cross-hatch":Xt[Gt]||(Xt[Gt]=new xt(ft));break;case"dots":Xt[Gt]||(Xt[Gt]=new Ut(ft));break;case"dashed":Xt[Gt]||(Xt[Gt]=new rt(ft));break;case"zigzag-line":Xt[Gt]||(Xt[Gt]=new vt(ft));break;default:Gt="hachure",Xt[Gt]||(Xt[Gt]=new at(ft))}return Xt[Gt]}(Zt,vn).fillPolygons(Rt,Zt)}function _e(Rt){return Rt.randomizer||(Rt.randomizer=new nn.k(Rt.seed||0)),Rt.randomizer.next()}function lt(Rt,Zt,zt,ft=1){return zt.roughness*ft*(_e(zt)*(Zt-Rt)+Rt)}function st(Rt,Zt,zt=1){return lt(-Rt,Rt,Zt,zt)}function It(Rt,Zt,zt,ft,Gt,wt=!1){const Jt=wt?Gt.disableMultiStrokeFill:Gt.disableMultiStroke,Mt=Dt(Rt,Zt,zt,ft,Gt,!0,!1);if(Jt)return Mt;const un=Dt(Rt,Zt,zt,ft,Gt,!0,!0);return Mt.concat(un)}function Dt(Rt,Zt,zt,ft,Gt,wt,Jt){const Mt=Math.pow(Rt-zt,2)+Math.pow(Zt-ft,2),un=Math.sqrt(Mt);let bn=1;bn=un<200?1:un>500?.4:-.0016668*un+1.233334;let jt=Gt.maxRandomnessOffset||0;jt*jt*100>Mt&&(jt=un/10);const Fn=jt/2,yn=.2+.2*_e(Gt);let Gn=Gt.bowing*Gt.maxRandomnessOffset*(ft-Zt)/200,Nt=Gt.bowing*Gt.maxRandomnessOffset*(Rt-zt)/200;Gn=st(Gn,Gt,bn),Nt=st(Nt,Gt,bn);const Xn=[],Cn=()=>st(Fn,Gt,bn),xn=()=>st(jt,Gt,bn),Tn=Gt.preserveVertices;return wt&&(Jt?Xn.push({op:"move",data:[Rt+(Tn?0:Cn()),Zt+(Tn?0:Cn())]}):Xn.push({op:"move",data:[Rt+(Tn?0:st(jt,Gt,bn)),Zt+(Tn?0:st(jt,Gt,bn))]})),Jt?Xn.push({op:"bcurveTo",data:[Gn+Rt+(zt-Rt)*yn+Cn(),Nt+Zt+(ft-Zt)*yn+Cn(),Gn+Rt+2*(zt-Rt)*yn+Cn(),Nt+Zt+2*(ft-Zt)*yn+Cn(),zt+(Tn?0:Cn()),ft+(Tn?0:Cn())]}):Xn.push({op:"bcurveTo",data:[Gn+Rt+(zt-Rt)*yn+xn(),Nt+Zt+(ft-Zt)*yn+xn(),Gn+Rt+2*(zt-Rt)*yn+xn(),Nt+Zt+2*(ft-Zt)*yn+xn(),zt+(Tn?0:xn()),ft+(Tn?0:xn())]}),Xn}function tn(Rt,Zt,zt){const ft=[];ft.push([Rt[0][0]+st(Zt,zt),Rt[0][1]+st(Zt,zt)]),ft.push([Rt[0][0]+st(Zt,zt),Rt[0][1]+st(Zt,zt)]);for(let Gt=1;Gt<Rt.length;Gt++)ft.push([Rt[Gt][0]+st(Zt,zt),Rt[Gt][1]+st(Zt,zt)]),Gt===Rt.length-1&&ft.push([Rt[Gt][0]+st(Zt,zt),Rt[Gt][1]+st(Zt,zt)]);return Tt(ft,null,zt)}function Tt(Rt,Zt,zt){const ft=Rt.length,Gt=[];if(ft>3){const wt=[],Jt=1-zt.curveTightness;Gt.push({op:"move",data:[Rt[1][0],Rt[1][1]]});for(let Mt=1;Mt+2<ft;Mt++){const un=Rt[Mt];wt[0]=[un[0],un[1]],wt[1]=[un[0]+(Jt*Rt[Mt+1][0]-Jt*Rt[Mt-1][0])/6,un[1]+(Jt*Rt[Mt+1][1]-Jt*Rt[Mt-1][1])/6],wt[2]=[Rt[Mt+1][0]+(Jt*Rt[Mt][0]-Jt*Rt[Mt+2][0])/6,Rt[Mt+1][1]+(Jt*Rt[Mt][1]-Jt*Rt[Mt+2][1])/6],wt[3]=[Rt[Mt+1][0],Rt[Mt+1][1]],Gt.push({op:"bcurveTo",data:[wt[1][0],wt[1][1],wt[2][0],wt[2][1],wt[3][0],wt[3][1]]})}if(Zt&&Zt.length===2){const Mt=zt.maxRandomnessOffset;Gt.push({op:"lineTo",data:[Zt[0]+st(Mt,zt),Zt[1]+st(Mt,zt)]})}}else ft===3?(Gt.push({op:"move",data:[Rt[1][0],Rt[1][1]]}),Gt.push({op:"bcurveTo",data:[Rt[1][0],Rt[1][1],Rt[2][0],Rt[2][1],Rt[2][0],Rt[2][1]]})):ft===2&&Gt.push(...It(Rt[0][0],Rt[0][1],Rt[1][0],Rt[1][1],zt));return Gt}function $t(Rt,Zt,zt,ft,Gt,wt,Jt,Mt){const un=[],bn=[];if(Mt.roughness===0){Rt/=4,bn.push([Zt+ft*Math.cos(-Rt),zt+Gt*Math.sin(-Rt)]);for(let jt=0;jt<=2*Math.PI;jt+=Rt){const Fn=[Zt+ft*Math.cos(jt),zt+Gt*Math.sin(jt)];un.push(Fn),bn.push(Fn)}bn.push([Zt+ft*Math.cos(0),zt+Gt*Math.sin(0)]),bn.push([Zt+ft*Math.cos(Rt),zt+Gt*Math.sin(Rt)])}else{const jt=st(.5,Mt)-Math.PI/2;bn.push([st(wt,Mt)+Zt+.9*ft*Math.cos(jt-Rt),st(wt,Mt)+zt+.9*Gt*Math.sin(jt-Rt)]);const Fn=2*Math.PI+jt-.01;for(let yn=jt;yn<Fn;yn+=Rt){const Gn=[st(wt,Mt)+Zt+ft*Math.cos(yn),st(wt,Mt)+zt+Gt*Math.sin(yn)];un.push(Gn),bn.push(Gn)}bn.push([st(wt,Mt)+Zt+ft*Math.cos(jt+2*Math.PI+.5*Jt),st(wt,Mt)+zt+Gt*Math.sin(jt+2*Math.PI+.5*Jt)]),bn.push([st(wt,Mt)+Zt+.98*ft*Math.cos(jt+Jt),st(wt,Mt)+zt+.98*Gt*Math.sin(jt+Jt)]),bn.push([st(wt,Mt)+Zt+.9*ft*Math.cos(jt+.5*Jt),st(wt,Mt)+zt+.9*Gt*Math.sin(jt+.5*Jt)])}return[bn,un]}function Wt(Rt,Zt,zt,ft,Gt,wt,Jt,Mt,un){const bn=wt+st(.1,un),jt=[];jt.push([st(Mt,un)+Zt+.9*ft*Math.cos(bn-Rt),st(Mt,un)+zt+.9*Gt*Math.sin(bn-Rt)]);for(let Fn=bn;Fn<=Jt;Fn+=Rt)jt.push([st(Mt,un)+Zt+ft*Math.cos(Fn),st(Mt,un)+zt+Gt*Math.sin(Fn)]);return jt.push([Zt+ft*Math.cos(Jt),zt+Gt*Math.sin(Jt)]),jt.push([Zt+ft*Math.cos(Jt),zt+Gt*Math.sin(Jt)]),Tt(jt,null,un)}function Ot(Rt,Zt,zt,ft,Gt,wt,Jt,Mt){const un=[],bn=[Mt.maxRandomnessOffset||1,(Mt.maxRandomnessOffset||1)+.3];let jt=[0,0];const Fn=Mt.disableMultiStroke?1:2,yn=Mt.preserveVertices;for(let Gn=0;Gn<Fn;Gn++)Gn===0?un.push({op:"move",data:[Jt[0],Jt[1]]}):un.push({op:"move",data:[Jt[0]+(yn?0:st(bn[0],Mt)),Jt[1]+(yn?0:st(bn[0],Mt))]}),jt=yn?[Gt,wt]:[Gt+st(bn[Gn],Mt),wt+st(bn[Gn],Mt)],un.push({op:"bcurveTo",data:[Rt+st(bn[Gn],Mt),Zt+st(bn[Gn],Mt),zt+st(bn[Gn],Mt),ft+st(bn[Gn],Mt),jt[0],jt[1]]});return un}function In(Rt){return[...Rt]}var rn=_(1493);const _t="none";class St{constructor(Zt){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=Zt||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,nn.W)()}_o(Zt){return Zt?Object.assign({},this.defaultOptions,Zt):this.defaultOptions}_d(Zt,zt,ft){return{shape:Zt,sets:zt||[],options:ft||this.defaultOptions}}line(Zt,zt,ft,Gt,wt){const Jt=this._o(wt);return this._d("line",[yt(Zt,zt,ft,Gt,Jt)],Jt)}rectangle(Zt,zt,ft,Gt,wt){const Jt=this._o(wt),Mt=[],un=Bt(Zt,zt,ft,Gt,Jt);if(Jt.fill){const bn=[[Zt,zt],[Zt+ft,zt],[Zt+ft,zt+Gt],[Zt,zt+Gt]];Jt.fillStyle==="solid"?Mt.push(ct([bn],Jt)):Mt.push(it([bn],Jt))}return Jt.stroke!==_t&&Mt.push(un),this._d("rectangle",Mt,Jt)}ellipse(Zt,zt,ft,Gt,wt){const Jt=this._o(wt),Mt=[],un=Et(ft,Gt,Jt),bn=At(Zt,zt,Jt,un);if(Jt.fill)if(Jt.fillStyle==="solid"){const jt=At(Zt,zt,Jt,un).opset;jt.type="fillPath",Mt.push(jt)}else Mt.push(it([bn.estimatedPoints],Jt));return Jt.stroke!==_t&&Mt.push(bn.opset),this._d("ellipse",Mt,Jt)}circle(Zt,zt,ft,Gt){const wt=this.ellipse(Zt,zt,ft,ft,Gt);return wt.shape="circle",wt}linearPath(Zt,zt){const ft=this._o(zt);return this._d("linearPath",[Ht(Zt,!1,ft)],ft)}arc(Zt,zt,ft,Gt,wt,Jt,Mt=!1,un){const bn=this._o(un),jt=[],Fn=Ct(Zt,zt,ft,Gt,wt,Jt,Mt,!0,bn);if(Mt&&bn.fill)if(bn.fillStyle==="solid"){const yn=Object.assign({},bn);yn.disableMultiStroke=!0;const Gn=Ct(Zt,zt,ft,Gt,wt,Jt,!0,!1,yn);Gn.type="fillPath",jt.push(Gn)}else jt.push(function(yn,Gn,Nt,Xn,Cn,xn,Tn){const Pn=yn,tr=Gn;let ir=Math.abs(Nt/2),gr=Math.abs(Xn/2);ir+=st(.01*ir,Tn),gr+=st(.01*gr,Tn);let Wn=Cn,ln=xn;for(;Wn<0;)Wn+=2*Math.PI,ln+=2*Math.PI;ln-Wn>2*Math.PI&&(Wn=0,ln=2*Math.PI);const Un=(ln-Wn)/Tn.curveStepCount,wn=[];for(let Mn=Wn;Mn<=ln;Mn+=Un)wn.push([Pn+ir*Math.cos(Mn),tr+gr*Math.sin(Mn)]);return wn.push([Pn+ir*Math.cos(ln),tr+gr*Math.sin(ln)]),wn.push([Pn,tr]),it([wn],Tn)}(Zt,zt,ft,Gt,wt,Jt,bn));return bn.stroke!==_t&&jt.push(Fn),this._d("arc",jt,bn)}curve(Zt,zt){const ft=this._o(zt),Gt=[],wt=bt(Zt,ft);if(ft.fill&&ft.fill!==_t&&Zt.length>=3){const Jt=function(un,bn=0){const jt=un.length;if(jt<3)throw new Error("A curve must have at least three points.");const Fn=[];if(jt===3)Fn.push(In(un[0]),In(un[1]),In(un[2]),In(un[2]));else{const yn=[];yn.push(un[0],un[0]);for(let Xn=1;Xn<un.length;Xn++)yn.push(un[Xn]),Xn===un.length-1&&yn.push(un[Xn]);const Gn=[],Nt=1-bn;Fn.push(In(yn[0]));for(let Xn=1;Xn+2<yn.length;Xn++){const Cn=yn[Xn];Gn[0]=[Cn[0],Cn[1]],Gn[1]=[Cn[0]+(Nt*yn[Xn+1][0]-Nt*yn[Xn-1][0])/6,Cn[1]+(Nt*yn[Xn+1][1]-Nt*yn[Xn-1][1])/6],Gn[2]=[yn[Xn+1][0]+(Nt*yn[Xn][0]-Nt*yn[Xn+2][0])/6,yn[Xn+1][1]+(Nt*yn[Xn][1]-Nt*yn[Xn+2][1])/6],Gn[3]=[yn[Xn+1][0],yn[Xn+1][1]],Fn.push(Gn[1],Gn[2],Gn[3])}}return Fn}(Zt),Mt=(0,rn.s)(Jt,10,(1+ft.roughness)/2);ft.fillStyle==="solid"?Gt.push(ct([Mt],ft)):Gt.push(it([Mt],ft))}return ft.stroke!==_t&&Gt.push(wt),this._d("curve",Gt,ft)}polygon(Zt,zt){const ft=this._o(zt),Gt=[],wt=Ht(Zt,!0,ft);return ft.fill&&(ft.fillStyle==="solid"?Gt.push(ct([Zt],ft)):Gt.push(it([Zt],ft))),ft.stroke!==_t&&Gt.push(wt),this._d("polygon",Gt,ft)}path(Zt,zt){const ft=this._o(zt),Gt=[];if(!Zt)return this._d("path",Gt,ft);Zt=(Zt||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const wt=ft.fill&&ft.fill!=="transparent"&&ft.fill!==_t,Jt=ft.stroke!==_t,Mt=!!(ft.simplification&&ft.simplification<1),un=function(bn,jt,Fn){const yn=Nn(fn(hn(bn))),Gn=[];let Nt=[],Xn=[0,0],Cn=[];const xn=()=>{Cn.length>=4&&Nt.push(...(0,rn.s)(Cn,jt)),Cn=[]},Tn=()=>{xn(),Nt.length&&(Gn.push(Nt),Nt=[])};for(const{key:tr,data:ir}of yn)switch(tr){case"M":Tn(),Xn=[ir[0],ir[1]],Nt.push(Xn);break;case"L":xn(),Nt.push([ir[0],ir[1]]);break;case"C":if(!Cn.length){const gr=Nt.length?Nt[Nt.length-1]:Xn;Cn.push([gr[0],gr[1]])}Cn.push([ir[0],ir[1]]),Cn.push([ir[2],ir[3]]),Cn.push([ir[4],ir[5]]);break;case"Z":xn(),Nt.push([Xn[0],Xn[1]])}if(Tn(),!Fn)return Gn;const Pn=[];for(const tr of Gn){const ir=(0,rn.o)(tr,Fn);ir.length&&Pn.push(ir)}return Pn}(Zt,1,Mt?4-4*ft.simplification:(1+ft.roughness)/2);return wt&&(ft.fillStyle==="solid"?Gt.push(ct(un,ft)):Gt.push(it(un,ft))),Jt&&(Mt?un.forEach(bn=>{Gt.push(Ht(bn,!1,ft))}):Gt.push(function(bn,jt){const Fn=Nn(fn(hn(bn))),yn=[];let Gn=[0,0],Nt=[0,0];for(const{key:Xn,data:Cn}of Fn)switch(Xn){case"M":{const xn=1*(jt.maxRandomnessOffset||0),Tn=jt.preserveVertices;yn.push({op:"move",data:Cn.map(Pn=>Pn+(Tn?0:st(xn,jt)))}),Nt=[Cn[0],Cn[1]],Gn=[Cn[0],Cn[1]];break}case"L":yn.push(...It(Nt[0],Nt[1],Cn[0],Cn[1],jt)),Nt=[Cn[0],Cn[1]];break;case"C":{const[xn,Tn,Pn,tr,ir,gr]=Cn;yn.push(...Ot(xn,Tn,Pn,tr,ir,gr,Nt,jt)),Nt=[ir,gr];break}case"Z":yn.push(...It(Nt[0],Nt[1],Gn[0],Gn[1],jt)),Nt=[Gn[0],Gn[1]]}return{type:"path",ops:yn}}(Zt,ft))),this._d("path",Gt,ft)}opsToPath(Zt,zt){let ft="";for(const Gt of Zt.ops){const wt=typeof zt=="number"&&zt>=0?Gt.data.map(Jt=>+Jt.toFixed(zt)):Gt.data;switch(Gt.op){case"move":ft+=`M${wt[0]} ${wt[1]} `;break;case"bcurveTo":ft+=`C${wt[0]} ${wt[1]}, ${wt[2]} ${wt[3]}, ${wt[4]} ${wt[5]} `;break;case"lineTo":ft+=`L${wt[0]} ${wt[1]} `}}return ft.trim()}toPaths(Zt){const zt=Zt.sets||[],ft=Zt.options||this.defaultOptions,Gt=[];for(const wt of zt){let Jt=null;switch(wt.type){case"path":Jt={d:this.opsToPath(wt),stroke:ft.stroke,strokeWidth:ft.strokeWidth,fill:_t};break;case"fillPath":Jt={d:this.opsToPath(wt),stroke:_t,strokeWidth:0,fill:ft.fill||_t};break;case"fillSketch":Jt=this.fillSketch(wt,ft)}Jt&&Gt.push(Jt)}return Gt}fillSketch(Zt,zt){let ft=zt.fillWeight;return ft<0&&(ft=zt.strokeWidth/2),{d:this.opsToPath(Zt),stroke:zt.fill||_t,strokeWidth:ft,fill:_t}}}class Vt{constructor(Zt,zt){this.canvas=Zt,this.ctx=this.canvas.getContext("2d"),this.gen=new St(zt)}draw(Zt){const zt=Zt.sets||[],ft=Zt.options||this.getDefaultOptions(),Gt=this.ctx,wt=Zt.options.fixedDecimalPlaceDigits;for(const Jt of zt)switch(Jt.type){case"path":Gt.save(),Gt.strokeStyle=ft.stroke==="none"?"transparent":ft.stroke,Gt.lineWidth=ft.strokeWidth,ft.strokeLineDash&&Gt.setLineDash(ft.strokeLineDash),ft.strokeLineDashOffset&&(Gt.lineDashOffset=ft.strokeLineDashOffset),this._drawToContext(Gt,Jt,wt),Gt.restore();break;case"fillPath":{Gt.save(),Gt.fillStyle=ft.fill||"";const Mt=Zt.shape==="curve"||Zt.shape==="polygon"||Zt.shape==="path"?"evenodd":"nonzero";this._drawToContext(Gt,Jt,wt,Mt),Gt.restore();break}case"fillSketch":this.fillSketch(Gt,Jt,ft)}}fillSketch(Zt,zt,ft){let Gt=ft.fillWeight;Gt<0&&(Gt=ft.strokeWidth/2),Zt.save(),ft.fillLineDash&&Zt.setLineDash(ft.fillLineDash),ft.fillLineDashOffset&&(Zt.lineDashOffset=ft.fillLineDashOffset),Zt.strokeStyle=ft.fill||"",Zt.lineWidth=Gt,this._drawToContext(Zt,zt,ft.fixedDecimalPlaceDigits),Zt.restore()}_drawToContext(Zt,zt,ft,Gt="nonzero"){Zt.beginPath();for(const wt of zt.ops){const Jt=typeof ft=="number"&&ft>=0?wt.data.map(Mt=>+Mt.toFixed(ft)):wt.data;switch(wt.op){case"move":Zt.moveTo(Jt[0],Jt[1]);break;case"bcurveTo":Zt.bezierCurveTo(Jt[0],Jt[1],Jt[2],Jt[3],Jt[4],Jt[5]);break;case"lineTo":Zt.lineTo(Jt[0],Jt[1])}}zt.type==="fillPath"?Zt.fill(Gt):Zt.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(Zt,zt,ft,Gt,wt){const Jt=this.gen.line(Zt,zt,ft,Gt,wt);return this.draw(Jt),Jt}rectangle(Zt,zt,ft,Gt,wt){const Jt=this.gen.rectangle(Zt,zt,ft,Gt,wt);return this.draw(Jt),Jt}ellipse(Zt,zt,ft,Gt,wt){const Jt=this.gen.ellipse(Zt,zt,ft,Gt,wt);return this.draw(Jt),Jt}circle(Zt,zt,ft,Gt){const wt=this.gen.circle(Zt,zt,ft,Gt);return this.draw(wt),wt}linearPath(Zt,zt){const ft=this.gen.linearPath(Zt,zt);return this.draw(ft),ft}polygon(Zt,zt){const ft=this.gen.polygon(Zt,zt);return this.draw(ft),ft}arc(Zt,zt,ft,Gt,wt,Jt,Mt=!1,un){const bn=this.gen.arc(Zt,zt,ft,Gt,wt,Jt,Mt,un);return this.draw(bn),bn}curve(Zt,zt){const ft=this.gen.curve(Zt,zt);return this.draw(ft),ft}path(Zt,zt){const ft=this.gen.path(Zt,zt);return this.draw(ft),ft}}const Pt="http://www.w3.org/2000/svg";class qt{constructor(Zt,zt){this.svg=Zt,this.gen=new St(zt)}draw(Zt){const zt=Zt.sets||[],ft=Zt.options||this.getDefaultOptions(),Gt=this.svg.ownerDocument||window.document,wt=Gt.createElementNS(Pt,"g"),Jt=Zt.options.fixedDecimalPlaceDigits;for(const Mt of zt){let un=null;switch(Mt.type){case"path":un=Gt.createElementNS(Pt,"path"),un.setAttribute("d",this.opsToPath(Mt,Jt)),un.setAttribute("stroke",ft.stroke),un.setAttribute("stroke-width",ft.strokeWidth+""),un.setAttribute("fill","none"),ft.strokeLineDash&&un.setAttribute("stroke-dasharray",ft.strokeLineDash.join(" ").trim()),ft.strokeLineDashOffset&&un.setAttribute("stroke-dashoffset",`${ft.strokeLineDashOffset}`);break;case"fillPath":un=Gt.createElementNS(Pt,"path"),un.setAttribute("d",this.opsToPath(Mt,Jt)),un.setAttribute("stroke","none"),un.setAttribute("stroke-width","0"),un.setAttribute("fill",ft.fill||""),Zt.shape!=="curve"&&Zt.shape!=="polygon"||un.setAttribute("fill-rule","evenodd");break;case"fillSketch":un=this.fillSketch(Gt,Mt,ft)}un&&wt.appendChild(un)}return wt}fillSketch(Zt,zt,ft){let Gt=ft.fillWeight;Gt<0&&(Gt=ft.strokeWidth/2);const wt=Zt.createElementNS(Pt,"path");return wt.setAttribute("d",this.opsToPath(zt,ft.fixedDecimalPlaceDigits)),wt.setAttribute("stroke",ft.fill||""),wt.setAttribute("stroke-width",Gt+""),wt.setAttribute("fill","none"),ft.fillLineDash&&wt.setAttribute("stroke-dasharray",ft.fillLineDash.join(" ").trim()),ft.fillLineDashOffset&&wt.setAttribute("stroke-dashoffset",`${ft.fillLineDashOffset}`),wt}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(Zt,zt){return this.gen.opsToPath(Zt,zt)}line(Zt,zt,ft,Gt,wt){const Jt=this.gen.line(Zt,zt,ft,Gt,wt);return this.draw(Jt)}rectangle(Zt,zt,ft,Gt,wt){const Jt=this.gen.rectangle(Zt,zt,ft,Gt,wt);return this.draw(Jt)}ellipse(Zt,zt,ft,Gt,wt){const Jt=this.gen.ellipse(Zt,zt,ft,Gt,wt);return this.draw(Jt)}circle(Zt,zt,ft,Gt){const wt=this.gen.circle(Zt,zt,ft,Gt);return this.draw(wt)}linearPath(Zt,zt){const ft=this.gen.linearPath(Zt,zt);return this.draw(ft)}polygon(Zt,zt){const ft=this.gen.polygon(Zt,zt);return this.draw(ft)}arc(Zt,zt,ft,Gt,wt,Jt,Mt=!1,un){const bn=this.gen.arc(Zt,zt,ft,Gt,wt,Jt,Mt,un);return this.draw(bn)}curve(Zt,zt){const ft=this.gen.curve(Zt,zt);return this.draw(ft)}path(Zt,zt){const ft=this.gen.path(Zt,zt);return this.draw(ft)}}var dn={canvas:(Rt,Zt)=>new Vt(Rt,Zt),svg:(Rt,Zt)=>new qt(Rt,Zt),generator:Rt=>new St(Rt),newSeed:()=>St.newSeed()}},5714:function(Lt){Lt.exports=function(kt,_,pt){var ht=[],ot=kt.length;if(ot===0)return ht;var at=_<0?Math.max(0,_+ot):_||0;for(pt!==void 0&&(ot=pt<0?pt+ot:pt);ot-- >at;)ht[ot-at]=kt[ot];return ht}},5422:function(Lt,kt,_){var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),Ut=_(4010),rt=_.n(Ut),vt=_(1469),Xt=_.n(vt),nn=_(9329),cn=_.n(nn),Qt=_(2044),hn={};hn.styleTagTransform=cn(),hn.setAttributes=rt(),hn.insert=xt().bind(null,"head"),hn.domAPI=at(),hn.insertStyleElement=Xt(),ht()(Qt.Z,hn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals},487:function(Lt){var kt=[];function _(ot){for(var at=-1,gt=0;gt<kt.length;gt++)if(kt[gt].identifier===ot){at=gt;break}return at}function pt(ot,at){for(var gt={},xt=[],Ut=0;Ut<ot.length;Ut++){var rt=ot[Ut],vt=at.base?rt[0]+at.base:rt[0],Xt=gt[vt]||0,nn="".concat(vt," ").concat(Xt);gt[vt]=Xt+1;var cn=_(nn),Qt={css:rt[1],media:rt[2],sourceMap:rt[3],supports:rt[4],layer:rt[5]};if(cn!==-1)kt[cn].references++,kt[cn].updater(Qt);else{var hn=ht(Qt,at);at.byIndex=Ut,kt.splice(Ut,0,{identifier:nn,updater:hn,references:1})}xt.push(nn)}return xt}function ht(ot,at){var gt=at.domAPI(at);return gt.update(ot),function(xt){if(xt){if(xt.css===ot.css&&xt.media===ot.media&&xt.sourceMap===ot.sourceMap&&xt.supports===ot.supports&&xt.layer===ot.layer)return;gt.update(ot=xt)}else gt.remove()}}Lt.exports=function(ot,at){var gt=pt(ot=ot||[],at=at||{});return function(xt){xt=xt||[];for(var Ut=0;Ut<gt.length;Ut++){var rt=_(gt[Ut]);kt[rt].references--}for(var vt=pt(xt,at),Xt=0;Xt<gt.length;Xt++){var nn=_(gt[Xt]);kt[nn].references===0&&(kt[nn].updater(),kt.splice(nn,1))}gt=vt}}},2052:function(Lt){var kt={};Lt.exports=function(_,pt){var ht=function(ot){if(kt[ot]===void 0){var at=document.querySelector(ot);if(window.HTMLIFrameElement&&at instanceof window.HTMLIFrameElement)try{at=at.contentDocument.head}catch{at=null}kt[ot]=at}return kt[ot]}(_);if(!ht)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ht.appendChild(pt)}},1469:function(Lt){Lt.exports=function(kt){var _=document.createElement("style");return kt.setAttributes(_,kt.attributes),kt.insert(_,kt.options),_}},4010:function(Lt,kt,_){Lt.exports=function(pt){var ht=_.nc;ht&&pt.setAttribute("nonce",ht)}},631:function(Lt){Lt.exports=function(kt){var _=kt.insertStyleElement(kt);return{update:function(pt){(function(ht,ot,at){var gt="";at.supports&&(gt+="@supports (".concat(at.supports,") {")),at.media&&(gt+="@media ".concat(at.media," {"));var xt=at.layer!==void 0;xt&&(gt+="@layer".concat(at.layer.length>0?" ".concat(at.layer):""," {")),gt+=at.css,xt&&(gt+="}"),at.media&&(gt+="}"),at.supports&&(gt+="}");var Ut=at.sourceMap;Ut&&typeof btoa<"u"&&(gt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ut))))," */")),ot.styleTagTransform(gt,ht,ot.options)})(_,kt,pt)},remove:function(){(function(pt){if(pt.parentNode===null)return!1;pt.parentNode.removeChild(pt)})(_)}}}},9329:function(Lt){Lt.exports=function(kt,_){if(_.styleSheet)_.styleSheet.cssText=kt;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(kt))}}},2173:function(Lt,kt,_){var pt=_(9787),ht=typeof Object.is=="function"?Object.is:function(vt,Xt){return vt===Xt&&(vt!==0||1/vt==1/Xt)||vt!=vt&&Xt!=Xt},ot=pt.useState,at=pt.useEffect,gt=pt.useLayoutEffect,xt=pt.useDebugValue;function Ut(vt){var Xt=vt.getSnapshot;vt=vt.value;try{var nn=Xt();return!ht(vt,nn)}catch{return!0}}var rt=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(vt,Xt){return Xt()}:function(vt,Xt){var nn=Xt(),cn=ot({inst:{value:nn,getSnapshot:Xt}}),Qt=cn[0].inst,hn=cn[1];return gt(function(){Qt.value=nn,Qt.getSnapshot=Xt,Ut(Qt)&&hn({inst:Qt})},[vt,nn,Xt]),at(function(){return Ut(Qt)&&hn({inst:Qt}),vt(function(){Ut(Qt)&&hn({inst:Qt})})},[vt]),xt(nn),nn};kt.useSyncExternalStore=pt.useSyncExternalStore!==void 0?pt.useSyncExternalStore:rt},5917:function(Lt,kt,_){var pt=_(9787),ht=_(1374),ot=typeof Object.is=="function"?Object.is:function(vt,Xt){return vt===Xt&&(vt!==0||1/vt==1/Xt)||vt!=vt&&Xt!=Xt},at=ht.useSyncExternalStore,gt=pt.useRef,xt=pt.useEffect,Ut=pt.useMemo,rt=pt.useDebugValue;kt.useSyncExternalStoreWithSelector=function(vt,Xt,nn,cn,Qt){var hn=gt(null);if(hn.current===null){var fn={hasValue:!1,value:null};hn.current=fn}else fn=hn.current;hn=Ut(function(){function mn(Bt){if(!yt){if(yt=!0,pn=Bt,Bt=cn(Bt),Qt!==void 0&&fn.hasValue){var bt=fn.value;if(Qt(bt,Bt))return vn=bt}return vn=Bt}if(bt=vn,ot(pn,Bt))return bt;var Et=cn(Bt);return Qt!==void 0&&Qt(bt,Et)?bt:(pn=Bt,vn=Et)}var pn,vn,yt=!1,Ht=nn===void 0?null:nn;return[function(){return mn(Xt())},Ht===null?void 0:function(){return mn(Ht())}]},[Xt,nn,cn,Qt]);var Nn=at(vt,hn[0],hn[1]);return xt(function(){fn.hasValue=!0,fn.value=Nn},[Nn]),rt(Nn),Nn}},1374:function(Lt,kt,_){Lt.exports=_(2173)},5668:function(Lt,kt,_){Lt.exports=_(5917)},940:function(Lt,kt,_){var pt={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function ht(ot){if(!_.o(pt,ot))return Promise.resolve().then(function(){var xt=new Error("Cannot find module '"+ot+"'");throw xt.code="MODULE_NOT_FOUND",xt});var at=pt[ot],gt=at[0];return Promise.all(at.slice(1).map(_.e)).then(function(){return _.t(gt,19)})}ht.keys=function(){return Object.keys(pt)},ht.id=940,Lt.exports=ht},9713:function(Lt){Lt.exports=function(kt,_,pt){return _ in kt?Object.defineProperty(kt,_,{value:pt,enumerable:!0,configurable:!0,writable:!0}):kt[_]=pt,kt}},6479:function(Lt,kt,_){var pt=_(7316);Lt.exports=function(ht,ot){if(ht==null)return{};var at,gt,xt=pt(ht,ot);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ht);for(gt=0;gt<Ut.length;gt++)at=Ut[gt],ot.indexOf(at)>=0||Object.prototype.propertyIsEnumerable.call(ht,at)&&(xt[at]=ht[at])}return xt}},7316:function(Lt){Lt.exports=function(kt,_){if(kt==null)return{};var pt,ht,ot={},at=Object.keys(kt);for(ht=0;ht<at.length;ht++)pt=at[ht],_.indexOf(pt)>=0||(ot[pt]=kt[pt]);return ot}},4295:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),Ut=new URL(_(3940),_.b),rt=new URL(_(3147),_.b),vt=new URL(_(8303),_.b),Xt=new URL(_(1273),_.b),nn=new URL(_(9577),_.b),cn=new URL(_(9729),_.b),Qt=at()(ht()),hn=xt()(Ut),fn=xt()(rt),Nn=xt()(vt),mn=xt()(Xt),pn=xt()(nn),vn=xt()(cn);Qt.push([Lt.id,'@font-face{font-family:"Virgil";src:url('+hn+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+fn+');font-display:swap}@font-face{font-family:"Assistant";src:url('+Nn+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+mn+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+pn+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+vn+");font-display:swap;font-weight:700}",""]),kt.Z=Qt},6086:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),kt.Z=at},3729:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),kt.Z=at},3137:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),Ut=new URL(_(7984),_.b),rt=new URL(_(1639),_.b),vt=at()(ht()),Xt=xt()(Ut),nn=xt()(rt);vt.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Xt+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+nn+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),kt.Z=vt},4241:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),kt.Z=at},6029:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),kt.Z=at},2345:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),Ut=new URL(_(9669),_.b),rt=at()(ht()),vt=xt()(Ut);rt.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+vt+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),kt.Z=rt},9393:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),kt.Z=at},6578:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),kt.Z=at},9482:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),kt.Z=at},6148:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),kt.Z=at},7955:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),Ut=new URL(_(9669),_.b),rt=at()(ht()),vt=xt()(Ut);rt.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+vt+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),kt.Z=rt},3195:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),kt.Z=at},2978:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),kt.Z=at},1587:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),kt.Z=at},9478:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),kt.Z=at},7369:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),kt.Z=at},1434:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),kt.Z=at},2316:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),kt.Z=at},8923:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),kt.Z=at},6440:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),kt.Z=at},2701:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),kt.Z=at},6843:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),kt.Z=at},8461:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),kt.Z=at},9935:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),kt.Z=at},532:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),kt.Z=at},7589:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),kt.Z=at},8208:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),kt.Z=at},5892:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),kt.Z=at},3874:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),kt.Z=at},2681:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),kt.Z=at},6759:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),kt.Z=at},9650:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),kt.Z=at},2044:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),kt.Z=at},9144:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),kt.Z=at},6626:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),kt.Z=at},6359:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),kt.Z=at},7399:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),kt.Z=at},8793:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),kt.Z=at},3397:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),kt.Z=at},4343:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),kt.Z=at},1569:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),kt.Z=at},9915:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),kt.Z=at},9310:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),Ut=new URL(_(7984),_.b),rt=new URL(_(1639),_.b),vt=at()(ht()),Xt=xt()(Ut),nn=xt()(rt);vt.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Xt+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+nn+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:auto;max-width:90vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),kt.Z=vt},6464:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,"",""]),at.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},kt.Z=at},5260:function(Lt,kt,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Lt.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),kt.Z=at},3645:function(Lt){Lt.exports=function(kt){var _=[];return _.toString=function(){return this.map(function(pt){var ht="",ot=pt[5]!==void 0;return pt[4]&&(ht+="@supports (".concat(pt[4],") {")),pt[2]&&(ht+="@media ".concat(pt[2]," {")),ot&&(ht+="@layer".concat(pt[5].length>0?" ".concat(pt[5]):""," {")),ht+=kt(pt),ot&&(ht+="}"),pt[2]&&(ht+="}"),pt[4]&&(ht+="}"),ht}).join("")},_.i=function(pt,ht,ot,at,gt){typeof pt=="string"&&(pt=[[null,pt,void 0]]);var xt={};if(ot)for(var Ut=0;Ut<this.length;Ut++){var rt=this[Ut][0];rt!=null&&(xt[rt]=!0)}for(var vt=0;vt<pt.length;vt++){var Xt=[].concat(pt[vt]);ot&&xt[Xt[0]]||(gt!==void 0&&(Xt[5]===void 0||(Xt[1]="@layer".concat(Xt[5].length>0?" ".concat(Xt[5]):""," {").concat(Xt[1],"}")),Xt[5]=gt),ht&&(Xt[2]&&(Xt[1]="@media ".concat(Xt[2]," {").concat(Xt[1],"}")),Xt[2]=ht),at&&(Xt[4]?(Xt[1]="@supports (".concat(Xt[4],") {").concat(Xt[1],"}"),Xt[4]=at):Xt[4]="".concat(at)),_.push(Xt))}},_}},1667:function(Lt){Lt.exports=function(kt,_){return _||(_={}),kt&&(kt=String(kt.__esModule?kt.default:kt),/^['"].*['"]$/.test(kt)&&(kt=kt.slice(1,-1)),_.hash&&(kt+=_.hash),/["'() \t\n]|(%20)/.test(kt)||_.needQuotes?'"'.concat(kt.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):kt)}},8081:function(Lt){Lt.exports=function(kt){return kt[1]}},202:function(Lt,kt,_){_.d(kt,{JQ:function(){return vn},vD:function(){return mn},y7:function(){return Nn}});var pt=_(1930),ht=_(7169),ot=_(2335),at=_(1047),gt=_(1935),xt=_(5710),Ut=_(6906),rt=_(1974),vt=_(75),Xt=_(6340),nn=_(7901);function cn(yt,Ht){var Bt=typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(!Bt){if(Array.isArray(yt)||(Bt=function(it,_e){if(it){if(typeof it=="string")return Qt(it,_e);var lt=Object.prototype.toString.call(it).slice(8,-1);if(lt==="Object"&&it.constructor&&(lt=it.constructor.name),lt==="Map"||lt==="Set")return Array.from(it);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return Qt(it,_e)}}(yt))||Ht&&yt&&typeof yt.length=="number"){Bt&&(yt=Bt);var bt=0,Et=function(){};return{s:Et,n:function(){return bt>=yt.length?{done:!0}:{done:!1,value:yt[bt++]}},e:function(it){throw it},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var At,Ct=!0,ct=!1;return{s:function(){Bt=Bt.call(yt)},n:function(){var it=Bt.next();return Ct=it.done,it},e:function(it){ct=!0,At=it},f:function(){try{Ct||Bt.return==null||Bt.return()}finally{if(ct)throw At}}}}function Qt(yt,Ht){(Ht==null||Ht>yt.length)&&(Ht=yt.length);for(var Bt=0,bt=new Array(Ht);Bt<Ht;Bt++)bt[Bt]=yt[Bt];return bt}function hn(yt,Ht){var Bt=Object.keys(yt);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(yt);Ht&&(bt=bt.filter(function(Et){return Object.getOwnPropertyDescriptor(yt,Et).enumerable})),Bt.push.apply(Bt,bt)}return Bt}function fn(yt){for(var Ht=1;Ht<arguments.length;Ht++){var Bt=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?hn(Object(Bt),!0).forEach(function(bt){(0,ht.Z)(yt,bt,Bt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Bt)):hn(Object(Bt)).forEach(function(bt){Object.defineProperty(yt,bt,Object.getOwnPropertyDescriptor(Bt,bt))})}return yt}var Nn=(0,nn.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(yt,Ht){return(0,vt.eD)(yt,Ht).some(function(Bt){return(0,rt.Xo)(Bt)})},perform:function(yt,Ht){return(0,vt.eD)((0,at.Lm)(yt),Ht).forEach(function(Bt){var bt=(0,xt.WJ)(Bt);if(bt){var Et,At=(0,xt.X1)(bt.originalText,(0,Xt.mO)(bt),bt.lineHeight),Ct=At.width,ct=At.height,it=At.baseline,_e=(0,Ut.eR)(Bt.id);(0,Ut.kT)(Bt.id);var lt=(0,xt.FE)(Bt,bt),st=lt.x,It=lt.y;(0,gt.DR)(bt,{containerId:null,width:Ct,height:ct,baseline:it,text:bt.originalText,x:st,y:It}),(0,gt.DR)(Bt,{boundElements:(Et=Bt.boundElements)===null||Et===void 0?void 0:Et.filter(function(Dt){return Dt.id!==bt.id}),height:_e||Bt.height})}}),{elements:yt,appState:Ht,commitToHistory:!0}}}),mn=(0,nn.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(yt,Ht){var Bt=(0,vt.eD)(yt,Ht);if(Bt.length===2){var bt,Et=(0,at.iB)(Bt[0])||(0,at.iB)(Bt[1]);if((0,rt.mG)(Bt[0])?bt=Bt[0]:(0,rt.mG)(Bt[1])&&(bt=Bt[1]),Et&&bt&&(0,xt.WJ)(bt)===null)return!0}return!1},perform:function(yt,Ht){var Bt,bt,Et=(0,vt.eD)((0,at.Lm)(yt),Ht);(0,at.iB)(Et[0])&&(0,rt.mG)(Et[1])?(Bt=Et[0],bt=Et[1]):(Bt=Et[1],bt=Et[0]),(0,gt.DR)(Bt,{containerId:bt.id,verticalAlign:ot.oX.MIDDLE,textAlign:ot.I8.CENTER}),(0,gt.DR)(bt,{boundElements:(bt.boundElements||[]).concat({type:"text",id:Bt.id})});var At=bt.height;return(0,xt.oN)(Bt,bt),(0,Ut.h_)(bt.id,At),{elements:pn(yt,bt,Bt),appState:fn(fn({},Ht),{},{selectedElementIds:(0,ht.Z)({},bt.id,!0)}),commitToHistory:!0}}}),pn=function(yt,Ht,Bt){var bt=yt.slice(),Et=bt.findIndex(function(Ct){return Ct.id===Bt.id});bt.splice(Et,1);var At=bt.findIndex(function(Ct){return Ct.id===Ht.id});return bt.splice(At+1,0,Bt),bt},vn=(0,nn.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(yt,Ht){var Bt=(0,vt.eD)(yt,Ht),bt=Bt.every(function(Et){return(0,at.iB)(Et)});return Bt.length>0&&bt},perform:function(yt,Ht){var Bt,bt=(0,vt.eD)((0,at.Lm)(yt),Ht),Et=yt.slice(),At={},Ct=cn(bt);try{var ct=function(){var it=Bt.value;if((0,at.iB)(it)){var _e,lt=(0,at.Up)({type:"rectangle",backgroundColor:Ht.currentItemBackgroundColor,boundElements:[].concat((0,pt.Z)(it.boundElements||[]),[{id:it.id,type:"text"}]),angle:it.angle,fillStyle:Ht.currentItemFillStyle,strokeColor:Ht.currentItemStrokeColor,roughness:Ht.currentItemRoughness,strokeWidth:Ht.currentItemStrokeWidth,strokeStyle:Ht.currentItemStrokeStyle,roundness:Ht.currentItemRoundness==="round"?{type:(0,rt.QI)("rectangle")?ot.a6.ADAPTIVE_RADIUS:ot.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:it.x-ot.gK,y:it.y-ot.gK,width:(0,xt.NS)(it.width,"rectangle"),height:(0,xt.NS)(it.height,"rectangle"),groupIds:it.groupIds});if((_e=it.boundElements)!==null&&_e!==void 0&&_e.length){var st=it.boundElements.filter(function(It){return It.type==="arrow"}).map(function(It){return It.id});Et.filter(function(It){return st.includes(It.id)}).forEach(function(It){var Dt,tn,Tt=It.startBinding,$t=It.endBinding;((Dt=Tt)===null||Dt===void 0?void 0:Dt.elementId)===it.id&&(Tt=fn(fn({},Tt),{},{elementId:lt.id})),((tn=$t)===null||tn===void 0?void 0:tn.elementId)===it.id&&($t=fn(fn({},$t),{},{elementId:lt.id})),(Tt||$t)&&(0,gt.DR)(It,{startBinding:Tt,endBinding:$t},!1)})}(0,gt.DR)(it,{containerId:lt.id,verticalAlign:ot.oX.MIDDLE,boundElements:null,textAlign:ot.I8.CENTER},!1),(0,xt.oN)(it,lt),Et=function(It,Dt,tn){var Tt=It.slice(),$t=Tt.findIndex(function(Ot){return Ot.id===Dt.id});Tt.splice($t,1);var Wt=Tt.findIndex(function(Ot){return Ot.id===tn.id});return Tt.splice(Wt,0,Dt),Tt}([].concat((0,pt.Z)(Et),[lt]),lt,it),At[lt.id]=!0}};for(Ct.s();!(Bt=Ct.n()).done;)ct()}catch(it){Ct.e(it)}finally{Ct.f()}return{elements:Et,appState:fn(fn({},Ht),{},{selectedElementIds:At}),commitToHistory:!0}}})},2416:function(Lt,kt,_){_.d(kt,{CZ:function(){return bt},Lo:function(){return Bt},Zp:function(){return Ct},eF:function(){return ct},md:function(){return At},mo:function(){return Ht}});var pt=_(2577),ht=_(7169),ot=_(4499),at=_(3646),gt=_(1319),xt=_(2335),Ut=_(1047),rt=_(8211),vt=_(6066),Xt=_(75),nn=_(2264),cn=_(746),Qt=_(6340),hn=_(7901),fn=_(1894),Nn=_(1935),mn=_(8897),pn=_(4512);function vn(it,_e){var lt=Object.keys(it);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(it);_e&&(st=st.filter(function(It){return Object.getOwnPropertyDescriptor(it,It).enumerable})),lt.push.apply(lt,st)}return lt}function yt(it){for(var _e=1;_e<arguments.length;_e++){var lt=arguments[_e]!=null?arguments[_e]:{};_e%2?vn(Object(lt),!0).forEach(function(st){(0,ht.Z)(it,st,lt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(lt)):vn(Object(lt)).forEach(function(st){Object.defineProperty(it,st,Object.getOwnPropertyDescriptor(lt,st))})}return it}(0,hn.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(it,_e,lt,st){return!!st.props.UIOptions.canvasActions.changeViewBackgroundColor&&!_e.viewModeEnabled},perform:function(it,_e,lt){return{appState:yt(yt({},_e),lt),commitToHistory:!!lt.viewBackgroundColor}},PanelComponent:function(it){var _e=it.elements,lt=it.appState,st=it.updateData;return(0,pn.jsx)("div",{style:{position:"relative"},children:(0,pn.jsx)(ot.z,{label:(0,rt.t)("labels.canvasBackground"),type:"canvasBackground",color:lt.viewBackgroundColor,onChange:function(It){return st({viewBackgroundColor:It})},isActive:lt.openPopup==="canvasColorPicker",setActive:function(It){return st({openPopup:It?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:_e,appState:lt})})}});var Ht=(0,hn.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(it,_e,lt,st){return!!st.props.UIOptions.canvasActions.clearCanvas&&!_e.viewModeEnabled},perform:function(it,_e,lt,st){return st.imageCache.clear(),{elements:it.map(function(It){return(0,Nn.BE)(It,{isDeleted:!0})}),appState:yt(yt({},(0,mn.im)()),{},{files:{},theme:_e.theme,penMode:_e.penMode,penDetected:_e.penDetected,exportBackground:_e.exportBackground,exportEmbedScene:_e.exportEmbedScene,gridSize:_e.gridSize,showStats:_e.showStats,pasteDialog:_e.pasteDialog,activeTool:_e.activeTool.type==="image"?yt(yt({},_e.activeTool),{},{type:"selection"}):_e.activeTool}),commitToHistory:!0}}}),Bt=(0,hn.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(it,_e,lt,st){return{appState:yt(yt({},_e),(0,cn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Xt.j)(_e.zoom.value+xt.V4)},_e)),commitToHistory:!1}},PanelComponent:function(it){var _e=it.updateData;return(0,pn.jsx)(gt.V,{type:"button",className:"zoom-in-button zoom-button",icon:at.Sd,title:"".concat((0,rt.t)("buttons.zoomIn")," — ").concat((0,Qt.uY)("CtrlOrCmd++")),"aria-label":(0,rt.t)("buttons.zoomIn"),onClick:function(){_e(null)}})},keyTest:function(it){return(it.code===vt.aU.EQUAL||it.code===vt.aU.NUM_ADD)&&(it[vt.tW.CTRL_OR_CMD]||it.shiftKey)}}),bt=(0,hn.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(it,_e,lt,st){return{appState:yt(yt({},_e),(0,cn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Xt.j)(_e.zoom.value-xt.V4)},_e)),commitToHistory:!1}},PanelComponent:function(it){var _e=it.updateData;return(0,pn.jsx)(gt.V,{type:"button",className:"zoom-out-button zoom-button",icon:at.xL,title:"".concat((0,rt.t)("buttons.zoomOut")," — ").concat((0,Qt.uY)("CtrlOrCmd+-")),"aria-label":(0,rt.t)("buttons.zoomOut"),onClick:function(){_e(null)}})},keyTest:function(it){return(it.code===vt.aU.MINUS||it.code===vt.aU.NUM_SUBTRACT)&&(it[vt.tW.CTRL_OR_CMD]||it.shiftKey)}}),Et=((0,hn.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(it,_e,lt,st){return{appState:yt(yt({},_e),(0,cn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Xt.j)(1)},_e)),commitToHistory:!1}},PanelComponent:function(it){var _e=it.updateData,lt=it.appState;return(0,pn.jsx)(fn.u,{label:(0,rt.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,pn.jsxs)(gt.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,rt.t)("buttons.resetZoom"),"aria-label":(0,rt.t)("buttons.resetZoom"),onClick:function(){_e(null)},children:[(100*lt.zoom.value).toFixed(0),"%"]})})},keyTest:function(it){return(it.code===vt.aU.ZERO||it.code===vt.aU.NUM_ZERO)&&(it[vt.tW.CTRL_OR_CMD]||it.shiftKey)}}),function(it,_e){var lt=(0,pt.Z)(it,4),st=lt[0],It=lt[1],Dt=lt[2],tn=lt[3],Tt=Dt-st,$t=_e.width/Tt,Wt=tn-It,Ot=_e.height/Wt,In=Math.min($t,Ot),rn=Math.floor(In/xt.V4)*xt.V4;return Math.min(Math.max(rn,xt.Zj),1)}),At=function(it,_e,lt){var st=(0,Ut.Lm)(it),It=(0,Xt.eD)(st,_e),Dt=lt&&It.length>0?(0,Ut.KP)(It):(0,Ut.KP)(st),tn={value:Et(Dt,{width:_e.width,height:_e.height})},Tt=(0,pt.Z)(Dt,4),$t=Tt[0],Wt=Tt[1],Ot=($t+Tt[2])/2,In=(Wt+Tt[3])/2;return{appState:yt(yt(yt({},_e),(0,nn.s)({scenePoint:{x:Ot,y:In},viewportDimensions:{width:_e.width,height:_e.height},zoom:tn})),{},{zoom:tn}),commitToHistory:!1}},Ct=((0,hn.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(it,_e){return At(it,_e,!0)},keyTest:function(it){return it.code===vt.aU.TWO&&it.shiftKey&&!it.altKey&&!it[vt.tW.CTRL_OR_CMD]}}),(0,hn.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(it,_e){return At(it,_e,!1)},keyTest:function(it){return it.code===vt.aU.ONE&&it.shiftKey&&!it.altKey&&!it[vt.tW.CTRL_OR_CMD]}}),(0,hn.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(it,_e,lt){return{appState:yt(yt({},_e),{},{theme:lt||(_e.theme===xt.C6.LIGHT?xt.C6.DARK:xt.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(it){return it.altKey&&it.shiftKey&&it.code===vt.aU.D},predicate:function(it,_e,lt,st){return!!st.props.UIOptions.canvasActions.toggleTheme}})),ct=((0,hn.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(it,_e){var lt;return lt=(0,mn.EN)(_e)?(0,Qt.Om)(_e,yt(yt({},_e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,Qt.Om)(_e,{type:"eraser",lastActiveToolBeforeEraser:_e.activeTool}),{appState:yt(yt({},_e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:lt}),commitToHistory:!0}},keyTest:function(it){return it.key===vt.tW.E}}),(0,hn.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(it,_e,lt,st){var It;return(0,mn.l$)(_e)?It=(0,Qt.Om)(_e,yt(yt({},_e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(It=(0,Qt.Om)(_e,{type:"hand",lastActiveToolBeforeEraser:_e.activeTool}),(0,Qt.KJ)(st.canvas,xt.oc.GRAB)),{appState:yt(yt({},_e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:It}),commitToHistory:!0}},keyTest:function(it){return it.key===vt.tW.H}}))},4688:function(Lt,kt,_){_.d(kt,{FA:function(){return yt},ZM:function(){return vn},jK:function(){return Ht},uN:function(){return mn},yQ:function(){return pn},zp:function(){return Bt}});var pt=_(7169),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(6066),xt=_(7901),Ut=_(6665),rt=_(533),vt=_(1868),Xt=_(9485),nn=_(1047),cn=_(8211);function Qt(bt,Et){var At=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Et&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),At.push.apply(At,Ct)}return At}function hn(bt){for(var Et=1;Et<arguments.length;Et++){var At=arguments[Et]!=null?arguments[Et]:{};Et%2?Qt(Object(At),!0).forEach(function(Ct){(0,pt.Z)(bt,Ct,At[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(At)):Qt(Object(At)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(At,Ct))})}return bt}var fn,Nn,mn=(0,xt.z)({name:"copy",trackEvent:{category:"element"},perform:function(bt,Et,At,Ct){var ct=(0,vt.eD)(bt,Et,!0);return(0,Ut.vQ)(ct,Et,Ct.files),{commitToHistory:!1}},predicate:function(bt,Et,At,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),pn=(0,xt.z)({name:"paste",trackEvent:{category:"element"},perform:function(bt,Et,At,Ct){return Ct.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(bt,Et,At,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),vn=(0,xt.z)({name:"cut",trackEvent:{category:"element"},perform:function(bt,Et,At,Ct){return mn.perform(bt,Et,At,Ct),rt.X.perform(bt,Et)},predicate:function(bt,Et,At,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(bt){return bt[gt.tW.CTRL_OR_CMD]&&bt.key===gt.tW.X}}),yt=(0,xt.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(fn=(0,ht.Z)(at().mark(function bt(Et,At,Ct,ct){var it;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct.canvas){_e.next=2;break}return _e.abrupt("return",{commitToHistory:!1});case 2:return it=(0,vt.eD)((0,nn.Lm)(Et),At,!0),_e.prev=3,_e.next=6,(0,Xt.p1)("clipboard-svg",it.length?it:(0,nn.Lm)(Et),At,ct.files,At);case 6:return _e.abrupt("return",{commitToHistory:!1});case 9:return _e.prev=9,_e.t0=_e.catch(3),console.error(_e.t0),_e.abrupt("return",{appState:hn(hn({},At),{},{errorMessage:_e.t0.message}),commitToHistory:!1});case 13:case"end":return _e.stop()}},bt,null,[[3,9]])})),function(bt,Et,At,Ct){return fn.apply(this,arguments)}),predicate:function(bt){return Ut.wx&&bt.length>0},contextItemLabel:"labels.copyAsSvg"}),Ht=(0,xt.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Nn=(0,ht.Z)(at().mark(function bt(Et,At,Ct,ct){var it;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct.canvas){_e.next=2;break}return _e.abrupt("return",{commitToHistory:!1});case 2:return it=(0,vt.eD)((0,nn.Lm)(Et),At,!0),_e.prev=3,_e.next=6,(0,Xt.p1)("clipboard",it.length?it:(0,nn.Lm)(Et),At,ct.files,At);case 6:return _e.abrupt("return",{appState:hn(hn({},At),{},{toast:{message:(0,cn.t)("toast.copyToClipboardAsPng",{exportSelection:it.length?(0,cn.t)("toast.selection"):(0,cn.t)("toast.canvas"),exportColorScheme:At.exportWithDarkMode?(0,cn.t)("buttons.darkMode"):(0,cn.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return _e.prev=9,_e.t0=_e.catch(3),console.error(_e.t0),_e.abrupt("return",{appState:hn(hn({},At),{},{errorMessage:_e.t0.message}),commitToHistory:!1});case 13:case"end":return _e.stop()}},bt,null,[[3,9]])})),function(bt,Et,At,Ct){return Nn.apply(this,arguments)}),predicate:function(bt){return Ut.vt&&bt.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(bt){return bt.code===gt.aU.C&&bt.altKey&&bt.shiftKey}}),Bt=(0,xt.z)({name:"copyText",trackEvent:{category:"element"},perform:function(bt,Et){var At=(0,vt.eD)((0,nn.Lm)(bt),Et,!0).reduce(function(Ct,ct){return(0,nn.iB)(ct)&&Ct.push(ct.text),Ct},[]).join(`

`);return(0,Ut.dd)(At),{commitToHistory:!1}},predicate:function(bt,Et){return Ut.wx&&(0,vt.eD)(bt,Et,!0).some(nn.iB)},contextItemLabel:"labels.copyText"})},533:function(Lt,kt,_){_.d(kt,{X:function(){return vn}});var pt=_(7169),ht=_(75),ot=_(6066),at=_(1319),gt=_(8211),xt=_(7901),Ut=_(1047),rt=_(1935),vt=_(242),Xt=_(6938),nn=_(8290),cn=_(1974),Qt=_(6340),hn=_(3646),fn=_(4512);function Nn(yt,Ht){var Bt=Object.keys(yt);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(yt);Ht&&(bt=bt.filter(function(Et){return Object.getOwnPropertyDescriptor(yt,Et).enumerable})),Bt.push.apply(Bt,bt)}return Bt}function mn(yt){for(var Ht=1;Ht<arguments.length;Ht++){var Bt=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Nn(Object(Bt),!0).forEach(function(bt){(0,pt.Z)(yt,bt,Bt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Bt)):Nn(Object(Bt)).forEach(function(bt){Object.defineProperty(yt,bt,Object.getOwnPropertyDescriptor(Bt,bt))})}return yt}var pn=function(yt,Ht){if(yt.editingGroupId){var Bt=(0,vt.Fb)((0,Ut.Lm)(Ht),yt.editingGroupId);if(Bt.length)return mn(mn({},yt),{},{selectedElementIds:(0,pt.Z)({},Bt[0].id,!0)})}return yt},vn=(0,xt.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(yt,Ht){if(Ht.editingLinearElement){var Bt=Ht.editingLinearElement,bt=Bt.elementId,Et=Bt.selectedPointsIndices,At=Bt.startBindingElement,Ct=Bt.endBindingElement,ct=Xt._.getElement(bt);if(!ct||Et==null)return!1;if(ct.points.length<2){var it=yt.map(function(Dt){return Dt.id===ct.id?(0,rt.BE)(Dt,{isDeleted:!0}):Dt});return{elements:it,appState:mn(mn({},pn(Ht,it)),{},{editingLinearElement:null}),commitToHistory:!1}}var _e={startBindingElement:Et!=null&&Et.includes(0)?null:At,endBindingElement:Et!=null&&Et.includes(ct.points.length-1)?null:Ct};return Xt._.deletePoints(ct,Et),{elements:yt,appState:mn(mn({},Ht),{},{editingLinearElement:mn(mn(mn({},Ht.editingLinearElement),_e),{},{selectedPointsIndices:(Et==null?void 0:Et[0])>0?[Et[0]-1]:[0]})}),commitToHistory:!0}}var lt=function(Dt,tn){return{elements:Dt.map(function(Tt){return tn.selectedElementIds[Tt.id]||(0,cn.Xh)(Tt)&&tn.selectedElementIds[Tt.containerId]?(0,rt.BE)(Tt,{isDeleted:!0}):Tt}),appState:mn(mn({},tn),{},{selectedElementIds:{}})}}(yt,Ht),st=lt.elements,It=lt.appState;return(0,nn.$q)(st,yt.filter(function(Dt){var tn=Dt.id;return Ht.selectedElementIds[tn]})),{elements:st,appState:mn(mn({},It=pn(It,st)),{},{activeTool:(0,Qt.Om)(Ht,{type:"selection"}),multiElement:null}),commitToHistory:(0,ht.N)((0,Ut.Lm)(yt),Ht)}},contextItemLabel:"labels.delete",keyTest:function(yt,Ht,Bt){return(yt.key===ot.tW.BACKSPACE||yt.key===ot.tW.DELETE)&&!yt[ot.tW.CTRL_OR_CMD]},PanelComponent:function(yt){var Ht=yt.elements,Bt=yt.appState,bt=yt.updateData;return(0,fn.jsx)(at.V,{type:"button",icon:hn.XH,title:(0,gt.t)("labels.delete"),"aria-label":(0,gt.t)("labels.delete"),onClick:function(){return bt(null)},visible:(0,ht.N)((0,Ut.Lm)(Ht),Bt)})}})},8671:function(Lt,kt,_){_.d(kt,{_d:function(){return Jt},mM:function(){return wt},ns:function(){return Gt}});var pt=_(8950),ht=_(2577),ot=_(7169),at=_(2975),gt=_.n(at),xt=_(3646),Ut=_(487),rt=_.n(Ut),vt=_(631),Xt=_.n(vt),nn=_(2052),cn=_.n(nn),Qt=_(4010),hn=_.n(Qt),fn=_(1469),Nn=_.n(fn),mn=_(9329),pn=_.n(mn),vn=_(6759),yt={};yt.styleTagTransform=pn(),yt.setAttributes=hn(),yt.insert=cn().bind(null,"head"),yt.domAPI=Xt(),yt.insertStyleElement=Nn(),rt()(vn.Z,yt),vn.Z&&vn.Z.locals&&vn.Z.locals;var Ht=_(9787),Bt=_(6340),bt=_(532),Et={};Et.styleTagTransform=pn(),Et.setAttributes=hn(),Et.insert=cn().bind(null,"head"),Et.domAPI=Xt(),Et.insertStyleElement=Nn(),rt()(bt.Z,Et),bt.Z&&bt.Z.locals&&bt.Z.locals;var At=_(2134),Ct=_(4512),ct=function(Mt){var un=(0,At.J0)().id,bn=(0,Ht.useState)(Mt.value),jt=(0,ht.Z)(bn,2),Fn=jt[0],yn=jt[1];return(0,Ct.jsxs)("div",{className:"ProjectName",children:[(0,Ct.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(Mt.label).concat(Mt.isNameEditable?"":":")}),Mt.isNameEditable?(0,Ct.jsx)("input",{type:"text",className:"TextInput",onBlur:function(Gn){(0,Bt.qz)(Gn.target);var Nt=Gn.target.value;Nt!==Mt.value&&Mt.onChange(Nt)},onKeyDown:function(Gn){if(Gn.key==="Enter"){if(Gn.preventDefault(),Gn.nativeEvent.isComposing||Gn.keyCode===229)return;Gn.currentTarget.blur()}},id:"".concat(un,"-filename"),value:Fn,onChange:function(Gn){return yn(Gn.target.value)}}):(0,Ct.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(un,"-filename"),children:Mt.value})]})},it=_(1319),_e=_(1894),lt=(_(5422),_(8211)),st=_(2335),It=function(Mt){var un=Mt.title||(Mt.value==="dark"?(0,lt.t)("buttons.lightMode"):(0,lt.t)("buttons.darkMode"));return(0,Ct.jsx)(it.V,{type:"icon",icon:Mt.value===st.C6.LIGHT?Dt.MOON:Dt.SUN,title:un,"aria-label":un,onClick:function(){return Mt.onChange(Mt.value===st.C6.DARK?st.C6.LIGHT:st.C6.DARK)},"data-testid":"toggle-dark-mode"})},Dt={SUN:(0,Ct.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ct.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,Ct.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ct.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},tn=_(9485),Tt=_(1047),$t=_(434);function Wt(Mt,un){var bn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(Mt);un&&(jt=jt.filter(function(Fn){return Object.getOwnPropertyDescriptor(Mt,Fn).enumerable})),bn.push.apply(bn,jt)}return bn}function Ot(Mt){for(var un=1;un<arguments.length;un++){var bn=arguments[un]!=null?arguments[un]:{};un%2?Wt(Object(bn),!0).forEach(function(jt){(0,ot.Z)(Mt,jt,bn[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(bn)):Wt(Object(bn)).forEach(function(jt){Object.defineProperty(Mt,jt,Object.getOwnPropertyDescriptor(bn,jt))})}return Mt}var In=function(){var Mt=(0,pt.Z)(gt().mark(function un(bn,jt,Fn){var yn,Gn,Nt,Xn,Cn,xn;return gt().wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(Gn=(yn=jt).exportBackground,Nt=yn.viewBackgroundColor,Xn=yn.name,Cn=yn.fileHandle,xn=(0,$t.Qk)(Cn),Cn&&(0,$t.DQ)(xn)){Tn.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return jt=Ot(Ot({},jt),{},{exportEmbedScene:!0}),Tn.next=7,(0,tn.p1)(xn,(0,Tt.Lm)(bn),jt,Fn,{exportBackground:Gn,viewBackgroundColor:Nt,name:Xn,fileHandle:Cn});case 7:return Tn.abrupt("return",{fileHandle:Cn});case 8:case"end":return Tn.stop()}},un)}));return function(un,bn,jt){return Mt.apply(this,arguments)}}(),rn=_(6066),_t=_(7901),St=_(3807),Vt=_(4162),Pt=_(75),qt=_(1393);function dn(Mt,un){var bn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(Mt);un&&(jt=jt.filter(function(Fn){return Object.getOwnPropertyDescriptor(Mt,Fn).enumerable})),bn.push.apply(bn,jt)}return bn}function Rt(Mt){for(var un=1;un<arguments.length;un++){var bn=arguments[un]!=null?arguments[un]:{};un%2?dn(Object(bn),!0).forEach(function(jt){(0,ot.Z)(Mt,jt,bn[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(bn)):dn(Object(bn)).forEach(function(jt){Object.defineProperty(Mt,jt,Object.getOwnPropertyDescriptor(bn,jt))})}return Mt}(0,_t.z)({name:"changeProjectName",trackEvent:!1,perform:function(Mt,un,bn){return{appState:Rt(Rt({},un),{},{name:bn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,bn=Mt.updateData,jt=Mt.appProps;return(0,Ct.jsx)(ct,{label:(0,lt.t)("labels.fileTitle"),value:un.name||"Unnamed",onChange:function(Fn){return bn(Fn)},isNameEditable:jt.name===void 0&&!un.viewModeEnabled})}}),(0,_t.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(Mt,un,bn){return{appState:Rt(Rt({},un),{},{exportScale:bn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.elements,bn=Mt.appState,jt=Mt.updateData,Fn=(0,Tt.Lm)(un),yn=(0,Pt.N)(Fn,bn)?(0,Pt.eD)(Fn,bn):Fn;return(0,Ct.jsx)(Ct.Fragment,{children:st.ZB.map(function(Gn){var Nt=(0,Vt.Cg)(yn,st.qy,Gn),Xn=(0,ht.Z)(Nt,2),Cn=Xn[0],xn=Xn[1],Tn="".concat((0,lt.t)("buttons.scale")," ").concat(Gn,"x (").concat(Cn,"x").concat(xn,")");return(0,Ct.jsx)(it.V,{size:"small",type:"radio",icon:"".concat(Gn,"x"),name:"export-canvas-scale",title:Tn,"aria-label":Tn,id:"export-canvas-scale",checked:Gn===bn.exportScale,onChange:function(){return jt(Gn)}},Gn)})})}}),(0,_t.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(Mt,un,bn){return{appState:Rt(Rt({},un),{},{exportBackground:bn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,bn=Mt.updateData;return(0,Ct.jsx)(St.o,{checked:un.exportBackground,onChange:function(jt){return bn(jt)},children:(0,lt.t)("labels.withBackground")})}}),(0,_t.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(Mt,un,bn){return{appState:Rt(Rt({},un),{},{exportEmbedScene:bn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,bn=Mt.updateData;return(0,Ct.jsxs)(St.o,{checked:un.exportEmbedScene,onChange:function(jt){return bn(jt)},children:[(0,lt.t)("labels.exportEmbedScene"),(0,Ct.jsx)(_e.u,{label:(0,lt.t)("labels.exportEmbedScene_details"),long:!0,children:(0,Ct.jsx)("div",{className:"excalidraw-tooltip-icon",children:xt.Vl})})]})}});var Zt,zt,ft,Gt=(0,_t.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(Mt,un,bn,jt){return!!jt.props.UIOptions.canvasActions.saveToActiveFile&&!!un.fileHandle&&!un.viewModeEnabled},perform:(Zt=(0,pt.Z)(gt().mark(function Mt(un,bn,jt,Fn){var yn,Gn,Nt;return gt().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:if(yn=!!bn.fileHandle,Xn.prev=1,!(0,$t.g8)(bn.fileHandle)){Xn.next=8;break}return Xn.next=5,In(un,bn,Fn.files);case 5:Xn.t0=Xn.sent,Xn.next=11;break;case 8:return Xn.next=10,(0,tn.Um)(un,bn,Fn.files);case 10:Xn.t0=Xn.sent;case 11:return Gn=Xn.t0,Nt=Gn.fileHandle,Xn.abrupt("return",{commitToHistory:!1,appState:Rt(Rt({},bn),{},{fileHandle:Nt,toast:yn?{message:Nt!=null&&Nt.name?(0,lt.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Nt.name,'"')):(0,lt.t)("toast.fileSaved")}:null})});case 16:return Xn.prev=16,Xn.t1=Xn.catch(1),(Xn.t1===null||Xn.t1===void 0?void 0:Xn.t1.name)!=="AbortError"?console.error(Xn.t1):console.warn(Xn.t1),Xn.abrupt("return",{commitToHistory:!1});case 20:case"end":return Xn.stop()}},Mt,null,[[1,16]])})),function(Mt,un,bn,jt){return Zt.apply(this,arguments)}),keyTest:function(Mt){return Mt.key===rn.tW.S&&Mt[rn.tW.CTRL_OR_CMD]&&!Mt.shiftKey}}),wt=(0,_t.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(zt=(0,pt.Z)(gt().mark(function Mt(un,bn,jt,Fn){var yn,Gn;return gt().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.prev=0,Nt.next=3,(0,tn.Um)(un,Rt(Rt({},bn),{},{fileHandle:null}),Fn.files);case 3:return yn=Nt.sent,Gn=yn.fileHandle,Nt.abrupt("return",{commitToHistory:!1,appState:Rt(Rt({},bn),{},{fileHandle:Gn})});case 8:return Nt.prev=8,Nt.t0=Nt.catch(0),(Nt.t0===null||Nt.t0===void 0?void 0:Nt.t0.name)!=="AbortError"?console.error(Nt.t0):console.warn(Nt.t0),Nt.abrupt("return",{commitToHistory:!1});case 12:case"end":return Nt.stop()}},Mt,null,[[0,8]])})),function(Mt,un,bn,jt){return zt.apply(this,arguments)}),keyTest:function(Mt){return Mt.key===rn.tW.S&&Mt.shiftKey&&Mt[rn.tW.CTRL_OR_CMD]},PanelComponent:function(Mt){var un=Mt.updateData;return(0,Ct.jsx)(it.V,{type:"button",icon:xt.po,title:(0,lt.t)("buttons.saveAs"),"aria-label":(0,lt.t)("buttons.saveAs"),showAriaLabel:(0,At.Fy)().isMobile,hidden:!qt.kr,onClick:function(){return un(null)},"data-testid":"save-as-button"})}}),Jt=(0,_t.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(Mt,un,bn,jt){return!!jt.props.UIOptions.canvasActions.loadScene&&!un.viewModeEnabled},perform:(ft=(0,pt.Z)(gt().mark(function Mt(un,bn,jt,Fn){var yn,Gn,Nt,Xn;return gt().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Cn.prev=0,Cn.next=3,(0,tn.n8)(bn,un);case 3:return yn=Cn.sent,Gn=yn.elements,Nt=yn.appState,Xn=yn.files,Cn.abrupt("return",{elements:Gn,appState:Nt,files:Xn,commitToHistory:!0});case 10:if(Cn.prev=10,Cn.t0=Cn.catch(0),(Cn.t0===null||Cn.t0===void 0?void 0:Cn.t0.name)!=="AbortError"){Cn.next=15;break}return console.warn(Cn.t0),Cn.abrupt("return",!1);case 15:return Cn.abrupt("return",{elements:un,appState:Rt(Rt({},bn),{},{errorMessage:Cn.t0.message}),files:Fn.files,commitToHistory:!1});case 16:case"end":return Cn.stop()}},Mt,null,[[0,10]])})),function(Mt,un,bn,jt){return ft.apply(this,arguments)}),keyTest:function(Mt){return Mt[rn.tW.CTRL_OR_CMD]&&Mt.key===rn.tW.O}});(0,_t.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(Mt,un,bn){return{appState:Rt(Rt({},un),{},{exportWithDarkMode:bn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,bn=Mt.updateData;return(0,Ct.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,Ct.jsx)(It,{value:un.exportWithDarkMode?st.C6.DARK:st.C6.LIGHT,onChange:function(jt){bn(jt===st.C6.DARK)},title:(0,lt.t)("labels.toggleExportColorScheme")})})}})},6208:function(Lt,kt,_){_.d(kt,{Tu:function(){return Zt},Zq:function(){return zt}});var pt=_(1930),ht=_(7169),ot=_(7047),at=_(45),gt=_(4512),xt=function(ft){return(0,gt.jsx)("div",{className:"buttonList buttonListIcon",children:ft.options.map(function(Gt){var wt;return ft.type==="button"?(0,gt.jsx)("button",{onClick:function(Jt){return ft.onClick(Gt.value,Jt)},className:(0,at.Z)({active:(wt=Gt.active)!==null&&wt!==void 0?wt:ft.value===Gt.value}),"data-testid":Gt.testId,title:Gt.text,children:Gt.icon},Gt.text):(0,gt.jsxs)("label",{className:(0,at.Z)({active:ft.value===Gt.value}),title:Gt.text,children:[(0,gt.jsx)("input",{type:"radio",name:ft.group,onChange:function(){return ft.onChange(Gt.value)},checked:ft.value===Gt.value,"data-testid":Gt.testId}),Gt.icon]},Gt.text)})})},Ut=_(4499),rt=_(2577),vt=_(9787),Xt=_.n(vt),nn=_(2891),cn=_(487),Qt=_.n(cn),hn=_(631),fn=_.n(hn),Nn=_(2052),mn=_.n(Nn),pn=_(4010),vn=_.n(pn),yt=_(1469),Ht=_.n(yt),Bt=_(9329),bt=_.n(Bt),Et=_(9478),At={};At.styleTagTransform=bt(),At.setAttributes=vn(),At.insert=mn().bind(null,"head"),At.domAPI=fn(),At.insertStyleElement=Ht(),Qt()(Et.Z,At),Et.Z&&Et.Z.locals&&Et.Z.locals;var Ct=_(6066),ct=_(8211);function it(ft,Gt){var wt=Object.keys(ft);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(ft);Gt&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(ft,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function _e(ft){for(var Gt=1;Gt<arguments.length;Gt++){var wt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?it(Object(wt),!0).forEach(function(Jt){(0,ht.Z)(ft,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(wt)):it(Object(wt)).forEach(function(Jt){Object.defineProperty(ft,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return ft}function lt(ft){var Gt=ft.options,wt=ft.value,Jt=ft.label,Mt=ft.onChange,un=ft.onClose,bn=Xt().useRef(),jt=Xt().useRef(),Fn=Xt().useRef(null);return Xt().useEffect(function(){jt.current?jt.current.focus():Fn.current&&Fn.current.focus()},[]),(0,gt.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Jt,onKeyDown:function(yn){var Gn=Gt.find(function(tr){return tr.keyBinding===yn.key.toLowerCase()});if(yn.metaKey||yn.altKey||yn.ctrlKey||!Gn)if(yn.key===Ct.tW.TAB)setTimeout(function(){jt.current!==document.activeElement&&un()},0);else if((0,Ct.Wl)(yn.key)){var Nt=document.activeElement,Xn=(0,ct.G3)().rtl,Cn=Array.prototype.indexOf.call(Fn.current.children,Nt);if(Cn!==-1){var xn=Gt.length,Tn=Cn;switch(yn.key){case(Xn?Ct.tW.ARROW_LEFT:Ct.tW.ARROW_RIGHT):case Ct.tW.ARROW_DOWN:Tn=(Cn+1)%xn;break;case(Xn?Ct.tW.ARROW_RIGHT:Ct.tW.ARROW_LEFT):case Ct.tW.ARROW_UP:Tn=(xn+Cn-1)%xn}Fn.current.children[Tn].focus()}yn.preventDefault()}else yn.key!==Ct.tW.ESCAPE&&yn.key!==Ct.tW.ENTER||(yn.preventDefault(),un());else{var Pn=Gt.indexOf(Gn);Fn.current.children[Pn].focus(),yn.preventDefault()}yn.nativeEvent.stopImmediatePropagation(),yn.stopPropagation()},children:(0,gt.jsx)("div",{className:"picker-content",ref:Fn,children:Gt.map(function(yn,Gn){return(0,gt.jsxs)("button",{className:(0,at.Z)("picker-option",{active:wt===yn.value}),onClick:function(Nt){Nt.currentTarget.focus(),Mt(yn.value)},title:"".concat(yn.text," — ").concat(yn.keyBinding.toUpperCase()),"aria-label":yn.text||"none","aria-keyshortcuts":yn.keyBinding,ref:function(Nt){Nt&&Gn===0&&(bn.current=Nt),Nt&&yn.value===wt&&(jt.current=Nt)},onFocus:function(){Mt(yn.value)},children:[yn.icon,(0,gt.jsx)("span",{className:"picker-keybinding",children:yn.keyBinding})]},yn.text)})})})}function st(ft){var Gt,wt=ft.value,Jt=ft.label,Mt=ft.options,un=ft.onChange,bn=ft.group,jt=bn===void 0?"":bn,Fn=Xt().useState(!1),yn=(0,rt.Z)(Fn,2),Gn=yn[0],Nt=yn[1],Xn=Xt().useRef(null),Cn=(0,ct.G3)().rtl;return(0,gt.jsxs)("div",{children:[(0,gt.jsx)("button",{name:jt,className:Gn?"active":"","aria-label":Jt,onClick:function(){return Nt(!Gn)},ref:Xn,children:(Gt=Mt.find(function(xn){return xn.value===wt}))===null||Gt===void 0?void 0:Gt.icon}),(0,gt.jsx)(Xt().Suspense,{fallback:"",children:Gn?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(nn.J,_e(_e({onCloseRequest:function(xn){return xn.target!==Xn.current&&Nt(!1)}},Cn?{right:5.5}:{left:-5.5}),{},{children:(0,gt.jsx)(lt,{options:Mt,value:wt,label:Jt,onChange:un,onClose:function(){var xn;Nt(!1),(xn=Xn.current)===null||xn===void 0||xn.focus()}})})),(0,gt.jsx)("div",{className:"picker-triangle"})]}):null})]})}var It=_(3646),Dt=_(2335),tn=_(1047),Tt=_(1935),$t=_(5710),Wt=_(1974),Ot=_(6954),In=_(75),rn=_(8120),_t=_(6340),St=_(7901);function Vt(ft,Gt){var wt=Object.keys(ft);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(ft);Gt&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(ft,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function Pt(ft){for(var Gt=1;Gt<arguments.length;Gt++){var wt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?Vt(Object(wt),!0).forEach(function(Jt){(0,ht.Z)(ft,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(wt)):Vt(Object(wt)).forEach(function(Jt){Object.defineProperty(ft,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return ft}var qt=function(ft,Gt,wt){var Jt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Mt=(0,_t.xn)((0,In.eD)(ft,Gt,Jt));return ft.map(function(un){var bn;return Mt.get(un.id)||un.id===((bn=Gt.editingElement)===null||bn===void 0?void 0:bn.id)?wt(un):un})},dn=function(ft,Gt,wt,Jt){var Mt,un,bn=Gt.editingElement,jt=(0,tn.Lm)(ft);return(Mt=(un=bn&&wt(bn))!==null&&un!==void 0?un:(0,In.N)(jt,Gt)?(0,In.PR)(jt,Gt,wt):Jt)!==null&&Mt!==void 0?Mt:null},Rt=function(ft,Gt,wt,Jt){var Mt=new Set;return{elements:qt(ft,Gt,function(un){if((0,tn.iB)(un)){var bn=wt(un);Mt.add(bn);var jt=(0,Tt.BE)(un,{fontSize:bn});return(0,tn.oN)(jt,(0,$t.tl)(un)),Fn=un,yn=jt,jt=(0,Wt.Xh)(yn)?yn:(0,Tt.DR)(yn,{x:Fn.textAlign==="left"?Fn.x:Fn.x+(Fn.width-yn.width)/(Fn.textAlign==="center"?2:1),y:Fn.y+(Fn.height-yn.height)/2},!1)}var Fn,yn;return un},!0),appState:Pt(Pt({},Gt),{},{currentItemFontSize:Mt.size===1?(0,pt.Z)(Mt)[0]:Jt??Gt.currentItemFontSize}),commitToHistory:!0}},Zt=((0,St.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(ft,Gt,wt){return Pt(Pt({},wt.currentItemStrokeColor&&{elements:qt(ft,Gt,function(Jt){return(0,rn.PD)(Jt.type)?(0,Tt.BE)(Jt,{strokeColor:wt.currentItemStrokeColor}):Jt},!0)}),{},{appState:Pt(Pt({},Gt),wt),commitToHistory:!!wt.currentItemStrokeColor})},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h3",{"aria-hidden":"true",children:(0,ct.t)("labels.stroke")}),(0,gt.jsx)(Ut.z,{type:"elementStroke",label:(0,ct.t)("labels.stroke"),color:dn(Gt,wt,function(Mt){return Mt.strokeColor},wt.currentItemStrokeColor),onChange:function(Mt){return Jt({currentItemStrokeColor:Mt})},isActive:wt.openPopup==="strokeColorPicker",setActive:function(Mt){return Jt({openPopup:Mt?"strokeColorPicker":null})},elements:Gt,appState:wt})]})}}),(0,St.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(ft,Gt,wt){return Pt(Pt({},wt.currentItemBackgroundColor&&{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{backgroundColor:wt.currentItemBackgroundColor})})}),{},{appState:Pt(Pt({},Gt),wt),commitToHistory:!!wt.currentItemBackgroundColor})},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h3",{"aria-hidden":"true",children:(0,ct.t)("labels.background")}),(0,gt.jsx)(Ut.z,{type:"elementBackground",label:(0,ct.t)("labels.background"),color:dn(Gt,wt,function(Mt){return Mt.backgroundColor},wt.currentItemBackgroundColor),onChange:function(Mt){return Jt({currentItemBackgroundColor:Mt})},isActive:wt.openPopup==="backgroundColorPicker",setActive:function(Mt){return Jt({openPopup:Mt?"backgroundColorPicker":null})},elements:Gt,appState:wt})]})}}),(0,St.z)({name:"changeFillStyle",trackEvent:!1,perform:function(ft,Gt,wt,Jt){return(0,ot.L)("element","changeFillStyle","".concat(wt," (").concat(Jt.device.isMobile?"mobile":"desktop",")")),{elements:qt(ft,Gt,function(Mt){return(0,Tt.BE)(Mt,{fillStyle:wt})}),appState:Pt(Pt({},Gt),{},{currentItemFillStyle:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData,Mt=(0,In.eD)(Gt,wt),un=Mt.length>0&&Mt.every(function(bn){return bn.fillStyle==="zigzag"});return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fill")}),(0,gt.jsx)(xt,{type:"button",options:[{value:"hachure",text:"".concat(un?(0,ct.t)("labels.zigzag"):(0,ct.t)("labels.hachure")," (").concat((0,_t.uY)("Alt-Click"),")"),icon:un?It.lF:It.a0,active:!!un||void 0},{value:"cross-hatch",text:(0,ct.t)("labels.crossHatch"),icon:It.np},{value:"solid",text:(0,ct.t)("labels.solid"),icon:It.X7}],value:dn(Gt,wt,function(bn){return bn.fillStyle},wt.currentItemFillStyle),onClick:function(bn,jt){var Fn=jt.altKey&&bn==="hachure"&&Mt.every(function(yn){return yn.fillStyle==="hachure"})?"zigzag":bn;Jt(Fn)}})]})}}),(0,St.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{strokeWidth:wt})}),appState:Pt(Pt({},Gt),{},{currentItemStrokeWidth:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.strokeWidth")}),(0,gt.jsx)(xt,{group:"stroke-width",options:[{value:1,text:(0,ct.t)("labels.thin"),icon:It.ZA},{value:2,text:(0,ct.t)("labels.bold"),icon:It.Wl},{value:4,text:(0,ct.t)("labels.extraBold"),icon:It.m9}],value:dn(Gt,wt,function(Mt){return Mt.strokeWidth},wt.currentItemStrokeWidth),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,St.z)({name:"changeSloppiness",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{seed:(0,Ot.LU)(),roughness:wt})}),appState:Pt(Pt({},Gt),{},{currentItemRoughness:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.sloppiness")}),(0,gt.jsx)(xt,{group:"sloppiness",options:[{value:0,text:(0,ct.t)("labels.architect"),icon:It.bf},{value:1,text:(0,ct.t)("labels.artist"),icon:It.kM},{value:2,text:(0,ct.t)("labels.cartoonist"),icon:It.W2}],value:dn(Gt,wt,function(Mt){return Mt.roughness},wt.currentItemRoughness),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,St.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{strokeStyle:wt})}),appState:Pt(Pt({},Gt),{},{currentItemStrokeStyle:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.strokeStyle")}),(0,gt.jsx)(xt,{group:"strokeStyle",options:[{value:"solid",text:(0,ct.t)("labels.strokeStyle_solid"),icon:It.ZA},{value:"dashed",text:(0,ct.t)("labels.strokeStyle_dashed"),icon:It.a5},{value:"dotted",text:(0,ct.t)("labels.strokeStyle_dotted"),icon:It.aT}],value:dn(Gt,wt,function(Mt){return Mt.strokeStyle},wt.currentItemStrokeStyle),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,St.z)({name:"changeOpacity",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{opacity:wt})},!0),appState:Pt(Pt({},Gt),{},{currentItemOpacity:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt,wt=ft.elements,Jt=ft.appState,Mt=ft.updateData;return(0,gt.jsxs)("label",{className:"control-label",children:[(0,ct.t)("labels.opacity"),(0,gt.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(un){return Mt(+un.target.value)},value:(Gt=dn(wt,Jt,function(un){return un.opacity},Jt.currentItemOpacity))!==null&&Gt!==void 0?Gt:void 0})]})}}),(0,St.z)({name:"changeFontSize",trackEvent:!1,perform:function(ft,Gt,wt){return Rt(ft,Gt,function(){return wt},wt)},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fontSize")}),(0,gt.jsx)(xt,{group:"font-size",options:[{value:16,text:(0,ct.t)("labels.small"),icon:It.q0,testId:"fontSize-small"},{value:20,text:(0,ct.t)("labels.medium"),icon:It.nq,testId:"fontSize-medium"},{value:28,text:(0,ct.t)("labels.large"),icon:It.tW,testId:"fontSize-large"},{value:36,text:(0,ct.t)("labels.veryLarge"),icon:It.OA,testId:"fontSize-veryLarge"}],value:dn(Gt,wt,function(Mt){if((0,tn.iB)(Mt))return Mt.fontSize;var un=(0,$t.WJ)(Mt);return un?un.fontSize:null},wt.currentItemFontSize||Dt.n5),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,St.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(ft,Gt,wt){return Rt(ft,Gt,function(Jt){return Math.round(1/1.1*Jt.fontSize)})},keyTest:function(ft){return ft[Ct.tW.CTRL_OR_CMD]&&ft.shiftKey&&(ft.key===Ct.tW.CHEVRON_LEFT||ft.key===Ct.tW.COMMA)}})),zt=(0,St.z)({name:"increaseFontSize",trackEvent:!1,perform:function(ft,Gt,wt){return Rt(ft,Gt,function(Jt){return Math.round(1.1*Jt.fontSize)})},keyTest:function(ft){return ft[Ct.tW.CTRL_OR_CMD]&&ft.shiftKey&&(ft.key===Ct.tW.CHEVRON_RIGHT||ft.key===Ct.tW.PERIOD)}});(0,St.z)({name:"changeFontFamily",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Tt.BE)(Jt,{fontFamily:wt,lineHeight:(0,$t.PT)(wt)});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt(Pt({},Gt),{},{currentItemFontFamily:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData,Mt=[{value:Dt.ut.Virgil,text:(0,ct.t)("labels.handDrawn"),icon:It.Pm},{value:Dt.ut.Helvetica,text:(0,ct.t)("labels.normal"),icon:It.vo},{value:Dt.ut.Cascadia,text:(0,ct.t)("labels.code"),icon:It.z6}];return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fontFamily")}),(0,gt.jsx)(xt,{group:"font-family",options:Mt,value:dn(Gt,wt,function(un){if((0,tn.iB)(un))return un.fontFamily;var bn=(0,$t.WJ)(un);return bn?bn.fontFamily:null},wt.currentItemFontFamily||Dt.rk),onChange:function(un){return Jt(un)}})]})}}),(0,St.z)({name:"changeTextAlign",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Tt.BE)(Jt,{textAlign:wt});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt(Pt({},Gt),{},{currentItemTextAlign:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.textAlign")}),(0,gt.jsx)(xt,{group:"text-align",options:[{value:"left",text:(0,ct.t)("labels.left"),icon:It.rr,testId:"align-left"},{value:"center",text:(0,ct.t)("labels.center"),icon:It.o3,testId:"align-horizontal-center"},{value:"right",text:(0,ct.t)("labels.right"),icon:It.oT,testId:"align-right"}],value:dn(Gt,wt,function(Mt){if((0,tn.iB)(Mt))return Mt.textAlign;var un=(0,$t.WJ)(Mt);return un?un.textAlign:null},wt.currentItemTextAlign),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,St.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Tt.BE)(Jt,{verticalAlign:wt});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt({},Gt),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData;return(0,gt.jsx)("fieldset",{children:(0,gt.jsx)(xt,{group:"text-align",options:[{value:Dt.oX.TOP,text:(0,ct.t)("labels.alignTop"),icon:(0,gt.jsx)(It.EO,{theme:wt.theme}),testId:"align-top"},{value:Dt.oX.MIDDLE,text:(0,ct.t)("labels.centerVertically"),icon:(0,gt.jsx)(It.P7,{theme:wt.theme}),testId:"align-middle"},{value:Dt.oX.BOTTOM,text:(0,ct.t)("labels.alignBottom"),icon:(0,gt.jsx)(It.aA,{theme:wt.theme}),testId:"align-bottom"}],value:dn(Gt,wt,function(Mt){if((0,tn.iB)(Mt)&&Mt.containerId)return Mt.verticalAlign;var un=(0,$t.WJ)(Mt);return un?un.verticalAlign:null}),onChange:function(Mt){return Jt(Mt)}})})}}),(0,St.z)({name:"changeRoundness",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){return(0,Tt.BE)(Jt,{roundness:wt==="round"?{type:(0,Wt.QI)(Jt.type)?Dt.a6.ADAPTIVE_RADIUS:Dt.a6.PROPORTIONAL_RADIUS}:null})}),appState:Pt(Pt({},Gt),{},{currentItemRoundness:wt}),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData,Mt=(0,In.Zs)((0,tn.Lm)(Gt),wt).some(function(un){var bn;return((bn=un.roundness)===null||bn===void 0?void 0:bn.type)===Dt.a6.LEGACY});return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.edges")}),(0,gt.jsx)(xt,{group:"edges",options:[{value:"sharp",text:(0,ct.t)("labels.sharp"),icon:It.wr},{value:"round",text:(0,ct.t)("labels.round"),icon:It.DS}],value:dn(Gt,wt,function(un){return Mt?null:un.roundness?"round":"sharp"},(0,In.sh)(wt.activeTool.type)&&wt.currentItemRoundness||null),onChange:function(un){return Jt(un)}})]})}}),(0,St.z)({name:"changeArrowhead",trackEvent:!1,perform:function(ft,Gt,wt){return{elements:qt(ft,Gt,function(Jt){if((0,Wt.bt)(Jt)){var Mt=wt.position,un=wt.type;if(Mt==="start")return(0,Tt.BE)(Jt,{startArrowhead:un});if(Mt==="end")return(0,Tt.BE)(Jt,{endArrowhead:un})}return Jt}),appState:Pt(Pt({},Gt),{},(0,ht.Z)({},wt.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",wt.type)),commitToHistory:!0}},PanelComponent:function(ft){var Gt=ft.elements,wt=ft.appState,Jt=ft.updateData,Mt=(0,ct.G3)().rtl;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.arrowheads")}),(0,gt.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,gt.jsx)(st,{label:"arrowhead_start",options:[{value:null,text:(0,ct.t)("labels.arrowhead_none"),icon:It.fr,keyBinding:"q"},{value:"arrow",text:(0,ct.t)("labels.arrowhead_arrow"),icon:(0,gt.jsx)(It.il,{flip:!Mt}),keyBinding:"w"},{value:"bar",text:(0,ct.t)("labels.arrowhead_bar"),icon:(0,gt.jsx)(It.m,{flip:!Mt}),keyBinding:"e"},{value:"dot",text:(0,ct.t)("labels.arrowhead_dot"),icon:(0,gt.jsx)(It.tn,{flip:!Mt}),keyBinding:"r"},{value:"triangle",text:(0,ct.t)("labels.arrowhead_triangle"),icon:(0,gt.jsx)(It.j8,{flip:!Mt}),keyBinding:"t"}],value:dn(Gt,wt,function(un){return(0,Wt.bt)(un)&&(0,In.Un)(un.type)?un.startArrowhead:wt.currentItemStartArrowhead},wt.currentItemStartArrowhead),onChange:function(un){return Jt({position:"start",type:un})}}),(0,gt.jsx)(st,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,ct.t)("labels.arrowhead_none"),keyBinding:"q",icon:It.fr},{value:"arrow",text:(0,ct.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,gt.jsx)(It.il,{flip:Mt})},{value:"bar",text:(0,ct.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,gt.jsx)(It.m,{flip:Mt})},{value:"dot",text:(0,ct.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,gt.jsx)(It.tn,{flip:Mt})},{value:"triangle",text:(0,ct.t)("labels.arrowhead_triangle"),icon:(0,gt.jsx)(It.j8,{flip:Mt}),keyBinding:"t"}],value:dn(Gt,wt,function(un){return(0,Wt.bt)(un)&&(0,In.Un)(un.type)?un.endArrowhead:wt.currentItemEndArrowhead},wt.currentItemEndArrowhead),onChange:function(un){return Jt({position:"end",type:un})}})]})]})}})},4958:function(Lt,kt,_){_.d(kt,{u:function(){return xt}});var pt=_(7169),ht=_(7901),ot=_(6066);function at(Ut,rt){var vt=Object.keys(Ut);if(Object.getOwnPropertySymbols){var Xt=Object.getOwnPropertySymbols(Ut);rt&&(Xt=Xt.filter(function(nn){return Object.getOwnPropertyDescriptor(Ut,nn).enumerable})),vt.push.apply(vt,Xt)}return vt}function gt(Ut){for(var rt=1;rt<arguments.length;rt++){var vt=arguments[rt]!=null?arguments[rt]:{};rt%2?at(Object(vt),!0).forEach(function(Xt){(0,pt.Z)(Ut,Xt,vt[Xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(vt)):at(Object(vt)).forEach(function(Xt){Object.defineProperty(Ut,Xt,Object.getOwnPropertyDescriptor(vt,Xt))})}return Ut}var xt=(0,ht.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(Ut,rt){return{appState:gt(gt({},rt),{},{showStats:!this.checked(rt)}),commitToHistory:!1}},checked:function(Ut){return Ut.showStats},contextItemLabel:"stats.title",keyTest:function(Ut){return!Ut[ot.tW.CTRL_OR_CMD]&&Ut.altKey&&Ut.code===ot.aU.SLASH}})},6710:function(Lt,kt,_){_.d(kt,{FL:function(){return Co},vD:function(){return _o.vD},yA:function(){return Et},BZ:function(){return Ct},mo:function(){return Rt.mo},uN:function(){return ro.uN},jK:function(){return ro.jK},FA:function(){return ro.FA},pw:function(){return jt},ZM:function(){return ro.ZM},X9:function(){return pt.X},xF:function(){return qt},pL:function(){return wt},jl:function(){return so},kt:function(){return mo},EQ:function(){return gr},nz:function(){return ls.nz},_d:function(){return Jt._d},W3:function(){return Fn},ns:function(){return Jt.ns},Yy:function(){return Dt},V:function(){return bt},zi:function(){return At},jY:function(){return Nt},Pb:function(){return Lo},Qs:function(){return ru},iL:function(){return xs},u0:function(){return Zl.u},Zp:function(){return Rt.Zp},JN:function(){return Hl},y7:function(){return _o.y7},s:function(){return Wn},zp:function(){return ro.zp}});var pt=_(533),ht=_(1930),ot=_(1935),at=_(242),gt=_(75),xt=_(1564),Ut=_(6340),rt=function(on,Bn){for(var On=[],Hn=[],br=null,xr=-1,Tr=(0,Ut.xn)((0,gt.eD)(on,Bn,!0));++xr<on.length;)Tr.get(on[xr].id)?(Hn.length&&(On=On.concat(Hn),Hn=[]),On.push(xr),br=xr+1):on[xr].isDeleted&&br===xr?(br=xr+1,Hn.push(xr)):Hn=[];return On},vt=function(on,Bn,On){if("containerId"in on&&on.containerId){if(On!=="left")return Bn.indexOf(on);var Hn=xt.Z.getScene(on).getElement(on.containerId);if(Hn)return Bn.indexOf(Hn)}else{var br,xr,Tr=(br=on.boundElements)===null||br===void 0||(xr=br.find(function(fr){return fr.type!=="arrow"}))===null||xr===void 0?void 0:xr.id;if(Tr){if(On==="left")return Bn.indexOf(on);var Vr=xt.Z.getScene(on).getElement(Tr);if(Vr)return Bn.indexOf(Vr)}}},Xt=function(on,Bn){return Bn.reduce(function(On,Hn){var br=on[Hn];return On[br.id]=br,On},{})},nn=function(on,Bn,On){var Hn,br,xr=rt(Bn,on),Tr=Xt(Bn,xr),Vr=(br=0,(Hn=xr).reduce(function(fr,zr,Xr){return Xr>0&&Hn[Xr-1]!==zr-1&&(br=++br),(fr[br]||(fr[br]=[])).push(zr),fr},[]));return On==="right"&&(Vr=Vr.reverse()),Vr.forEach(function(fr,zr){var Xr=fr[0],xa=fr[fr.length-1],jr=On==="left"?Xr:xa,Mr=function(Ho,Oo,Al,ko){var yo,Dr=Oo[Al],To=function(Cs){return!Cs.isDeleted&&(!Ho.editingGroupId||Cs.groupIds.includes(Ho.editingGroupId))},Fl=ko==="left"?(0,Ut.qr)(Oo,To,Math.max(0,Al-1)):(0,Ut.cx)(Oo,To,Al+1),Ro=Oo[Fl];if(!Ro)return-1;if(Ho.editingGroupId){var Po;if((Dr==null?void 0:Dr.groupIds.join(""))===(Ro==null?void 0:Ro.groupIds.join("")))return(Po=vt(Ro,Oo,ko))!==null&&Po!==void 0?Po:Fl;if(Ro==null||!Ro.groupIds.includes(Ho.editingGroupId))return-1}if(!Ro.groupIds.length)return(yo=vt(Ro,Oo,ko))!==null&&yo!==void 0?yo:Fl;var Jl=Ho.editingGroupId?Ro.groupIds[Ro.groupIds.indexOf(Ho.editingGroupId)-1]:Ro.groupIds[Ro.groupIds.length-1],yl=(0,at.Fb)(Oo,Jl);return yl.length?ko==="left"?Oo.indexOf(yl[0]):Oo.indexOf(yl[yl.length-1]):Fl}(on,Bn,jr,On);if(Mr!==-1&&jr!==Mr){var fo=On==="left"?Bn.slice(0,Mr):Bn.slice(0,Xr),no=Bn.slice(Xr,xa+1),_r=On==="left"?Bn.slice(Mr,Xr):Bn.slice(xa+1,Mr+1),Ko=On==="left"?Bn.slice(xa+1):Bn.slice(Mr+1);Bn=On==="left"?[].concat((0,ht.Z)(fo),(0,ht.Z)(no),(0,ht.Z)(_r),(0,ht.Z)(Ko)):[].concat((0,ht.Z)(fo),(0,ht.Z)(_r),(0,ht.Z)(no),(0,ht.Z)(Ko))}}),Bn.map(function(fr){return Tr[fr.id]?(0,ot.ZP)(fr):fr})},cn=function(on,Bn,On){var Hn,br,xr=rt(on,Bn),Tr=Xt(on,xr),Vr=[];if(On==="left"){if(Bn.editingGroupId){var fr=(0,at.Fb)(on,Bn.editingGroupId);if(!fr.length)return on;Hn=on.indexOf(fr[0])}else Hn=0;br=xr[xr.length-1]}else{if(Bn.editingGroupId){var zr=(0,at.Fb)(on,Bn.editingGroupId);if(!zr.length)return on;br=on.indexOf(zr[zr.length-1])}else br=on.length-1;Hn=xr[0]}for(var Xr=Hn;Xr<br+1;Xr++)xr.includes(Xr)||Vr.push(on[Xr]);var xa=Object.values(Tr).map(function(fo){return(0,ot.ZP)(fo)}),jr=on.slice(0,Hn),Mr=on.slice(br+1);return On==="left"?[].concat((0,ht.Z)(jr),(0,ht.Z)(xa),Vr,(0,ht.Z)(Mr)):[].concat((0,ht.Z)(jr),Vr,(0,ht.Z)(xa),(0,ht.Z)(Mr))},Qt=function(on,Bn){return nn(Bn,on,"left")},hn=function(on,Bn){return nn(Bn,on,"right")},fn=function(on,Bn){return cn(on,Bn,"left")},Nn=function(on,Bn){return cn(on,Bn,"right")},mn=_(6066),pn=_(8211),vn=_(7901),yt=_(3646),Ht=_(2335),Bt=_(4512),bt=(0,vn.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Qt(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&!on.shiftKey&&on.code===mn.aU.BRACKET_LEFT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.sendBackward")," — ").concat((0,Ut.uY)("CtrlOrCmd+[")),children:yt.Gc})}}),Et=(0,vn.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:hn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&!on.shiftKey&&on.code===mn.aU.BRACKET_RIGHT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.bringForward")," — ").concat((0,Ut.uY)("CtrlOrCmd+]")),children:yt.t5})}}),At=(0,vn.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:fn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(on){return Ht.Um?on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.BRACKET_LEFT:on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.code===mn.aU.BRACKET_LEFT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.sendToBack")," — ").concat(Ht.Um?(0,Ut.uY)("CtrlOrCmd+Alt+["):(0,Ut.uY)("CtrlOrCmd+Shift+[")),children:yt.pw})}}),Ct=(0,vn.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Nn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(on){return Ht.Um?on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.BRACKET_RIGHT:on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.code===mn.aU.BRACKET_RIGHT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(On){return Bn(null)},title:"".concat((0,pn.t)("labels.bringToFront")," — ").concat(Ht.Um?(0,Ut.uY)("CtrlOrCmd+Alt+]"):(0,Ut.uY)("CtrlOrCmd+Shift+]")),children:yt.IN})}}),ct=_(7169),it=_(1047),_e=_(1974),lt=_(6938);function st(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function It(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?st(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):st(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Dt=(0,vn.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(on,Bn,On,Hn){if(Bn.editingLinearElement)return!1;var br=on.reduce(function(xr,Tr){return Tr.isDeleted||(0,it.iB)(Tr)&&Tr.containerId||Tr.locked||(xr[Tr.id]=!0),xr},{});return{appState:(0,at.bO)(It(It({},Bn),{},{selectedLinearElement:Object.keys(br).length===1&&(0,_e.bt)(on[0])?new lt._(on[0],Hn.scene):null,editingGroupId:null,selectedElementIds:br}),(0,it.Lm)(on)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.A}}),tn=_(1319),Tt=_(8290),$t=_(5710);function Wt(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return Ot(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return Ot(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function Ot(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var In=function(on){var Bn=on.slice(),On=new Set,Hn=function xr(Tr){var Vr,fr,zr,Xr=(Vr=Tr[0])===null||Vr===void 0||(fr=Vr.groupIds)===null||fr===void 0?void 0:fr.join(""),xa=[Tr[0]],jr=[],Mr=Wt(Tr.slice(1));try{for(Mr.s();!(zr=Mr.n()).done;){var fo,no=zr.value;((fo=no.groupIds)===null||fo===void 0?void 0:fo.join(""))===Xr?xa.push(no):jr.push(no)}}catch(_r){Mr.e(_r)}finally{Mr.f()}return jr.length?[].concat(xa,(0,ht.Z)(xr(jr))):xa},br=new Map;return Bn.forEach(function(xr,Tr){var Vr;if(!br.has(xr.id))if((Vr=xr.groupIds)!==null&&Vr!==void 0&&Vr.length){var fr,zr=xr.groupIds[xr.groupIds.length-1],Xr=Bn.slice(Tr).filter(function(Mr){var fo,no=Mr==null||(fo=Mr.groupIds)===null||fo===void 0?void 0:fo.some(function(_r){return _r===zr});return no&&br.set(Mr.id,!0),no}),xa=Wt(Hn(Xr));try{for(xa.s();!(fr=xa.n()).done;){var jr=fr.value;On.add(jr)}}catch(Mr){xa.e(Mr)}finally{xa.f()}}else On.add(xr)}),On.size!==on.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),on):(0,ht.Z)(On)},rn=function(on){var Bn=function(On){var Hn=(0,Ut.I4)(On),br=On.slice(),xr=new Set;return br.forEach(function(Tr,Vr){var fr;if(Tr)if((fr=Tr.boundElements)!==null&&fr!==void 0&&fr.length)xr.add(Tr),br[Vr]=null,Tr.boundElements.forEach(function(xa){var jr=Hn.get(xa.id);jr&&xa.type==="text"&&(xr.add(jr[0]),br[jr[1]]=null)});else if(Tr.type==="text"&&Tr.containerId){var zr,Xr=Hn.get(Tr.containerId);Xr!=null&&(zr=Xr[0].boundElements)!==null&&zr!==void 0&&zr.find(function(xa){return xa.id===Tr.id})||(xr.add(Tr),br[Vr]=null)}else xr.add(Tr),br[Vr]=null}),xr.size!==On.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),On):(0,ht.Z)(xr)}(In(on));return Bn};function _t(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return St(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return St(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function St(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}function Vt(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Pt(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Vt(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Vt(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var qt=(0,vn.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(on,Bn){if(Bn.editingLinearElement){var On=lt._.duplicateSelectedPoints(Bn);return!!On&&{elements:on,appState:On.appState,commitToHistory:!0}}return Pt(Pt({},dn(on,Bn)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.D},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",icon:yt.NA,title:"".concat((0,pn.t)("labels.duplicateSelection")," — ").concat((0,Ut.uY)("CtrlOrCmd+D")),"aria-label":(0,pn.t)("labels.duplicateSelection"),onClick:function(){return Hn(null)},visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),dn=function(on,Bn){for(var On=rn(on),Hn=new Map,br=[],xr=[],Tr=new Map,Vr=function(ko){var yo=(0,it.Sy)(Bn.editingGroupId,Hn,ko,{x:ko.x+Ht.k/2,y:ko.y+Ht.k/2});return Tr.set(ko.id,yo.id),xr.push(ko),br.push(yo),yo},fr=(0,Ut.xn)((0,gt.eD)(On,Bn,!0)),zr=new Map,Xr=function(ko){var yo,Dr=_t(ko);try{for(Dr.s();!(yo=Dr.n()).done;){var To=yo.value;zr.set(To.id,!0)}}catch(Fl){Dr.e(Fl)}finally{Dr.f()}return ko},xa=[],jr=-1;++jr<On.length;){var Mr=On[jr];if(!zr.get(Mr.id)){var fo=(0,$t.WJ)(Mr);if(fr.get(Mr.id)){if(Mr.groupIds.length||fo){var no=(0,at.yO)(Bn,Mr);if(no){var _r=(0,at.Fb)(On,no);xa.push.apply(xa,(0,ht.Z)(Xr([].concat((0,ht.Z)(_r),(0,ht.Z)(_r.map(function(ko){return Vr(ko)}))))));continue}if(fo){xa.push.apply(xa,(0,ht.Z)(Xr([Mr,fo,Vr(Mr),Vr(fo)])));continue}}xa.push.apply(xa,(0,ht.Z)(Xr([Mr,Vr(Mr)])))}else xa.push.apply(xa,(0,ht.Z)(Xr([Mr])))}}var Ko=[],Ho=new Map;for(jr=xa.length;--jr>=0;){var Oo=xa[jr];Ho.get(Oo.id)||(Ho.set(Oo.id,!0),Ko.push(Oo))}var Al=Ko.reverse();return(0,$t.P7)(xa,xr,Tr),(0,Tt.ek)(xa,xr,Tr),{elements:Al,appState:(0,at.bO)(Pt(Pt({},Bn),{},{selectedGroupIds:{},selectedElementIds:br.reduce(function(ko,yo){return(0,_e.Xh)(yo)||(ko[yo.id]=!0),ko},{})}),(0,it.Lm)(Al))}},Rt=(_(6208),_(2416)),Zt=_(2577),zt=_(6552);function ft(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Gt(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?ft(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):ft(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var wt=(0,vn.z)({name:"finalize",trackEvent:!1,perform:function(on,Bn,On,Hn){var br,xr=Hn.canvas,Tr=Hn.focusContainer,Vr=Hn.scene;if(Bn.editingLinearElement){var fr=Bn.editingLinearElement,zr=fr.elementId,Xr=fr.startBindingElement,xa=fr.endBindingElement,jr=lt._.getElement(zr);if(jr)return(0,_e.Mn)(jr)&&(0,Tt.HG)(jr,Xr,xa),{elements:jr.points.length<2||(0,it.QD)(jr)?on.filter(function(Ro){return Ro.id!==jr.id}):void 0,appState:Gt(Gt({},Bn),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Mr=on,fo=Bn.pendingImageElementId&&Vr.getElement(Bn.pendingImageElementId);fo&&(0,ot.DR)(fo,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&Tr();var no,_r=Bn.multiElement?Bn.multiElement:((br=Bn.editingElement)===null||br===void 0?void 0:br.type)==="freedraw"?Bn.editingElement:null;if(_r){if(_r.type!=="freedraw"&&Bn.lastPointerDownWith!=="touch"){var Ko=_r.points,Ho=_r.lastCommittedPoint;Ho&&Ko[Ko.length-1]===Ho||(0,ot.DR)(_r,{points:_r.points.slice(0,-1)})}(0,it.QD)(_r)&&(Mr=Mr.slice(0,-1));var Oo=(0,zt.g6)(_r.points,Bn.zoom.value);if((_r.type==="line"||_r.type==="freedraw")&&Oo){var Al=_r.points,ko=Al[0];(0,ot.DR)(_r,{points:Al.map(function(Ro,Po){return Po===Al.length-1?[ko[0],ko[1]]:Ro})})}if((0,_e.Mn)(_r)&&!Oo&&_r.points.length>1){var yo=lt._.getPointAtIndexGlobalCoordinates(_r,-1),Dr=(0,Zt.Z)(yo,2),To=Dr[0],Fl=Dr[1];(0,Tt.R)(_r,Bn,xt.Z.getScene(_r),{x:To,y:Fl})}Bn.activeTool.locked||Bn.activeTool.type==="freedraw"||(Bn.selectedElementIds[_r.id]=!0)}return(Bn.activeTool.locked||Bn.activeTool.type==="freedraw")&&_r||(0,Ut.z8)(xr),no=Bn.activeTool.type==="eraser"?(0,Ut.Om)(Bn,Gt(Gt({},Bn.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,Ut.Om)(Bn,{type:"selection"}),{elements:Mr,appState:Gt(Gt({},Bn),{},{cursorButton:"up",activeTool:(Bn.activeTool.locked||Bn.activeTool.type==="freedraw")&&_r?Bn.activeTool:no,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:_r&&!Bn.activeTool.locked&&Bn.activeTool.type!=="freedraw"?Gt(Gt({},Bn.selectedElementIds),{},(0,ct.Z)({},_r.id,!0)):Bn.selectedElementIds,selectedLinearElement:_r&&(0,_e.bt)(_r)?new lt._(_r,Vr):Bn.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Bn.activeTool.type==="freedraw"}},keyTest:function(on,Bn){return on.key===mn.tW.ESCAPE&&(Bn.editingLinearElement!==null||!Bn.draggingElement&&Bn.multiElement===null)||(on.key===mn.tW.ESCAPE||on.key===mn.tW.ENTER)&&Bn.multiElement!==null},PanelComponent:function(on){var Bn=on.appState,On=on.updateData,Hn=on.data;return(0,Bt.jsx)(tn.V,{type:"button",icon:yt.$c,title:(0,pn.t)("buttons.done"),"aria-label":(0,pn.t)("buttons.done"),onClick:On,visible:Bn.multiElement!=null,size:(Hn==null?void 0:Hn.size)||"medium"})}}),Jt=_(8671);function Mt(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function un(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Mt(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Mt(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var bn="{}",jt=(0,vn.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(on,Bn){var On=[],Hn=on.find(function(xr){return Bn.selectedElementIds[xr.id]});if(On.push(Hn),Hn&&(0,_e.Xo)(Hn)){var br=(0,$t.WJ)(Hn);On.push(br)}return Hn&&(bn=JSON.stringify(On)),{appState:un(un({},Bn),{},{toast:{message:(0,pn.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.C}}),Fn=(0,vn.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(on,Bn){var On=JSON.parse(bn),Hn=On[0],br=On[1];if(!(0,it.r2)(Hn))return{elements:on,commitToHistory:!1};var xr=(0,gt.eD)(on,Bn,!0),Tr=xr.map(function(Vr){return Vr.id});return{elements:on.map(function(Vr){if(Tr.includes(Vr.id)){var fr,zr,Xr,xa,jr,Mr,fo,no=Hn;if((0,it.iB)(Vr)&&Vr.containerId&&(no=br),!no)return Vr;var _r=(0,ot.BE)(Vr,{backgroundColor:(fr=no)===null||fr===void 0?void 0:fr.backgroundColor,strokeWidth:(zr=no)===null||zr===void 0?void 0:zr.strokeWidth,strokeColor:(Xr=no)===null||Xr===void 0?void 0:Xr.strokeColor,strokeStyle:(xa=no)===null||xa===void 0?void 0:xa.strokeStyle,fillStyle:(jr=no)===null||jr===void 0?void 0:jr.fillStyle,opacity:(Mr=no)===null||Mr===void 0?void 0:Mr.opacity,roughness:(fo=no)===null||fo===void 0?void 0:fo.roughness,roundness:no.roundness?(0,_e.eK)(no.roundness.type,Vr)?no.roundness:(0,_e.UQ)(Vr):null});if((0,it.iB)(_r)){var Ko,Ho,Oo,Al=((Ko=no)===null||Ko===void 0?void 0:Ko.fontSize)||Ht.n5,ko=((Ho=no)===null||Ho===void 0?void 0:Ho.fontFamily)||Ht.rk,yo=null;(_r=(0,ot.BE)(_r,{fontSize:Al,fontFamily:ko,textAlign:((Oo=no)===null||Oo===void 0?void 0:Oo.textAlign)||Ht.Hg,lineHeight:no.lineHeight||(0,$t.PT)(ko)})).containerId&&(yo=xr.find(function(Dr){return(0,it.iB)(_r)&&Dr.id===_r.containerId})||null),(0,it.oN)(_r,yo)}return _r.type==="arrow"&&(_r=(0,ot.BE)(_r,{startArrowhead:no.startArrowhead,endArrowhead:no.endArrowhead})),_r}return Vr}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.V}});function yn(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Gn(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?yn(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):yn(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}(0,vn.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(on,Bn){return{appState:Gn(Gn({},Bn),{},{openMenu:Bn.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(on){var Bn=on.appState,On=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",icon:yt.RY,"aria-label":(0,pn.t)("buttons.menu"),onClick:On,selected:Bn.openMenu==="canvas"})}}),(0,vn.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(on,Bn){return{appState:Gn(Gn({},Bn),{},{openMenu:Bn.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{visible:(0,it.RT)(On,(0,it.Lm)(Bn)),type:"button",icon:yt.DG,"aria-label":(0,pn.t)("buttons.edit"),onClick:Hn,selected:On.openMenu==="shape"})}}),(0,vn.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!(0,Ut.rB)()}},perform:function(){return(0,Ut.rB)()||(0,Ut.wo)(),(0,Ut.rB)()&&(0,Ut.Pr)(),{commitToHistory:!1}},keyTest:function(on){return on.key===mn.tW.F&&!on[mn.tW.CTRL_OR_CMD]}});var Nt=(0,vn.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(on,Bn,On,Hn){var br=Hn.focusContainer;return Bn.openDialog==="help"&&br(),{appState:Gn(Gn({},Bn),{},{openDialog:Bn.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(on){return on.key===mn.tW.QUESTION_MARK}}),Xn=_(6655),Cn=_(6954);function xn(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Tn(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?xn(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):xn(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}function Pn(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return tr(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return tr(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function tr(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var ir=function(on,Bn){var On=(0,gt.eD)((0,it.Lm)(on),Bn,!0);return On.length>=2&&!function(Hn){if(Hn.length>=2){var br,xr=Pn(Hn[0].groupIds);try{var Tr=function(){var fr=br.value;if(Hn.reduce(function(zr,Xr){return zr&&(0,at.Nd)(Xr,fr)},!0))return{v:!0}};for(xr.s();!(br=xr.n()).done;){var Vr=Tr();if((0,Xn.Z)(Vr)==="object")return Vr.v}}catch(fr){xr.e(fr)}finally{xr.f()}}return!1}(On)},gr=(0,vn.z)({name:"group",trackEvent:{category:"element"},perform:function(on,Bn){var On=(0,gt.eD)((0,it.Lm)(on),Bn,!0);if(On.length<2)return{appState:Bn,elements:on,commitToHistory:!1};var Hn=(0,at.iJ)(Bn);if(Hn.length===1){var br=Hn[0],xr=new Set((0,at.Fb)(on,br).map(function(_r){return _r.id})),Tr=new Set(On.map(function(_r){return _r.id}));if(new Set([].concat((0,ht.Z)(Array.from(xr)),(0,ht.Z)(Array.from(Tr)))).size===xr.size)return{appState:Bn,elements:on,commitToHistory:!1}}var Vr=(0,Cn.kb)(),fr=(0,Ut.xn)(On),zr=on.map(function(_r){return fr.get(_r.id)?(0,ot.BE)(_r,{groupIds:(0,at.S_)(_r.groupIds,Vr,Bn.editingGroupId)}):_r}),Xr=(0,at.Fb)(zr,Vr),xa=Xr[Xr.length-1],jr=zr.lastIndexOf(xa),Mr=zr.slice(jr+1),fo=zr.slice(0,jr).filter(function(_r){return!(0,at.Nd)(_r,Vr)}),no=[].concat((0,ht.Z)(fo),(0,ht.Z)(Xr),(0,ht.Z)(Mr));return{appState:(0,at.F$)(Vr,Tn(Tn({},Bn),{},{selectedGroupIds:{}}),(0,it.Lm)(no)),elements:no,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(on,Bn){return ir(on,Bn)},keyTest:function(on){return!on.shiftKey&&on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.G},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!ir(Bn,On),type:"button",icon:(0,Bt.jsx)(yt.BF,{theme:On.theme}),onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.group")," — ").concat((0,Ut.uY)("CtrlOrCmd+G")),"aria-label":(0,pn.t)("labels.group"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),Wn=(0,vn.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(on,Bn){if((0,at.iJ)(Bn).length===0)return{appState:Bn,elements:on,commitToHistory:!1};var On=[],Hn=on.map(function(xr){(0,_e.Xh)(xr)&&On.push(xr.id);var Tr=(0,at.h6)(xr.groupIds,Bn.selectedGroupIds);return Tr.length===xr.groupIds.length?xr:(0,ot.BE)(xr,{groupIds:Tr})}),br=(0,at.bO)(Tn(Tn({},Bn),{},{selectedGroupIds:{}}),(0,it.Lm)(Hn));return On.forEach(function(xr){return br.selectedElementIds[xr]=!1}),{appState:br,elements:Hn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(on,Bn){return(0,at.iJ)(Bn).length>0},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",hidden:(0,at.iJ)(On).length===0,icon:(0,Bt.jsx)(yt.RJ,{theme:On.theme}),onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.ungroup")," — ").concat((0,Ut.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,pn.t)("labels.ungroup"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),ln=_(8982),Un=_(487),wn=_.n(Un),Mn=_(631),zn=_.n(Mn),jn=_(2052),$n=_.n(jn),cr=_(4010),or=_.n(cr),ur=_(1469),Ur=_.n(ur),Zr=_(9329),yr=_.n(Zr),Ar=_(3729),pr={};pr.styleTagTransform=yr(),pr.setAttributes=or(),pr.insert=$n().bind(null,"head"),pr.domAPI=zn(),pr.insertStyleElement=Ur(),wn()(Ar.Z,pr),Ar.Z&&Ar.Z.locals&&Ar.Z.locals;var Nr=_(9787),Or=function(on){var Bn=on.color,On=on.onClick,Hn=on.name,br=on.src,xr=(0,ln.f)(Hn),Tr=(0,Nr.useState)(!1),Vr=(0,Zt.Z)(Tr,2),fr=Vr[0],zr=Vr[1],Xr=!fr&&br,xa=Xr?void 0:{background:Bn};return(0,Bt.jsx)("div",{className:"Avatar",style:xa,onClick:On,children:Xr?(0,Bt.jsx)("img",{className:"Avatar-img",src:br,alt:xr,referrerPolicy:"no-referrer",onError:function(){return zr(!0)}}):xr})},ba=_(2264);function ho(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function oo(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?ho(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):ho(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}(0,vn.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(on,Bn,On){var Hn=On;return Hn?{appState:oo(oo(oo({},Bn),(0,ba.s)({scenePoint:Hn,viewportDimensions:{width:Bn.width,height:Bn.height},zoom:Bn.zoom})),{},{openMenu:Bn.openMenu==="canvas"?null:Bn.openMenu}),commitToHistory:!1}:{appState:Bn,commitToHistory:!1}},PanelComponent:function(on){var Bn=on.appState,On=on.updateData,Hn=on.data,br=(0,Zt.Z)(Hn,2),xr=br[0],Tr=br[1],Vr=(0,ln.X)(xr,Bn),fr=Vr.background,zr=Vr.stroke;return(0,Bt.jsx)(Or,{color:fr,border:zr,onClick:function(){return On(Tr.pointer)},name:Tr.username||"",src:Tr.avatarUrl})}});var lo=_(2791);function $r(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function qr(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?$r(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):$r(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Co=(0,vn.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(on,Bn,On,Hn){var br=(0,gt.eD)((0,it.Lm)(on),Bn,!0);return br.some(function(xr){return xr.type==="image"})?{commitToHistory:!1,appState:qr(qr({},Bn),{},{errorMessage:"Support for adding images to the library coming soon!"})}:Hn.library.getLatestLibrary().then(function(xr){return Hn.library.setLibrary([{id:(0,Cn.kb)(),status:"unpublished",elements:br.map(lo.OL),created:Date.now()}].concat((0,ht.Z)(xr)))}).then(function(){return{commitToHistory:!1,appState:qr(qr({},Bn),{},{toast:{message:(0,pn.t)("toast.addedToLibrary")}})}}).catch(function(xr){return{commitToHistory:!1,appState:qr(qr({},Bn),{},{errorMessage:xr.message})}})},contextItemLabel:"labels.addToLibrary"}),po=_(8925);function na(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function lr(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?na(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):na(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Ir=function(on,Bn,On){var Hn=On.axis,br=On.position,xr=(0,po.v2)(on),Tr=Hn==="x"?["minX","maxX"]:["minY","maxY"],Vr=(0,Zt.Z)(Tr,2),fr=Vr[0],zr=Vr[1],Xr={x:0,y:0};return lr(lr({},Xr),{},br==="start"?(0,ct.Z)({},Hn,Bn[fr]-xr[fr]):br==="end"?(0,ct.Z)({},Hn,Bn[zr]-xr[zr]):(0,ct.Z)({},Hn,(Bn[fr]+Bn[zr])/2-(xr[fr]+xr[zr])/2))},Cr=function(on,Bn){return(0,gt.eD)((0,it.Lm)(on),Bn).length>1},wr=function(on,Bn,On){var Hn=function(xr,Tr){var Vr=(0,at.AI)(xr),fr=(0,po.v2)(xr);return Vr.flatMap(function(zr){var Xr=Ir(zr,fr,Tr);return zr.map(function(xa){return(0,ot.BE)(xa,{x:xa.x+Xr.x,y:xa.y+Xr.y})})})}((0,gt.eD)((0,it.Lm)(on),Bn),On),br=(0,Ut.xn)(Hn);return on.map(function(xr){return br.get(xr.id)||xr})};(0,vn.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_UP},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.Ct,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignTop")," — ").concat((0,Ut.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,pn.t)("labels.alignTop"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_DOWN},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.HL,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignBottom")," — ").concat((0,Ut.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,pn.t)("labels.alignBottom"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_LEFT},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.xs,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignLeft")," — ").concat((0,Ut.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,pn.t)("labels.alignLeft"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_RIGHT},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.mh,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignRight")," — ").concat((0,Ut.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,pn.t)("labels.alignRight"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.ST,onClick:function(){return Hn(null)},title:(0,pn.t)("labels.centerVertically"),"aria-label":(0,pn.t)("labels.centerVertically"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:yt.gK,onClick:function(){return Hn(null)},title:(0,pn.t)("labels.centerHorizontally"),"aria-label":(0,pn.t)("labels.centerHorizontally"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}});function Er(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return Rr(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return Rr(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function Rr(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var Kr=function(on,Bn){return(0,gt.eD)((0,it.Lm)(on),Bn).length>1},ga=function(on,Bn,On){var Hn=function(xr,Tr){var Vr,fr=Tr.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],zr=(0,Zt.Z)(fr,4),Xr=zr[0],xa=zr[1],jr=zr[2],Mr=zr[3],fo=(0,po.v2)(xr),no=(0,at.AI)(xr).map(function(To){return[To,(0,po.v2)(To)]}).sort(function(To,Fl){return To[1][xa]-Fl[1][xa]}),_r=0,Ko=Er(no);try{for(Ko.s();!(Vr=Ko.n()).done;)_r+=Vr.value[1][Mr]}catch(To){Ko.e(To)}finally{Ko.f()}var Ho=(fo[Mr]-_r)/(no.length-1);if(Ho<0){var Oo=no.findIndex(function(To){return To[1][Xr]===fo[Xr]}),Al=no.findIndex(function(To){return To[1][jr]===fo[jr]}),ko=(no[Al][1][xa]-no[Oo][1][xa])/(no.length-1),yo=no[Oo][1][xa];return no.flatMap(function(To,Fl){var Ro=(0,Zt.Z)(To,2),Po=Ro[0],Jl=Ro[1],yl={x:0,y:0};return Fl!==Oo&&Fl!==Al&&(yo+=ko,yl[Tr.axis]=yo-Jl[xa]),Po.map(function(Cs){return(0,ot.BE)(Cs,{x:Cs.x+yl.x,y:Cs.y+yl.y})})})}var Dr=fo[Xr];return no.flatMap(function(To){var Fl=(0,Zt.Z)(To,2),Ro=Fl[0],Po=Fl[1],Jl={x:0,y:0};return Jl[Tr.axis]=Dr-Po[Xr],Dr+=Ho,Dr+=Po[Mr],Ro.map(function(yl){return(0,ot.BE)(yl,{x:yl.x+Jl.x,y:yl.y+Jl.y})})})}((0,gt.eD)((0,it.Lm)(on),Bn),On),br=(0,Ut.xn)(Hn);return on.map(function(xr){return br.get(xr.id)||xr})},to=((0,vn.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:ga(on,Bn,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.H},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Kr(Bn,On),type:"button",icon:yt.uD,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.distributeHorizontally")," — ").concat((0,Ut.uY)("Alt+H")),"aria-label":(0,pn.t)("labels.distributeHorizontally"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),(0,vn.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:ga(on,Bn,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.V},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Kr(Bn,On),type:"button",icon:yt.W5,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.distributeVertically")," — ").concat((0,Ut.uY)("Alt+V")),"aria-label":(0,pn.t)("labels.distributeVertically"),visible:(0,gt.N)((0,it.Lm)(Bn),On)})}}),_(8634)),io=_(267),so=(0,vn.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Zo(on,Bn,"horizontal"),appState:Bn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function(on,Bn){return function(On,Hn){var br=(0,gt.eD)((0,it.Lm)(On),Hn);return br.length===1&&br[0].type!=="text"}(on,Bn)}}),mo=(0,vn.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Zo(on,Bn,"vertical"),appState:Bn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on.code==="KeyV"&&!on[mn.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(on,Bn){return function(On,Hn){return(0,gt.eD)((0,it.Lm)(On),Hn).length===1}(on,Bn)}}),Zo=function(on,Bn,On){var Hn=(0,gt.eD)((0,it.Lm)(on),Bn);if(Hn.length>1)return on;var br=No(Hn,Bn,On),xr=(0,Ut.xn)(br);return on.map(function(Tr){return xr.get(Tr.id)||Tr})},No=function(on,Bn,On){return on.forEach(function(Hn){Jo(Hn,Bn),On==="vertical"&&Bl(Hn,Math.PI)}),on},Jo=function(on,Bn){var On=on.x,Hn=on.y,br=on.width,xr=on.height,Tr=(0,to.LW)(on.angle);(0,ot.DR)(on,{angle:(0,to.LW)(0)});var Vr=(0,io.PC)(on,Bn.zoom),fr=!0,zr=Vr.nw;if(zr||(fr=!1,zr=Vr.ne)){var Xr,xa=0;(0,_e.bt)(on)&&on.points.length<3&&(xa=2*on.points.reduce(function(Oo,Al){return Math.max(Oo,Al[0])},0)-on.width),(0,_e.bt)(on)&&(Xr=(0,po.Ut)(on,on.points));var jr=(0,po.qf)(on);if((0,_e.bt)(on)&&on.points.length<3){for(var Mr=1;Mr<on.points.length;Mr++)lt._.movePoints(on,[{index:Mr,point:[-on.points[Mr][0],on.points[Mr][1]]}]);lt._.normalizePoints(on)}else{var fo=Xr?Xr[2]-Xr[0]:jr[2]-jr[0],no=Xr?[Xr[0],Xr[1]]:[jr[0],jr[1]];(0,to.l2)(new Map().set(on.id,on),!1,on,fr?"nw":"ne",!0,fr?no[0]+fo:no[0]-fo,no[1])}var _r=(0,to.LW)(2*Math.PI-Tr);if(_r<0&&(_r=(0,to.LW)(_r+2*Math.PI)),(0,ot.DR)(on,{angle:_r}),(0,ot.DR)(on,{x:On+xa,y:Hn,width:br,height:xr}),(0,Tt.Ww)(on),Xr&&(0,_e.bt)(on)){var Ko=(0,po.Ut)(on,on.points),Ho=Xr[0]-Ko[0]+(Xr[2]-Ko[2]);(0,ot.DR)(on,{x:on.x+.5*Ho,y:on.y,width:br,height:xr})}}else(0,ot.DR)(on,{angle:Tr})},Bl=function(on,Bn){var On=on.x,Hn=on.y,br=(0,to.LW)(on.angle+Bn);br<0&&(br=(0,to.LW)(2*Math.PI+br)),(0,ot.DR)(on,{angle:br}),(0,ot.DR)(on,{x:On,y:Hn})},ro=_(4688);function Io(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Qo(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Io(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Io(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Lo=(0,vn.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!on.gridSize}},perform:function(on,Bn){return{appState:Qo(Qo({},Bn),{},{gridSize:this.checked(Bn)?null:Ht.k}),commitToHistory:!1}},checked:function(on){return on.gridSize!==null},predicate:function(on,Bn,On){return On.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.code===mn.aU.QUOTE}});function Wl(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Ol(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Wl(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Wl(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Hl=(0,vn.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!on.zenModeEnabled}},perform:function(on,Bn){return{appState:Ol(Ol({},Bn),{},{zenModeEnabled:!this.checked(Bn)}),commitToHistory:!1}},checked:function(on){return on.zenModeEnabled},predicate:function(on,Bn,On){return On.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.Z}}),Zl=_(4958),_o=_(202),ls=_(4929);function Nl(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function zl(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Nl(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Nl(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var xs=(0,vn.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(on,Bn){var On=(0,gt.eD)(on,Bn,!0);if(!On.length)return!1;var Hn=es(On),br=(0,Ut.xn)(On),xr=Hn==="lock";return{elements:on.map(function(Tr){return br.has(Tr.id)?(0,ot.BE)(Tr,{locked:xr}):Tr}),appState:zl(zl({},Bn),{},{selectedLinearElement:xr?null:Bn.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(on,Bn){var On=(0,gt.eD)(on,Bn,!1);return On.length===1?On[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":es(On)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(on,Bn,On){return on.key.toLocaleLowerCase()===mn.tW.L&&on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&(0,gt.eD)(On,Bn,!1).length>0}}),es=function(on){return on.some(function(Bn){return!Bn.locked})?"lock":"unlock"};function Gs(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Vs(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Gs(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Gs(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var ru=(0,vn.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(on,Bn){var On=(0,gt.eD)(on,Bn);return!(On.length!==1||!(0,_e.bt)(On[0]))},perform:function(on,Bn,On,Hn){var br,xr=(0,gt.eD)((0,it.Lm)(on),Bn,!0)[0],Tr=((br=Bn.editingLinearElement)===null||br===void 0?void 0:br.elementId)===xr.id?null:new lt._(xr,Hn.scene);return{appState:Vs(Vs({},Bn),{},{editingLinearElement:Tr}),commitToHistory:!1}},contextItemLabel:function(on,Bn){var On,Hn=(0,gt.eD)((0,it.Lm)(on),Bn,!0)[0];return((On=Bn.editingLinearElement)===null||On===void 0?void 0:On.elementId)===Hn.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(Lt,kt,_){_.d(kt,{N:function(){return pt},z:function(){return ht}});var pt=[],ht=function(ot){return pt=pt.concat(ot),ot}},785:function(Lt,kt,_){_.d(kt,{C:function(){return gt}});var pt=_(2335),ht=_(8211),ot=_(6340),at={toggleTheme:[(0,ot.uY)("Shift+Alt+D")],saveScene:[(0,ot.uY)("CtrlOrCmd+S")],loadScene:[(0,ot.uY)("CtrlOrCmd+O")],clearCanvas:[(0,ot.uY)("CtrlOrCmd+Delete")],imageExport:[(0,ot.uY)("CtrlOrCmd+Shift+E")],cut:[(0,ot.uY)("CtrlOrCmd+X")],copy:[(0,ot.uY)("CtrlOrCmd+C")],paste:[(0,ot.uY)("CtrlOrCmd+V")],copyStyles:[(0,ot.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,ot.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,ot.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,ot.uY)("Delete")],duplicateSelection:[(0,ot.uY)("CtrlOrCmd+D"),(0,ot.uY)("Alt+".concat((0,ht.t)("helpDialog.drag")))],sendBackward:[(0,ot.uY)("CtrlOrCmd+[")],bringForward:[(0,ot.uY)("CtrlOrCmd+]")],sendToBack:[pt.Um?(0,ot.uY)("CtrlOrCmd+Alt+["):(0,ot.uY)("CtrlOrCmd+Shift+[")],bringToFront:[pt.Um?(0,ot.uY)("CtrlOrCmd+Alt+]"):(0,ot.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,ot.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,ot.uY)("CtrlOrCmd+G")],ungroup:[(0,ot.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,ot.uY)("CtrlOrCmd+'")],zenMode:[(0,ot.uY)("Alt+Z")],stats:[(0,ot.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,ot.uY)("Shift+H")],flipVertical:[(0,ot.uY)("Shift+V")],viewMode:[(0,ot.uY)("Alt+R")],hyperlink:[(0,ot.uY)("CtrlOrCmd+K")],toggleLock:[(0,ot.uY)("CtrlOrCmd+Shift+L")]},gt=function(xt){var Ut=at[xt];return Ut&&Ut.length>0?Ut[0]:""}},7047:function(Lt,kt,_){_.d(kt,{L:function(){return pt}});var pt=function(ht,ot,at,gt){try{if(typeof window>"u"||{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.JEST_WORKER_ID)return;window.gtag&&window.gtag("event",ot,{event_category:ht,event_label:at,value:gt}),window._paq&&window._paq.push(["trackEvent",ht,ot,at,gt])}catch(xt){console.error("error during analytics",xt)}}},8897:function(Lt,kt,_){_.d(kt,{EN:function(){return nn},eS:function(){return Xt},im:function(){return xt},l$:function(){return cn},s:function(){return vt}});var pt=_(5284),ht=_(2335),ot=_(8211),at=_(6340),gt=ht.ZB.includes(devicePixelRatio)?devicePixelRatio:1,xt=function(){return{showWelcomeScreen:!1,theme:ht.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:ht.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:ht.HN.fillStyle,currentItemFontFamily:ht.rk,currentItemFontSize:ht.n5,currentItemOpacity:ht.HN.opacity,currentItemRoughness:ht.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:ht.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:ht.HN.strokeStyle,currentItemStrokeWidth:ht.HN.strokeWidth,currentItemTextAlign:ht.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:ht.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:gt,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,ot.t)("labels.untitled"),"-").concat((0,at.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:pt.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},Ut={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},rt=function(Qt,hn){for(var fn={},Nn=0,mn=Object.keys(Qt);Nn<mn.length;Nn++){var pn=mn[Nn],vn=Ut[pn];if(vn!=null&&vn[hn]){var yt=Qt[pn];fn[pn]=yt}}return fn},vt=function(Qt){return rt(Qt,"export")},Xt=function(Qt){return rt(Qt,"server")},nn=function(Qt){return Qt.activeTool.type==="eraser"},cn=function(Qt){return Qt.activeTool.type==="hand"}},5674:function(Lt,kt,_){_.d(kt,{dz:function(){return yt},i$:function(){return Nn},ps:function(){return At}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(56),gt=_(2335),xt=_(1047),Ut=_(6954);function rt(Ct,ct){var it=typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(!it){if(Array.isArray(Ct)||(it=function(tn,Tt){if(tn){if(typeof tn=="string")return vt(tn,Tt);var $t=Object.prototype.toString.call(tn).slice(8,-1);if($t==="Object"&&tn.constructor&&($t=tn.constructor.name),$t==="Map"||$t==="Set")return Array.from(tn);if($t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($t))return vt(tn,Tt)}}(Ct))||ct&&Ct&&typeof Ct.length=="number"){it&&(Ct=it);var _e=0,lt=function(){};return{s:lt,n:function(){return _e>=Ct.length?{done:!0}:{done:!1,value:Ct[_e++]}},e:function(tn){throw tn},f:lt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st,It=!0,Dt=!1;return{s:function(){it=it.call(Ct)},n:function(){var tn=it.next();return It=tn.done,tn},e:function(tn){Dt=!0,st=tn},f:function(){try{It||it.return==null||it.return()}finally{if(Dt)throw st}}}}function vt(Ct,ct){(ct==null||ct>Ct.length)&&(ct=Ct.length);for(var it=0,_e=new Array(ct);it<ct;it++)_e[it]=Ct[it];return _e}function Xt(Ct,ct){var it=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),it.push.apply(it,_e)}return it}function nn(Ct){for(var ct=1;ct<arguments.length;ct++){var it=arguments[ct]!=null?arguments[ct]:{};ct%2?Xt(Object(it),!0).forEach(function(_e){(0,ht.Z)(Ct,_e,it[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(it)):Xt(Object(it)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(it,_e))})}return Ct}var cn=32,Qt=12,hn=256,fn="NOT_SPREADSHEET",Nn="VALID_SPREADSHEET",mn=function(Ct){var ct=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(Ct);return ct?parseFloat("".concat((ct[1]||ct[2])+ct[3]).replace(/,/g,"")):null},pn=function(Ct,ct){return Ct.slice(1).every(function(it){return mn(it[ct])!==null})},vn=function(Ct){var ct=Ct[0].length;if(ct>2)return{type:fn,reason:"More than 2 columns"};if(ct===1){if(!pn(Ct,0))return{type:fn,reason:"Value is not numeric"};var it=mn(Ct[0][0])===null,_e=(it?Ct.slice(1):Ct).map(function(Ot){return mn(Ot[0])});return _e.length<2?{type:fn,reason:"Less than two rows"}:{type:Nn,spreadsheet:{title:it?Ct[0][0]:null,labels:null,values:_e}}}var lt=pn(Ct,0),st=pn(Ct,1);if(!lt&&!st)return{type:fn,reason:"Value is not numeric"};var It=st?[0,1]:[1,0],Dt=(0,ot.Z)(It,2),tn=Dt[0],Tt=Dt[1],$t=mn(Ct[0][Tt])===null,Wt=$t?Ct.slice(1):Ct;return Wt.length<2?{type:fn,reason:"Less than 2 rows"}:{type:Nn,spreadsheet:{title:$t?Ct[0][Tt]:null,labels:Wt.map(function(Ot){return Ot[tn]}),values:Wt.map(function(Ot){return mn(Ot[Tt])})}}},yt=function(Ct){var ct=Ct.trim().split(`
`).map(function(st){return st.trim().split("	")});if(ct.length&&ct[0].length!==2&&(ct=Ct.trim().split(`
`).map(function(st){return st.trim().split(",")})),ct.length===0)return{type:fn,reason:"No values"};var it=ct[0].length;if(!ct.every(function(st){return st.length===it}))return{type:fn,reason:"All rows don't have same number of columns"};var _e=vn(ct);if(_e.type!==Nn){var lt=vn(function(st){for(var It=[],Dt=0;Dt<st[0].length;Dt++){for(var tn=[],Tt=0;Tt<st.length;Tt++)tn.push(st[Tt][Dt]);It.push(tn)}return It}(ct));if(lt.type===Nn)return lt}return _e},Ht=at.Z.elementBackground.slice(2,at.Z.elementBackground.length),Bt={strokeColor:at.Z.elementStroke[0]},bt=function(Ct){return{chartWidth:44*Ct.values.length+Qt,chartHeight:280}},Et=function(Ct,ct,it,_e,lt,st){var It=bt(Ct),Dt=It.chartWidth,tn=It.chartHeight,Tt=Ct.title?(0,xt.VL)(nn(nn({backgroundColor:lt,groupIds:[_e]},Bt),{},{text:Ct.title,x:ct+Dt/2,y:it-hn-24-gt.n5,roundness:null,textAlign:"center"})):null,$t=st?(0,xt.Up)(nn(nn({backgroundColor:lt,groupIds:[_e]},Bt),{},{type:"rectangle",x:ct,y:it-tn,width:Dt,height:tn,strokeColor:at.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,pt.Z)($t?[$t]:[]),(0,pt.Z)(Tt?[Tt]:[]),(0,pt.Z)(function(Wt,Ot,In,rn,_t){var St;return((St=Wt.labels)===null||St===void 0?void 0:St.map(function(Vt,Pt){return(0,xt.VL)(nn(nn({groupIds:[rn],backgroundColor:_t},Bt),{},{text:Vt.length>8?"".concat(Vt.slice(0,5),"..."):Vt,x:Ot+44*Pt+24,y:In+6,width:cn,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(Ct,ct,it,_e,lt)),(0,pt.Z)(function(Wt,Ot,In,rn,_t){var St=(0,xt.VL)(nn(nn({groupIds:[rn],backgroundColor:_t},Bt),{},{x:Ot-Qt,y:In-Qt,text:"0",textAlign:"right"}));return[St,(0,xt.VL)(nn(nn({groupIds:[rn],backgroundColor:_t},Bt),{},{x:Ot-Qt,y:In-hn-St.height/2,text:Math.max.apply(Math,(0,pt.Z)(Wt.values)).toLocaleString(),textAlign:"right"}))]}(Ct,ct,it,_e,lt)),(0,pt.Z)(function(Wt,Ot,In,rn,_t){var St=bt(Wt),Vt=St.chartWidth,Pt=St.chartHeight;return[(0,xt.y8)(nn(nn({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Ot,y:In,startArrowhead:null,endArrowhead:null,width:Vt,points:[[0,0],[Vt,0]]})),(0,xt.y8)(nn(nn({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Ot,y:In,startArrowhead:null,endArrowhead:null,height:Pt,points:[[0,0],[0,-Pt]]})),(0,xt.y8)(nn(nn({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Ot,y:In-hn-Qt,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Vt,opacity:50,points:[[0,0],[Vt,0]]}))]}(Ct,ct,it,_e,lt)))},At=function(Ct,ct,it,_e){return Ct==="line"?function(lt,st,It){var Dt,tn=Math.max.apply(Math,(0,pt.Z)(lt.values)),Tt=(0,Ut.kb)(),$t=Ht[Math.floor(Math.random()*Ht.length)],Wt=0,Ot=[],In=rt(lt.values);try{for(In.s();!(Dt=In.n()).done;){var rn=Dt.value,_t=44*Wt,St=-rn/tn*hn;Ot.push([_t,St]),Wt++}}catch(ft){In.e(ft)}finally{In.f()}var Vt=Math.max.apply(Math,(0,pt.Z)(Ot.map(function(ft){return ft[0]}))),Pt=Math.max.apply(Math,(0,pt.Z)(Ot.map(function(ft){return ft[1]}))),qt=Math.min.apply(Math,(0,pt.Z)(Ot.map(function(ft){return ft[0]}))),dn=Math.min.apply(Math,(0,pt.Z)(Ot.map(function(ft){return ft[1]}))),Rt=(0,xt.y8)(nn(nn({backgroundColor:$t,groupIds:[Tt]},Bt),{},{type:"line",x:st+Qt+16,y:It-Qt,startArrowhead:null,endArrowhead:null,height:Pt-dn,width:Vt-qt,strokeWidth:2,points:Ot})),Zt=lt.values.map(function(ft,Gt){var wt=44*Gt+6,Jt=-ft/tn*hn+6;return(0,xt.Up)(nn(nn({backgroundColor:$t,groupIds:[Tt]},Bt),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:st+wt+16,y:It+Jt-24,width:Qt,height:Qt}))}),zt=lt.values.map(function(ft,Gt){var wt=44*Gt+6,Jt=ft/tn*hn+6+Qt;return(0,xt.y8)(nn(nn({backgroundColor:$t,groupIds:[Tt]},Bt),{},{type:"line",x:st+wt+16+6,y:It-Jt,startArrowhead:null,endArrowhead:null,height:Jt,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Jt]]}))});return[].concat((0,pt.Z)(Et(lt,st,It,Tt,$t,gt.Vi.DEVELOPMENT==="production")),[Rt],(0,pt.Z)(zt),(0,pt.Z)(Zt))}(ct,it,_e):function(lt,st,It){var Dt=Math.max.apply(Math,(0,pt.Z)(lt.values)),tn=(0,Ut.kb)(),Tt=Ht[Math.floor(Math.random()*Ht.length)],$t=lt.values.map(function(Wt,Ot){var In=Wt/Dt*hn;return(0,xt.Up)(nn(nn({backgroundColor:Tt,groupIds:[tn]},Bt),{},{type:"rectangle",x:st+44*Ot+Qt,y:It-In-Qt,width:cn,height:In}))});return[].concat((0,pt.Z)($t),(0,pt.Z)(Et(lt,st,It,tn,Tt,gt.Vi.DEVELOPMENT==="production")))}(ct,it,_e)}},8982:function(Lt,kt,_){_.d(kt,{X:function(){return ht},f:function(){return ot}});var pt=_(56),ht=function(at,gt){if(gt!=null&&gt.collaborators){var xt=gt.collaborators.get(at);if(xt!=null&&xt.color)return xt.color}var Ut=at.split("").reduce(function(Xt,nn){return Xt+nn.charCodeAt(0)},0),rt=pt.Z.elementBackground.slice(3),vt=pt.Z.elementStroke.slice(3);return{background:rt[Ut%rt.length],stroke:vt[Ut%vt.length]}},ot=function(at){return at!=null&&at.trim()?at.trim()[0].toUpperCase():"?"}},6665:function(Lt,kt,_){_.d(kt,{dd:function(){return Et},mQ:function(){return Bt},uR:function(){return bt},vQ:function(){return pn},vt:function(){return Nn},wx:function(){return fn}});var pt=_(7169),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(4162),xt=_(5674),Ut=_(2335),rt=_(1974),vt=_(6340);function Xt(Ct,ct){var it=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),it.push.apply(it,_e)}return it}function nn(Ct){for(var ct=1;ct<arguments.length;ct++){var it=arguments[ct]!=null?arguments[ct]:{};ct%2?Xt(Object(it),!0).forEach(function(_e){(0,pt.Z)(Ct,_e,it[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(it)):Xt(Object(it)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(it,_e))})}return Ct}var cn="",Qt=!1,hn="clipboard"in navigator&&"readText"in navigator.clipboard,fn="clipboard"in navigator&&"writeText"in navigator.clipboard,Nn="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,mn=function(Ct){return!(![Ut.r8.excalidraw,Ut.r8.excalidrawClipboard].includes(Ct==null?void 0:Ct.type)||!Array.isArray(Ct.elements))},pn=function(){var Ct=(0,ht.Z)(at().mark(function ct(it,_e,lt){var st,It;return at().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return st={type:Ut.r8.excalidrawClipboard,elements:it,files:lt?it.reduce(function(tn,Tt){return(0,rt.wi)(Tt)&&lt[Tt.fileId]&&(tn[Tt.fileId]=lt[Tt.fileId]),tn},{}):void 0},It=JSON.stringify(st),cn=It,Dt.prev=3,Qt=!1,Dt.next=7,Et(It);case 7:Dt.next=13;break;case 9:Dt.prev=9,Dt.t0=Dt.catch(3),Qt=!0,console.error(Dt.t0);case 13:case"end":return Dt.stop()}},ct,null,[[3,9]])}));return function(ct,it,_e){return Ct.apply(this,arguments)}}(),vn=function(){if(!cn)return{};try{return JSON.parse(cn)}catch(Ct){return console.error(Ct),{}}},yt=function(Ct){var ct=(0,xt.dz)(Ct);return ct.type===xt.i$?{spreadsheet:ct.spreadsheet}:null},Ht=function(){var Ct=(0,ht.Z)(at().mark(function ct(it){var _e,lt;return at().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(st.prev=0,!it){st.next=5;break}st.t0=(_e=it.clipboardData)===null||_e===void 0?void 0:_e.getData("text/plain"),st.next=11;break;case 5:if(st.t1=hn,!st.t1){st.next=10;break}return st.next=9,navigator.clipboard.readText();case 9:st.t1=st.sent;case 10:st.t0=st.t1;case 11:return lt=st.t0,st.abrupt("return",(lt||"").trim());case 15:return st.prev=15,st.t2=st.catch(0),st.abrupt("return","");case 18:case"end":return st.stop()}},ct,null,[[0,15]])}));return function(ct){return Ct.apply(this,arguments)}}(),Bt=function(){var Ct=(0,ht.Z)(at().mark(function ct(it){var _e,lt,st,It,Dt,tn=arguments;return at().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return _e=tn.length>1&&tn[1]!==void 0&&tn[1],Tt.next=3,Ht(it);case 3:if((lt=Tt.sent)&&(_e||!lt.includes(gt.oj))){Tt.next=6;break}return Tt.abrupt("return",vn());case 6:if(!(st=!_e&&yt(lt))){Tt.next=9;break}return Tt.abrupt("return",st);case 9:if(It=vn(),Tt.prev=10,Dt=JSON.parse(lt),!mn(Dt)){Tt.next=14;break}return Tt.abrupt("return",{elements:Dt.elements,files:Dt.files,text:_e?JSON.stringify(Dt.elements,null,2):void 0});case 14:Tt.next=18;break;case 16:Tt.prev=16,Tt.t0=Tt.catch(10);case 18:return Tt.abrupt("return",Qt&&It.elements?nn(nn({},It),{},{text:_e?JSON.stringify(It.elements,null,2):void 0}):{text:lt});case 19:case"end":return Tt.stop()}},ct,null,[[10,16]])}));return function(ct){return Ct.apply(this,arguments)}}(),bt=function(){var Ct=(0,ht.Z)(at().mark(function ct(it){return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,pt.Z)({},Ut.LO.png,it))]);case 3:case 21:_e.next=24;break;case 5:if(_e.prev=5,_e.t0=_e.catch(0),!(0,vt.y8)(it)){_e.next=23;break}return _e.t1=navigator.clipboard,_e.t2=window.ClipboardItem,_e.t3=pt.Z,_e.t4={},_e.t5=Ut.LO.png,_e.next=15,it;case 15:return _e.t6=_e.sent,_e.t7=(0,_e.t3)(_e.t4,_e.t5,_e.t6),_e.t8=new _e.t2(_e.t7),_e.t9=[_e.t8],_e.next=21,_e.t1.write.call(_e.t1,_e.t9);case 23:throw _e.t0;case 24:case"end":return _e.stop()}},ct,null,[[0,5]])}));return function(ct){return Ct.apply(this,arguments)}}(),Et=function(){var Ct=(0,ht.Z)(at().mark(function ct(it){var _e;return at().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(_e=!1,!fn){lt.next=11;break}return lt.prev=2,lt.next=5,navigator.clipboard.writeText(it||"");case 5:_e=!0,lt.next=11;break;case 8:lt.prev=8,lt.t0=lt.catch(2),console.error(lt.t0);case 11:if(_e||At(it||" ")){lt.next=13;break}throw new Error("couldn't copy");case 13:case"end":return lt.stop()}},ct,null,[[2,8]])}));return function(ct){return Ct.apply(this,arguments)}}(),At=function(Ct){var ct=document.documentElement.getAttribute("dir")==="rtl",it=document.createElement("textarea");it.style.border="0",it.style.padding="0",it.style.margin="0",it.style.position="absolute",it.style[ct?"right":"left"]="-9999px";var _e=window.pageYOffset||document.documentElement.scrollTop;it.style.top="".concat(_e,"px"),it.style.fontSize="12pt",it.setAttribute("readonly",""),it.value=Ct,document.body.appendChild(it);var lt=!1;try{it.select(),it.setSelectionRange(0,it.value.length),lt=document.execCommand("copy")}catch(st){console.error(st)}return it.remove(),lt}},56:function(Lt,kt,_){var pt=_(1930),ht=_(5284),ot=function(at){return[ht.red[at],ht.pink[at],ht.grape[at],ht.violet[at],ht.indigo[at],ht.blue[at],ht.cyan[at],ht.teal[at],ht.green[at],ht.lime[at],ht.yellow[at],ht.orange[at]]};kt.Z={canvasBackground:[ht.white,ht.gray[0],ht.gray[1]].concat((0,pt.Z)(ot(0))),elementBackground:["transparent",ht.gray[4],ht.gray[6]].concat((0,pt.Z)(ot(6))),elementStroke:[ht.black,ht.gray[8],ht.gray[7]].concat((0,pt.Z)(ot(9)))}},6798:function(Lt,kt,_){_.d(kt,{o:function(){return Xt},w:function(){return vt}});var pt=_(2577),ht=_(4739),ot=_(6710),at=_(8211),gt=_(9487),xt=_(2134),Ut=_(7046),rt=_(4512),vt=(0,ht.cn)(null),Xt=function(){var nn=(0,ht.KO)(vt,gt.yE),cn=(0,pt.Z)(nn,2),Qt=cn[0],hn=cn[1],fn=(0,xt.eh)();return Qt&&Qt==="clearCanvas"?(0,rt.jsx)(Ut.Z,{onConfirm:function(){fn.executeAction(ot.mo),hn(null)},onCancel:function(){return hn(null)},title:(0,at.t)("clearCanvasDialog.title"),children:(0,rt.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,at.t)("alerts.clearReset")]})}):null}},2134:function(Lt,kt,_){_.d(kt,{ZP:function(){return Ou},Fy:function(){return Xl},eh:function(){return Du},gF:function(){return Hs},J0:function(){return cu},bd:function(){return e0},n9:function(){return su}});var pt=_(6655),ht=_(2577),ot=_(1930),at=_(8950),gt=_(8821),xt=_(5169),Ut=_(3173),rt=_(2248),vt=_(7245),Xt=_(2312),nn=_(7169),cn=_(2975),Qt=_.n(cn),hn=_(9787),fn=_.n(hn),Nn=_(5156),mn=_(8234),pn=_(45),vn=_(5605),yt=_(6710),Ht=_(3646),Bt=_(1319),bt=_(8211),Et=_(6066),At=_(1935),Ct=_(8290),ct=_(6340),it=_(2335),_e=_(4512);function lt(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function st(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?lt(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):lt(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var It=function(nt,Ft,en){var sn=!1;if(!(Ft.multiElement||Ft.resizingElement||Ft.editingElement||Ft.draggingElement)){var kn=en();if(kn===null)return{commitToHistory:sn};var gn=(0,ct.xn)(nt),Yt=kn.elements,En=(0,ct.xn)(Yt),Zn=nt.filter(function(Yn){return!En.has(Yn.id)}),Ln=Yt.map(function(Yn){return(0,At.BE)(gn.get(Yn.id)||Yn,Yn)}).concat(Zn.map(function(Yn){return(0,At.BE)(Yn,{isDeleted:!0})}));return(0,Ct.$q)(Ln,Zn),{elements:Ln,appState:st(st({},Ft),kn.appState),commitToHistory:sn,syncHistory:!0}}return{commitToHistory:sn}},Dt=_(7047),tn=function(nt,Ft,en,sn,kn,gn){if(nt.trackEvent)try{(0,pt.Z)(nt.trackEvent)==="object"&&(!nt.trackEvent.predicate||nt.trackEvent.predicate(en,sn,gn))&&(0,Dt.L)(nt.trackEvent.category,nt.trackEvent.action||nt.name,"".concat(Ft," (").concat(kn.device.isMobile?"mobile":"desktop",")"))}catch(Yt){console.error("error while logging action:",Yt)}},Tt=function(){function nt(Ft,en,sn,kn){var gn=this;(0,gt.Z)(this,nt),this.actions={},this.renderAction=function(Yt,En){var Zn=gn.app.props.UIOptions.canvasActions;if(gn.actions[Yt]&&"PanelComponent"in gn.actions[Yt]&&(!(Yt in Zn)||Zn[Yt])){var Ln=gn.actions[Yt],Yn=Ln.PanelComponent;Yn.displayName="PanelComponent";var qn=gn.getElementsIncludingDeleted(),nr=gn.getAppState();return(0,_e.jsx)(Yn,{elements:gn.getElementsIncludingDeleted(),appState:gn.getAppState(),updateData:function(hr){tn(Ln,"ui",nr,qn,gn.app,hr),gn.updater(Ln.perform(gn.getElementsIncludingDeleted(),gn.getAppState(),hr,gn.app))},appProps:gn.app.props,data:En})}return null},this.isActionEnabled=function(Yt){var En=gn.getElementsIncludingDeleted(),Zn=gn.getAppState();return!Yt.predicate||Yt.predicate(En,Zn,gn.app.props,gn.app)},this.updater=function(Yt){if(!Yt||!("then"in Yt))return Ft(Yt);Yt.then(function(En){return Ft(En)})},this.getAppState=en,this.getElementsIncludingDeleted=sn,this.app=kn}return(0,xt.Z)(nt,[{key:"registerAction",value:function(Ft){this.actions[Ft.name]=Ft}},{key:"registerAll",value:function(Ft){var en=this;Ft.forEach(function(sn){return en.registerAction(sn)})}},{key:"handleKeyDown",value:function(Ft){var en=this,sn=this.app.props.UIOptions.canvasActions,kn=Object.values(this.actions).sort(function(Zn,Ln){return(Ln.keyPriority||0)-(Zn.keyPriority||0)}).filter(function(Zn){return(!(Zn.name in sn)||sn[Zn.name])&&Zn.keyTest&&Zn.keyTest(Ft,en.getAppState(),en.getElementsIncludingDeleted())});if(kn.length!==1)return kn.length>1&&console.warn("Canceling as multiple actions match this shortcut",kn),!1;var gn=kn[0];if(this.getAppState().viewModeEnabled&&gn.viewMode!==!0)return!1;var Yt=this.getElementsIncludingDeleted(),En=this.getAppState();return tn(gn,"keyboard",En,Yt,this.app,null),Ft.preventDefault(),Ft.stopPropagation(),this.updater(kn[0].perform(Yt,En,null,this.app)),!0}},{key:"executeAction",value:function(Ft){var en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",sn=this.getElementsIncludingDeleted(),kn=this.getAppState(),gn=null;tn(Ft,en,kn,sn,this.app,gn),this.updater(Ft.perform(sn,kn,gn,this.app))}}]),nt}(),$t=_(7901),Wt=_(8897),Ot=_(6665),In=_(9485),rn=_(7053),_t=_(679),St=_(1047),Vt=_(6938),Pt=_(2791),qt=_(1974),dn=function(nt){var Ft=Array.from(nt.values());return{x:Zt(Ft,function(en){return en.x})/Ft.length,y:Zt(Ft,function(en){return en.y})/Ft.length}},Rt=function(nt){var Ft=(0,ht.Z)(nt,2),en=Ft[0],sn=Ft[1];return Math.hypot(en.x-sn.x,en.y-sn.y)},Zt=function(nt,Ft){return nt.reduce(function(en,sn){return en+Ft(sn)},0)},zt=_(242);function ft(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function Gt(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?ft(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):ft(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var wt=function(nt){return{selectedElementIds:nt.selectedElementIds,selectedGroupIds:nt.selectedGroupIds,viewBackgroundColor:nt.viewBackgroundColor,editingLinearElement:nt.editingLinearElement,editingGroupId:nt.editingGroupId,name:nt.name}},Jt=function(){function nt(){var Ft=this;(0,gt.Z)(this,nt),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(en,sn){return Ft.dehydrateHistoryEntry({appState:wt(en),elements:sn.reduce(function(kn,gn){if((0,qt.bt)(gn)&&en.multiElement&&en.multiElement.id===gn.id){if(en.multiElement&&en.multiElement.id===gn.id&&gn.points.length<2)return kn;kn.push(Gt(Gt({},gn),{},{points:gn.lastCommittedPoint!==gn.points[gn.points.length-1]?gn.points.slice(0,-1):gn.points}))}else kn.push(gn);return kn},[])})}}return(0,xt.Z)(nt,[{key:"hydrateHistoryEntry",value:function(Ft){var en=this,sn=Ft.appState,kn=Ft.elements;return{appState:JSON.parse(sn),elements:kn.map(function(gn){var Yt,En=(Yt=en.elementCache.get(gn.id))===null||Yt===void 0?void 0:Yt.get(gn.versionNonce);if(!En)throw new Error("Element not found: ".concat(gn.id,":").concat(gn.versionNonce));return En})}}},{key:"dehydrateHistoryEntry",value:function(Ft){var en=this,sn=Ft.appState,kn=Ft.elements;return{appState:JSON.stringify(sn),elements:kn.map(function(gn){en.elementCache.has(gn.id)||en.elementCache.set(gn.id,new Map);var Yt=en.elementCache.get(gn.id);return Yt.has(gn.versionNonce)||Yt.set(gn.versionNonce,(0,Pt.OL)(gn)),{id:gn.id,versionNonce:gn.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var Ft=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(en){return Ft.hydrateHistoryEntry(en)}),redoStack:this.redoStack.map(function(en){return Ft.hydrateHistoryEntry(en)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(Ft){var en,sn=this.lastEntry;if(!sn||Ft.elements.length!==sn.elements.length)return!0;for(var kn=Ft.elements.length-1;kn>-1;kn--){var gn=Ft.elements[kn],Yt=sn.elements[kn];if(!gn||!Yt||gn.id!==Yt.id||gn.versionNonce!==Yt.versionNonce)return!0}for(en in Ft.appState){var En,Zn;if(!(en==="editingLinearElement"&&((En=Ft.appState[en])===null||En===void 0?void 0:En.elementId)===((Zn=sn.appState[en])===null||Zn===void 0?void 0:Zn.elementId))&&en!=="selectedElementIds"&&en!=="selectedGroupIds"&&Ft.appState[en]!==sn.appState[en])return!0}return!1}},{key:"pushEntry",value:function(Ft,en){var sn=this.generateEntry(Ft,en),kn=this.hydrateHistoryEntry(sn);if(kn){if(!this.shouldCreateEntry(kn))return;this.stateHistory.push(sn),this.lastEntry=kn,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var Ft=this.redoStack.pop();return Ft!==void 0?(this.stateHistory.push(Ft),this.hydrateHistoryEntry(Ft)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var Ft=this.stateHistory.pop(),en=this.stateHistory[this.stateHistory.length-1];return Ft!==void 0?(this.redoStack.push(Ft),this.hydrateHistoryEntry(en)):null}},{key:"setCurrentState",value:function(Ft,en){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(Ft,en))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(Ft,en){this.recording&&(this.pushEntry(Ft,en),this.recording=!1)}}]),nt}(),Mt=_(6552),un=_(3547),bn=_(3063),jt=_(75),Fn=_(1564),yn=_(746),Gn=[{icon:Ht.zu,value:"selection",key:Et.tW.V,numericKey:Et.tW[1],fillable:!0},{icon:Ht.OW,value:"rectangle",key:Et.tW.R,numericKey:Et.tW[2],fillable:!0},{icon:Ht.nb,value:"diamond",key:Et.tW.D,numericKey:Et.tW[3],fillable:!0},{icon:Ht.Re,value:"ellipse",key:Et.tW.O,numericKey:Et.tW[4],fillable:!0},{icon:Ht.e0,value:"arrow",key:Et.tW.A,numericKey:Et.tW[5],fillable:!0},{icon:Ht.zb,value:"line",key:Et.tW.L,numericKey:Et.tW[6],fillable:!0},{icon:Ht.Pm,value:"freedraw",key:[Et.tW.P,Et.tW.X],numericKey:Et.tW[7],fillable:!1},{icon:Ht.VL,value:"text",key:Et.tW.T,numericKey:Et.tW[8],fillable:!1},{icon:Ht.XB,value:"image",key:null,numericKey:Et.tW[9],fillable:!1},{icon:Ht.$q,value:"eraser",key:Et.tW.E,numericKey:Et.tW[0],fillable:!1}],Nt=_(2891),Xn=_(487),Cn=_.n(Xn),xn=_(631),Tn=_.n(xn),Pn=_(2052),tr=_.n(Pn),ir=_(4010),gr=_.n(ir),Wn=_(1469),ln=_.n(Wn),Un=_(9329),wn=_.n(Un),Mn=_(6578),zn={};zn.styleTagTransform=wn(),zn.setAttributes=gr(),zn.insert=tr().bind(null,"head"),zn.domAPI=Tn(),zn.insertStyleElement=ln(),Cn()(Mn.Z,zn),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;var jn=_(785),$n="separator",cr=fn().memo(function(nt){var Ft=nt.actionManager,en=nt.items,sn=nt.top,kn=nt.left,gn=Hs(),Yt=su(),En=e0(),Zn=en.reduce(function(Ln,Yn){return!Yn||Yn!==$n&&Yn.predicate&&!Yn.predicate(En,gn,Ft.app.props,Ft.app)||Ln.push(Yn),Ln},[]);return(0,_e.jsx)(Nt.J,{onCloseRequest:function(){return Yt({contextMenu:null})},top:sn,left:kn,fitInViewport:!0,offsetLeft:gn.offsetLeft,offsetTop:gn.offsetTop,viewportWidth:gn.width,viewportHeight:gn.height,children:(0,_e.jsx)("ul",{className:"context-menu",onContextMenu:function(Ln){return Ln.preventDefault()},children:Zn.map(function(Ln,Yn){var qn;if(Ln===$n)return Zn[Yn-1]&&Zn[Yn-1]!==$n?(0,_e.jsx)("hr",{className:"context-menu-item-separator"},Yn):null;var nr=Ln.name,hr="";return Ln.contextItemLabel&&(hr=typeof Ln.contextItemLabel=="function"?(0,bt.t)(Ln.contextItemLabel(En,gn)):(0,bt.t)(Ln.contextItemLabel)),(0,_e.jsx)("li",{"data-testid":nr,onClick:function(){Yt({contextMenu:null},function(){Ft.executeAction(Ln,"contextMenu")})},children:(0,_e.jsxs)("button",{className:(0,pn.Z)("context-menu-item",{dangerous:nr==="deleteSelectedElements",checkmark:(qn=Ln.checked)===null||qn===void 0?void 0:qn.call(Ln,gn)}),children:[(0,_e.jsx)("div",{className:"context-menu-item__label",children:hr}),(0,_e.jsx)("kbd",{className:"context-menu-item__shortcut",children:nr?(0,jn.C)(nr):""})]})},Yn)})})})}),or=_(2726),ur=_(7239),Ur=_(8120),Zr=_(6086),yr={};yr.styleTagTransform=wn(),yr.setAttributes=gr(),yr.insert=tr().bind(null,"head"),yr.domAPI=Tn(),yr.insertStyleElement=ln(),Cn()(Zr.Z,yr),Zr.Z&&Zr.Z.locals&&Zr.Z.locals;var Ar=_(1894),pr=_(5710);function Nr(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function Or(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Nr(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Nr(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}function ba(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Zn,Ln){if(Zn){if(typeof Zn=="string")return ho(Zn,Ln);var Yn=Object.prototype.toString.call(Zn).slice(8,-1);if(Yn==="Object"&&Zn.constructor&&(Yn=Zn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Zn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return ho(Zn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var sn=0,kn=function(){};return{s:kn,n:function(){return sn>=nt.length?{done:!0}:{done:!1,value:nt[sn++]}},e:function(Zn){throw Zn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gn,Yt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Zn=en.next();return Yt=Zn.done,Zn},e:function(Zn){En=!0,gn=Zn},f:function(){try{Yt||en.return==null||en.return()}finally{if(En)throw gn}}}}function ho(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,sn=new Array(Ft);en<Ft;en++)sn[en]=nt[en];return sn}var oo=function(nt){var Ft,en=nt.appState,sn=nt.elements,kn=nt.renderAction,gn=(0,jt.Zs)((0,St.Lm)(sn),en),Yt=!1;gn.length===2&&((0,qt.Xo)(gn[0])||(0,qt.Xo)(gn[1]))&&(Yt=!0);var En,Zn=!!en.editingElement,Ln=Xl(),Yn=document.documentElement.getAttribute("dir")==="rtl",qn=(0,jt.$b)(en.activeTool.type)||gn.some(function(kr){return(0,jt.$b)(kr.type)&&!(0,ct.Qm)(kr.backgroundColor)}),nr=(0,jt.$b)(en.activeTool.type)||gn.some(function(kr){return(0,jt.$b)(kr.type)}),hr=gn.length===1||Yt,mr=((Ft=gn[0])===null||Ft===void 0?void 0:Ft.type)||null,dr=ba(gn);try{for(dr.s();!(En=dr.n()).done;)if(En.value.type!==mr){mr=null;break}}catch(kr){dr.e(kr)}finally{dr.f()}return(0,_e.jsxs)("div",{className:"panelColumn",children:[(0,_e.jsx)("div",{children:((0,Ur.PD)(en.activeTool.type)&&en.activeTool.type!=="image"&&mr!=="image"||gn.some(function(kr){return(0,Ur.PD)(kr.type)}))&&kn("changeStrokeColor")}),nr&&(0,_e.jsx)("div",{children:kn("changeBackgroundColor")}),qn&&kn("changeFillStyle"),((0,jt.Zd)(en.activeTool.type)||gn.some(function(kr){return(0,jt.Zd)(kr.type)}))&&kn("changeStrokeWidth"),(en.activeTool.type==="freedraw"||gn.some(function(kr){return kr.type==="freedraw"}))&&kn("changeStrokeShape"),((0,jt.M9)(en.activeTool.type)||gn.some(function(kr){return(0,jt.M9)(kr.type)}))&&(0,_e.jsxs)(_e.Fragment,{children:[kn("changeStrokeStyle"),kn("changeSloppiness")]}),((0,jt.sh)(en.activeTool.type)||gn.some(function(kr){return(0,jt.sh)(kr.type)}))&&(0,_e.jsx)(_e.Fragment,{children:kn("changeRoundness")}),((0,jt.bZ)(en.activeTool.type)||gn.some(function(kr){return(0,jt.bZ)(kr.type)}))&&(0,_e.jsxs)(_e.Fragment,{children:[kn("changeFontSize"),kn("changeFontFamily"),(0,pr.aV)(gn)&&kn("changeTextAlign")]}),(0,pr.cn)(gn)&&kn("changeVerticalAlign"),((0,jt.Un)(en.activeTool.type)||gn.some(function(kr){return(0,jt.Un)(kr.type)}))&&(0,_e.jsx)(_e.Fragment,{children:kn("changeArrowhead")}),kn("changeOpacity"),(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.layers")}),(0,_e.jsxs)("div",{className:"buttonList",children:[kn("sendToBack"),kn("sendBackward"),kn("bringToFront"),kn("bringForward")]})]}),gn.length>1&&!Yt&&(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.align")}),(0,_e.jsxs)("div",{className:"buttonList",children:[Yn?(0,_e.jsxs)(_e.Fragment,{children:[kn("alignRight"),kn("alignHorizontallyCentered"),kn("alignLeft")]}):(0,_e.jsxs)(_e.Fragment,{children:[kn("alignLeft"),kn("alignHorizontallyCentered"),kn("alignRight")]}),gn.length>2&&kn("distributeHorizontally"),(0,_e.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,_e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[kn("alignTop"),kn("alignVerticallyCentered"),kn("alignBottom"),gn.length>2&&kn("distributeVertically")]})]})]}),!Zn&&gn.length>0&&(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.actions")}),(0,_e.jsxs)("div",{className:"buttonList",children:[!Ln.isMobile&&kn("duplicateSelection"),!Ln.isMobile&&kn("deleteSelectedElements"),kn("group"),kn("ungroup"),hr&&kn("hyperlink")]})]})]})},lo=function(nt){var Ft=nt.canvas,en=nt.activeTool,sn=nt.setAppState,kn=nt.onImageAction,gn=nt.appState;return(0,_e.jsx)(_e.Fragment,{children:Gn.map(function(Yt,En){var Zn=Yt.value,Ln=Yt.icon,Yn=Yt.key,qn=Yt.numericKey,nr=Yt.fillable,hr=(0,bt.t)("toolBar.".concat(Zn)),mr=Yn&&(0,ct.Oo)(typeof Yn=="string"?Yn:Yn[0]),dr=mr?"".concat(mr," ").concat((0,bt.t)("helpDialog.or")," ").concat(qn):"".concat(qn);return(0,_e.jsx)(Bt.V,{className:(0,pn.Z)("Shape",{fillable:nr}),type:"radio",icon:Ln,checked:en.type===Zn,name:"editor-current-shape",title:"".concat((0,ct.Oo)(hr)," — ").concat(dr),keyBindingLabel:qn||mr,"aria-label":(0,ct.Oo)(hr),"aria-keyshortcuts":dr,"data-testid":"toolbar-".concat(Zn),onPointerDown:function(kr){var Gr=kr.pointerType;gn.penDetected||Gr!=="pen"||sn({penDetected:!0,penMode:!0})},onChange:function(kr){var Gr=kr.pointerType;gn.activeTool.type!==Zn&&(0,Dt.L)("toolbar",Zn,"ui");var Pr=(0,ct.Om)(gn,{type:Zn});sn({activeTool:Pr,multiElement:null,selectedElementIds:{}}),(0,ct.Uk)(Ft,Or(Or({},gn),{},{activeTool:Pr})),Zn==="image"&&kn({pointerType:Gr})}},Zn)})})},$r=function(nt){var Ft=nt.renderAction;return nt.zoom,(0,_e.jsx)(ur.Z.Col,{gap:1,className:"zoom-actions",children:(0,_e.jsxs)(ur.Z.Row,{align:"center",children:[Ft("zoomOut"),Ft("resetZoom"),Ft("zoomIn")]})})},qr=function(nt){var Ft=nt.renderAction,en=nt.className;return(0,_e.jsxs)("div",{className:"undo-redo-buttons ".concat(en),children:[(0,_e.jsx)("div",{className:"undo-button-container",children:(0,_e.jsx)(Ar.u,{label:(0,bt.t)("buttons.undo"),children:Ft("undo")})}),(0,_e.jsx)("div",{className:"redo-button-container",children:(0,_e.jsxs)(Ar.u,{label:(0,bt.t)("buttons.redo"),children:[" ",Ft("redo")]})})]})},Co=function(nt){var Ft=nt.actionManager,en=nt.showExitZenModeBtn;return(0,_e.jsx)("button",{className:(0,pn.Z)("disable-zen-mode",{"disable-zen-mode--visible":en}),onClick:function(){return Ft.executeAction(yt.JN)},children:(0,bt.t)("buttons.exitZenMode")})},po=function(nt){var Ft=nt.renderAction,en=nt.className;return(0,_e.jsx)("div",{className:"finalize-button ".concat(en),children:Ft("finalize",{size:"small"})})},na=_(8396),lr=function(nt){var Ft=nt.children,en=nt.onClose,sn=(0,hn.useState)(!!Ft),kn=(0,ht.Z)(sn,2),gn=kn[0],Yt=kn[1],En=cu().container,Zn=fn().useCallback(function(){Yt(!1),en&&en(),En==null||En.focus()},[en,En]);return(0,_e.jsx)(_e.Fragment,{children:gn&&(0,_e.jsx)(na.V,{small:!0,onCloseRequest:Zn,title:(0,bt.t)("errorDialog.title"),children:(0,_e.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:Ft})})})},Ir=_(434),Cr=_(7955),wr={};wr.styleTagTransform=wn(),wr.setAttributes=gr(),wr.insert=tr().bind(null,"head"),wr.domAPI=Tn(),wr.insertStyleElement=ln(),Cn()(Cr.Z,wr),Cr.Z&&Cr.Z.locals&&Cr.Z.locals;var Er=_(5284),Rr=_(3807),Kr=_(1393),ga=_(3024),to="filter"in document.createElement("canvas").getContext("2d"),io=function(){return(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:(0,bt.t)("canvasError.cannotShowPreview")}),(0,_e.jsx)("p",{children:(0,_e.jsx)("span",{children:(0,bt.t)("canvasError.canvasTooBig")})}),(0,_e.jsxs)("em",{children:["(",(0,bt.t)("canvasError.canvasTooBigTip"),")"]})]})},so=function(nt){var Ft,en=nt.children,sn=nt.title,kn=nt.onClick,gn=nt.color,Yt=nt.shade,En=Yt===void 0?6:Yt;return(0,_e.jsx)("button",{className:"ExportDialog-imageExportButton",style:(Ft={},(0,nn.Z)(Ft,"--button-color",Er[gn][En]),(0,nn.Z)(Ft,"--button-color-darker",Er[gn][En+1]),(0,nn.Z)(Ft,"--button-color-darkest",Er[gn][En+2]),Ft),title:sn,"aria-label":sn,onClick:kn,children:en})},mo=function(nt){var Ft=nt.elements,en=nt.appState,sn=nt.files,kn=nt.exportPadding,gn=kn===void 0?it.qy:kn,Yt=nt.actionManager,En=nt.onExportToPng,Zn=nt.onExportToSvg,Ln=nt.onExportToClipboard,Yn=(0,jt.N)(Ft,en),qn=(0,hn.useState)(Yn),nr=(0,ht.Z)(qn,2),hr=nr[0],mr=nr[1],dr=(0,hn.useRef)(null),kr=(0,hn.useState)(null),Gr=(0,ht.Z)(kr,2),Pr=Gr[0],Qr=Gr[1],_i=hr?(0,jt.eD)(Ft,en,!0):Ft;return(0,hn.useEffect)(function(){mr(Yn)},[Yn]),(0,hn.useEffect)(function(){var Hr=dr.current;if(Hr){var Yr=Hr.offsetWidth;Yr&&(0,ga.NL)({elements:_i,appState:en,files:sn,exportPadding:gn,maxWidthOrHeight:Yr}).then(function(_a){return Qr(null),(0,Ir._c)(_a).then(function(){Hr.replaceChildren(_a)})}).catch(function(_a){console.error(_a),Qr(_a)})}},[en,sn,_i,gn]),(0,_e.jsxs)("div",{className:"ExportDialog",children:[(0,_e.jsx)("div",{className:"ExportDialog__preview",ref:dr,children:Pr&&(0,_e.jsx)(io,{})}),to&&Yt.renderAction("exportWithDarkMode"),(0,_e.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,_e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[Yt.renderAction("changeExportBackground"),Yn&&(0,_e.jsx)(Rr.o,{checked:hr,onChange:function(Hr){return mr(Hr)},children:(0,bt.t)("labels.onlySelected")}),Yt.renderAction("changeExportEmbedScene")]})}),(0,_e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,_e.jsx)(ur.Z.Row,{gap:2,children:Yt.renderAction("changeExportScale")}),(0,_e.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,bt.t)("buttons.scale")})]}),(0,_e.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Kr.kr&&Yt.renderAction("changeProjectName")}),(0,_e.jsxs)(ur.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,_e.jsx)(so,{color:"indigo",title:(0,bt.t)("buttons.exportToPng"),"aria-label":(0,bt.t)("buttons.exportToPng"),onClick:function(){return En(_i)},children:"PNG"}),(0,_e.jsx)(so,{color:"red",title:(0,bt.t)("buttons.exportToSvg"),"aria-label":(0,bt.t)("buttons.exportToSvg"),onClick:function(){return Zn(_i)},children:"SVG"}),(Ot.vt||it.vU)&&(0,_e.jsx)(so,{title:(0,bt.t)("buttons.copyPngToClipboard"),onClick:function(){return Ln(_i)},color:"gray",shade:7,children:Ht.BR})]})]})},Zo=function(nt){var Ft=nt.elements,en=nt.appState,sn=nt.setAppState,kn=nt.files,gn=nt.exportPadding,Yt=gn===void 0?it.qy:gn,En=nt.actionManager,Zn=nt.onExportToPng,Ln=nt.onExportToSvg,Yn=nt.onExportToClipboard,qn=fn().useCallback(function(){sn({openDialog:null})},[sn]);return(0,_e.jsx)(_e.Fragment,{children:en.openDialog==="imageExport"&&(0,_e.jsx)(na.V,{onCloseRequest:qn,title:(0,bt.t)("buttons.exportImage"),children:(0,_e.jsx)(mo,{elements:Ft,appState:en,files:kn,exportPadding:Yt,actionManager:En,onExportToPng:Zn,onExportToSvg:Ln,onExportToClipboard:Yn,onCloseRequest:qn})})})},No=_(3195),Jo={};Jo.styleTagTransform=wn(),Jo.setAttributes=gr(),Jo.insert=tr().bind(null,"head"),Jo.domAPI=Tn(),Jo.insertStyleElement=ln(),Cn()(No.Z,Jo),No.Z&&No.Z.locals&&No.Z.locals;var Bl=function(nt){var Ft=nt.children,en=nt.side,sn=nt.className;return(0,_e.jsx)("div",{className:(0,pn.Z)("FixedSideContainer","FixedSideContainer_side_".concat(en),sn),children:Ft})},ro=_(1587),Io={};Io.styleTagTransform=wn(),Io.setAttributes=gr(),Io.insert=tr().bind(null,"head"),Io.domAPI=Tn(),Io.insertStyleElement=ln(),Cn()(ro.Z,Io),ro.Z&&ro.Z.locals&&ro.Z.locals;var Qo=function(nt){var Ft=function(en){var sn=en.appState,kn=en.elements,gn=en.isMobile,Yt=en.device,En=sn.activeTool,Zn=sn.isResizing,Ln=sn.isRotating,Yn=sn.lastPointerDownWith,qn=sn.multiElement!==null;if(sn.openSidebar==="library"&&!Yt.canDeviceFitSidebar)return null;if((0,Wt.EN)(sn))return(0,bt.t)("hints.eraserRevert");if(En.type==="arrow"||En.type==="line")return qn?(0,bt.t)("hints.linearElementMulti"):(0,bt.t)("hints.linearElement");if(En.type==="freedraw")return(0,bt.t)("hints.freeDraw");if(En.type==="text")return(0,bt.t)("hints.text");if(sn.activeTool.type==="image"&&sn.pendingImageElementId)return(0,bt.t)("hints.placeImage");var nr=(0,jt.eD)(kn,sn);if(Zn&&Yn==="mouse"&&nr.length===1){var hr=nr[0];return(0,qt.bt)(hr)&&hr.points.length===2?(0,bt.t)("hints.lockAngle"):(0,qt.pC)(hr)?(0,bt.t)("hints.resizeImage"):(0,bt.t)("hints.resize")}if(Ln&&Yn==="mouse")return(0,bt.t)("hints.rotate");if(nr.length===1&&(0,qt.iB)(nr[0]))return(0,bt.t)("hints.text_selected");if(sn.editingElement&&(0,qt.iB)(sn.editingElement))return(0,bt.t)("hints.text_editing");if(En.type==="selection"){var mr;if(((mr=sn.draggingElement)===null||mr===void 0?void 0:mr.type)==="selection"&&!sn.editingElement&&!sn.editingLinearElement)return(0,bt.t)("hints.deepBoxSelect");if(!nr.length&&!gn)return(0,bt.t)("hints.canvasPanning")}if(nr.length===1){if((0,qt.bt)(nr[0]))return sn.editingLinearElement?sn.editingLinearElement.selectedPointsIndices?(0,bt.t)("hints.lineEditor_pointSelected"):(0,bt.t)("hints.lineEditor_nothingSelected"):(0,bt.t)("hints.lineEditor_info");if((0,qt.mG)(nr[0]))return(0,bt.t)("hints.bindTextToElement")}return null}({appState:nt.appState,elements:nt.elements,isMobile:nt.isMobile,device:nt.device});return Ft?(Ft=(0,ct.uY)(Ft),(0,_e.jsx)("div",{className:"HintViewer",children:(0,_e.jsx)("span",{children:Ft})})):null},Lo=_(1881),Wl=_(5440),Ol=(_(5422),{CHECKED:Ht.FC,UNCHECKED:Ht._C}),Hl=function(nt){return(0,_e.jsxs)("label",{className:(0,pn.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":nt.isMobile}),title:"".concat(nt.title," — Q"),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:nt.name,onChange:nt.onChange,checked:nt.checked,"aria-label":nt.title,"data-testid":"toolbar-lock"}),(0,_e.jsx)("div",{className:"ToolIcon__icon",children:nt.checked?Ol.CHECKED:Ol.UNCHECKED})]})},Zl=["heading","children"];function _o(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function ls(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?_o(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):_o(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var Nl=function(nt){var Ft=nt.heading,en=nt.children,sn=(0,or.Z)(nt,Zl),kn=cu().id,gn=(0,_e.jsx)("h2",{className:"visually-hidden",id:"".concat(kn,"-").concat(Ft,"-title"),children:(0,bt.t)("headings.".concat(Ft))});return(0,_e.jsx)("section",ls(ls({},sn),{},{"aria-labelledby":"".concat(kn,"-").concat(Ft,"-title"),children:typeof en=="function"?en(gn):(0,_e.jsxs)(_e.Fragment,{children:[gn,en]})}))},zl=_(756),xs=_(2316),es={};es.styleTagTransform=wn(),es.setAttributes=gr(),es.insert=tr().bind(null,"head"),es.domAPI=Tn(),es.insertStyleElement=ln(),Cn()(xs.Z,es),xs.Z&&xs.Z.locals&&xs.Z.locals;var Gs=function(nt){var Ft=nt.appState,en=nt.setAppState,sn=nt.isMobile,kn=Xl(),gn=!sn;return Ft.isSidebarDocked&&Ft.openSidebar==="library"?null:(0,_e.jsxs)("label",{title:"".concat((0,ct.Oo)((0,bt.t)("toolBar.library"))),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(Yt){var En;(En=document.querySelector(".layer-ui__wrapper"))===null||En===void 0||En.classList.remove("animate");var Zn=Yt.target.checked;en({openSidebar:Zn?"library":null}),Zn&&(0,Dt.L)("library","toggleLibrary (open)","toolbar (".concat(kn.isMobile?"mobile":"desktop",")"))},checked:Ft.openSidebar==="library","aria-label":(0,ct.Oo)((0,bt.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,_e.jsxs)("div",{className:"library-button",children:[(0,_e.jsx)("div",{children:Ht.Vq}),gn&&(0,_e.jsx)("div",{className:"library-button__label",children:(0,bt.t)("toolBar.library")})]})]})},Vs=function(nt){return nt.penDetected?(0,_e.jsxs)("label",{className:(0,pn.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":nt.isMobile}),title:"".concat(nt.title),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:nt.name,onChange:nt.onChange,checked:nt.checked,"aria-label":nt.title}),(0,_e.jsx)("div",{className:"ToolIcon__icon",children:Ht.tb})]}):null},ru=_(8925),on=_(2681),Bn={};Bn.styleTagTransform=wn(),Bn.setAttributes=gr(),Bn.insert=tr().bind(null,"head"),Bn.domAPI=Tn(),Bn.insertStyleElement=ln(),Cn()(on.Z,Bn),on.Z&&on.Z.locals&&on.Z.locals;var On=function(nt){var Ft,en=(0,ru.KP)(nt.elements),sn=(0,jt.Zs)(nt.elements,nt.appState),kn=(0,ru.KP)(sn);return(0,_e.jsx)("div",{className:"Stats",children:(0,_e.jsxs)(Lo.W,{padding:2,children:[(0,_e.jsx)("div",{className:"close",onClick:nt.onClose,children:Ht.Tw}),(0,_e.jsx)("h3",{children:(0,bt.t)("stats.title")}),(0,_e.jsx)("table",{children:(0,_e.jsxs)("tbody",{children:[(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.scene")})}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.elements")}),(0,_e.jsx)("td",{children:nt.elements.length})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.width")}),(0,_e.jsx)("td",{children:Math.round(en[2])-Math.round(en[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.height")}),(0,_e.jsx)("td",{children:Math.round(en[3])-Math.round(en[1])})]}),sn.length===1&&(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.element")})}),sn.length>1&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.selected")})}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.elements")}),(0,_e.jsx)("td",{children:sn.length})]})]}),sn.length>0&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:"x"}),(0,_e.jsx)("td",{children:Math.round(kn[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:"y"}),(0,_e.jsx)("td",{children:Math.round(kn[1])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.width")}),(0,_e.jsx)("td",{children:Math.round(kn[2]-kn[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.height")}),(0,_e.jsx)("td",{children:Math.round(kn[3]-kn[1])})]})]}),sn.length===1&&(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.angle")}),(0,_e.jsx)("td",{children:"".concat(Math.round(180*sn[0].angle/Math.PI),"°")})]}),(Ft=nt.renderCustomStats)===null||Ft===void 0?void 0:Ft.call(nt,nt.elements,nt.appState)]})})]})})},Hn=function(nt){return(0,_e.jsx)(Bt.V,{className:(0,pn.Z)("Shape",{fillable:!1}),type:"radio",icon:Ht.Hk,name:"editor-current-shape",checked:nt.checked,title:"".concat(nt.title," — H"),keyBindingLabel:nt.isMobile?void 0:Et.tW.H.toLocaleUpperCase(),"aria-label":"".concat(nt.title," — H"),"aria-keyshortcuts":Et.tW.H,"data-testid":"toolbar-hand",onChange:function(){var Ft;return(Ft=nt.onChange)===null||Ft===void 0?void 0:Ft.call(nt)}})},br=_(8888);function xr(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}var Tr=function(nt){var Ft=nt.appState,en=nt.elements,sn=nt.actionManager,kn=nt.setAppState,gn=nt.onLockToggle,Yt=nt.onHandToolToggle,En=nt.onPenModeToggle,Zn=nt.canvas,Ln=nt.onImageAction,Yn=nt.renderTopRightUI,qn=nt.renderCustomStats,nr=nt.renderSidebars,hr=nt.device,mr=nt.renderWelcomeScreen,dr=(0,br.R6)(),kr=dr.welcomeScreenCenterTunnel,Gr=dr.mainMenuTunnel;return(0,_e.jsxs)(_e.Fragment,{children:[nr(),!Ft.viewModeEnabled&&(0,_e.jsxs)(Bl,{side:"top",className:"App-top-bar",children:[mr&&(0,_e.jsx)(kr.Out,{}),(0,_e.jsx)(Nl,{heading:"shapes",children:function(Pr){return(0,_e.jsx)(ur.Z.Col,{gap:4,align:"center",children:(0,_e.jsxs)(ur.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,_e.jsxs)(Lo.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Pr,(0,_e.jsx)(ur.Z.Row,{gap:1,children:(0,_e.jsx)(lo,{appState:Ft,canvas:Zn,activeTool:Ft.activeTool,setAppState:kn,onImageAction:function(Qr){var _i=Qr.pointerType;Ln({insertOnCanvasDirectly:_i!=="mouse"})}})})]}),Yn&&Yn(!0,Ft),(0,_e.jsxs)("div",{className:"mobile-misc-tools-container",children:[!Ft.viewModeEnabled&&(0,_e.jsx)(Gs,{appState:Ft,setAppState:kn,isMobile:!0}),(0,_e.jsx)(Vs,{checked:Ft.penMode,onChange:En,title:(0,bt.t)("toolBar.penMode"),isMobile:!0,penDetected:Ft.penDetected}),(0,_e.jsx)(Hl,{checked:Ft.activeTool.locked,onChange:gn,title:(0,bt.t)("toolBar.lock"),isMobile:!0}),(0,_e.jsx)(Hn,{checked:(0,Wt.l$)(Ft),onChange:function(){return Yt()},title:(0,bt.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,_e.jsx)(Qo,{appState:Ft,elements:en,isMobile:!0,device:hr})]}),!Ft.openMenu&&Ft.showStats&&(0,_e.jsx)(On,{appState:Ft,setAppState:kn,elements:en,onClose:function(){sn.executeAction(yt.u0)},renderCustomStats:qn}),(0,_e.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:zl.nn+2*zl.WM,marginLeft:zl.nn+2*zl.WM,marginRight:zl.nn+2*zl.WM},children:(0,_e.jsxs)(Lo.W,{padding:0,children:[Ft.openMenu==="shape"&&!Ft.viewModeEnabled&&(0,St.RT)(Ft,en)?(0,_e.jsx)(Nl,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,_e.jsx)(oo,{appState:Ft,elements:en,renderAction:sn.renderAction})}):null,(0,_e.jsxs)("footer",{className:"App-toolbar",children:[Ft.viewModeEnabled?(0,_e.jsx)("div",{className:"App-toolbar-content",children:(0,_e.jsx)(Gr.Out,{})}):(0,_e.jsxs)("div",{className:"App-toolbar-content",children:[(0,_e.jsx)(Gr.Out,{}),sn.renderAction("toggleEditMenu"),sn.renderAction("undo"),sn.renderAction("redo"),sn.renderAction(Ft.multiElement?"finalize":"duplicateSelection"),sn.renderAction("deleteSelectedElements")]}),Ft.scrolledOutside&&!Ft.openMenu&&Ft.openSidebar!=="library"&&(0,_e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){kn(function(Pr){for(var Qr=1;Qr<arguments.length;Qr++){var _i=arguments[Qr]!=null?arguments[Qr]:{};Qr%2?xr(Object(_i),!0).forEach(function(Hr){(0,nn.Z)(Pr,Hr,_i[Hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pr,Object.getOwnPropertyDescriptors(_i)):xr(Object(_i)).forEach(function(Hr){Object.defineProperty(Pr,Hr,Object.getOwnPropertyDescriptor(_i,Hr))})}return Pr}({},(0,jt.W)(en,Ft,Zn)))},children:(0,bt.t)("buttons.scrollBackToContent")})]})]})})]})},Vr=_(5674),fr=_(4162),zr=_(8461),Xr={};Xr.styleTagTransform=wn(),Xr.setAttributes=gr(),Xr.insert=tr().bind(null,"head"),Xr.domAPI=Tn(),Xr.insertStyleElement=ln(),Cn()(zr.Z,Xr),zr.Z&&zr.Z.locals&&zr.Z.locals;var xa=function(nt){var Ft=(0,hn.useRef)(null),en=(0,hn.useState)(null),sn=(0,ht.Z)(en,2),kn=sn[0],gn=sn[1];return(0,hn.useLayoutEffect)(function(){if(nt.spreadsheet){var Yt,En=(0,Vr.ps)(nt.chartType,nt.spreadsheet,0,0);gn(En);var Zn=Ft.current;return(0,at.Z)(Qt().mark(function Ln(){var Yn;return Qt().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return qn.next=2,(0,fr.$D)(En,{exportBackground:!1,viewBackgroundColor:Er.white},null);case 2:Yt=qn.sent,(Yn=Yt.querySelector(".style-fonts"))===null||Yn===void 0||Yn.remove(),Zn.replaceChildren(),Zn.appendChild(Yt),nt.selected&&Zn.parentNode.focus();case 7:case"end":return qn.stop()}},Ln)}))(),function(){Zn.replaceChildren()}}},[nt.spreadsheet,nt.chartType,nt.selected]),(0,_e.jsx)("button",{className:"ChartPreview",onClick:function(){kn&&nt.onClick(nt.chartType,kn)},children:(0,_e.jsx)("div",{ref:Ft})})},jr=function(nt){var Ft=nt.setAppState,en=nt.appState,sn=nt.onClose,kn=nt.onInsertChart,gn=fn().useCallback(function(){sn&&sn()},[sn]),Yt=function(En,Zn){kn(Zn),(0,Dt.L)("magic","chart",En),Ft({currentChartType:En,pasteDialog:{shown:!1,data:null}})};return(0,_e.jsx)(na.V,{small:!0,onCloseRequest:gn,title:(0,bt.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,_e.jsxs)("div",{className:"container",children:[(0,_e.jsx)(xa,{chartType:"bar",spreadsheet:en.pasteDialog.data,selected:en.currentChartType==="bar",onClick:Yt}),(0,_e.jsx)(xa,{chartType:"line",spreadsheet:en.pasteDialog.data,selected:en.currentChartType==="line",onClick:Yt})]})})},Mr=_(2978),fo={};fo.styleTagTransform=wn(),fo.setAttributes=gr(),fo.insert=tr().bind(null,"head"),fo.domAPI=Tn(),fo.insertStyleElement=ln(),Cn()(Mr.Z,fo),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;function no(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}var _r=Qt().mark(yo);function Ko(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Zn,Ln){if(Zn){if(typeof Zn=="string")return Ho(Zn,Ln);var Yn=Object.prototype.toString.call(Zn).slice(8,-1);if(Yn==="Object"&&Zn.constructor&&(Yn=Zn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Zn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return Ho(Zn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var sn=0,kn=function(){};return{s:kn,n:function(){return sn>=nt.length?{done:!0}:{done:!1,value:nt[sn++]}},e:function(Zn){throw Zn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gn,Yt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Zn=en.next();return Yt=Zn.done,Zn},e:function(Zn){En=!0,gn=Zn},f:function(){try{Yt||en.return==null||en.return()}finally{if(En)throw gn}}}}function Ho(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,sn=new Array(Ft);en<Ft;en++)sn[en]=nt[en];return sn}var Oo=function(){return(0,_e.jsxs)("div",{className:"HelpDialog__header",children:[(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.documentation"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Ht.h0})]}),(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.blog"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Ht.h0})]}),(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.github"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Ht.h0})]})]})},Al=function(nt){return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("h3",{children:nt.title}),(0,_e.jsx)("div",{className:"HelpDialog__islands-container",children:nt.children})]})},ko=function(nt){return(0,_e.jsxs)("div",{className:"HelpDialog__island ".concat(nt.className),children:[(0,_e.jsx)("h4",{className:"HelpDialog__island-title",children:nt.caption}),(0,_e.jsx)("div",{className:"HelpDialog__island-content",children:nt.children})]})};function yo(nt,Ft){var en,sn,kn,gn;return Qt().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:en=!0,sn=Ko(nt),Yt.prev=2,sn.s();case 4:if((kn=sn.n()).done){Yt.next=14;break}if(gn=kn.value,en){Yt.next=9;break}return Yt.next=9,Ft;case 9:return en=!1,Yt.next=12,gn;case 12:Yt.next=4;break;case 14:Yt.next=19;break;case 16:Yt.prev=16,Yt.t0=Yt.catch(2),sn.e(Yt.t0);case 19:return Yt.prev=19,sn.f(),Yt.finish(19);case 22:case"end":return Yt.stop()}},_r,null,[[2,16,19,22]])}var Dr=function(nt){var Ft=nt.label,en=nt.shortcuts,sn=nt.isOr,kn=sn===void 0||sn,gn=en.map(function(Yt){return(Yt.endsWith("++")?[].concat((0,ot.Z)(Yt.slice(0,-2).split("+")),["+"]):Yt.split("+")).map(function(En){return(0,_e.jsx)(To,{children:(Zn=En,Zn.replace(/\b[a-z]\b/,function(Ln){return Ln.toUpperCase()}))},En);var Zn})});return(0,_e.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,_e.jsx)("div",{children:Ft}),(0,_e.jsx)("div",{className:"HelpDialog__key-container",children:(0,ot.Z)(yo(gn,kn?(0,bt.t)("helpDialog.or"):null))})]})},To=function(nt){return(0,_e.jsx)("kbd",function(Ft){for(var en=1;en<arguments.length;en++){var sn=arguments[en]!=null?arguments[en]:{};en%2?no(Object(sn),!0).forEach(function(kn){(0,nn.Z)(Ft,kn,sn[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(sn)):no(Object(sn)).forEach(function(kn){Object.defineProperty(Ft,kn,Object.getOwnPropertyDescriptor(sn,kn))})}return Ft}({className:"HelpDialog__key"},nt))},Fl=function(nt){var Ft=nt.onClose,en=fn().useCallback(function(){Ft&&Ft()},[Ft]);return(0,_e.jsx)(_e.Fragment,{children:(0,_e.jsxs)(na.V,{onCloseRequest:en,title:(0,bt.t)("helpDialog.title"),className:"HelpDialog",children:[(0,_e.jsx)(Oo,{}),(0,_e.jsxs)(Al,{title:(0,bt.t)("helpDialog.shortcuts"),children:[(0,_e.jsxs)(ko,{className:"HelpDialog__island--tools",caption:(0,bt.t)("helpDialog.tools"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.hand"),shortcuts:[Et.tW.H]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.selection"),shortcuts:[Et.tW.V,Et.tW[1]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.rectangle"),shortcuts:[Et.tW.R,Et.tW[2]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.diamond"),shortcuts:[Et.tW.D,Et.tW[3]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.ellipse"),shortcuts:[Et.tW.O,Et.tW[4]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.arrow"),shortcuts:[Et.tW.A,Et.tW[5]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.line"),shortcuts:[Et.tW.L,Et.tW[6]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.freedraw"),shortcuts:[Et.tW.P,Et.tW[7]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.text"),shortcuts:[Et.tW.T,Et.tW[8]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.image"),shortcuts:[Et.tW[9]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.eraser"),shortcuts:[Et.tW.E,Et.tW[0]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.editText"),shortcuts:[(0,ct.uY)("Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.textNewLine"),shortcuts:[(0,ct.uY)("Enter"),(0,ct.uY)("Shift+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.textFinish"),shortcuts:[(0,ct.uY)("Esc"),(0,ct.uY)("CtrlOrCmd+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click")],isOr:!1}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.curvedLine"),shortcuts:["L",(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click")],isOr:!1}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.lock"),shortcuts:[Et.tW.Q]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.preventBinding"),shortcuts:[(0,ct.uY)("CtrlOrCmd")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.link"),shortcuts:[(0,ct.uY)("CtrlOrCmd+K")]})]}),(0,_e.jsxs)(ko,{className:"HelpDialog__island--view",caption:(0,bt.t)("helpDialog.view"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zoomIn"),shortcuts:[(0,ct.uY)("CtrlOrCmd++")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zoomOut"),shortcuts:[(0,ct.uY)("CtrlOrCmd+-")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.resetZoom"),shortcuts:[(0,ct.uY)("CtrlOrCmd+0")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zenMode"),shortcuts:[(0,ct.uY)("Alt+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showGrid"),shortcuts:[(0,ct.uY)("CtrlOrCmd+'")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.viewMode"),shortcuts:[(0,ct.uY)("Alt+R")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.toggleTheme"),shortcuts:[(0,ct.uY)("Alt+Shift+D")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("stats.title"),shortcuts:[(0,ct.uY)("Alt+/")]})]}),(0,_e.jsxs)(ko,{className:"HelpDialog__island--editor",caption:(0,bt.t)("helpDialog.editor"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.moveCanvas"),shortcuts:[(0,ct.uY)("Space+".concat((0,bt.t)("helpDialog.drag"))),(0,ct.uY)("Wheel+".concat((0,bt.t)("helpDialog.drag")))],isOr:!0}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.clearReset"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Delete")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.delete"),shortcuts:[(0,ct.uY)("Delete")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.cut"),shortcuts:[(0,ct.uY)("CtrlOrCmd+X")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copy"),shortcuts:[(0,ct.uY)("CtrlOrCmd+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.paste"),shortcuts:[(0,ct.uY)("CtrlOrCmd+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.pasteAsPlaintext"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.selectAll"),shortcuts:[(0,ct.uY)("CtrlOrCmd+A")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.multiSelect"),shortcuts:[(0,ct.uY)("Shift+".concat((0,bt.t)("helpDialog.click")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.deepSelect"),shortcuts:[(0,ct.uY)("CtrlOrCmd+".concat((0,bt.t)("helpDialog.click")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,ct.uY)("CtrlOrCmd+".concat((0,bt.t)("helpDialog.drag")))]}),(Ot.vt||it.vU)&&(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copyAsPng"),shortcuts:[(0,ct.uY)("Shift+Alt+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copyStyles"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Alt+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.pasteStyles"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Alt+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.sendToBack"),shortcuts:[it.Um?(0,ct.uY)("CtrlOrCmd+Alt+["):(0,ct.uY)("CtrlOrCmd+Shift+[")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.bringToFront"),shortcuts:[it.Um?(0,ct.uY)("CtrlOrCmd+Alt+]"):(0,ct.uY)("CtrlOrCmd+Shift+]")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.sendBackward"),shortcuts:[(0,ct.uY)("CtrlOrCmd+[")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.bringForward"),shortcuts:[(0,ct.uY)("CtrlOrCmd+]")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignTop"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Up")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignBottom"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Down")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignLeft"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Left")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignRight"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Right")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.duplicateSelection"),shortcuts:[(0,ct.uY)("CtrlOrCmd+D"),(0,ct.uY)("Alt+".concat((0,bt.t)("helpDialog.drag")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.toggleElementLock"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+L")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.undo"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.redo"),shortcuts:it.ED?[(0,ct.uY)("CtrlOrCmd+Y"),(0,ct.uY)("CtrlOrCmd+Shift+Z")]:[(0,ct.uY)("CtrlOrCmd+Shift+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.group"),shortcuts:[(0,ct.uY)("CtrlOrCmd+G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.ungroup"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.flipHorizontal"),shortcuts:[(0,ct.uY)("Shift+H")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.flipVertical"),shortcuts:[(0,ct.uY)("Shift+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showStroke"),shortcuts:[(0,ct.uY)("S")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showBackground"),shortcuts:[(0,ct.uY)("G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.decreaseFontSize"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+<")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.increaseFontSize"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Ro=_(6773),Po=_(8671),Jl=_(4241),yl={};yl.styleTagTransform=wn(),yl.setAttributes=gr(),yl.insert=tr().bind(null,"head"),yl.domAPI=Tn(),yl.insertStyleElement=ln(),Cn()(Jl.Z,yl),Jl.Z&&Jl.Z.locals&&Jl.Z.locals;var Cs=function(nt){var Ft,en=nt.children,sn=nt.color;return(0,_e.jsx)("div",{className:"Card",style:(Ft={},(0,nn.Z)(Ft,"--card-color",sn==="primary"?"var(--color-primary)":Er[sn][7]),(0,nn.Z)(Ft,"--card-color-darker",sn==="primary"?"var(--color-primary-darker)":Er[sn][8]),(0,nn.Z)(Ft,"--card-color-darkest",sn==="primary"?"var(--color-primary-darkest)":Er[sn][9]),Ft),children:en})},C0=function(nt){var Ft=nt.elements,en=nt.appState,sn=nt.files,kn=nt.actionManager,gn=nt.exportOpts,Yt=nt.canvas,En=gn.onExportToBackend;return(0,_e.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,_e.jsxs)("div",{className:"ExportDialog-cards",children:[gn.saveFileToDisk&&(0,_e.jsxs)(Cs,{color:"lime",children:[(0,_e.jsx)("div",{className:"Card-icon",children:Ht.TP}),(0,_e.jsx)("h2",{children:(0,bt.t)("exportDialog.disk_title")}),(0,_e.jsxs)("div",{className:"Card-details",children:[(0,bt.t)("exportDialog.disk_details"),!Kr.kr&&kn.renderAction("changeProjectName")]}),(0,_e.jsx)(Bt.V,{className:"Card-button",type:"button",title:(0,bt.t)("exportDialog.disk_button"),"aria-label":(0,bt.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){kn.executeAction(Po.mM,"ui")}})]}),En&&(0,_e.jsxs)(Cs,{color:"pink",children:[(0,_e.jsx)("div",{className:"Card-icon",children:Ht.xP}),(0,_e.jsx)("h2",{children:(0,bt.t)("exportDialog.link_title")}),(0,_e.jsx)("div",{className:"Card-details",children:(0,bt.t)("exportDialog.link_details")}),(0,_e.jsx)(Bt.V,{className:"Card-button",type:"button",title:(0,bt.t)("exportDialog.link_button"),"aria-label":(0,bt.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){En(Ft,en,sn,Yt),(0,Dt.L)("export","link","ui (".concat((0,ct.$h)(),")"))}})]}),gn.renderCustomUI&&gn.renderCustomUI(Ft,en,sn,Yt)]})})},p0=function(nt){var Ft=nt.elements,en=nt.appState,sn=nt.files,kn=nt.actionManager,gn=nt.exportOpts,Yt=nt.canvas,En=nt.setAppState,Zn=fn().useCallback(function(){En({openDialog:null})},[En]);return(0,_e.jsx)(_e.Fragment,{children:en.openDialog==="jsonExport"&&(0,_e.jsx)(na.V,{onCloseRequest:Zn,title:(0,bt.t)("buttons.export"),children:(0,_e.jsx)(C0,{elements:Ft,appState:en,files:sn,actionManager:kn,onCloseRequest:Zn,exportOpts:gn,canvas:Yt})})})},m0=_(6954),Tl=_(8923),iu={};iu.styleTagTransform=wn(),iu.setAttributes=gr(),iu.insert=tr().bind(null,"head"),iu.domAPI=Tn(),iu.insertStyleElement=ln(),Cn()(Tl.Z,iu),Tl.Z&&Tl.Z.locals&&Tl.Z.locals;var ts=_(5523),wu=_(2701),Ws={};Ws.styleTagTransform=wn(),Ws.setAttributes=gr(),Ws.insert=tr().bind(null,"head"),Ws.domAPI=Tn(),Ws.insertStyleElement=ln(),Cn()(wu.Z,Ws),wu.Z&&wu.Z.locals&&wu.Z.locals;var ws=function(nt){var Ft=nt.id,en=nt.elements,sn=nt.isPending,kn=nt.onClick,gn=nt.selected,Yt=nt.onToggle,En=nt.onDrag,Zn=(0,hn.useRef)(null);(0,hn.useEffect)(function(){var dr=Zn.current;if(dr)return(0,at.Z)(Qt().mark(function kr(){var Gr,Pr;return Qt().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(en){Qr.next=2;break}return Qr.abrupt("return");case 2:return Qr.next=4,(0,ga.$D)({elements:en,appState:{exportBackground:!1,viewBackgroundColor:Er.white},files:null});case 4:Pr=Qr.sent,(Gr=Pr.querySelector(".style-fonts"))===null||Gr===void 0||Gr.remove(),dr.innerHTML=Pr.outerHTML;case 7:case"end":return Qr.stop()}},kr)}))(),function(){dr.innerHTML=""}},[en]);var Ln=(0,hn.useState)(!1),Yn=(0,ht.Z)(Ln,2),qn=Yn[0],nr=Yn[1],hr=Xl().isMobile,mr=sn&&(0,_e.jsx)("div",{className:"library-unit__adder",children:Ht.pO});return(0,_e.jsxs)("div",{className:(0,pn.Z)("library-unit",{"library-unit__active":en,"library-unit--hover":en&&qn,"library-unit--selected":gn}),onMouseEnter:function(){return nr(!0)},onMouseLeave:function(){return nr(!1)},children:[(0,_e.jsx)("div",{className:(0,pn.Z)("library-unit__dragger",{"library-unit__pulse":!!sn}),ref:Zn,draggable:!!en,onClick:en||sn?function(dr){Ft&&dr.shiftKey?Yt(Ft,dr):kn()}:void 0,onDragStart:function(dr){Ft?(nr(!1),En(Ft,dr)):dr.preventDefault()}}),mr,Ft&&en&&(qn||hr||gn)&&(0,_e.jsx)(Rr.o,{checked:gn,onChange:function(dr,kr){return Yt(Ft,kr)},className:"library-unit__checkbox"})]})},Rs=_(6440),Es={};Es.styleTagTransform=wn(),Es.setAttributes=gr(),Es.insert=tr().bind(null,"head"),Es.domAPI=Tn(),Es.insertStyleElement=ln(),Cn()(Rs.Z,Es),Rs.Z&&Rs.Z.locals&&Rs.Z.locals;var Yo=_(5644),Qs=function(nt){var Ft=nt.theme,en=nt.id,sn=nt.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,_e.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(sn,"&useHash=true&token=").concat(en,"&theme=").concat(Ft,"&version=").concat(it.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,bt.t)("labels.libraries")})};function Eu(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function f0(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Eu(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Eu(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var zu=function(nt){var Ft=nt.isLoading,en=nt.libraryItems,sn=nt.onAddToLibrary,kn=nt.onInsertLibraryItems,gn=nt.pendingElements,Yt=nt.selectedItems,En=nt.onSelectItems,Zn=nt.theme,Ln=nt.id,Yn=nt.libraryReturnUrl,qn=(0,hn.useState)(null),nr=(0,ht.Z)(qn,2),hr=nr[0],mr=nr[1],dr=function(Yr,_a){var $a=!Yt.includes(Yr),ao=[].concat((0,ot.Z)(Qr),(0,ot.Z)(_i));if($a){if(_a.shiftKey&&hr){var Bo=ao.findIndex(function(Vo){return Vo.id===hr}),$o=ao.findIndex(function(Vo){return Vo.id===Yr});if(Bo===-1||$o===-1)return void En([].concat((0,ot.Z)(Yt),[Yr]));var Ul=(0,ct.xn)(Yt),Il=ao.reduce(function(Vo,Rl,Sn){return(Sn>=Bo&&Sn<=$o||Ul.has(Rl.id))&&Vo.push(Rl.id),Vo},[]);En(Il)}else En([].concat((0,ot.Z)(Yt),[Yr]));mr(Yr)}else mr(null),En(Yt.filter(function(Vo){return Vo!==Yr}))},kr=function(Yr){return(Yt.includes(Yr)?en.filter(function(_a){return Yt.includes(_a.id)}):en.filter(function(_a){return _a.id===Yr})).map(function(_a){return f0(f0({},_a),{},{elements:(0,Pt._N)(_a.elements)})})},Gr=function(Yr){var _a,$a,ao,Bo,$o;return(0,_e.jsx)(ur.Z.Col,{children:(0,_e.jsx)(ws,{elements:(_a=Yr.item)===null||_a===void 0?void 0:_a.elements,isPending:!(($a=Yr.item)!==null&&$a!==void 0&&$a.id||(ao=Yr.item)===null||ao===void 0||!ao.elements),onClick:Yr.onClick||function(){},id:((Bo=Yr.item)===null||Bo===void 0?void 0:Bo.id)||null,selected:!(($o=Yr.item)===null||$o===void 0||!$o.id)&&Yt.includes(Yr.item.id),onToggle:dr,onDrag:function(Ul,Il){Il.dataTransfer.setData(it.LO.excalidrawlib,(0,ts.NI)(kr(Ul)))}})},Yr.key)},Pr=function(Yr){var _a=Yr.map(function(ao){return ao.id?Gr({item:ao,onClick:function(){return kn(kr(ao.id))},key:ao.id}):Gr({key:"__pending__item__",item:ao,onClick:function(){return sn(gn)}})}),$a=(0,ct.yo)(_a,4);return $a.length||($a=[[]]),$a.map(function(ao,Bo,$o){return Bo===$o.length-1&&(ao=ao.concat(new Array(4-ao.length).fill(null).map(function(Ul,Il){return Gr({key:"empty_".concat(Il),item:null})}))),(0,_e.jsx)(ur.Z.Row,{align:"center",className:"library-menu-items-container__row",children:ao},Bo)})},Qr=en.filter(function(Yr){return Yr.status!=="published"}),_i=en.filter(function(Yr){return Yr.status==="published"}),Hr=!(en.length||Qr.length||_i.length||gn.length);return(0,_e.jsx)("div",{className:"library-menu-items-container",style:gn.length||Qr.length||_i.length?{justifyContent:"flex-start"}:{},children:(0,_e.jsxs)(ur.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:_i.length>0?1:"0 1 auto",marginBottom:0},children:[(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{children:[(gn.length>0||Qr.length>0||_i.length>0)&&(0,_e.jsx)("div",{className:"library-menu-items-container__header",children:(0,bt.t)("labels.personalLib")}),Ft&&(0,_e.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,_e.jsx)(Yo.Z,{})})]}),gn.length||Qr.length?Pr([].concat((0,ot.Z)(gn.length?[{id:null,elements:gn}]:[]),(0,ot.Z)(Qr))):(0,_e.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,_e.jsx)("div",{className:(0,pn.Z)({"library-menu-items__no-items__label":Hr}),children:(0,bt.t)("library.noItems")}),(0,_e.jsx)("div",{className:"library-menu-items__no-items__hint",children:_i.length>0?(0,bt.t)("library.hint_emptyPrivateLibrary"):(0,bt.t)("library.hint_emptyLibrary")})]})]}),(0,_e.jsxs)(_e.Fragment,{children:[(_i.length>0||gn.length>0||Qr.length>0)&&(0,_e.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,bt.t)("labels.excalidrawLib")}),_i.length>0?Pr(_i):Qr.length>0?(0,_e.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,bt.t)("library.noItems")}):null]}),Hr&&(0,_e.jsx)(Qs,{id:Ln,libraryReturnUrl:Yn,theme:Zn})]})})},Su=_(4739),Xu=_(9487),ju=_(9430),B0=_(9206),pu=(0,hn.forwardRef)(function(nt,Ft){var en=nt.children;return(0,_e.jsx)("div",{ref:Ft,className:"layer-ui__library",children:en})}),au=function(nt){var Ft=nt.onInsertLibraryItems,en=nt.pendingElements,sn=nt.onAddToLibrary,kn=nt.setAppState,gn=nt.libraryReturnUrl,Yt=nt.library,En=nt.id,Zn=nt.appState,Ln=nt.selectedItems,Yn=nt.onSelectItems,qn=(0,Su.KO)(rn.rF,Xu.yE),nr=(0,ht.Z)(qn,1)[0],hr=(0,hn.useCallback)(function(){var dr=(0,at.Z)(Qt().mark(function kr(Gr,Pr){var Qr;return Qt().wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:if((0,Dt.L)("element","addToLibrary","ui"),!Gr.some(function(Hr){return Hr.type==="image"})){_i.next=3;break}return _i.abrupt("return",kn({errorMessage:"Support for adding images to the library coming soon!"}));case 3:Qr=[{status:"unpublished",elements:Gr,id:(0,m0.kb)(),created:Date.now()}].concat((0,ot.Z)(Pr)),sn(),Yt.setLibrary(Qr).catch(function(){kn({errorMessage:(0,bt.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return _i.stop()}},kr)}));return function(kr,Gr){return dr.apply(this,arguments)}}(),[sn,Yt,kn]);if(nr.status==="loading"&&!nr.isInitialized)return(0,_e.jsx)(pu,{children:(0,_e.jsx)("div",{className:"layer-ui__library-message",children:(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Yo.Z,{size:"2em"}),(0,_e.jsx)("span",{children:(0,bt.t)("labels.libraryLoadingMessage")})]})})});var mr=nr.libraryItems.length>0||en.length>0;return(0,_e.jsxs)(pu,{children:[(0,_e.jsx)(zu,{isLoading:nr.status==="loading",libraryItems:nr.libraryItems,onAddToLibrary:function(dr){return hr(dr,nr.libraryItems)},onInsertLibraryItems:Ft,pendingElements:en,selectedItems:Ln,onSelectItems:Yn,id:En,libraryReturnUrl:gn,theme:Zn.theme}),mr&&(0,_e.jsx)(Qs,{id:En,libraryReturnUrl:gn,theme:Zn.theme})]})},tI=function(nt){var Ft=nt.appState,en=nt.onInsertElements,sn=nt.libraryReturnUrl,kn=nt.focusContainer,gn=nt.library,Yt=nt.id,En=su(),Zn=e0(),Ln=Xl(),Yn=(0,hn.useState)([]),qn=(0,ht.Z)(Yn,2),nr=qn[0],hr=qn[1],mr=(0,Su.KO)(rn.rF,Xu.yE),dr=(0,ht.Z)(mr,1)[0],kr=(0,hn.useRef)(null),Gr=(0,hn.useCallback)(function(){document.querySelector(".Dialog")||En({openSidebar:null})},[En]);(function(Hr,Yr){(0,hn.useEffect)(function(){var _a=function($a){Hr.current&&($a.target instanceof Element&&(Hr.current.contains($a.target)||!document.body.contains($a.target))||Yr($a))};return document.addEventListener("pointerdown",_a,!1),function(){document.removeEventListener("pointerdown",_a)}},[Hr,Yr])})(kr,(0,hn.useCallback)(function(Hr){Hr.target.closest(".ToolIcon__library")||Ft.isSidebarDocked&&Ln.canDeviceFitSidebar||Gr()},[Gr,Ft.isSidebarDocked,Ln.canDeviceFitSidebar])),(0,hn.useEffect)(function(){var Hr=function(Yr){Yr.key!==Et.tW.ESCAPE||Ft.isSidebarDocked&&Ln.canDeviceFitSidebar||Gr()};return document.addEventListener(it.Ks.KEYDOWN,Hr),function(){document.removeEventListener(it.Ks.KEYDOWN,Hr)}},[Gr,Ft.isSidebarDocked,Ln.canDeviceFitSidebar]);var Pr=(0,hn.useCallback)(function(){En({selectedElementIds:{},selectedGroupIds:{}})},[En]),Qr=(0,hn.useCallback)(function(){var Hr=(0,at.Z)(Qt().mark(function Yr(_a){var $a;return Qt().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:$a=_a.filter(function(Bo){return!nr.includes(Bo.id)}),gn.setLibrary($a).catch(function(){En({errorMessage:(0,bt.t)("alerts.errorRemovingFromLibrary")})}),hr([]);case 3:case"end":return ao.stop()}},Yr)}));return function(Yr){return Hr.apply(this,arguments)}}(),[gn,En,nr,hr]),_i=(0,hn.useCallback)(function(){gn.resetLibrary(),kn()},[gn,kn]);return(0,_e.jsxs)(ju.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:Ft.isSidebarDocked,onDock:function(Hr){(0,Dt.L)("library","toggleLibraryDock (".concat(Hr?"dock":"undock",")"),"sidebar (".concat(Ln.isMobile?"mobile":"desktop",")"))},ref:kr,children:[(0,_e.jsx)(ju.Y.Header,{className:"layer-ui__library-header",children:(0,_e.jsx)(B0.W,{appState:Ft,setAppState:En,selectedItems:nr,onSelectItems:hr,library:gn,onRemoveFromLibrary:function(){return Qr(dr.libraryItems)},resetLibrary:_i})}),(0,_e.jsx)(au,{pendingElements:(0,jt.eD)(Zn,Ft,!0),onInsertLibraryItems:function(Hr){en((0,rn.WV)(Hr))},onAddToLibrary:Pr,setAppState:En,libraryReturnUrl:sn,library:gn,id:Yt,appState:Ft,selectedItems:nr,onSelectItems:hr})]},"library")},mu=_(1434),Ys={};Ys.styleTagTransform=wn(),Ys.setAttributes=gr(),Ys.insert=tr().bind(null,"head"),Ys.domAPI=Tn(),Ys.insertStyleElement=ln(),Cn()(mu.Z,Ys),mu.Z&&mu.Z.locals&&mu.Z.locals;var ou=_(9144),Ss={};Ss.styleTagTransform=wn(),Ss.setAttributes=gr(),Ss.insert=tr().bind(null,"head"),Ss.domAPI=Tn(),Ss.insertStyleElement=ln(),Cn()(ou.Z,Ss),ou.Z&&ou.Z.locals&&ou.Z.locals;var A0=_(4958),nI=function(nt){return(0,_e.jsx)("button",{className:"help-icon",onClick:nt.onClick,type:"button",title:"".concat((0,bt.t)("helpDialog.title")," — ?"),"aria-label":(0,bt.t)("helpDialog.title"),children:Ht.by})},Zu=function(nt){var Ft=nt.appState,en=nt.actionManager,sn=nt.showExitZenModeBtn,kn=nt.renderWelcomeScreen,gn=(0,br.R6)(),Yt=gn.footerCenterTunnel,En=gn.welcomeScreenHelpHintTunnel,Zn=Xl(),Ln=!Ft.viewModeEnabled&&Ft.multiElement&&Zn.isTouchScreen;return(0,_e.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,_e.jsx)("div",{className:(0,pn.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ft.zenModeEnabled}),children:(0,_e.jsx)(ur.Z.Col,{gap:2,children:(0,_e.jsxs)(Nl,{heading:"canvasActions",children:[(0,_e.jsx)($r,{renderAction:en.renderAction,zoom:Ft.zoom}),!Ft.viewModeEnabled&&(0,_e.jsx)(qr,{renderAction:en.renderAction,className:(0,pn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Ft.zenModeEnabled})}),Ln&&(0,_e.jsx)(po,{renderAction:en.renderAction,className:(0,pn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ft.zenModeEnabled})})]})})}),(0,_e.jsx)(Yt.Out,{}),(0,_e.jsx)("div",{className:(0,pn.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":Ft.zenModeEnabled}),children:(0,_e.jsxs)("div",{style:{position:"relative"},children:[kn&&(0,_e.jsx)(En.Out,{}),(0,_e.jsx)(nI,{onClick:function(){return en.executeAction(yt.jY)}})]})}),(0,_e.jsx)(Co,{actionManager:en,showExitZenModeBtn:sn})]})},Ju=Zu;Zu.displayName="Footer";var _l=_(4709),_u=_(6798),Pl=["suggestedBindings","startBoundElement","cursorButton"],Pu=["canvas","onInsertElements","appState"],fu=["canvas","onInsertElements","appState"];function Ku(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}var y0=function(nt){var Ft=nt.UIOptions;return(0,_e.jsxs)(_l.Z,{__fallback:!0,children:[(0,_e.jsx)(_l.Z.DefaultItems.LoadScene,{}),(0,_e.jsx)(_l.Z.DefaultItems.SaveToActiveFile,{}),Ft.canvasActions.export&&(0,_e.jsx)(_l.Z.DefaultItems.Export,{}),Ft.canvasActions.saveAsImage&&(0,_e.jsx)(_l.Z.DefaultItems.SaveAsImage,{}),(0,_e.jsx)(_l.Z.DefaultItems.Help,{}),(0,_e.jsx)(_l.Z.DefaultItems.ClearCanvas,{}),(0,_e.jsx)(_l.Z.Separator,{}),(0,_e.jsx)(_l.Z.Group,{title:"Excalidraw links",children:(0,_e.jsx)(_l.Z.DefaultItems.Socials,{})}),(0,_e.jsx)(_l.Z.Separator,{}),(0,_e.jsx)(_l.Z.DefaultItems.ToggleTheme,{}),(0,_e.jsx)(_l.Z.DefaultItems.ChangeCanvasBackground,{})]})},rI=function(nt){var Ft,en=nt.actionManager,sn=nt.appState,kn=nt.files,gn=nt.setAppState,Yt=nt.elements,En=nt.canvas,Zn=nt.onLockToggle,Ln=nt.onHandToolToggle,Yn=nt.onPenModeToggle,qn=nt.onInsertElements,nr=nt.showExitZenModeBtn,hr=nt.renderTopRightUI,mr=nt.renderCustomStats,dr=nt.renderCustomSidebar,kr=nt.libraryReturnUrl,Gr=nt.UIOptions,Pr=nt.focusContainer,Qr=nt.library,_i=nt.id,Hr=nt.onImageAction,Yr=nt.renderWelcomeScreen,_a=nt.children,$a=Xl(),ao=(0,br.ZC)(),Bo=function(){return Gr.canvasActions.export?(0,_e.jsx)(p0,{elements:Yt,appState:sn,files:kn,actionManager:en,exportOpts:Gr.canvasActions.export,canvas:En,setAppState:gn}):null},$o=function(){if(!Gr.canvasActions.saveAsImage)return null;var Sn=function(zo){return function(){var jo=(0,at.Z)(Qt().mark(function Wo(Wr){var Uo;return Qt().wrap(function(Gl){for(;;)switch(Gl.prev=Gl.next){case 0:return(0,Dt.L)("export",zo,"ui"),Gl.next=3,(0,In.p1)(zo,Wr,sn,kn,{exportBackground:sn.exportBackground,name:sn.name,viewBackgroundColor:sn.viewBackgroundColor}).catch(ct.FG).catch(function(ks){console.error(ks),gn({errorMessage:ks.message})});case 3:Uo=Gl.sent,sn.exportEmbedScene&&Uo&&(0,Ir.g8)(Uo)&&gn({fileHandle:Uo});case 5:case"end":return Gl.stop()}},Wo)}));return function(Wo){return jo.apply(this,arguments)}}()};return(0,_e.jsx)(Zo,{elements:Yt,appState:sn,setAppState:gn,files:kn,actionManager:en,onExportToPng:Sn("png"),onExportToSvg:Sn("svg"),onExportToClipboard:Sn("clipboard")})},Ul=function(){return sn.openSidebar==="customSidebar"?(dr==null?void 0:dr())||null:sn.openSidebar==="library"?(0,_e.jsx)(tI,{appState:sn,onInsertElements:qn,libraryReturnUrl:kr,focusContainer:Pr,library:Qr,id:_i}):null},Il=(0,Su.KO)(ju.b,Xu.yE),Vo=(0,ht.Z)(Il,1)[0],Rl=(0,_e.jsxs)(_e.Fragment,{children:[_a,(0,_e.jsx)(y0,{UIOptions:Gr}),sn.isLoading&&(0,_e.jsx)(Wl.z,{delay:250}),sn.errorMessage&&(0,_e.jsx)(lr,{onClose:function(){return gn({errorMessage:null})},children:sn.errorMessage}),sn.openDialog==="help"&&(0,_e.jsx)(Fl,{onClose:function(){gn({openDialog:null})}}),(0,_e.jsx)(_u.o,{}),$o(),Bo(),sn.pasteDialog.shown&&(0,_e.jsx)(jr,{setAppState:gn,appState:sn,onInsertChart:qn,onClose:function(){return gn({pasteDialog:{shown:!1,data:null}})}}),$a.isMobile&&(0,_e.jsx)(Tr,{appState:sn,elements:Yt,actionManager:en,renderJSONExportDialog:Bo,renderImageExportDialog:$o,setAppState:gn,onLockToggle:Zn,onHandToolToggle:Ln,onPenModeToggle:Yn,canvas:En,onImageAction:Hr,renderTopRightUI:hr,renderCustomStats:mr,renderSidebars:Ul,device:$a,renderWelcomeScreen:Yr}),!$a.isMobile&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:(0,pn.Z)("layer-ui__wrapper",{"disable-pointerEvents":sn.draggingElement||sn.resizingElement||sn.editingElement&&!(0,St.iB)(sn.editingElement)}),style:(sn.openSidebar==="library"&&sn.isSidebarDocked||Vo.docked)&&$a.canDeviceFitSidebar?{width:"calc(100% - ".concat(it.EE,"px)")}:{},children:[Yr&&(0,_e.jsx)(ao.welcomeScreenCenterTunnel.Out,{}),(Ft=(0,St.RT)(sn,Yt),(0,_e.jsx)(Bl,{side:"top",children:(0,_e.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,_e.jsxs)(ur.Z.Col,{gap:6,className:(0,pn.Z)("App-menu_top__left",{"disable-pointerEvents":sn.zenModeEnabled}),children:[(0,_e.jsxs)("div",{style:{position:"relative"},children:[(0,_e.jsx)(ao.mainMenuTunnel.Out,{}),Yr&&(0,_e.jsx)(ao.welcomeScreenMenuHintTunnel.Out,{})]}),Ft&&(0,_e.jsx)(Nl,{heading:"selectedShapeActions",className:(0,pn.Z)("selected-shape-actions zen-mode-transition",{"transition-left":sn.zenModeEnabled}),children:(0,_e.jsx)(Lo.W,{className:it.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(sn.height-166,"px")},children:(0,_e.jsx)(oo,{appState:sn,elements:Yt,renderAction:en.renderAction})})})]}),!sn.viewModeEnabled&&(0,_e.jsx)(Nl,{heading:"shapes",className:"shapes-section",children:function(Sn){return(0,_e.jsxs)("div",{style:{position:"relative"},children:[Yr&&(0,_e.jsx)(ao.welcomeScreenToolbarHintTunnel.Out,{}),(0,_e.jsx)(ur.Z.Col,{gap:4,align:"start",children:(0,_e.jsx)(ur.Z.Row,{gap:1,className:(0,pn.Z)("App-toolbar-container",{"zen-mode":sn.zenModeEnabled}),children:(0,_e.jsxs)(Lo.W,{padding:1,className:(0,pn.Z)("App-toolbar",{"zen-mode":sn.zenModeEnabled}),children:[(0,_e.jsx)(Qo,{appState:sn,elements:Yt,isMobile:$a.isMobile,device:$a}),Sn,(0,_e.jsxs)(ur.Z.Row,{gap:1,children:[(0,_e.jsx)(Vs,{zenModeEnabled:sn.zenModeEnabled,checked:sn.penMode,onChange:Yn,title:(0,bt.t)("toolBar.penMode"),penDetected:sn.penDetected}),(0,_e.jsx)(Hl,{checked:sn.activeTool.locked,onChange:Zn,title:(0,bt.t)("toolBar.lock")}),(0,_e.jsx)("div",{className:"App-toolbar__divider"}),(0,_e.jsx)(Hn,{checked:(0,Wt.l$)(sn),onChange:function(){return Ln()},title:(0,bt.t)("toolBar.hand"),isMobile:!0}),(0,_e.jsx)(lo,{appState:sn,canvas:En,activeTool:sn.activeTool,setAppState:gn,onImageAction:function(zo){var jo=zo.pointerType;Hr({insertOnCanvasDirectly:jo!=="mouse"})}})]})]})})})]})}}),(0,_e.jsxs)("div",{className:(0,pn.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":sn.zenModeEnabled}),children:[(0,_e.jsx)(Ro.Z,{collaborators:sn.collaborators}),hr==null?void 0:hr($a.isMobile,sn),!sn.viewModeEnabled&&(0,_e.jsx)(Gs,{appState:sn,setAppState:gn})]})]})})),(0,_e.jsx)(Ju,{appState:sn,actionManager:en,showExitZenModeBtn:nr,renderWelcomeScreen:Yr}),sn.showStats&&(0,_e.jsx)(On,{appState:sn,setAppState:gn,elements:Yt,onClose:function(){en.executeAction(A0.u)},renderCustomStats:mr}),sn.scrolledOutside&&(0,_e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){gn(function(Sn){for(var zo=1;zo<arguments.length;zo++){var jo=arguments[zo]!=null?arguments[zo]:{};zo%2?Ku(Object(jo),!0).forEach(function(Wo){(0,nn.Z)(Sn,Wo,jo[Wo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(jo)):Ku(Object(jo)).forEach(function(Wo){Object.defineProperty(Sn,Wo,Object.getOwnPropertyDescriptor(jo,Wo))})}return Sn}({},(0,jt.W)(Yt,sn,En)))},children:(0,bt.t)("buttons.scrollBackToContent")})]}),Ul()]})]});return(0,_e.jsx)(Su.zt,{scope:ao.jotaiScope,children:(0,_e.jsx)(br.A3.Provider,{value:ao,children:Rl})})},x0=function(nt){return nt.suggestedBindings,nt.startBoundElement,nt.cursorButton,(0,or.Z)(nt,Pl)},iI=function(nt,Ft){if(nt.children!==Ft.children)return!1;nt.canvas,nt.onInsertElements;var en=nt.appState,sn=(0,or.Z)(nt,Pu),kn=(Ft.canvas,Ft.onInsertElements,Ft.appState),gn=(0,or.Z)(Ft,fu);return(0,ct.w8)(x0(en),x0(kn))&&(0,ct.w8)(sn,gn)},aI=fn().memo(rI,iI),Nu=_(9650),cs={};cs.styleTagTransform=wn(),cs.setAttributes=gr(),cs.insert=tr().bind(null,"head"),cs.domAPI=Tn(),cs.insertStyleElement=ln(),Cn()(Nu.Z,cs),Nu.Z&&Nu.Z.locals&&Nu.Z.locals;var oI=function(nt){var Ft=nt.message,en=nt.onClose,sn=nt.closable,kn=sn!==void 0&&sn,gn=nt.duration,Yt=gn===void 0?5e3:gn,En=(0,hn.useRef)(0),Zn=Yt!==1/0,Ln=(0,hn.useCallback)(function(){Zn&&(En.current=window.setTimeout(function(){return en()},Yt))},[en,Yt,Zn]);(0,hn.useEffect)(function(){if(Zn)return Ln(),function(){return clearTimeout(En.current)}},[Ln,Ft,Yt,Zn]);var Yn=Zn?function(){return clearTimeout(En==null?void 0:En.current)}:void 0,qn=Zn?Ln:void 0;return(0,_e.jsxs)("div",{className:"Toast",onMouseEnter:Yn,onMouseLeave:qn,children:[(0,_e.jsx)("p",{className:"Toast__message",children:Ft}),kn&&(0,_e.jsx)(Bt.V,{icon:Ht.Tw,"aria-label":"close",type:"icon",onClick:en,className:"close"})]})};function Q0(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function ku(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Q0(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Q0(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var qu=(0,$t.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(nt){return!nt.viewModeEnabled}},perform:function(nt,Ft){return{appState:ku(ku({},Ft),{},{viewModeEnabled:!this.checked(Ft)}),commitToHistory:!1}},checked:function(nt){return nt.viewModeEnabled},predicate:function(nt,Ft,en){return en.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(nt){return!nt[Et.tW.CTRL_OR_CMD]&&nt.altKey&&nt.code===Et.aU.R}}),ss=_(5637),Tu=_(200),lI=_.n(Tu),F0=_(2325),Xs=_(4929),lu=_(267);function ns(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}var $u=(0,xt.Z)(function nt(Ft){var en=this,sn=Ft.scene,kn=Ft.onSceneUpdated;(0,gt.Z)(this,nt),this.onFontsLoaded=function(gn){if(gn.every(function(En){var Zn="".concat(En.family,"-").concat(En.style,"-").concat(En.weight);return!!nt.loadedFontFaces.has(Zn)||(nt.loadedFontFaces.add(Zn),!1)}))return!1;var Yt=!1;en.scene.mapElements(function(En){return(0,St.iB)(En)?((0,bn.bI)(En),Yt=!0,(0,At.BE)(En,function(Zn){for(var Ln=1;Ln<arguments.length;Ln++){var Yn=arguments[Ln]!=null?arguments[Ln]:{};Ln%2?ns(Object(Yn),!0).forEach(function(qn){(0,nn.Z)(Zn,qn,Yn[qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zn,Object.getOwnPropertyDescriptors(Yn)):ns(Object(Yn)).forEach(function(qn){Object.defineProperty(Zn,qn,Object.getOwnPropertyDescriptor(Yn,qn))})}return Zn}({},(0,St.JZ)(En)))):En}),Yt&&en.onSceneUpdated()},this.loadFontsForElements=function(){var gn=(0,at.Z)(Qt().mark(function Yt(En){var Zn;return Qt().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.next=2,Promise.all((0,ot.Z)(new Set(En.filter(function(Yn){return(0,St.iB)(Yn)}).map(function(Yn){return Yn.fontFamily}))).map(function(Yn){var qn,nr,hr,mr,dr=(0,ct.mO)({fontFamily:Yn,fontSize:16});if((qn=document.fonts)===null||qn===void 0||(nr=qn.check)===null||nr===void 0||!nr.call(qn,dr))return(hr=document.fonts)===null||hr===void 0||(mr=hr.load)===null||mr===void 0?void 0:mr.call(hr,dr)}));case 2:Zn=Ln.sent,en.onFontsLoaded(Zn.flat().filter(Boolean));case 4:case"end":return Ln.stop()}},Yt)}));return function(Yt){return gn.apply(this,arguments)}}(),this.scene=sn,this.onSceneUpdated=kn});$u.loadedFontFaces=new Set;var v0=_(4688),U0=_(2416),cI=_(202),sI=function(){return(0,_e.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.start"),"  ",(0,_e.jsx)("span",{style:{fontWeight:600},children:(0,bt.t)("errors.brave_measure_text_error.aggressive_block_fingerprint")})," ",(0,bt.t)("errors.brave_measure_text_error.setting_enabled"),".",(0,_e.jsx)("br",{}),(0,_e.jsx)("br",{}),(0,bt.t)("errors.brave_measure_text_error.break")," ",(0,_e.jsx)("span",{style:{fontWeight:600},children:(0,bt.t)("errors.brave_measure_text_error.text_elements")})," ",(0,bt.t)("errors.brave_measure_text_error.in_your_drawings"),"."]}),(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.strongly_recommend")," ",(0,_e.jsxs)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:[" ",(0,bt.t)("errors.brave_measure_text_error.steps")]})," ",(0,bt.t)("errors.brave_measure_text_error.how"),"."]}),(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.disable_setting")," ",(0,_e.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:(0,bt.t)("errors.brave_measure_text_error.issue")})," ",(0,bt.t)("errors.brave_measure_text_error.write")," ",(0,_e.jsx)("a",{href:"https://discord.gg/UexuTaE",children:(0,bt.t)("errors.brave_measure_text_error.discord")}),"."]})]})};function G0(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Zn,Ln){if(Zn){if(typeof Zn=="string")return Ls(Zn,Ln);var Yn=Object.prototype.toString.call(Zn).slice(8,-1);if(Yn==="Object"&&Zn.constructor&&(Yn=Zn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Zn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return Ls(Zn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var sn=0,kn=function(){};return{s:kn,n:function(){return sn>=nt.length?{done:!0}:{done:!1,value:nt[sn++]}},e:function(Zn){throw Zn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gn,Yt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Zn=en.next();return Yt=Zn.done,Zn},e:function(Zn){En=!0,gn=Zn},f:function(){try{Yt||en.return==null||en.return()}finally{if(En)throw gn}}}}function Ls(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,sn=new Array(Ft);en<Ft;en++)sn[en]=nt[en];return sn}function ar(nt){var Ft=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var en,sn=(0,Xt.Z)(nt);if(Ft){var kn=(0,Xt.Z)(this).constructor;en=Reflect.construct(sn,arguments,kn)}else en=sn.apply(this,arguments);return(0,vt.Z)(this,en)}}function Br(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(nt);Ft&&(sn=sn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,sn)}return en}function _n(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Br(Object(en),!0).forEach(function(sn){(0,nn.Z)(nt,sn,en[sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Br(Object(en)).forEach(function(sn){Object.defineProperty(nt,sn,Object.getOwnPropertyDescriptor(en,sn))})}return nt}var Jr={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},bo=fn().createContext(Jr);bo.displayName="DeviceContext";var wo=fn().createContext({container:null,id:null});wo.displayName="ExcalidrawContainerContext";var qo=fn().createContext([]);qo.displayName="ExcalidrawElementsContext";var Do=fn().createContext(_n(_n({},(0,Wt.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Do.displayName="ExcalidrawAppStateContext";var Bu=fn().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Bu.displayName="ExcalidrawSetAppStateContext";var _d=fn().createContext(null);_d.displayName="ExcalidrawActionManagerContext";var Xl=function(){return(0,hn.useContext)(bo)},cu=function(){return(0,hn.useContext)(wo)},e0=function(){return(0,hn.useContext)(qo)},Hs=function(){return(0,hn.useContext)(Do)},su=function(){return(0,hn.useContext)(Bu)},Du=function(){return(0,hn.useContext)(_d)},Eo=!1,t0=0,Zs=0,ps=0,zs=!1,Au=!1,n0=!1,gu={horizontal:null,vertical:null},Ml=0,Ns=!1,yu=!0,uu=!1,r0=0,i0=!1,gs=null,So={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},js=function(nt){(0,rt.Z)(kn,nt);var Ft,en,sn=ar(kn);function kn(gn){var Yt;(0,gt.Z)(this,kn),Yt=sn.call(this,gn),Js.call((0,Ut.Z)(Yt));var En,Zn=(0,Wt.im)(),Ln=gn.excalidrawRef,Yn=gn.viewModeEnabled,qn=Yn!==void 0&&Yn,nr=gn.zenModeEnabled,hr=nr!==void 0&&nr,mr=gn.gridModeEnabled,dr=mr!==void 0&&mr,kr=gn.theme,Gr=kr===void 0?Zn.theme:kr,Pr=gn.name,Qr=Pr===void 0?Zn.name:Pr;if(Yt.state=_n(_n(_n({},Zn),{},{theme:Gr,isLoading:!0},Yt.getCanvasOffsets()),{},{viewModeEnabled:qn,zenModeEnabled:hr,gridSize:dr?it.k:null,name:Qr,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),Yt.id=(0,vn.x0)(),Yt.library=new rn.ZP((0,Ut.Z)(Yt)),Ln){var _i,Hr="current"in Ln&&((_i=Ln.current)===null||_i===void 0?void 0:_i.readyPromise)||(0,ct.PI)(),Yr={ready:!0,readyPromise:Hr,updateScene:Yt.updateScene,updateLibrary:Yt.library.updateLibrary,addFiles:Yt.addFiles,resetScene:Yt.resetScene,getSceneElementsIncludingDeleted:Yt.getSceneElementsIncludingDeleted,history:{clear:Yt.resetHistory},scrollToContent:Yt.scrollToContent,getSceneElements:Yt.getSceneElements,getAppState:function(){return Yt.state},getFiles:function(){return Yt.files},refresh:Yt.refresh,setToast:Yt.setToast,id:Yt.id,setActiveTool:Yt.setActiveTool,setCursor:Yt.setCursor,resetCursor:Yt.resetCursor,toggleMenu:Yt.toggleMenu};typeof Ln=="function"?Ln(Yr):Ln.current=Yr,Hr.resolve(Yr)}return Yt.excalidrawContainerValue={container:Yt.excalidrawContainerRef.current,id:Yt.id},Yt.scene=new Fn.Z,Yt.fonts=new $u({scene:Yt.scene,onSceneUpdated:Yt.onSceneUpdated}),Yt.history=new Jt,Yt.actionManager=new Tt(Yt.syncActionResult,function(){return Yt.state},function(){return Yt.scene.getElementsIncludingDeleted()},(0,Ut.Z)(Yt)),Yt.actionManager.registerAll($t.N),Yt.actionManager.registerAction((En=Yt.history,{name:"undo",trackEvent:{category:"history"},perform:function(_a,$a){return It(_a,$a,function(){return En.undoOnce()})},keyTest:function(_a){return _a[Et.tW.CTRL_OR_CMD]&&_a.key.toLowerCase()===Et.tW.Z&&!_a.shiftKey},PanelComponent:function(_a){var $a=_a.updateData,ao=_a.data;return(0,_e.jsx)(Bt.V,{type:"button",icon:Ht.UE,"aria-label":(0,bt.t)("buttons.undo"),onClick:$a,size:(ao==null?void 0:ao.size)||"medium"})},commitToHistory:function(){return!1}})),Yt.actionManager.registerAction(function(_a){return{name:"redo",trackEvent:{category:"history"},perform:function($a,ao){return It($a,ao,function(){return _a.redoOnce()})},keyTest:function($a){return $a[Et.tW.CTRL_OR_CMD]&&$a.shiftKey&&$a.key.toLowerCase()===Et.tW.Z||it.ED&&$a.ctrlKey&&!$a.shiftKey&&$a.key===Et.tW.Y},PanelComponent:function($a){var ao=$a.updateData,Bo=$a.data;return(0,_e.jsx)(Bt.V,{type:"button",icon:Ht.zG,"aria-label":(0,bt.t)("buttons.redo"),onClick:ao,size:(Bo==null?void 0:Bo.size)||"medium"})},commitToHistory:function(){return!1}}}(Yt.history)),Yt}return(0,xt.Z)(kn,[{key:"renderCanvas",value:function(){var gn=window.devicePixelRatio,Yt=this.state,En=Yt.width,Zn=Yt.height,Ln=En*gn,Yn=Zn*gn;return Yt.viewModeEnabled?(0,_e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:En,height:Zn,cursor:it.oc.GRAB},width:Ln,height:Yn,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,bt.t)("labels.drawingCanvas")}):(0,_e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:En,height:Zn},width:Ln,height:Yn,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,bt.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var gn,Yt=this,En=(0,jt.eD)(this.scene.getNonDeletedElements(),this.state),Zn=this.props,Ln=Zn.renderTopRightUI,Yn=Zn.renderCustomStats;return(0,_e.jsx)("div",{className:(0,pn.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,_e.jsx)(wo.Provider,{value:this.excalidrawContainerValue,children:(0,_e.jsx)(bo.Provider,{value:this.device,children:(0,_e.jsx)(Bu.Provider,{value:this.setAppState,children:(0,_e.jsxs)(Do.Provider,{value:this.state,children:[(0,_e.jsx)(qo.Provider,{value:this.scene.getNonDeletedElements(),children:(0,_e.jsxs)(_d.Provider,{value:this.actionManager,children:[(0,_e.jsx)(aI,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(qn){return Yt.addElementsFromPasteOrLibrary({elements:qn,position:"center",files:null})},langCode:(0,bt.G3)().code,renderTopRightUI:Ln,renderCustomStats:Yn,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((gn=this.props)===null||gn===void 0?void 0:gn.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,_e.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,_e.jsx)("div",{className:"excalidraw-contextMenuContainer"}),En.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,_e.jsx)(Xs.nW,{element:En[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},En[0].id),this.state.toast!==null&&(0,_e.jsx)(oI,{message:this.state.toast.message,onClose:function(){return Yt.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,_e.jsx)(cr,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,_e.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(en=(0,at.Z)(Qt().mark(function gn(){var Yt,En,Zn,Ln,Yn,qn,nr=this;return Qt().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,it.Vi.TEST!=="production"&&it.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return nr.state}},setState:{configurable:!0,value:function(){return nr.setState.apply(nr,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(Yt=this.excalidrawContainerRef)!==null&&Yt!==void 0&&Yt.current?(this.resizeObserver=new ResizeObserver(function(){yu=!1,nr.refreshDeviceState(nr.excalidrawContainerRef.current),nr.updateDOMRect()}),(En=this.resizeObserver)===null||En===void 0||En.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(Zn=window.matchMedia("(max-width: ".concat(it.kV,"px), (max-height: ").concat(it.Yx,"px) and (max-width: ").concat(it.sS,"px)")),Ln=window.matchMedia("(max-width: ".concat(it.eF,"px)")),Yn=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:it.sk,"px)")),qn=function(){nr.excalidrawContainerRef.current.getBoundingClientRect(),nr.device=(0,ct.v4)(nr.device,{isSmScreen:Ln.matches,isMobile:Zn.matches,canDeviceFitSidebar:Yn.matches})},Zn.addListener(qn),this.detachIsMobileMqHandler=function(){return Zn.removeListener(qn)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,it.jP)()&&!(0,pr.eB)()&&this.setState({errorMessage:(0,_e.jsx)(sI,{})});case 11:case"end":return hr.stop()}},gn,this)})),function(){return en.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var gn;this.files={},this.imageCache.clear(),(gn=this.resizeObserver)===null||gn===void 0||gn.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Ml),Ml=0}},{key:"removeEventListeners",value:function(){var gn,Yt,En,Zn,Ln;document.removeEventListener(it.Ks.POINTER_UP,this.removePointer),document.removeEventListener(it.Ks.COPY,this.onCopy),document.removeEventListener(it.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(it.Ks.CUT,this.onCut),(gn=this.excalidrawContainerRef.current)===null||gn===void 0||gn.removeEventListener(it.Ks.WHEEL,this.onWheel),(Yt=this.nearestScrollableContainer)===null||Yt===void 0||Yt.removeEventListener(it.Ks.SCROLL,this.onScroll),document.removeEventListener(it.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(it.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(it.Ks.KEYUP,this.onKeyUp),window.removeEventListener(it.Ks.RESIZE,this.onResize,!1),window.removeEventListener(it.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(it.Ks.BLUR,this.onBlur,!1),(En=this.excalidrawContainerRef.current)===null||En===void 0||En.removeEventListener(it.Ks.DRAG_OVER,this.disableEvent,!1),(Zn=this.excalidrawContainerRef.current)===null||Zn===void 0||Zn.removeEventListener(it.Ks.DROP,this.disableEvent,!1),document.removeEventListener(it.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(it.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(it.Ks.GESTURE_END,this.onGestureEnd,!1),(Ln=this.detachIsMobileMqHandler)===null||Ln===void 0||Ln.call(this)}},{key:"addEventListeners",value:function(){var gn,Yt,En,Zn,Ln,Yn=this;this.removeEventListeners(),document.addEventListener(it.Ks.POINTER_UP,this.removePointer),document.addEventListener(it.Ks.COPY,this.onCopy),(gn=this.excalidrawContainerRef.current)===null||gn===void 0||gn.addEventListener(it.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(it.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(it.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(it.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(Yt=document.fonts)===null||Yt===void 0||(En=Yt.addEventListener)===null||En===void 0||En.call(Yt,"loadingdone",function(qn){var nr=qn.fontfaces;Yn.fonts.onFontsLoaded(nr)}),document.addEventListener(it.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(it.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(it.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(it.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(it.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,ct.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(it.Ks.SCROLL,this.onScroll)),window.addEventListener(it.Ks.RESIZE,this.onResize,!1),window.addEventListener(it.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(it.Ks.BLUR,this.onBlur,!1),(Zn=this.excalidrawContainerRef.current)===null||Zn===void 0||Zn.addEventListener(it.Ks.DRAG_OVER,this.disableEvent,!1),(Ln=this.excalidrawContainerRef.current)===null||Ln===void 0||Ln.addEventListener(it.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(gn,Yt){var En,Zn,Ln,Yn=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&gn.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(Yt.scrollX!==this.state.scrollX||Yt.scrollY!==this.state.scrollY)&&((Zn=this.props)===null||Zn===void 0||(Ln=Zn.onScrollChange)===null||Ln===void 0||Ln.call(Zn,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,Wt.EN)(this.state)&&this.setState({activeTool:(0,ct.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&Yt.theme!==this.state.theme&&(0,ct.OF)(this.canvas,this.state.theme),Yt.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),gn.langCode!==this.props.langCode&&this.updateLanguage(),gn.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),Yt.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),gn.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),gn.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),gn.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?it.k:null}),this.props.name&&gn.name!==this.props.name&&this.setState({name:this.props.name}),(En=this.excalidrawContainerRef.current)===null||En===void 0||En.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Yn.state.editingLinearElement&&Yn.actionManager.executeAction(yt.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var qn,nr,hr=Yt.multiElement;Yt.activeTool!==this.state.activeTool&&hr!=null&&(0,Ct.N1)(this.state)&&(0,qt.Mn)(hr,!1)&&(0,Ct.R)(hr,this.state,this.scene,(0,ct.AK)(Vt._.getPointAtIndexGlobalCoordinates(hr,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(qn=(nr=this.props).onChange)===null||qn===void 0||qn.call(nr,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(gn){var Yt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],En=(0,ct.dE)({clientX:Zs,clientY:ps},this.state),Zn=En.x,Ln=En.y,Yn={x:Zn,y:Ln,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:gn,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:it.hs,locked:!1},qn=10,nr=Ln,hr=Yt?[gn]:gn.split(`
`),mr=hr.reduce(function(dr,kr,Gr){var Pr=kr.trim(),Qr=(0,pr.PT)(Yn.fontFamily);if(Pr.length){var _i=(0,St.VL)(_n(_n({},Yn),{},{x:Zn,y:nr,text:Pr,lineHeight:Qr}));dr.push(_i),nr+=_i.height+qn}else{var Hr;!((Hr=hr[Gr-1])===null||Hr===void 0)&&Hr.trim()&&(nr+=(0,pr.Rg)(Yn.fontSize,Qr)+qn)}return dr},[]);mr.length!==0&&(this.scene.replaceAllElements([].concat((0,ot.Z)(this.scene.getElementsIncludingDeleted()),(0,ot.Z)(mr))),this.setState({selectedElementIds:Object.fromEntries(mr.map(function(dr){return[dr.id,!0]}))}),!Yt&&mr.length>1&&i0===!1&&!this.device.isMobile&&(this.setToast({message:(0,bt.t)("toast.pasteAsSingleElement",{shortcut:(0,ct.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),i0=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(gn,Yt){var En=this,Zn=Yt.isExistingElement,Ln=Zn!==void 0&&Zn,Yn=function(qn,nr,hr){En.scene.replaceAllElements((0,ot.Z)(En.scene.getElementsIncludingDeleted().map(function(mr){return mr.id===gn.id&&(0,St.iB)(mr)?(0,St.N_)(mr,{text:qn,isDeleted:hr,originalText:nr}):mr})))};(0,St.b_)({id:gn.id,canvas:this.canvas,getViewportCoords:function(qn,nr){var hr=(0,ct._i)({sceneX:qn,sceneY:nr},En.state),mr=hr.x,dr=hr.y;return[mr-En.state.offsetLeft,dr-En.state.offsetTop]},onChange:(0,ct.tH)(function(qn){Yn(qn,qn,!1),(0,St.qP)(gn)&&(0,Ct.Ww)(gn)}),onSubmit:(0,ct.tH)(function(qn){var nr=qn.text,hr=qn.viaKeyboard,mr=qn.originalText,dr=!nr.trim();if(Yn(nr,mr,dr),!dr&&hr){var kr=gn.containerId?gn.containerId:gn.id;En.setState(function(Gr){return{selectedElementIds:_n(_n({},Gr.selectedElementIds),{},(0,nn.Z)({},kr,!0))}})}dr&&(0,Ct.$q)(En.scene.getNonDeletedElements(),[gn]),dr&&!Ln||En.history.resumeRecording(),En.setState({draggingElement:null,editingElement:null}),En.state.activeTool.locked&&(0,ct.Uk)(En.canvas,En.state),En.focusContainer()}),element:gn,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Yn(gn.text,gn.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(gn,Yt){var En=this.getElementAtPosition(gn,Yt,{includeBoundTextElement:!0});return En&&(0,St.iB)(En)&&!En.isDeleted?En:null}},{key:"getElementAtPosition",value:function(gn,Yt,En){var Zn=this.getElementsAtPosition(gn,Yt,En==null?void 0:En.includeBoundTextElement,En==null?void 0:En.includeLockedElements);if(Zn.length>1){if(En!=null&&En.preferSelected){for(var Ln=Zn.length-1;Ln>-1;Ln--)if(this.state.selectedElementIds[Zn[Ln].id])return Zn[Ln]}var Yn=Zn[Zn.length-1];return(0,St.wB)(Yn,this.state,gn,Yt)?Zn[Zn.length-2]:Yn}return Zn.length===1?Zn[0]:null}},{key:"getElementsAtPosition",value:function(gn,Yt){var En=this,Zn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ln=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Yn=Zn&&Ln?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(qn){return(Ln||!qn.locked)&&(Zn||!((0,St.iB)(qn)&&qn.containerId))});return(0,jt.CJ)(Yn,function(qn){return(0,St.wX)(qn,En.state,gn,Yt)})}},{key:"handleHoverSelectedLinearElement",value:function(gn,Yt,En){var Zn=Vt._.getElement(gn.elementId),Ln=(0,pr.WJ)(Zn);if(Zn)if(this.state.selectedLinearElement){var Yn=-1,qn=null;(0,F0.Qu)(Zn,this.state,[Yt,En])?(Yn=Vt._.getPointIndexUnderCursor(Zn,this.state.zoom,Yt,En),qn=Vt._.getSegmentMidpointHitCoords(gn,{x:Yt,y:En},this.state),Yn>=0||qn?(0,ct.KJ)(this.canvas,it.oc.POINTER):(0,ct.KJ)(this.canvas,it.oc.MOVE)):((0,lu.oY)([Zn],this.state)&&(0,St.wB)(Zn,this.state,Yt,En)||Ln&&(0,St.wX)(Ln,this.state,Yt,En))&&(0,ct.KJ)(this.canvas,it.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Yn&&this.setState({selectedLinearElement:_n(_n({},this.state.selectedLinearElement),{},{hoverPointIndex:Yn})}),Vt._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,qn)||this.setState({selectedLinearElement:_n(_n({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:qn})})}else(0,ct.KJ)(this.canvas,it.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(gn){gs!==null&&gs(gn)}},{key:"updateGestureOnPointerDown",value:function(gn){So.pointers.set(gn.pointerId,{x:gn.clientX,y:gn.clientY}),So.pointers.size===2&&(So.lastCenter=dn(So.pointers),So.initialScale=this.state.zoom.value,So.initialDistance=Rt(Array.from(So.pointers.values())))}},{key:"initialPointerDownState",value:function(gn){var Yt=(0,ct.dE)(gn,this.state),En=(0,jt.eD)(this.scene.getNonDeletedElements(),this.state),Zn=(0,St.KP)(En),Ln=(0,ht.Z)(Zn,4),Yn=Ln[0],qn=Ln[1],nr=Ln[2],hr=Ln[3];return{origin:Yt,withCmdOrCtrl:gn[Et.tW.CTRL_OR_CMD],originInGrid:(0,ct.AK)((0,Mt.wC)(Yt.x,Yt.y,this.state.gridSize)),scrollbars:(0,jt._4)(gu,gn.clientX-this.state.offsetLeft,gn.clientY-this.state.offsetTop),lastCoords:_n({},Yt),originalElements:this.scene.getNonDeletedElements().reduce(function(mr,dr){return mr.set(dr.id,(0,Pt.OL)(dr)),mr},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(nr+Yn)/2,y:(hr+qn)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Yt,En)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(gn,Yt){var En=this;if(!Yt.scrollbars.isOverEither||this.state.multiElement)return!1;n0=!0,Yt.lastCoords.x=gn.clientX,Yt.lastCoords.y=gn.clientY;var Zn=(0,ct.$9)(function(Yn){Yn.target instanceof HTMLElement&&En.handlePointerMoveOverScrollbars(Yn,Yt)}),Ln=(0,ct.tH)(function(){n0=!1,(0,ct.Uk)(En.canvas,En.state),gs=null,En.setState({cursorButton:"up"}),En.savePointer(gn.clientX,gn.clientY,"up"),window.removeEventListener(it.Ks.POINTER_MOVE,Zn),window.removeEventListener(it.Ks.POINTER_UP,Ln),Zn.flush()});return gs=Ln,window.addEventListener(it.Ks.POINTER_MOVE,Zn),window.addEventListener(it.Ks.POINTER_UP,Ln),!0}},{key:"isASelectedElement",value:function(gn){return gn!=null&&this.state.selectedElementIds[gn.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(gn,Yt){if(Yt.length<2)return!1;var En=10/this.state.zoom.value,Zn=(0,St.KP)(Yt),Ln=(0,ht.Z)(Zn,4),Yn=Ln[0],qn=Ln[1],nr=Ln[2],hr=Ln[3];return gn.x>Yn-En&&gn.x<nr+En&&gn.y>qn-En&&gn.y<hr+En}},{key:"onKeyDownFromPointerDownHandler",value:function(gn){var Yt=this;return(0,ct.tH)(function(En){Yt.maybeHandleResize(gn,En)||Yt.maybeDragNewGenericElement(gn,En)})}},{key:"onKeyUpFromPointerDownHandler",value:function(gn){var Yt=this;return(0,ct.tH)(function(En){En.key===Et.tW.ALT&&En.preventDefault(),Yt.maybeHandleResize(gn,En)||Yt.maybeDragNewGenericElement(gn,En)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(gn){var Yt=this;return(0,ct.$9)(function(En){var Zn;if(gn.drag.offset===null&&(gn.drag.offset=(0,ct.AK)((0,St.$V)((0,jt.eD)(Yt.scene.getNonDeletedElements(),Yt.state),gn.origin.x,gn.origin.y))),En.target instanceof HTMLElement&&!Yt.handlePointerMoveOverScrollbars(En,gn)){var Ln=(0,ct.dE)(En,Yt.state);if((0,Wt.EN)(Yt.state))Yt.handleEraser(En,gn,Ln);else{var Yn=(0,Mt.wC)(Ln.x,Ln.y,Yt.state.gridSize),qn=(0,ht.Z)(Yn,2),nr=qn[0],hr=qn[1];if(gn.drag.hasOccurred||Yt.state.activeTool.type!=="arrow"&&Yt.state.activeTool.type!=="line"||!((0,Mt.LW)(Ln.x,Ln.y,gn.origin.x,gn.origin.y)<it.f)){if(gn.resize.isResizing&&(gn.lastCoords.x=Ln.x,gn.lastCoords.y=Ln.y,Yt.maybeHandleResize(gn,En)))return!0;if(Yt.state.selectedLinearElement){var mr=Yt.state.editingLinearElement||Yt.state.selectedLinearElement;if(Vt._.shouldAddMidpoint(Yt.state.selectedLinearElement,Ln,Yt.state)){var dr=Vt._.addMidpoint(Yt.state.selectedLinearElement,Ln,Yt.state);return dr?void(0,Nn.flushSync)(function(){Yt.state.selectedLinearElement&&Yt.setState({selectedLinearElement:_n(_n({},Yt.state.selectedLinearElement),{},{pointerDownState:dr.pointerDownState,selectedPointsIndices:dr.selectedPointsIndices})}),Yt.state.editingLinearElement&&Yt.setState({editingLinearElement:_n(_n({},Yt.state.editingLinearElement),{},{pointerDownState:dr.pointerDownState,selectedPointsIndices:dr.selectedPointsIndices})})}):void 0}if(mr.pointerDownState.segmentMidpoint.value!==null&&!mr.pointerDownState.segmentMidpoint.added)return;var kr=Vt._.handlePointDragging(En,Yt.state,Ln.x,Ln.y,function(Yl,Vu){Yt.maybeSuggestBindingsForLinearElementAtCoords(Yl,Vu)},mr);if(kr)return gn.lastCoords.x=Ln.x,gn.lastCoords.y=Ln.y,gn.drag.hasOccurred=!0,Yt.state.editingLinearElement&&!Yt.state.editingLinearElement.isDragging&&Yt.setState({editingLinearElement:_n(_n({},Yt.state.editingLinearElement),{},{isDragging:!0})}),void(Yt.state.selectedLinearElement.isDragging||Yt.setState({selectedLinearElement:_n(_n({},Yt.state.selectedLinearElement),{},{isDragging:!0})}))}var Gr=gn.hit.allHitElements.some(function(Yl){return Yt.isASelectedElement(Yl)}),Pr=Yt.state.editingLinearElement&&En.shiftKey&&Yt.state.editingLinearElement.elementId===((Zn=gn.hit.element)===null||Zn===void 0?void 0:Zn.id);if((Gr||gn.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Pr){var Qr=(0,jt.eD)(Yt.scene.getNonDeletedElements(),Yt.state);if(Qr.every(function(Yl){return Yl.locked}))return;if(gn.drag.hasOccurred=!0,Qr.length>0&&!gn.withCmdOrCtrl){var _i=(0,Mt.wC)(Ln.x-gn.drag.offset.x,Ln.y-gn.drag.offset.y,Yt.state.gridSize),Hr=(0,ht.Z)(_i,2),Yr=Hr[0],_a=Hr[1],$a=[Math.abs(Ln.x-gn.origin.x),Math.abs(Ln.y-gn.origin.y)],ao=$a[0],Bo=$a[1],$o=En.shiftKey;if((0,St.o8)(gn,Qr,Yr,_a,$o,ao,Bo,Yt.state),Yt.maybeSuggestBindingForAll(Qr),En.altKey&&!gn.hit.hasBeenDuplicated){gn.hit.hasBeenDuplicated=!0;var Ul,Il=[],Vo=[],Rl=new Map,Sn=new Map,zo=gn.hit.element,jo=Yt.scene.getElementsIncludingDeleted(),Wo=(0,jt.eD)(jo,Yt.state,!0).map(function(Yl){return Yl.id}),Wr=G0(jo);try{for(Wr.s();!(Ul=Wr.n()).done;){var Uo=Ul.value;if(Wo.includes(Uo.id)||Uo.id===(zo==null?void 0:zo.id)&&gn.hit.wasAddedToSelection){var Gl=(0,St.Sy)(Yt.state.editingGroupId,Rl,Uo),ks=(0,Mt.wC)(gn.origin.x-gn.drag.offset.x,gn.origin.y-gn.drag.offset.y,Yt.state.gridSize),Ts=(0,ht.Z)(ks,2),gI=Ts[0],uI=Ts[1];(0,At.DR)(Gl,{x:Gl.x+(gI-Yr),y:Gl.y+(uI-_a)}),Il.push(Gl),Vo.push(Uo),Sn.set(Uo.id,Gl.id)}else Il.push(Uo)}}catch(Yl){Wr.e(Yl)}finally{Wr.f()}var w0=[].concat(Il,Vo);(0,pr.P7)(Il,Vo,Sn),(0,Ct.ek)(w0,Vo,Sn,"duplicatesServeAsOld"),Yt.scene.replaceAllElements(w0)}return}}var xl=Yt.state.draggingElement;if(xl){if(xl.type==="freedraw"){var Mu=xl.points,ms=Ln.x-xl.x,E0=Ln.y-xl.y,a0=Mu.length>0&&Mu[Mu.length-1];if(!(a0&&a0[0]===ms&&a0[1]===E0)){var dI=xl.simulatePressure?xl.pressures:[].concat((0,ot.Z)(xl.pressures),[En.pressure]);(0,At.DR)(xl,{points:[].concat((0,ot.Z)(Mu),[[ms,E0]]),pressures:dI})}}else if((0,qt.bt)(xl)){gn.drag.hasOccurred=!0;var xu=xl.points,o0=nr-xl.x,us=hr-xl.y;if((0,Et.Ge)(En)&&xu.length===2){var S0=(0,St.o4)(xl.x,xl.y,Ln.x,Ln.y);o0=S0.width,us=S0.height}xu.length===1?(0,At.DR)(xl,{points:[].concat((0,ot.Z)(xu),[[o0,us]])}):xu.length===2&&(0,At.DR)(xl,{points:[].concat((0,ot.Z)(xu.slice(0,-1)),[[o0,us]])}),(0,qt.Mn)(xl,!1)&&Yt.maybeSuggestBindingsForLinearElementAtCoords(xl,[Ln],Yt.state.startBoundElement)}else gn.lastCoords.x=Ln.x,gn.lastCoords.y=Ln.y,Yt.maybeDragNewGenericElement(gn,En);if(Yt.state.activeTool.type==="selection"){gn.boxSelection.hasOccurred=!0;var X0=Yt.scene.getNonDeletedElements();if(En.shiftKey||Yt.state.editingLinearElement||!(0,jt.N)(X0,Yt.state)||(gn.withCmdOrCtrl&&gn.hit.element?Yt.setState(function(Yl){return(0,zt.bO)(_n(_n({},Yl),{},{selectedElementIds:(0,nn.Z)({},gn.hit.element.id,!0)}),Yt.scene.getNonDeletedElements())}):Yt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Yt.state.editingLinearElement)Vt._.handleBoxSelection(En,Yt.state,Yt.setState.bind(Yt));else{var _s=(0,jt.Yp)(X0,xl);Yt.setState(function(Yl){return(0,zt.bO)(_n(_n({},Yl),{},{selectedElementIds:_n(_n(_n({},Yl.selectedElementIds),_s.reduce(function(Vu,Ps){return Vu[Ps.id]=!0,Vu},{})),gn.hit.element?(0,nn.Z)({},gn.hit.element.id,!_s.length):null),showHyperlinkPopup:!(_s.length!==1||!_s[0].link)&&"info",selectedLinearElement:_s.length===1&&(0,qt.bt)(_s[0])?new Vt._(_s[0],Yt.scene):null}),Yt.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(gn,Yt){if(Yt.scrollbars.isOverHorizontal){var En=gn.clientX,Zn=En-Yt.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Zn/this.state.zoom.value}),Yt.lastCoords.x=En,!0}if(Yt.scrollbars.isOverVertical){var Ln=gn.clientY,Yn=Ln-Yt.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Yn/this.state.zoom.value}),Yt.lastCoords.y=Ln,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(gn){var Yt=this;return(0,ct.tH)(function(En){var Zn,Ln,Yn,qn=Yt.state,nr=qn.draggingElement,hr=qn.resizingElement,mr=qn.multiElement,dr=qn.activeTool,kr=qn.isResizing,Gr=qn.isRotating;if(Yt.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:mr||(0,St.iB)(Yt.state.editingElement)?Yt.state.editingElement:null}),Yt.savePointer(En.clientX,En.clientY,"up"),Yt.state.editingLinearElement)if(gn.boxSelection.hasOccurred||((Ln=gn.hit)===null||Ln===void 0||(Yn=Ln.element)===null||Yn===void 0?void 0:Yn.id)===Yt.state.editingLinearElement.elementId){var Pr=Vt._.handlePointerUp(En,Yt.state.editingLinearElement,Yt.state);Pr!==Yt.state.editingLinearElement&&Yt.setState({editingLinearElement:Pr,suggestedBindings:[]})}else Yt.actionManager.executeAction(yt.pL);else if(Yt.state.selectedLinearElement){var Qr,_i;if(((Qr=gn.hit)===null||Qr===void 0||(_i=Qr.element)===null||_i===void 0?void 0:_i.id)!==Yt.state.selectedLinearElement.elementId)(0,jt.eD)(Yt.scene.getNonDeletedElements(),Yt.state).length>1&&Yt.setState({selectedLinearElement:null});else{var Hr=Vt._.handlePointerUp(En,Yt.state.selectedLinearElement,Yt.state),Yr=Hr.startBindingElement,_a=Hr.endBindingElement,$a=Yt.scene.getElement(Hr.elementId);(0,qt.Mn)($a)&&(0,Ct.HG)($a,Yr,_a),Hr!==Yt.state.selectedLinearElement&&Yt.setState({selectedLinearElement:_n(_n({},Hr),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(gs=null,gn.eventListeners.onMove&&gn.eventListeners.onMove.flush(),window.removeEventListener(it.Ks.POINTER_MOVE,gn.eventListeners.onMove),window.removeEventListener(it.Ks.POINTER_UP,gn.eventListeners.onUp),window.removeEventListener(it.Ks.KEYDOWN,gn.eventListeners.onKeyDown),window.removeEventListener(it.Ks.KEYUP,gn.eventListeners.onKeyUp),Yt.state.pendingImageElementId&&Yt.setState({pendingImageElementId:null}),(nr==null?void 0:nr.type)==="freedraw"){var ao=(0,ct.dE)(En,Yt.state),Bo=nr.points,$o=ao.x-nr.x,Ul=ao.y-nr.y;$o===Bo[0][0]&&Ul===Bo[0][1]&&(Ul+=1e-4,$o+=1e-4);var Il=nr.simulatePressure?[]:[].concat((0,ot.Z)(nr.pressures),[En.pressure]);return(0,At.DR)(nr,{points:[].concat((0,ot.Z)(Bo),[[$o,Ul]]),pressures:Il,lastCommittedPoint:[$o,Ul]}),void Yt.actionManager.executeAction(yt.pL)}if((0,qt.pC)(nr)){var Vo=nr;try{Yt.initializeImageDimensions(Vo),Yt.setState({selectedElementIds:(0,nn.Z)({},Vo.id,!0)},function(){Yt.actionManager.executeAction(yt.pL)})}catch(Wr){console.error(Wr),Yt.scene.replaceAllElements(Yt.scene.getElementsIncludingDeleted().filter(function(Uo){return Uo.id!==Vo.id})),Yt.actionManager.executeAction(yt.pL)}}else if((0,qt.bt)(nr)){nr.points.length>1&&Yt.history.resumeRecording();var Rl=(0,ct.dE)(En,Yt.state);gn.drag.hasOccurred||!nr||mr?gn.drag.hasOccurred&&!mr&&((0,Ct.N1)(Yt.state)&&(0,qt.Mn)(nr,!1)&&(0,Ct.R)(nr,Yt.state,Yt.scene,Rl),Yt.setState({suggestedBindings:[],startBoundElement:null}),dr.locked?Yt.setState(function(Wr){return{draggingElement:null}}):((0,ct.z8)(Yt.canvas),Yt.setState(function(Wr){return{draggingElement:null,activeTool:(0,ct.Om)(Yt.state,{type:"selection"}),selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,nn.Z)({},nr.id,!0)),selectedLinearElement:new Vt._(nr,Yt.scene)}}))):((0,At.DR)(nr,{points:[].concat((0,ot.Z)(nr.points),[[Rl.x-nr.x,Rl.y-nr.y]])}),Yt.setState({multiElement:nr,editingElement:Yt.state.draggingElement}))}else{if(dr.type!=="selection"&&nr&&(0,St.QD)(nr))return Yt.scene.replaceAllElements(Yt.scene.getElementsIncludingDeleted().slice(0,-1)),void Yt.setState({draggingElement:null});nr&&(0,At.DR)(nr,(0,St.Qp)(nr)),hr&&Yt.history.resumeRecording(),hr&&(0,St.QD)(hr)&&Yt.scene.replaceAllElements(Yt.scene.getElementsIncludingDeleted().filter(function(Wr){return Wr.id!==hr.id}));var Sn=gn.hit.element;if(((Zn=Yt.state.selectedLinearElement)===null||Zn===void 0?void 0:Zn.elementId)!==(Sn==null?void 0:Sn.id)&&(0,qt.bt)(Sn)&&(0,jt.eD)(Yt.scene.getNonDeletedElements(),Yt.state).length===1&&Yt.setState({selectedLinearElement:new Vt._(Sn,Yt.scene)}),(0,Wt.EN)(Yt.state)){if((0,Mt.LW)(Yt.lastPointerDown.clientX,Yt.lastPointerDown.clientY,Yt.lastPointerUp.clientX,Yt.lastPointerUp.clientY)===0){var zo=(0,ct.dE)({clientX:Yt.lastPointerUp.clientX,clientY:Yt.lastPointerUp.clientY},Yt.state);Yt.getElementsAtPosition(zo.x,zo.y).forEach(function(Wr){return gn.elementIdsToErase[Wr.id]={erase:!0,opacity:Wr.opacity}})}Yt.eraseElements(gn)}else{var jo;if(Object.keys(gn.elementIdsToErase).length&&Yt.restoreReadyToEraseElements(gn),Sn&&!gn.drag.hasOccurred&&!gn.hit.wasAddedToSelection&&(!Yt.state.editingLinearElement||!gn.boxSelection.hasOccurred))if(En.shiftKey&&!Yt.state.editingLinearElement)if(Yt.state.selectedElementIds[Sn.id])if((0,zt.zq)(Yt.state,Sn)){var Wo=Sn.groupIds.flatMap(function(Wr){return(0,zt.Fb)(Yt.scene.getNonDeletedElements(),Wr)}).map(function(Wr){return(0,nn.Z)({},Wr.id,!1)}).reduce(function(Wr,Uo){return _n(_n({},Wr),Uo)},{});Yt.setState(function(Wr){return{selectedGroupIds:_n(_n({},Wr.selectedElementIds),Sn.groupIds.map(function(Uo){return(0,nn.Z)({},Uo,!1)}).reduce(function(Uo,Gl){return _n(_n({},Uo),Gl)},{})),selectedElementIds:_n(_n({},Wr.selectedElementIds),Wo)}})}else(jo=Yt.state.selectedLinearElement)!==null&&jo!==void 0&&jo.isDragging||Yt.setState(function(Wr){var Uo=_n(_n({},Wr.selectedElementIds),{},(0,nn.Z)({},Sn.id,!1)),Gl=(0,jt.eD)(Yt.scene.getNonDeletedElements(),_n(_n({},Wr),{},{selectedElementIds:Uo}));return(0,zt.bO)(_n(_n({},Wr),{},{selectedElementIds:Uo,selectedLinearElement:Gl.length===1&&(0,qt.bt)(Gl[0])?new Vt._(Gl[0],Yt.scene):Wr.selectedLinearElement}),Yt.scene.getNonDeletedElements())});else Yt.setState(function(Wr){return{selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,nn.Z)({},Sn.id,!0))}});else Yt.setState(function(Wr){var Uo;return _n({},(0,zt.bO)(_n(_n({},Wr),{},{selectedElementIds:(0,nn.Z)({},Sn.id,!0),selectedLinearElement:(0,qt.bt)(Sn)&&((Uo=Wr.selectedLinearElement)===null||Uo===void 0?void 0:Uo.elementId)!==Sn.id?new Vt._(Sn,Yt.scene):Wr.selectedLinearElement}),Yt.scene.getNonDeletedElements()))});gn.drag.hasOccurred||Yt.state.isResizing||!(Sn&&(0,St.wB)(Sn,Yt.state,gn.origin.x,gn.origin.y)||!Sn&&gn.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!dr.locked&&dr.type!=="freedraw"&&nr&&Yt.setState(function(Wr){return{selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,nn.Z)({},nr.id,!0))}}),(dr.type!=="selection"||(0,jt.N)(Yt.scene.getNonDeletedElements(),Yt.state))&&Yt.history.resumeRecording(),(gn.drag.hasOccurred||kr||Gr)&&((0,Ct.N1)(Yt.state)?Ct.el:Ct.H)((0,jt.eD)(Yt.scene.getNonDeletedElements(),Yt.state)),dr.locked||dr.type==="freedraw"?Yt.setState({draggingElement:null,suggestedBindings:[]}):((0,ct.z8)(Yt.canvas),Yt.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,ct.Om)(Yt.state,{type:"selection"})}))):Yt.state.editingLinearElement?Yt.setState({editingLinearElement:null}):Yt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(gn){var Yt=(0,Ct.ZB)(gn);this.setState({suggestedBindings:Yt})}},{key:"clearSelection",value:function(gn){this.setState(function(Yt){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:Yt.editingGroupId&&gn!=null&&(0,zt.Nd)(gn,Yt.editingGroupId)?Yt.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(gn,Yt,En,Zn){if(Zn){var Ln=Zn.x+Zn.width/2,Yn=Zn.y+Zn.height/2,qn=(0,pr.TP)(Zn,En);if(qn&&(Ln=qn.x,Yn=qn.y),Math.hypot(gn-Ln,Yt-Yn)<it.wZ){var nr=(0,ct._i)({sceneX:Ln,sceneY:Yn},En);return{viewportX:nr.x,viewportY:nr.y,elementCenterX:Ln,elementCenterY:Yn}}}}},{key:"getCanvasOffsets",value:function(){var gn;if((gn=this.excalidrawContainerRef)!==null&&gn!==void 0&&gn.current){var Yt=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:Yt.left,offsetTop:Yt.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(Ft=(0,at.Z)(Qt().mark(function gn(){var Yt,En=this;return Qt().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:return Yt=bt.Mj.find(function(Ln){return Ln.code===En.props.langCode})||bt.Fp,Zn.next=3,(0,bt.m0)(Yt);case 3:this.setAppState({});case 4:case"end":return Zn.stop()}},gn,this)})),function(){return Ft.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Eo=!1}}]),kn}(fn().Component);js.defaultProps={UIOptions:it.cW};var Js=function(){var nt=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=Jr,this.excalidrawContainerRef=fn().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var Ft;nt.props.autoFocus&&((Ft=nt.excalidrawContainerRef.current)===null||Ft===void 0||Ft.focus())},this.getSceneElementsIncludingDeleted=function(){return nt.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return nt.scene.getNonDeletedElements()},this.syncActionResult=(0,ct.tH)(function(Ft){if(!nt.unmounted&&Ft!==!1){var en=null;if(Ft.elements&&(Ft.elements.forEach(function(Gr){var Pr;((Pr=nt.state.editingElement)===null||Pr===void 0?void 0:Pr.id)===Gr.id&&nt.state.editingElement!==Gr&&(0,St.qP)(Gr)&&(en=Gr)}),nt.scene.replaceAllElements(Ft.elements),Ft.commitToHistory&&nt.history.resumeRecording()),Ft.files&&(nt.files=Ft.replaceFiles?Ft.files:_n(_n({},nt.files),Ft.files),nt.addNewImagesToImageCache()),Ft.appState||en||nt.state.contextMenu){var sn,kn,gn,Yt,En,Zn,Ln,Yn;Ft.commitToHistory&&nt.history.resumeRecording();var qn=(Ft==null||(sn=Ft.appState)===null||sn===void 0?void 0:sn.viewModeEnabled)||!1,nr=(Ft==null||(kn=Ft.appState)===null||kn===void 0?void 0:kn.zenModeEnabled)||!1,hr=(Ft==null||(gn=Ft.appState)===null||gn===void 0?void 0:gn.gridSize)||null,mr=(Ft==null||(Yt=Ft.appState)===null||Yt===void 0?void 0:Yt.theme)||nt.props.theme||it.C6.LIGHT,dr=(En=Ft==null||(Zn=Ft.appState)===null||Zn===void 0?void 0:Zn.name)!==null&&En!==void 0?En:nt.state.name,kr=(Ln=Ft==null||(Yn=Ft.appState)===null||Yn===void 0?void 0:Yn.errorMessage)!==null&&Ln!==void 0?Ln:nt.state.errorMessage;nt.props.viewModeEnabled!==void 0&&(qn=nt.props.viewModeEnabled),nt.props.zenModeEnabled!==void 0&&(nr=nt.props.zenModeEnabled),nt.props.gridModeEnabled!==void 0&&(hr=nt.props.gridModeEnabled?it.k:null),nt.props.name!==void 0&&(dr=nt.props.name),nt.setState(function(Gr){var Pr;return Object.assign(Ft.appState||{},{contextMenu:null,editingElement:en||((Pr=Ft.appState)===null||Pr===void 0?void 0:Pr.editingElement)||null,viewModeEnabled:qn,zenModeEnabled:nr,gridSize:hr,theme:mr,name:dr,errorMessage:kr})},function(){Ft.syncHistory&&nt.history.setCurrentState(nt.state,nt.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,ct.tH)(function(){zs=!1,nt.setState({isBindingEnabled:!0})}),this.onUnload=function(){nt.onBlur()},this.disableEvent=function(Ft){Ft.preventDefault()},this.resetHistory=function(){nt.history.clear()},this.resetScene=(0,ct.tH)(function(Ft){nt.scene.replaceAllElements([]),nt.setState(function(en){return _n(_n({},(0,Wt.im)()),{},{isLoading:(Ft==null||!Ft.resetLoadingState)&&en.isLoading,theme:nt.state.theme})}),nt.resetHistory()}),this.initializeScene=(0,at.Z)(Qt().mark(function Ft(){var en,sn,kn,gn,Yt;return Qt().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Zn=(0,at.Z)(Qt().mark(function Ln(Yn){var qn,nr;return Qt().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:if(Yn.files.length){hr.next=2;break}return hr.abrupt("return");case 2:return qn=Yn.files[0],hr.next=5,qn.getFile();case 5:nr=hr.sent,nt.loadFileToCanvas(new File([nr],nr.name||"",{type:nr.type}),qn);case 7:case"end":return hr.stop()}},Ln)}));return function(Ln){return Zn.apply(this,arguments)}}()),nt.props.theme&&nt.setState({theme:nt.props.theme}),nt.state.isLoading||nt.setState({isLoading:!0}),kn=null,En.prev=4,En.next=7,nt.props.initialData;case 7:if(En.t0=En.sent,En.t0){En.next=10;break}En.t0=null;case 10:kn=En.t0,(gn=kn)!==null&&gn!==void 0&&gn.libraryItems&&nt.library.updateLibrary({libraryItems:kn.libraryItems,merge:!0}).catch(function(Zn){console.error(Zn)}),En.next=18;break;case 14:En.prev=14,En.t1=En.catch(4),console.error(En.t1),kn={appState:{errorMessage:En.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(Yt=(0,_t.nu)(kn,null,null,{repairBindings:!0})).appState=_n(_n({},Yt.appState),{},{theme:nt.props.theme||Yt.appState.theme,openSidebar:((en=Yt.appState)===null||en===void 0?void 0:en.openSidebar)||nt.state.openSidebar,activeTool:Yt.appState.activeTool.type==="image"?_n(_n({},Yt.appState.activeTool),{},{type:"selection"}):Yt.appState.activeTool,isLoading:!1,toast:nt.state.toast}),(sn=kn)!==null&&sn!==void 0&&sn.scrollToContent&&(Yt.appState=_n(_n({},Yt.appState),(0,jt.W)(Yt.elements,_n(_n({},Yt.appState),{},{width:nt.state.width,height:nt.state.height,offsetTop:nt.state.offsetTop,offsetLeft:nt.state.offsetLeft}),null))),nt.fonts.loadFontsForElements(Yt.elements),nt.resetHistory(),nt.syncActionResult(_n(_n({},Yt),{},{commitToHistory:!0}));case 24:case"end":return En.stop()}},Ft,null,[[4,14]])})),this.refreshDeviceState=function(Ft){var en=Ft.getBoundingClientRect(),sn=en.width,kn=en.height,gn=nt.props.UIOptions.dockedSidebarBreakpoint!=null?nt.props.UIOptions.dockedSidebarBreakpoint:it.sk;nt.device=(0,ct.v4)(nt.device,{isSmScreen:sn<it.eF,isMobile:sn<it.kV||kn<it.Yx&&sn<it.sS,canDeviceFitSidebar:sn>gn})},this.onResize=(0,ct.tH)(function(){nt.scene.getElementsIncludingDeleted().forEach(function(Ft){return(0,bn.bI)(Ft)}),nt.setState({})}),this.renderScene=function(){var Ft={},en={},sn={},kn={},gn={};nt.state.collaborators.forEach(function(Zn,Ln){if(Zn.selectedElementIds)for(var Yn=0,qn=Object.keys(Zn.selectedElementIds);Yn<qn.length;Yn++){var nr=qn[Yn];nr in sn||(sn[nr]=[]),sn[nr].push(Ln)}Zn.pointer&&(Zn.username&&(kn[Ln]=Zn.username),Zn.userState&&(gn[Ln]=Zn.userState),en[Ln]=(0,ct._i)({sceneX:Zn.pointer.x,sceneY:Zn.pointer.y},nt.state),Ft[Ln]=Zn.button)});var Yt=nt.scene.getNonDeletedElements().filter(function(Zn){return(!(0,qt.pC)(Zn)||nt.state.pendingImageElementId!==Zn.id)&&(!nt.state.editingElement||nt.state.editingElement.type!=="text"||Zn.id!==nt.state.editingElement.id)}),En=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,un.Eu)({elements:Yt,appState:nt.state,scale:window.devicePixelRatio,rc:nt.rc,canvas:nt.canvas,renderConfig:{selectionColor:En,scrollX:nt.state.scrollX,scrollY:nt.state.scrollY,viewBackgroundColor:nt.state.viewBackgroundColor,zoom:nt.state.zoom,remotePointerViewportCoords:en,remotePointerButton:Ft,remoteSelectedElementIds:sn,remotePointerUsernames:kn,remotePointerUserStates:gn,shouldCacheIgnoreZoom:nt.state.shouldCacheIgnoreZoom,theme:nt.state.theme,imageCache:nt.imageCache,isExporting:!1,renderScrollbars:!nt.device.isMobile},callback:function(Zn){var Ln=Zn.atLeastOneVisibleElement,Yn=Zn.scrollBars;Yn&&(gu=Yn);var qn=!(0,St.iB)(nt.state.editingElement)&&!Ln&&Yt.length>0;nt.state.scrolledOutside!==qn&&nt.setState({scrolledOutside:qn}),nt.scheduleImageRefresh()}},yu&&window.EXCALIDRAW_THROTTLE_RENDER===!0),yu||(yu=!0)},this.onScroll=(0,ct.Ds)(function(){var Ft=nt.getCanvasOffsets(),en=Ft.offsetTop,sn=Ft.offsetLeft;nt.setState(function(kn){return kn.offsetLeft===sn&&kn.offsetTop===en?null:{offsetTop:en,offsetLeft:sn}})},it.HM),this.onCut=(0,ct.tH)(function(Ft){var en;!((en=nt.excalidrawContainerRef.current)===null||en===void 0)&&en.contains(document.activeElement)&&!(0,ct.s)(Ft.target)&&(nt.cutAll(),Ft.preventDefault(),Ft.stopPropagation())}),this.onCopy=(0,ct.tH)(function(Ft){var en;!((en=nt.excalidrawContainerRef.current)===null||en===void 0)&&en.contains(document.activeElement)&&!(0,ct.s)(Ft.target)&&(nt.copyAll(),Ft.preventDefault(),Ft.stopPropagation())}),this.cutAll=function(){nt.actionManager.executeAction(yt.ZM,"keyboard")},this.copyAll=function(){nt.actionManager.executeAction(yt.uN,"keyboard")},this.onTapStart=function(Ft){if(it.Dt||Ft.preventDefault(),!Eo)return Eo=!0,clearTimeout(t0),void(t0=window.setTimeout(js.resetTapTwice,it.Gj));if(Eo&&Ft.touches.length===1){var en=(0,ht.Z)(Ft.touches,1)[0];nt.handleCanvasDoubleClick({clientX:en.clientX,clientY:en.clientY}),Eo=!1,clearTimeout(t0)}it.Dt&&Ft.preventDefault(),Ft.touches.length===2&&nt.setState({selectedElementIds:{}})},this.onTapEnd=function(Ft){nt.resetContextMenuTimer(),Ft.touches.length>0?nt.setState({previousSelectedElementIds:{},selectedElementIds:nt.state.previousSelectedElementIds}):So.pointers.clear()},this.pasteFromClipboard=(0,ct.tH)(function(){var Ft=(0,at.Z)(Qt().mark(function en(sn){var kn,gn,Yt,En,Zn,Ln,Yn,qn,nr,hr,mr,dr,kr;return Qt().wrap(function(Gr){for(;;)switch(Gr.prev=Gr.next){case 0:if(Yt=!(!uu||!sn),En=document.activeElement,Zn=(kn=nt.excalidrawContainerRef.current)===null||kn===void 0?void 0:kn.contains(En),!sn||Zn){Gr.next=5;break}return Gr.abrupt("return");case 5:if(Ln=document.elementFromPoint(Zs,ps),!sn||Ln instanceof HTMLCanvasElement&&!(0,ct.s)(En)){Gr.next=8;break}return Gr.abrupt("return");case 8:return Yn=sn==null||(gn=sn.clipboardData)===null||gn===void 0?void 0:gn.files[0],Gr.next=11,(0,Ot.mQ)(sn,Yt);case 11:if(qn=Gr.sent,Yn||!qn.text||Yt||(nr=qn.text.trim()).startsWith("<svg")&&nr.endsWith("</svg>")&&(Yn=(0,Ir.Pn)(nr)),!(0,Ir.Wr)(Yn)||qn.spreadsheet){Gr.next=20;break}return hr=(0,ct.dE)({clientX:Zs,clientY:ps},nt.state),mr=hr.x,dr=hr.y,kr=nt.createImageElement({sceneX:mr,sceneY:dr}),nt.insertImageElement(kr,Yn),nt.initializeImageDimensions(kr),nt.setState({selectedElementIds:(0,nn.Z)({},kr.id,!0)}),Gr.abrupt("return");case 20:if(!nt.props.onPaste){Gr.next=32;break}return Gr.prev=21,Gr.next=24,nt.props.onPaste(qn,sn);case 24:if(Gr.t0=Gr.sent,Gr.t0!==!1){Gr.next=27;break}return Gr.abrupt("return");case 27:Gr.next=32;break;case 29:Gr.prev=29,Gr.t1=Gr.catch(21),console.error(Gr.t1);case 32:qn.errorMessage?nt.setState({errorMessage:qn.errorMessage}):qn.spreadsheet&&!Yt?nt.setState({pasteDialog:{data:qn.spreadsheet,shown:!0}}):qn.elements?nt.addElementsFromPasteOrLibrary({elements:qn.elements,files:qn.files||null,position:"cursor"}):qn.text&&nt.addTextFromPaste(qn.text,Yt),nt.setActiveTool({type:"selection"}),sn==null||sn.preventDefault();case 35:case"end":return Gr.stop()}},en,null,[[21,29]])}));return function(en){return Ft.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(Ft){var en=(0,_t.ET)(Ft.elements,null),sn=(0,St.KP)(en),kn=(0,ht.Z)(sn,4),gn=kn[0],Yt=kn[1],En=kn[2],Zn=kn[3],Ln=(0,ct.TE)(gn,En)/2,Yn=(0,ct.TE)(Yt,Zn)/2,qn=(0,pt.Z)(Ft.position)==="object"?Ft.position.clientX:Ft.position==="cursor"?Zs:nt.state.width/2+nt.state.offsetLeft,nr=(0,pt.Z)(Ft.position)==="object"?Ft.position.clientY:Ft.position==="cursor"?ps:nt.state.height/2+nt.state.offsetTop,hr=(0,ct.dE)({clientX:qn,clientY:nr},nt.state),mr=hr.x-Ln,dr=hr.y-Yn,kr=(0,Mt.wC)(mr,dr,nt.state.gridSize),Gr=(0,ht.Z)(kr,2),Pr=Gr[0],Qr=Gr[1],_i=(0,Pt._N)(en.map(function(Yr){return(0,At.BE)(Yr,{x:Yr.x+Pr-gn,y:Yr.y+Qr-Yt})})),Hr=[].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),(0,ot.Z)(_i));nt.scene.replaceAllElements(Hr),_i.forEach(function(Yr){if((0,St.iB)(Yr)&&(0,qt.Xh)(Yr)){var _a=(0,pr.tl)(Yr);(0,St.oN)(Yr,_a)}}),Ft.files&&(nt.files=_n(_n({},nt.files),Ft.files)),nt.history.resumeRecording(),nt.setState((0,zt.bO)(_n(_n({},nt.state),{},{openSidebar:nt.state.openSidebar&&nt.device.canDeviceFitSidebar&&nt.state.isSidebarDocked?nt.state.openSidebar:null,selectedElementIds:_i.reduce(function(Yr,_a){return(0,qt.Xh)(_a)||(Yr[_a.id]=!0),Yr},{}),selectedGroupIds:{}}),nt.scene.getNonDeletedElements()),function(){Ft.files&&nt.addNewImagesToImageCache()}),nt.setActiveTool({type:"selection"})},this.setAppState=function(Ft,en){nt.setState(Ft,en)},this.removePointer=function(Ft){Ml&&nt.resetContextMenuTimer(),So.pointers.delete(Ft.pointerId)},this.toggleLock=function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";nt.state.activeTool.locked||(0,Dt.L)("toolbar","toggleLock","".concat(Ft," (").concat(nt.device.isMobile?"mobile":"desktop",")")),nt.setState(function(en){return{activeTool:_n(_n(_n({},en.activeTool),(0,ct.Om)(nt.state,en.activeTool.locked?{type:"selection"}:en.activeTool)),{},{locked:!en.activeTool.locked})}})},this.togglePenMode=function(){nt.setState(function(Ft){return{penMode:!Ft.penMode}})},this.onHandToolToggle=function(){nt.actionManager.executeAction(U0.eF)},this.zoomCanvas=function(Ft){nt.setState(_n({},(0,yn.E)({viewportX:nt.state.width/2+nt.state.offsetLeft,viewportY:nt.state.height/2+nt.state.offsetTop,nextZoom:(0,jt.j)(Ft)},nt.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var Ft,en=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nt.scene.getNonDeletedElements(),sn=arguments.length>1?arguments[1]:void 0;(Ft=nt.cancelInProgresAnimation)===null||Ft===void 0||Ft.call(nt);var kn=Array.isArray(en)?en:[en],gn=nt.state.zoom,Yt=nt.state.scrollX,En=nt.state.scrollY;if(sn!=null&&sn.fitToContent){var Zn=(0,U0.md)(kn,nt.state,!1),Ln=Zn.appState;gn=Ln.zoom,Yt=Ln.scrollX,En=Ln.scrollY}else{var Yn=(0,jt.W)(kn,nt.state,nt.canvas);Yt=Yn.scrollX,En=Yn.scrollY}if(sn!=null&&sn.animate){var qn,nr=nt.state.scrollX,hr=nt.state.scrollY;nt.zoomCanvas(gn.value);var mr=(0,ct.B4)([nr,hr],[Yt,En],function(dr,kr){return nt.setState({scrollX:dr,scrollY:kr})},{duration:(qn=sn==null?void 0:sn.duration)!==null&&qn!==void 0?qn:500});nt.cancelInProgresAnimation=function(){mr(),nt.cancelInProgresAnimation=null}}else nt.setState({scrollX:Yt,scrollY:En,zoom:gn})},this.translateCanvas=function(Ft){var en;(en=nt.cancelInProgresAnimation)===null||en===void 0||en.call(nt),nt.setState(Ft)},this.setToast=function(Ft){nt.setState({toast:Ft})},this.restoreFileFromShare=(0,at.Z)(Qt().mark(function Ft(){var en,sn,kn,gn;return Qt().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return Yt.prev=0,Yt.next=3,caches.open("web-share-target");case 3:return en=Yt.sent,Yt.next=6,en.match("shared-file");case 6:if(!(sn=Yt.sent)){Yt.next=16;break}return Yt.next=10,sn.blob();case 10:return kn=Yt.sent,gn=new File([kn],kn.name||"",{type:kn.type}),nt.loadFileToCanvas(gn,null),Yt.next=15,en.delete("shared-file");case 15:window.history.replaceState(null,it.iC,window.location.pathname);case 16:Yt.next=21;break;case 18:Yt.prev=18,Yt.t0=Yt.catch(0),nt.setState({errorMessage:Yt.t0.message});case 21:case"end":return Yt.stop()}},Ft,null,[[0,18]])})),this.addFiles=(0,ct.tH)(function(Ft){var en=Ft.reduce(function(sn,kn){return sn.set(kn.id,kn),sn},new Map);nt.files=_n(_n({},nt.files),Object.fromEntries(en)),nt.scene.getNonDeletedElements().forEach(function(sn){(0,qt.wi)(sn)&&en.has(sn.fileId)&&(nt.imageCache.delete(sn.fileId),(0,bn.bI)(sn))}),nt.scene.informMutation(),nt.addNewImagesToImageCache()}),this.updateScene=(0,ct.tH)(function(Ft){Ft.commitToHistory&&nt.history.resumeRecording(),Ft.appState&&nt.setState(Ft.appState),Ft.elements&&nt.scene.replaceAllElements(Ft.elements),Ft.collaborators&&nt.setState({collaborators:Ft.collaborators})}),this.onSceneUpdated=function(){nt.setState({})},this.toggleMenu=function(Ft,en){return Ft!=="customSidebar"||nt.props.renderSidebar?(Ft==="library"||Ft==="customSidebar")&&(sn=en===void 0?nt.state.openSidebar===Ft?null:Ft:en?Ft:null,nt.setState({openSidebar:sn}),!!sn):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var sn},this.updateCurrentCursorPosition=(0,ct.tH)(function(Ft){Zs=Ft.clientX,ps=Ft.clientY}),this.onKeyDown=(0,ct.tH)(function(Ft){if("Proxy"in window&&(!Ft.shiftKey&&/^[A-Z]$/.test(Ft.key)||Ft.shiftKey&&/^[a-z]$/.test(Ft.key))&&(Ft=new Proxy(Ft,{get:function(dr,kr){var Gr=dr[kr];return typeof Gr=="function"?Gr.bind(dr):kr==="key"?Ft.shiftKey?dr.key.toUpperCase():dr.key.toLowerCase():Gr}})),Ft[Et.tW.CTRL_OR_CMD]&&Ft.key.toLowerCase()===Et.tW.V&&(uu=Ft.shiftKey,clearTimeout(r0),r0=window.setTimeout(function(){uu=!1},100)),!Ft[Et.tW.CTRL_OR_CMD]||!(0,ct.s)(Ft.target)||Ft.code!==Et.aU.MINUS&&Ft.code!==Et.aU.EQUAL){if(!((0,ct.s)(Ft.target)&&Ft.key!==Et.tW.ESCAPE||(0,Et.Wl)(Ft.key)&&(0,ct._Z)(Ft.target)))if(Ft.key!==Et.tW.QUESTION_MARK)if(Ft.key.toLowerCase()===Et.tW.E&&Ft.shiftKey&&Ft[Et.tW.CTRL_OR_CMD])nt.setState({openDialog:"imageExport"});else{if(Ft.key===Et.tW.PAGE_UP||Ft.key===Et.tW.PAGE_DOWN){var en=(Ft.shiftKey?nt.state.width:nt.state.height)/nt.state.zoom.value;Ft.key===Et.tW.PAGE_DOWN&&(en=-en),Ft.shiftKey?nt.translateCanvas(function(dr){return{scrollX:dr.scrollX+en}}):nt.translateCanvas(function(dr){return{scrollY:dr.scrollY+en}})}if(!nt.actionManager.handleKeyDown(Ft)&&!nt.state.viewModeEnabled){if(Ft[Et.tW.CTRL_OR_CMD]&&nt.state.isBindingEnabled&&nt.setState({isBindingEnabled:!1}),(0,Et.Wl)(Ft.key)){var sn=nt.state.gridSize&&(Ft.shiftKey?it.$e:nt.state.gridSize)||(Ft.shiftKey?it.Iw:it.$e),kn=0,gn=0;Ft.key===Et.tW.ARROW_LEFT?kn=-sn:Ft.key===Et.tW.ARROW_RIGHT?kn=sn:Ft.key===Et.tW.ARROW_UP?gn=-sn:Ft.key===Et.tW.ARROW_DOWN&&(gn=sn);var Yt=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state,!0);Yt.forEach(function(dr){(0,At.DR)(dr,{x:dr.x+kn,y:dr.y+gn}),(0,Ct.Ww)(dr,{simultaneouslyUpdated:Yt})}),nt.maybeSuggestBindingForAll(Yt),Ft.preventDefault()}else if(Ft.key===Et.tW.ENTER){var En=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(En.length===1){var Zn=En[0];if(Ft[Et.tW.CTRL_OR_CMD])(0,qt.bt)(Zn)&&(nt.state.editingLinearElement&&nt.state.editingLinearElement.elementId===En[0].id||(nt.history.resumeRecording(),nt.setState({editingLinearElement:new Vt._(Zn,nt.scene)})));else if((0,St.iB)(Zn)||(0,pr.Zr)(Zn)){var Ln;(0,St.iB)(Zn)||(Ln=Zn);var Yn=(0,pr.TP)(Zn,nt.state),qn=Yn.x,nr=Yn.y;return nt.startTextEditing({sceneX:qn,sceneY:nr,container:Ln}),void Ft.preventDefault()}}}else if(!Ft.ctrlKey&&!Ft.altKey&&!Ft.metaKey&&nt.state.draggingElement===null){var hr=function(dr){var kr=Gn.find(function(Gr,Pr){return Gr.numericKey!=null&&dr===Gr.numericKey.toString()||Gr.key&&(typeof Gr.key=="string"?Gr.key===dr:Gr.key.includes(dr))});return(kr==null?void 0:kr.value)||null}(Ft.key);hr?(nt.state.activeTool.type!==hr&&(0,Dt.L)("toolbar",hr,"keyboard (".concat(nt.device.isMobile?"mobile":"desktop",")")),nt.setActiveTool({type:hr}),Ft.stopPropagation()):Ft.key===Et.tW.Q&&(nt.toggleLock("keyboard"),Ft.stopPropagation())}if(Ft.key===Et.tW.SPACE&&So.pointers.size===0&&(zs=!0,(0,ct.KJ)(nt.canvas,it.oc.GRAB),Ft.preventDefault()),!(Ft.key!==Et.tW.G&&Ft.key!==Et.tW.S||Ft.altKey||Ft[Et.tW.CTRL_OR_CMD])){var mr=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(nt.state.activeTool.type==="selection"&&!mr.length)return;Ft.key===Et.tW.G&&((0,jt.$b)(nt.state.activeTool.type)||mr.some(function(dr){return(0,jt.$b)(dr.type)}))&&(nt.setState({openPopup:"backgroundColorPicker"}),Ft.stopPropagation()),Ft.key===Et.tW.S&&(nt.setState({openPopup:"strokeColorPicker"}),Ft.stopPropagation())}!Ft[Et.tW.CTRL_OR_CMD]||Ft.key!==Et.tW.BACKSPACE&&Ft.key!==Et.tW.DELETE||Xu.e_.set(_u.w,"clearCanvas")}}else nt.setState({openDialog:"help"})}else Ft.preventDefault()}),this.onWheel=(0,ct.tH)(function(Ft){Ft.target instanceof HTMLCanvasElement||!Ft.ctrlKey||Ft.preventDefault()}),this.onKeyUp=(0,ct.tH)(function(Ft){if(Ft.key===Et.tW.SPACE&&(nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,it.oc.GRAB):nt.state.activeTool.type==="selection"?(0,ct.z8)(nt.canvas):((0,ct.Uk)(nt.canvas,nt.state),nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),zs=!1),Ft[Et.tW.CTRL_OR_CMD]||nt.state.isBindingEnabled||nt.setState({isBindingEnabled:!0}),(0,Et.Wl)(Ft.key)){var en=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);(0,Ct.N1)(nt.state)?(0,Ct.el)(en):(0,Ct.H)(en),nt.setState({suggestedBindings:[]})}}),this.setActiveTool=function(Ft){var en=(0,ct.Om)(nt.state,Ft);en.type==="hand"?(0,ct.KJ)(nt.canvas,it.oc.GRAB):zs||(0,ct.Uk)(nt.canvas,nt.state),(0,ct.wO)(document.activeElement)&&nt.focusContainer(),(0,qt.dt)(en.type)||nt.setState({suggestedBindings:[]}),en.type==="image"&&nt.onImageAction(),en.type!=="selection"?nt.setState({activeTool:en,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):nt.setState({activeTool:en})},this.setCursor=function(Ft){(0,ct.KJ)(nt.canvas,Ft)},this.resetCursor=function(){(0,ct.z8)(nt.canvas)},this.isTouchScreenMultiTouchGesture=function(){return So.pointers.size>=2},this.onGestureStart=(0,ct.tH)(function(Ft){Ft.preventDefault(),nt.isTouchScreenMultiTouchGesture()&&nt.setState({selectedElementIds:{}}),So.initialScale=nt.state.zoom.value}),this.onGestureChange=(0,ct.tH)(function(Ft){if(Ft.preventDefault(),!nt.isTouchScreenMultiTouchGesture()){var en=So.initialScale;en&&nt.setState(function(sn){return _n({},(0,yn.E)({viewportX:Zs,viewportY:ps,nextZoom:(0,jt.j)(en*Ft.scale)},sn))})}}),this.onGestureEnd=(0,ct.tH)(function(Ft){Ft.preventDefault(),nt.isTouchScreenMultiTouchGesture()&&nt.setState({previousSelectedElementIds:{},selectedElementIds:nt.state.previousSelectedElementIds}),So.initialScale=null}),this.startTextEditing=function(Ft){var en,sn,kn,gn,Yt=Ft.sceneX,En=Ft.sceneY,Zn=Ft.insertAtParentCenter,Ln=Zn===void 0||Zn,Yn=Ft.container,qn=!1,nr=Ln&&nt.getTextWysiwygSnappedToCenterPosition(Yt,En,nt.state,Yn);Yn&&nr&&(qn=!0);var hr=null,mr=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),dr=((en=hr=mr.length===1?(0,St.iB)(mr[0])?mr[0]:Yn?(0,pr.WJ)(mr[0]):nt.getTextElementAtPosition(Yt,En):nt.getTextElementAtPosition(Yt,En))===null||en===void 0?void 0:en.fontFamily)||nt.state.currentItemFontFamily,kr=((sn=hr)===null||sn===void 0?void 0:sn.lineHeight)||(0,pr.PT)(dr),Gr=nt.state.currentItemFontSize;if(!hr&&qn&&Yn&&!(0,qt.Yv)(Yn)){var Pr={fontSize:Gr,fontFamily:dr},Qr=(0,pr.AT)((0,ct.mO)(Pr),kr),_i=(0,pr.w_)(Gr,kr),Hr=(0,pr.HE)(Yn),Yr=Math.max(Hr.height,_i),_a=Math.max(Hr.width,Qr);(0,At.DR)(Yn,{height:Yr,width:_a}),Yt=Yn.x+_a/2,En=Yn.y+Yr/2,nr&&(nr=nt.getTextWysiwygSnappedToCenterPosition(Yt,En,nt.state,Yn))}var $a=hr||(0,St.VL)({x:nr?nr.elementCenterX:Yt,y:nr?nr.elementCenterY:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,text:"",fontSize:Gr,fontFamily:dr,textAlign:nr?"center":nt.state.currentItemTextAlign,verticalAlign:nr?it.oX.MIDDLE:it.hs,containerId:qn?Yn==null?void 0:Yn.id:void 0,groupIds:(kn=Yn==null?void 0:Yn.groupIds)!==null&&kn!==void 0?kn:[],lineHeight:kr,angle:(gn=Yn==null?void 0:Yn.angle)!==null&&gn!==void 0?gn:0});if(!hr&&qn&&Yn&&(0,At.DR)(Yn,{boundElements:(Yn.boundElements||[]).concat({type:"text",id:$a.id})}),nt.setState({editingElement:$a}),!hr)if(Yn&&qn){var ao=nt.scene.getElementIndex(Yn.id);nt.scene.insertElementAtIndex($a,ao+1)}else nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[$a]));nt.setState({editingElement:$a}),nt.handleTextWysiwyg($a,{isExistingElement:!!hr})},this.handleCanvasDoubleClick=function(Ft){if(!nt.state.multiElement&&nt.state.activeTool.type==="selection"){var en=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(en.length===1&&(0,qt.bt)(en[0])){if(Ft[Et.tW.CTRL_OR_CMD]&&(!nt.state.editingLinearElement||nt.state.editingLinearElement.elementId!==en[0].id))return nt.history.resumeRecording(),void nt.setState({editingLinearElement:new Vt._(en[0],nt.scene)});if(nt.state.editingLinearElement&&nt.state.editingLinearElement.elementId===en[0].id)return}(0,ct.z8)(nt.canvas);var sn=(0,ct.dE)(Ft,nt.state),kn=sn.x,gn=sn.y;if((0,zt.iJ)(nt.state).length>0){var Yt=nt.getElementAtPosition(kn,gn),En=Yt&&(0,zt.YS)(Yt,nt.state.selectedGroupIds);if(En)return void nt.setState(function(Yn){return(0,zt.bO)(_n(_n({},Yn),{},{editingGroupId:En,selectedElementIds:(0,nn.Z)({},Yt.id,!0),selectedGroupIds:{}}),nt.scene.getNonDeletedElements())})}if((0,ct.z8)(nt.canvas),!Ft[Et.tW.CTRL_OR_CMD]&&!nt.state.viewModeEnabled){var Zn=(0,pr.OW)(nt.scene.getNonDeletedElements(),nt.state,kn,gn);if(Zn&&((0,qt.Xo)(Zn)||!(0,ct.Qm)(Zn.backgroundColor)||(0,F0.Qu)(Zn,nt.state,[kn,gn]))){var Ln=(0,pr.TP)(Zn,nt.state);kn=Ln.x,gn=Ln.y}nt.startTextEditing({sceneX:kn,sceneY:gn,insertAtParentCenter:!Ft.altKey,container:Zn})}}},this.getElementLinkAtPosition=function(Ft,en){var sn=nt.scene.getNonDeletedElements().slice().reverse(),kn=1/0;return sn.find(function(gn,Yt){return en&&gn.id===en.id&&(kn=Yt),gn.link&&Yt<=kn&&(0,Xs.wq)(gn,nt.state,[Ft.x,Ft.y],nt.device.isMobile)})},this.redirectToLink=function(Ft,en){var sn=(0,Mt.LW)(nt.lastPointerDown.clientX,nt.lastPointerDown.clientY,nt.lastPointerUp.clientX,nt.lastPointerUp.clientY);if(!(!nt.hitLinkElement||en&&sn>it.f||!en&&sn!==0)){var kn=(0,ct.dE)(nt.lastPointerDown,nt.state),gn=(0,Xs.wq)(nt.hitLinkElement,nt.state,[kn.x,kn.y],nt.device.isMobile),Yt=(0,ct.dE)(nt.lastPointerUp,nt.state),En=(0,Xs.wq)(nt.hitLinkElement,nt.state,[Yt.x,Yt.y],nt.device.isMobile);if(gn&&En){var Zn,Ln,Yn=nt.hitLinkElement.link;if(Yn&&(nt.props.onLinkOpen&&(Ln=(0,ct.ag)(it.Ks.EXCALIDRAW_LINK,Ft.nativeEvent),nt.props.onLinkOpen(nt.hitLinkElement,Ln)),(Zn=Ln)===null||Zn===void 0||!Zn.defaultPrevented)){var qn=(0,Xs.q$)(Yn)?"_self":"_blank",nr=window.open(void 0,qn);nr&&(nr.opener=null,nr.location=(0,Xs.$u)(Yn))}}}},this.handleCanvasPointerMove=function(Ft){nt.savePointer(Ft.clientX,Ft.clientY,nt.state.cursorButton),So.pointers.has(Ft.pointerId)&&So.pointers.set(Ft.pointerId,{x:Ft.clientX,y:Ft.clientY});var en=So.initialScale;if(So.pointers.size===2&&So.lastCenter&&en&&So.initialDistance){var sn=dn(So.pointers),kn=sn.x-So.lastCenter.x,gn=sn.y-So.lastCenter.y;So.lastCenter=sn;var Yt=Rt(Array.from(So.pointers.values())),En=nt.state.activeTool.type==="freedraw"&&nt.state.penMode?1:Yt/So.initialDistance,Zn=En?(0,jt.j)(en*En):nt.state.zoom.value;nt.setState(function(Gl){var ks=(0,yn.E)({viewportX:sn.x,viewportY:sn.y,nextZoom:Zn},Gl);nt.translateCanvas({zoom:ks.zoom,scrollX:ks.scrollX+kn/Zn,scrollY:ks.scrollY+gn/Zn,shouldCacheIgnoreZoom:!0})}),nt.resetShouldCacheIgnoreZoomDebounced()}else So.lastCenter=So.initialDistance=So.initialScale=null;if(!(zs||Au||n0||(0,Wt.l$)(nt.state))){var Ln=(0,jt._4)(gu,Ft.clientX-nt.state.offsetLeft,Ft.clientY-nt.state.offsetTop).isOverEither;nt.state.draggingElement||nt.state.multiElement||(Ln?(0,ct.z8)(nt.canvas):(0,ct.Uk)(nt.canvas,nt.state));var Yn=(0,ct.dE)(Ft,nt.state),qn=Yn.x,nr=Yn.y;if(nt.state.editingLinearElement&&!nt.state.editingLinearElement.isDragging){var hr=Vt._.handlePointerMove(Ft,qn,nr,nt.state);hr&&hr!==nt.state.editingLinearElement&&(0,Nn.flushSync)(function(){nt.setState({editingLinearElement:hr})}),(hr==null?void 0:hr.lastUncommittedPoint)!=null?nt.maybeSuggestBindingAtCursor(Yn):(0,Nn.flushSync)(function(){nt.setState({suggestedBindings:[]})})}if((0,qt.Lx)(nt.state.activeTool.type)){var mr=nt.state.draggingElement;(0,qt.Mn)(mr,!1)?nt.maybeSuggestBindingsForLinearElementAtCoords(mr,[Yn],nt.state.startBoundElement):nt.maybeSuggestBindingAtCursor(Yn)}if(nt.state.multiElement){var dr=nt.state.multiElement,kr=dr.x,Gr=dr.y,Pr=dr.points,Qr=dr.lastCommittedPoint,_i=Pr[Pr.length-1];if((0,ct.Uk)(nt.canvas,nt.state),_i===Qr)(0,Mt.LW)(qn-kr,nr-Gr,_i[0],_i[1])>=it.qx?(0,At.DR)(dr,{points:[].concat((0,ot.Z)(Pr),[[qn-kr,nr-Gr]])}):(0,ct.KJ)(nt.canvas,it.oc.POINTER);else if(Pr.length>2&&Qr&&(0,Mt.LW)(qn-kr,nr-Gr,Qr[0],Qr[1])<it.qx)(0,ct.KJ)(nt.canvas,it.oc.POINTER),(0,At.DR)(dr,{points:Pr.slice(0,-1)});else{var Hr,Yr=(0,Mt.wC)(qn,nr,nt.state.gridSize),_a=(0,ht.Z)(Yr,2),$a=_a[0],ao=_a[1],Bo=(Hr=dr==null?void 0:dr.lastCommittedPoint)!==null&&Hr!==void 0?Hr:[0,0],$o=(0,ht.Z)(Bo,2),Ul=$o[0],Il=$o[1],Vo=$a-kr-Ul,Rl=ao-Gr-Il;if((0,Et.Ge)(Ft)){var Sn=(0,St.o4)(Ul+kr,Il+Gr,$a,ao);Vo=Sn.width,Rl=Sn.height}(0,Mt.g6)(Pr,nt.state.zoom.value)&&(0,ct.KJ)(nt.canvas,it.oc.POINTER),(0,At.DR)(dr,{points:[].concat((0,ot.Z)(Pr.slice(0,-1)),[[Ul+Vo,Il+Rl]])})}}else if(!(Ft.buttons||nt.state.activeTool.type!=="selection"&&nt.state.activeTool.type!=="text"&&nt.state.activeTool.type!=="eraser")){var zo=nt.scene.getNonDeletedElements(),jo=(0,jt.eD)(zo,nt.state);if(jo.length!==1||Ln||nt.state.editingLinearElement){if(jo.length>1&&!Ln){var Wo=(0,St.n2)((0,St.KP)(jo),qn,nr,nt.state.zoom,Ft.pointerType);if(Wo)return void(0,ct.KJ)(nt.canvas,(0,St.Un)({transformHandleType:Wo}))}}else{var Wr=(0,St.jt)(zo,nt.state,qn,nr,nt.state.zoom,Ft.pointerType);if(Wr&&Wr.transformHandleType)return void(0,ct.KJ)(nt.canvas,(0,St.Un)(Wr))}var Uo=nt.getElementAtPosition(Yn.x,Yn.y);nt.hitLinkElement=nt.getElementLinkAtPosition(Yn,Uo),(0,Wt.EN)(nt.state)||(nt.hitLinkElement&&!nt.state.selectedElementIds[nt.hitLinkElement.id]?((0,ct.KJ)(nt.canvas,it.oc.POINTER),(0,Xs.Pp)(nt.hitLinkElement,nt.state)):((0,Xs.lV)(),Uo&&Uo.link&&nt.state.selectedElementIds[Uo.id]&&!nt.state.contextMenu&&!nt.state.showHyperlinkPopup?nt.setState({showHyperlinkPopup:"info"}):nt.state.activeTool.type==="text"?(0,ct.KJ)(nt.canvas,(0,St.iB)(Uo)?it.oc.TEXT:it.oc.CROSSHAIR):nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,it.oc.GRAB):Ln?(0,ct.KJ)(nt.canvas,it.oc.AUTO):nt.state.selectedLinearElement?nt.handleHoverSelectedLinearElement(nt.state.selectedLinearElement,qn,nr):Ft[Et.tW.CTRL_OR_CMD]?(0,ct.KJ)(nt.canvas,it.oc.AUTO):!Uo&&!nt.isHittingCommonBoundingBoxOfSelectedElements(Yn,jo)||Uo!=null&&Uo.locked||(0,ct.KJ)(nt.canvas,it.oc.MOVE)))}}},this.handleEraser=function(Ft,en,sn){for(var kn=function(mr){mr.forEach(function(dr){dr.locked||(gn.push(dr.id),Ft.altKey?en.elementIdsToErase[dr.id]&&en.elementIdsToErase[dr.id].erase&&(en.elementIdsToErase[dr.id].erase=!1):en.elementIdsToErase[dr.id]||(en.elementIdsToErase[dr.id]={erase:!0,opacity:dr.opacity}))})},gn=[],Yt=(0,Mt.LW)(en.lastCoords.x,en.lastCoords.y,sn.x,sn.y),En=10/nt.state.zoom.value,Zn=_n({},en.lastCoords),Ln=0;Ln<=Yt&&(kn(nt.getElementsAtPosition(Zn.x,Zn.y)),Ln!==Yt);){var Yn=(Ln=Math.min(Ln+En,Yt))/Yt,qn=(1-Yn)*Zn.x+Yn*sn.x,nr=(1-Yn)*Zn.y+Yn*sn.y;Zn.x=qn,Zn.y=nr}var hr=nt.scene.getElementsIncludingDeleted().map(function(mr){var dr=(0,qt.Xh)(mr)&&gn.includes(mr.containerId)?mr.containerId:mr.id;if(gn.includes(dr)){if(!Ft.altKey)return(0,At.BE)(mr,{opacity:it.xY});if(en.elementIdsToErase[dr]&&en.elementIdsToErase[dr].erase===!1)return(0,At.BE)(mr,{opacity:en.elementIdsToErase[dr].opacity})}return mr});nt.scene.replaceAllElements(hr),en.lastCoords.x=sn.x,en.lastCoords.y=sn.y},this.handleTouchMove=function(Ft){Ns=!0},this.handleCanvasPointerDown=function(Ft){var en,sn;if(nt.state.contextMenu&&nt.setState({contextMenu:null}),nt.updateGestureOnPointerDown(Ft),Ft.pointerType==="touch"&&nt.state.draggingElement&&nt.state.draggingElement.type==="freedraw"){var kn=nt.state.draggingElement;nt.updateScene(_n(_n({},kn.points.length<10?{elements:nt.scene.getElementsIncludingDeleted().filter(function(dr){return dr.id!==kn.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Object.keys(nt.state.selectedElementIds).filter(function(dr){return dr!==kn.id}).reduce(function(dr,kr){return dr[kr]=nt.state.selectedElementIds[kr],dr},{})}}))}else{var gn=document.getSelection();if(gn!=null&&gn.anchorNode&&gn.removeAllRanges(),nt.maybeOpenContextMenuAfterPointerDownOnTouchDevices(Ft),nt.maybeCleanupAfterMissingPointerUp(Ft),nt.state.penDetected||Ft.pointerType!=="pen"||nt.setState(function(dr){return{penMode:!0,penDetected:!0}}),!nt.device.isTouchScreen&&["pen","touch"].includes(Ft.pointerType)&&(nt.device=(0,ct.v4)(nt.device,{isTouchScreen:!0})),!Au&&(nt.lastPointerDown=Ft,nt.setState({lastPointerDownWith:Ft.pointerType,cursorButton:"down"}),nt.savePointer(Ft.clientX,Ft.clientY,"down"),!nt.handleCanvasPanUsingWheelOrSpaceDrag(Ft)&&!(Ft.button!==it.Oh.MAIN&&Ft.button!==it.Oh.TOUCH||So.pointers.size>1))){var Yt=nt.initialPointerDownState(Ft);if(!nt.handleDraggingScrollBar(Ft,Yt)&&(nt.clearSelectionIfNotUsingSelection(),nt.updateBindingEnabledOnPointerMove(Ft),!nt.handleSelectionOnPointerDown(Ft,Yt)&&(!nt.state.penMode||Ft.pointerType!=="touch"||nt.state.activeTool.type==="selection"||nt.state.activeTool.type==="text"||nt.state.activeTool.type==="image")))if(nt.state.activeTool.type!=="text"){if(nt.state.activeTool.type==="arrow"||nt.state.activeTool.type==="line")nt.handleLinearElementOnPointerDown(Ft,nt.state.activeTool.type,Yt);else if(nt.state.activeTool.type==="image"){(0,ct.KJ)(nt.canvas,it.oc.CROSSHAIR);var En=nt.state.pendingImageElementId&&nt.scene.getElement(nt.state.pendingImageElementId);if(!En)return;nt.setState({draggingElement:En,editingElement:En,pendingImageElementId:null,multiElement:null});var Zn=(0,ct.dE)(Ft,nt.state),Ln=Zn.x,Yn=Zn.y;(0,At.DR)(En,{x:Ln,y:Yn})}else nt.state.activeTool.type==="freedraw"?nt.handleFreeDrawElementOnPointerDown(Ft,nt.state.activeTool.type,Yt):nt.state.activeTool.type==="custom"?(0,ct.KJ)(nt.canvas,it.oc.AUTO):nt.state.activeTool.type!=="eraser"&&nt.state.activeTool.type!=="hand"&&nt.createGenericElementOnPointerDown(nt.state.activeTool.type,Yt);(en=nt.props)===null||en===void 0||(sn=en.onPointerDown)===null||sn===void 0||sn.call(en,nt.state.activeTool,Yt);var qn=nt.onPointerMoveFromPointerDownHandler(Yt),nr=nt.onPointerUpFromPointerDownHandler(Yt),hr=nt.onKeyDownFromPointerDownHandler(Yt),mr=nt.onKeyUpFromPointerDownHandler(Yt);gs=nr,nt.state.viewModeEnabled||(window.addEventListener(it.Ks.POINTER_MOVE,qn),window.addEventListener(it.Ks.POINTER_UP,nr),window.addEventListener(it.Ks.KEYDOWN,hr),window.addEventListener(it.Ks.KEYUP,mr),Yt.eventListeners.onMove=qn,Yt.eventListeners.onUp=nr,Yt.eventListeners.onKeyUp=mr,Yt.eventListeners.onKeyDown=hr)}else nt.handleTextOnPointerDown(Ft,Yt)}}},this.handleCanvasPointerUp=function(Ft){if(nt.lastPointerUp=Ft,nt.device.isTouchScreen){var en=(0,ct.dE)({clientX:Ft.clientX,clientY:Ft.clientY},nt.state),sn=nt.getElementAtPosition(en.x,en.y);nt.hitLinkElement=nt.getElementLinkAtPosition(en,sn)}nt.hitLinkElement&&!nt.state.selectedElementIds[nt.hitLinkElement.id]&&nt.redirectToLink(Ft,nt.device.isTouchScreen),nt.removePointer(Ft)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(Ft){Ft.pointerType==="touch"&&(Ns=!1,Ml?Ns=!0:Ml=window.setTimeout(function(){Ml=0,Ns||nt.handleCanvasContextMenu(Ft)},it.nM))},this.resetContextMenuTimer=function(){clearTimeout(Ml),Ml=0,Ns=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(Ft){if(!(So.pointers.size<=1&&(Ft.button===it.Oh.WHEEL||Ft.button===it.Oh.MAIN&&zs||(0,Wt.l$)(nt.state)||nt.state.viewModeEnabled))||(0,St.iB)(nt.state.editingElement))return!1;Au=!0,Ft.preventDefault();var en=!1,sn=/Linux/.test(window.navigator.platform);(0,ct.KJ)(nt.canvas,it.oc.GRABBING);var kn=Ft.clientX,gn=Ft.clientY,Yt=(0,ct.$9)(function(Zn){var Ln=kn-Zn.clientX,Yn=gn-Zn.clientY;if(kn=Zn.clientX,gn=Zn.clientY,sn&&!en&&(Math.abs(Ln)>1||Math.abs(Yn)>1)){en=!0;var qn=function nr(hr){document.body.removeEventListener(it.Ks.PASTE,nr),hr.stopPropagation()};document.body.addEventListener(it.Ks.PASTE,qn),window.addEventListener(it.Ks.POINTER_UP,function nr(){setTimeout(function(){document.body.removeEventListener(it.Ks.PASTE,qn),window.removeEventListener(it.Ks.POINTER_UP,nr)},100)})}nt.translateCanvas({scrollX:nt.state.scrollX-Ln/nt.state.zoom.value,scrollY:nt.state.scrollY-Yn/nt.state.zoom.value})}),En=(0,ct.tH)(gs=function(){gs=null,Au=!1,zs||(nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,it.oc.GRAB):(0,ct.Uk)(nt.canvas,nt.state)),nt.setState({cursorButton:"up"}),nt.savePointer(Ft.clientX,Ft.clientY,"up"),window.removeEventListener(it.Ks.POINTER_MOVE,Yt),window.removeEventListener(it.Ks.POINTER_UP,En),window.removeEventListener(it.Ks.BLUR,En),Yt.flush()});return window.addEventListener(it.Ks.BLUR,En),window.addEventListener(it.Ks.POINTER_MOVE,Yt,{passive:!0}),window.addEventListener(it.Ks.POINTER_UP,En),!0},this.clearSelectionIfNotUsingSelection=function(){nt.state.activeTool.type!=="selection"&&nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(Ft,en){if(nt.state.activeTool.type==="selection"){var sn=nt.scene.getNonDeletedElements(),kn=(0,jt.eD)(sn,nt.state);if(kn.length!==1||nt.state.editingLinearElement)kn.length>1&&(en.resize.handleType=(0,St.n2)((0,St.KP)(kn),en.origin.x,en.origin.y,nt.state.zoom,Ft.pointerType));else{var gn=(0,St.jt)(sn,nt.state,en.origin.x,en.origin.y,nt.state.zoom,Ft.pointerType);gn!=null&&(nt.setState({resizingElement:gn.element}),en.resize.handleType=gn.transformHandleType)}if(en.resize.handleType)(0,ct.KJ)(nt.canvas,(0,St.Un)({transformHandleType:en.resize.handleType})),en.resize.isResizing=!0,en.resize.offset=(0,ct.AK)((0,St.xx)(en.resize.handleType,kn,en.origin.x,en.origin.y)),kn.length===1&&(0,qt.bt)(kn[0])&&kn[0].points.length===2&&(en.resize.arrowDirection=(0,St.T)(en.resize.handleType,kn[0]));else{var Yt;if(nt.state.selectedLinearElement){var En=nt.state.editingLinearElement||nt.state.selectedLinearElement,Zn=Vt._.handlePointerDown(Ft,nt.state,nt.history,en.origin,En);if(Zn.hitElement&&(en.hit.element=Zn.hitElement),Zn.linearElementEditor&&(nt.setState({selectedLinearElement:Zn.linearElementEditor}),nt.state.editingLinearElement&&nt.setState({editingLinearElement:Zn.linearElementEditor})),Zn.didAddPoint)return!0}if(en.hit.element=(Yt=en.hit.element)!==null&&Yt!==void 0?Yt:nt.getElementAtPosition(en.origin.x,en.origin.y),en.hit.element&&nt.getElementLinkAtPosition({x:en.origin.x,y:en.origin.y},en.hit.element))return!1;en.hit.allHitElements=nt.getElementsAtPosition(en.origin.x,en.origin.y);var Ln=en.hit.element,Yn=en.hit.allHitElements.some(function(qn){return nt.isASelectedElement(qn)});if(Ln!==null&&Yn||Ft.shiftKey||en.hit.hasHitCommonBoundingBoxOfSelectedElements||nt.clearSelection(Ln),nt.state.editingLinearElement)nt.setState({selectedElementIds:(0,nn.Z)({},nt.state.editingLinearElement.elementId,!0)});else if(Ln!=null){if(Ft[Et.tW.CTRL_OR_CMD])return nt.state.selectedElementIds[Ln.id]||(en.hit.wasAddedToSelection=!0),nt.setState(function(qn){return _n(_n({},(0,zt.iE)(qn,Ln)),{},{previousSelectedElementIds:nt.state.selectedElementIds})}),!1;nt.state.selectedElementIds[Ln.id]||(nt.state.editingGroupId&&!(0,zt.Nd)(Ln,nt.state.editingGroupId)&&nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Yn||en.hit.hasHitCommonBoundingBoxOfSelectedElements||(nt.setState(function(qn){return(0,zt.bO)(_n(_n({},qn),{},{selectedElementIds:_n(_n({},qn.selectedElementIds),{},(0,nn.Z)({},Ln.id,!0)),showHyperlinkPopup:!!Ln.link&&"info"}),nt.scene.getNonDeletedElements())}),en.hit.wasAddedToSelection=!0))}nt.setState({previousSelectedElementIds:nt.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(Ft,en){if(!(0,St.iB)(nt.state.editingElement)){var sn=en.origin.x,kn=en.origin.y,gn=nt.getElementAtPosition(sn,kn,{includeBoundTextElement:!0}),Yt=(0,pr.OW)(nt.scene.getNonDeletedElements(),nt.state,sn,kn);(0,qt.Xo)(gn)&&(Yt=gn,sn=gn.x+gn.width/2,kn=gn.y+gn.height/2),nt.startTextEditing({sceneX:sn,sceneY:kn,insertAtParentCenter:!Ft.altKey,container:Yt}),(0,ct.z8)(nt.canvas),nt.state.activeTool.locked||nt.setState({activeTool:(0,ct.Om)(nt.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(Ft,en,sn){var kn=(0,Mt.wC)(sn.origin.x,sn.origin.y,null),gn=(0,ht.Z)(kn,2),Yt=gn[0],En=gn[1],Zn=(0,Pt.KE)({type:en,x:Yt,y:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:null,simulatePressure:Ft.pressure===.5,locked:!1});nt.setState(function(qn){return{selectedElementIds:_n(_n({},qn.selectedElementIds),{},(0,nn.Z)({},Zn.id,!1))}});var Ln=Zn.simulatePressure?Zn.pressures:[].concat((0,ot.Z)(Zn.pressures),[Ft.pressure]);(0,At.DR)(Zn,{points:[[0,0]],pressures:Ln});var Yn=(0,Ct.Y9)(sn.origin,nt.scene);nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[Zn])),nt.setState({draggingElement:Zn,editingElement:Zn,startBoundElement:Yn,suggestedBindings:[]})},this.createImageElement=function(Ft){var en=Ft.sceneX,sn=Ft.sceneY,kn=(0,Mt.wC)(en,sn,nt.state.gridSize),gn=(0,ht.Z)(kn,2),Yt=gn[0],En=gn[1];return(0,St.vw)({type:"image",x:Yt,y:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,roundness:null,opacity:nt.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(Ft,en,sn){if(nt.state.multiElement){var kn=nt.state.multiElement;if(kn.type==="line"&&(0,Mt.g6)(kn.points,nt.state.zoom.value))return(0,At.DR)(kn,{lastCommittedPoint:kn.points[kn.points.length-1]}),void nt.actionManager.executeAction(yt.pL);var gn=kn.x,Yt=kn.y,En=kn.lastCommittedPoint;if(kn.points.length>1&&En&&(0,Mt.LW)(sn.origin.x-gn,sn.origin.y-Yt,En[0],En[1])<it.qx)return void nt.actionManager.executeAction(yt.pL);nt.setState(function(Hr){return{selectedElementIds:_n(_n({},Hr.selectedElementIds),{},(0,nn.Z)({},kn.id,!0))}}),(0,At.DR)(kn,{lastCommittedPoint:kn.points[kn.points.length-1]}),(0,ct.KJ)(nt.canvas,it.oc.POINTER)}else{var Zn=(0,Mt.wC)(sn.origin.x,sn.origin.y,nt.state.gridSize),Ln=(0,ht.Z)(Zn,2),Yn=Ln[0],qn=Ln[1],nr=nt.state,hr=nr.currentItemStartArrowhead,mr=nr.currentItemEndArrowhead,dr=en==="arrow"?[hr,mr]:[null,null],kr=(0,ht.Z)(dr,2),Gr=kr[0],Pr=kr[1],Qr=(0,St.y8)({type:en,x:Yn,y:qn,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:nt.state.currentItemRoundness==="round"?{type:it.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:Gr,endArrowhead:Pr,locked:!1});nt.setState(function(Hr){return{selectedElementIds:_n(_n({},Hr.selectedElementIds),{},(0,nn.Z)({},Qr.id,!1))}}),(0,At.DR)(Qr,{points:[].concat((0,ot.Z)(Qr.points),[[0,0]])});var _i=(0,Ct.Y9)(sn.origin,nt.scene);nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[Qr])),nt.setState({draggingElement:Qr,editingElement:Qr,startBoundElement:_i,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(Ft,en){var sn=(0,Mt.wC)(en.origin.x,en.origin.y,nt.state.gridSize),kn=(0,ht.Z)(sn,2),gn=kn[0],Yt=kn[1],En=(0,St.Up)({type:Ft,x:gn,y:Yt,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:nt.state.currentItemRoundness==="round"?{type:(0,qt.QI)(Ft)?it.a6.ADAPTIVE_RADIUS:it.a6.PROPORTIONAL_RADIUS}:null,locked:!1});En.type==="selection"?nt.setState({selectionElement:En,draggingElement:En}):(nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[En])),nt.setState({multiElement:null,draggingElement:En,editingElement:En}))},this.restoreReadyToEraseElements=function(Ft){var en=nt.scene.getElementsIncludingDeleted().map(function(sn){return Ft.elementIdsToErase[sn.id]&&Ft.elementIdsToErase[sn.id].erase?(0,At.BE)(sn,{opacity:Ft.elementIdsToErase[sn.id].opacity}):(0,qt.Xh)(sn)&&Ft.elementIdsToErase[sn.containerId]&&Ft.elementIdsToErase[sn.containerId].erase?(0,At.BE)(sn,{opacity:Ft.elementIdsToErase[sn.containerId].opacity}):sn});nt.scene.replaceAllElements(en)},this.eraseElements=function(Ft){var en=nt.scene.getElementsIncludingDeleted().map(function(sn){return Ft.elementIdsToErase[sn.id]&&Ft.elementIdsToErase[sn.id].erase||(0,qt.Xh)(sn)&&Ft.elementIdsToErase[sn.containerId]&&Ft.elementIdsToErase[sn.containerId].erase?(0,At.BE)(sn,{isDeleted:!0}):sn});nt.history.resumeRecording(),nt.scene.replaceAllElements(en)},this.initializeImage=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn){var kn,gn,Yt,En,Zn,Ln,Yn,qn,nr,hr,mr,dr,kr,Gr,Pr;return Qt().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(En=sn.imageFile,Zn=sn.imageElement,Ln=sn.showCursorImagePreview,Yn=Ln!==void 0&&Ln,(0,Ir.Wr)(En)){Qr.next=3;break}throw new Error((0,bt.t)("errors.unsupportedFileType"));case 3:if(qn=En.type,(0,ct.KJ)(nt.canvas,"wait"),qn!==it.LO.svg){Qr.next=23;break}return Qr.prev=6,Qr.t0=Ir.Pn,Qr.t1=ss.bp,Qr.next=11,En.text();case 11:return Qr.t2=Qr.sent,Qr.next=14,(0,Qr.t1)(Qr.t2);case 14:Qr.t3=Qr.sent,Qr.t4=En.name,En=(0,Qr.t0)(Qr.t3,Qr.t4),Qr.next=23;break;case 19:throw Qr.prev=19,Qr.t5=Qr.catch(6),console.warn(Qr.t5),new Error((0,bt.t)("errors.svgImageInsertError"));case 23:return Qr.next=25,((kn=(gn=nt.props).generateIdForFile)===null||kn===void 0?void 0:kn.call(gn,En))||(0,Ir.tW)(En);case 25:if(nr=Qr.sent){Qr.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,bt.t)("errors.imageInsertError"));case 29:if((hr=nt.files[nr])!=null&&hr.dataURL){Qr.next=42;break}return Qr.prev=31,Qr.next=34,(0,Ir.Tu)(En,{maxWidthOrHeight:it.h6});case 34:En=Qr.sent,Qr.next=40;break;case 37:Qr.prev=37,Qr.t6=Qr.catch(31),console.error("error trying to resing image file on insertion",Qr.t6);case 40:if(!(En.size>it.$n)){Qr.next=42;break}throw new Error((0,bt.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(it.$n/1024/1024),"MB")}));case 42:if(Yn&&(dr=(mr=nt.files[nr])===null||mr===void 0?void 0:mr.dataURL,kr=dr&&(0,Ir.KG)(dr),nt.setImagePreviewCursor(kr||En)),Qr.t7=(Yt=nt.files[nr])===null||Yt===void 0?void 0:Yt.dataURL,Qr.t7){Qr.next=48;break}return Qr.next=47,(0,Ir.Sf)(En);case 47:Qr.t7=Qr.sent;case 48:return Gr=Qr.t7,Pr=(0,At.DR)(Zn,{fileId:nr},!1),Qr.abrupt("return",new Promise(function(){var _i=(0,at.Z)(Qt().mark(function Hr(Yr,_a){var $a,ao;return Qt().wrap(function(Bo){for(;;)switch(Bo.prev=Bo.next){case 0:if(Bo.prev=0,nt.files=_n(_n({},nt.files),{},(0,nn.Z)({},nr,{mimeType:qn,id:nr,dataURL:Gr,created:Date.now(),lastRetrieved:Date.now()})),ao=nt.imageCache.get(nr)){Bo.next=7;break}return nt.addNewImagesToImageCache(),Bo.next=7,nt.updateImageCache([Pr]);case 7:if(!((ao==null?void 0:ao.image)instanceof Promise)){Bo.next=10;break}return Bo.next=10,ao.image;case 10:nt.state.pendingImageElementId!==Pr.id&&(($a=nt.state.draggingElement)===null||$a===void 0?void 0:$a.id)!==Pr.id&&nt.initializeImageDimensions(Pr,!0),Yr(Pr),Bo.next=18;break;case 14:Bo.prev=14,Bo.t0=Bo.catch(0),console.error(Bo.t0),_a(new Error((0,bt.t)("errors.imageInsertError")));case 18:return Bo.prev=18,Yn||(0,ct.z8)(nt.canvas),Bo.finish(18);case 21:case"end":return Bo.stop()}},Hr,null,[[0,14,18,21]])}));return function(Hr,Yr){return _i.apply(this,arguments)}}()));case 51:case"end":return Qr.stop()}},en,null,[[6,19],[31,37]])}));return function(en){return Ft.apply(this,arguments)}}(),this.insertImageElement=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn,kn,gn){return Qt().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[sn])),Yt.prev=1,Yt.next=4,nt.initializeImage({imageFile:kn,imageElement:sn,showCursorImagePreview:gn});case 4:Yt.next=11;break;case 6:Yt.prev=6,Yt.t0=Yt.catch(1),(0,At.DR)(sn,{isDeleted:!0}),nt.actionManager.executeAction(yt.pL),nt.setState({errorMessage:Yt.t0.message||(0,bt.t)("errors.imageInsertError")});case 11:case"end":return Yt.stop()}},en,null,[[1,6]])}));return function(en,sn,kn){return Ft.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn){var kn,gn,Yt,En,Zn,Ln,Yn;return Qt().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return kn=96,qn.next=3,(0,Ir.Tu)(sn,{maxWidthOrHeight:kn});case 3:return gn=qn.sent,qn.next=6,(0,Ir.Sf)(gn);case 6:if(Yt=qn.sent,sn.type!==it.LO.svg){qn.next=20;break}return qn.next=10,(0,ss.PK)(Yt);case 10:En=qn.sent,Zn=Math.min(En.height,kn),(Ln=Zn*(En.width/En.height))>kn&&(Zn=(Ln=kn)*(En.height/En.width)),(Yn=document.createElement("canvas")).height=Zn,Yn.width=Ln,Yn.getContext("2d").drawImage(En,0,0,Ln,Zn),Yt=Yn.toDataURL(it.LO.svg);case 20:nt.state.pendingImageElementId&&(0,ct.KJ)(nt.canvas,"url(".concat(Yt,") 4 4, auto"));case 21:case"end":return qn.stop()}},en)}));return function(en){return Ft.apply(this,arguments)}}(),this.onImageAction=(0,at.Z)(Qt().mark(function Ft(){var en,sn,kn,gn,Yt,En,Zn,Ln,Yn,qn=arguments;return Qt().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return en=qn.length>0&&qn[0]!==void 0?qn[0]:{insertOnCanvasDirectly:!1},sn=en.insertOnCanvasDirectly,nr.prev=1,kn=nt.state.width/2+nt.state.offsetLeft,gn=nt.state.height/2+nt.state.offsetTop,Yt=(0,ct.dE)({clientX:kn,clientY:gn},nt.state),En=Yt.x,Zn=Yt.y,nr.next=7,(0,Kr.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Ln=nr.sent,Yn=nt.createImageElement({sceneX:En,sceneY:Zn}),sn?(nt.insertImageElement(Yn,Ln),nt.initializeImageDimensions(Yn),nt.setState({selectedElementIds:(0,nn.Z)({},Yn.id,!0)},function(){nt.actionManager.executeAction(yt.pL)})):nt.setState({pendingImageElementId:Yn.id},function(){nt.insertImageElement(Yn,Ln,!0)}),nr.next=16;break;case 12:nr.prev=12,nr.t0=nr.catch(1),nr.t0.name!=="AbortError"?console.error(nr.t0):console.warn(nr.t0),nt.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,ct.Om)(nt.state,{type:"selection"})},function(){nt.actionManager.executeAction(yt.pL)});case 16:case"end":return nr.stop()}},Ft,null,[[1,12]])})),this.initializeImageDimensions=function(Ft){var en,sn=arguments.length>1&&arguments[1]!==void 0&&arguments[1],kn=(0,qt.wi)(Ft)&&((en=nt.imageCache.get(Ft.fileId))===null||en===void 0?void 0:en.image);if(!kn||kn instanceof Promise){if(Ft.width<it.f/nt.state.zoom.value&&Ft.height<it.f/nt.state.zoom.value){var gn=100/nt.state.zoom.value;(0,At.DR)(Ft,{x:Ft.x-gn/2,y:Ft.y-gn/2,width:gn,height:gn})}}else if(sn||Ft.width<it.f/nt.state.zoom.value&&Ft.height<it.f/nt.state.zoom.value){var Yt=Math.max(nt.state.height-120,160),En=Math.min(Yt,Math.floor(.5*nt.state.height)/nt.state.zoom.value),Zn=Math.min(kn.naturalHeight,En),Ln=Zn*(kn.naturalWidth/kn.naturalHeight),Yn=Ft.x+Ft.width/2-Ln/2,qn=Ft.y+Ft.height/2-Zn/2;(0,At.DR)(Ft,{x:Yn,y:qn,width:Ln,height:Zn})}},this.updateImageCache=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn){var kn,gn,Yt,En,Zn,Ln,Yn,qn=arguments;return Qt().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return kn=qn.length>1&&qn[1]!==void 0?qn[1]:nt.files,nr.next=3,(0,ss.Xx)({imageCache:nt.imageCache,fileIds:sn.map(function(hr){return hr.fileId}),files:kn});case 3:if(gn=nr.sent,Yt=gn.updatedFiles,En=gn.erroredFiles,Yt.size||En.size){Zn=G0(sn);try{for(Zn.s();!(Ln=Zn.n()).done;)Yn=Ln.value,Yt.has(Yn.fileId)&&(0,bn.bI)(Yn)}catch(hr){Zn.e(hr)}finally{Zn.f()}}return En.size&&nt.scene.replaceAllElements(nt.scene.getElementsIncludingDeleted().map(function(hr){return(0,qt.wi)(hr)&&En.has(hr.fileId)?(0,At.BE)(hr,{status:"error"}):hr})),nr.abrupt("return",{updatedFiles:Yt,erroredFiles:En});case 9:case"end":return nr.stop()}},en)}));return function(en){return Ft.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,at.Z)(Qt().mark(function Ft(){var en,sn,kn,gn,Yt=arguments;return Qt().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(en=Yt.length>0&&Yt[0]!==void 0?Yt[0]:(0,ss.oA)(nt.scene.getNonDeletedElements()),sn=Yt.length>1&&Yt[1]!==void 0?Yt[1]:nt.files,!(kn=en.filter(function(Zn){return!Zn.isDeleted&&!nt.imageCache.has(Zn.fileId)})).length){En.next=9;break}return En.next=6,nt.updateImageCache(kn,sn);case 6:gn=En.sent,gn.updatedFiles.size&&nt.scene.informMutation();case 9:case"end":return En.stop()}},Ft)})),this.scheduleImageRefresh=lI()(function(){nt.addNewImagesToImageCache()},it.LL),this.updateBindingEnabledOnPointerMove=function(Ft){var en=(0,Ct.cz)(Ft);nt.state.isBindingEnabled!==en&&nt.setState({isBindingEnabled:en})},this.maybeSuggestBindingAtCursor=function(Ft){var en=(0,Ct.Y9)(Ft,nt.scene);nt.setState({suggestedBindings:en!=null?[en]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(Ft,en,sn){if(en.length){var kn=en.reduce(function(gn,Yt){var En=(0,Ct.Y9)(Yt,nt.scene);return En==null||(0,Ct.DK)(Ft,sn==null?void 0:sn.id,En)||gn.push(En),gn},[]);nt.setState({suggestedBindings:kn})}},this.handleCanvasRef=function(Ft){var en,sn,kn;Ft!==null?(nt.canvas=Ft,nt.rc=mn.Z.canvas(nt.canvas),nt.canvas.addEventListener(it.Ks.WHEEL,nt.handleWheel,{passive:!1}),nt.canvas.addEventListener(it.Ks.TOUCH_START,nt.onTapStart),nt.canvas.addEventListener(it.Ks.TOUCH_END,nt.onTapEnd)):((en=nt.canvas)===null||en===void 0||en.removeEventListener(it.Ks.WHEEL,nt.handleWheel),(sn=nt.canvas)===null||sn===void 0||sn.removeEventListener(it.Ks.TOUCH_START,nt.onTapStart),(kn=nt.canvas)===null||kn===void 0||kn.removeEventListener(it.Ks.TOUCH_END,nt.onTapEnd))},this.handleAppOnDrop=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn){var kn,gn,Yt,En,Zn,Ln,Yn,qn,nr,hr;return Qt().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:return mr.next=2,(0,Ir.bv)(sn);case 2:if(kn=mr.sent,gn=kn.file,Yt=kn.fileHandle,mr.prev=5,!(0,Ir.Wr)(gn)){mr.next=26;break}if((gn==null?void 0:gn.type)!==it.LO.png&&(gn==null?void 0:gn.type)!==it.LO.svg){mr.next=20;break}return mr.prev=8,mr.next=11,(0,In.cT)(gn,nt.state,nt.scene.getElementsIncludingDeleted(),Yt);case 11:return En=mr.sent,nt.syncActionResult(_n(_n({},En),{},{appState:_n(_n({},En.appState||nt.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),mr.abrupt("return");case 16:if(mr.prev=16,mr.t0=mr.catch(8),mr.t0.name==="EncodingError"){mr.next=20;break}throw mr.t0;case 20:return Zn=(0,ct.dE)(sn,nt.state),Ln=Zn.x,Yn=Zn.y,qn=nt.createImageElement({sceneX:Ln,sceneY:Yn}),nt.insertImageElement(qn,gn),nt.initializeImageDimensions(qn),nt.setState({selectedElementIds:(0,nn.Z)({},qn.id,!0)}),mr.abrupt("return");case 26:mr.next=31;break;case 28:return mr.prev=28,mr.t1=mr.catch(5),mr.abrupt("return",nt.setState({isLoading:!1,errorMessage:mr.t1.message}));case 31:if(!(nr=sn.dataTransfer.getData(it.LO.excalidrawlib))||typeof nr!="string"){mr.next=35;break}try{hr=(0,Ir.wf)(nr),nt.addElementsFromPasteOrLibrary({elements:(0,rn.WV)(hr),position:sn,files:null})}catch(dr){nt.setState({errorMessage:dr.message})}return mr.abrupt("return");case 35:if(!gn){mr.next=38;break}return mr.next=38,nt.loadFileToCanvas(gn,Yt);case 38:case"end":return mr.stop()}},en,null,[[5,28],[8,16]])}));return function(en){return Ft.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var Ft=(0,at.Z)(Qt().mark(function en(sn,kn){var gn;return Qt().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return Yt.next=2,(0,Ir.gY)(sn);case 2:return sn=Yt.sent,Yt.prev=3,Yt.next=6,(0,Ir.ZY)(sn,nt.state,nt.scene.getElementsIncludingDeleted(),kn);case 6:if((gn=Yt.sent).type!==it.LO.excalidraw){Yt.next=12;break}nt.setState({isLoading:!0}),nt.syncActionResult(_n(_n({},gn.data),{},{appState:_n(_n({},gn.data.appState||nt.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Yt.next=15;break;case 12:if(gn.type!==it.LO.excalidrawlib){Yt.next=15;break}return Yt.next=15,nt.library.updateLibrary({libraryItems:sn,merge:!0,openLibraryMenu:!0}).catch(function(En){console.error(En),nt.setState({errorMessage:(0,bt.t)("errors.importLibraryError")})});case 15:Yt.next=20;break;case 17:Yt.prev=17,Yt.t0=Yt.catch(3),nt.setState({isLoading:!1,errorMessage:Yt.t0.message});case 20:case"end":return Yt.stop()}},en,null,[[3,17]])}));return function(en,sn){return Ft.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(Ft){if(Ft.preventDefault(),Ft.nativeEvent.pointerType!=="touch"&&(Ft.nativeEvent.pointerType!=="pen"||Ft.button===it.Oh.SECONDARY)||nt.state.activeTool.type==="selection"){var en=(0,ct.dE)(Ft,nt.state),sn=en.x,kn=en.y,gn=nt.getElementAtPosition(sn,kn,{preferSelected:!0,includeLockedElements:!0}),Yt=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),En=nt.isHittingCommonBoundingBoxOfSelectedElements({x:sn,y:kn},Yt),Zn=gn||En?"element":"canvas",Ln=nt.excalidrawContainerRef.current.getBoundingClientRect(),Yn=Ln.top,qn=Ln.left,nr=Ft.clientX-qn,hr=Ft.clientY-Yn;(0,Dt.L)("contextMenu","openContextMenu",Zn),nt.setState(_n(_n({},gn&&!nt.state.selectedElementIds[gn.id]?(0,zt.bO)(_n(_n({},nt.state),{},{selectedElementIds:(0,nn.Z)({},gn.id,!0),selectedLinearElement:(0,qt.bt)(gn)?new Vt._(gn,nt.scene):null}),nt.scene.getNonDeletedElements()):nt.state),{},{showHyperlinkPopup:!1}),function(){nt.setState({contextMenu:{top:hr,left:nr,items:nt.getContextMenuItems(Zn)}})})}},this.maybeDragNewGenericElement=function(Ft,en){var sn=nt.state.draggingElement,kn=Ft.lastCoords;if(sn)if(sn.type==="selection"&&nt.state.activeTool.type!=="eraser")(0,St.EJ)(sn,nt.state.activeTool.type,Ft.origin.x,Ft.origin.y,kn.x,kn.y,(0,ct.TE)(Ft.origin.x,kn.x),(0,ct.TE)(Ft.origin.y,kn.y),(0,Et.E0)(en),(0,Et.OA)(en));else{var gn,Yt=(0,Mt.wC)(kn.x,kn.y,nt.state.gridSize),En=(0,ht.Z)(Yt,2),Zn=En[0],Ln=En[1],Yn=(0,qt.wi)(sn)&&((gn=nt.imageCache.get(sn.fileId))===null||gn===void 0?void 0:gn.image),qn=!Yn||Yn instanceof Promise?null:Yn.width/Yn.height;(0,St.EJ)(sn,nt.state.activeTool.type,Ft.originInGrid.x,Ft.originInGrid.y,Zn,Ln,(0,ct.TE)(Ft.originInGrid.x,Zn),(0,ct.TE)(Ft.originInGrid.y,Ln),(0,qt.pC)(sn)?!(0,Et.E0)(en):(0,Et.E0)(en),(0,Et.OA)(en),qn),nt.maybeSuggestBindingForAll([sn])}},this.maybeHandleResize=function(Ft,en){var sn=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),kn=Ft.resize.handleType;nt.setState({isResizing:kn&&kn!=="rotation",isRotating:kn==="rotation"});var gn=Ft.lastCoords,Yt=(0,Mt.wC)(gn.x-Ft.resize.offset.x,gn.y-Ft.resize.offset.y,nt.state.gridSize),En=(0,ht.Z)(Yt,2),Zn=En[0],Ln=En[1];return!!(0,St.vY)(Ft,kn,sn,Ft.resize.arrowDirection,(0,Et.Ge)(en),(0,Et.OA)(en),sn.length===1&&(0,qt.pC)(sn[0])?!(0,Et.E0)(en):(0,Et.E0)(en),Zn,Ln,Ft.resize.center.x,Ft.resize.center.y)&&(nt.maybeSuggestBindingForAll(sn),!0)},this.getContextMenuItems=function(Ft){var en=[];return en.push(yt.jK,yt.FA),Ft==="canvas"?nt.state.viewModeEnabled?[].concat(en,[yt.Pb,yt.JN,qu,yt.u0]):[v0.yQ,$n,yt.jK,yt.FA,yt.zp,$n,yt.Yy,$n,yt.Pb,yt.JN,qu,yt.u0]:(en.push(yt.zp),nt.state.viewModeEnabled?[yt.uN].concat(en):[yt.ZM,yt.uN,v0.yQ,$n].concat(en,[$n,yt.pw,yt.W3,$n,yt.EQ,yt.y7,yt.vD,cI.JQ,yt.s,$n,yt.FL,$n,yt.V,yt.yA,yt.zi,yt.BZ,$n,yt.jl,yt.kt,$n,yt.Qs,yt.nz,yt.xF,yt.iL,$n,yt.X9]))},this.handleWheel=(0,ct.tH)(function(Ft){if(Ft.preventDefault(),!Au){var en=Ft.deltaX,sn=Ft.deltaY;if(Ft.metaKey||Ft.ctrlKey){var kn=Math.sign(sn),gn=100*it.V4,Yt=Math.abs(sn),En=sn;Yt>gn&&(En=gn*kn);var Zn=nt.state.zoom.value-En/100;return Zn+=Math.log10(Math.max(1,nt.state.zoom.value))*-kn*Math.min(1,Yt/20),nt.translateCanvas(function(Ln){return _n(_n({},(0,yn.E)({viewportX:Zs,viewportY:ps,nextZoom:(0,jt.j)(Zn)},Ln)),{},{shouldCacheIgnoreZoom:!0})}),void nt.resetShouldCacheIgnoreZoomDebounced()}Ft.shiftKey?nt.translateCanvas(function(Ln){var Yn=Ln.zoom;return{scrollX:Ln.scrollX-(sn||en)/Yn.value}}):nt.translateCanvas(function(Ln){var Yn=Ln.zoom,qn=Ln.scrollX,nr=Ln.scrollY;return{scrollX:qn-en/Yn.value,scrollY:nr-sn/Yn.value}})}}),this.savePointer=function(Ft,en,sn){var kn,gn;if(Ft&&en){var Yt=(0,ct.dE)({clientX:Ft,clientY:en},nt.state);isNaN(Yt.x)||isNaN(Yt.y),(kn=(gn=nt.props).onPointerUpdate)===null||kn===void 0||kn.call(gn,{pointer:Yt,button:sn,pointersMap:So.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,ct.Ds)(function(){nt.unmounted||nt.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(Ft){var en;if((en=nt.excalidrawContainerRef)!==null&&en!==void 0&&en.current){var sn=nt.excalidrawContainerRef.current.getBoundingClientRect(),kn=sn.width,gn=sn.height,Yt=sn.left,En=sn.top,Zn=nt.state,Ln=Zn.width,Yn=Zn.height,qn=Zn.offsetTop,nr=Zn.offsetLeft;if(kn===Ln&&gn===Yn&&Yt===nr&&En===qn)return void(Ft&&Ft());nt.setState({width:kn,height:gn,offsetLeft:Yt,offsetTop:En},function(){Ft&&Ft()})}},this.refresh=function(){nt.setState(_n({},nt.getCanvasOffsets()))}};it.Vi.TEST!=="production"&&it.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var nt;return(nt=this.app)===null||nt===void 0?void 0:nt.scene.getElementsIncludingDeleted()},set:function(nt){var Ft;return(Ft=this.app)===null||Ft===void 0?void 0:Ft.scene.replaceAllElements(nt)}}}));var Ou=js},3807:function(Lt,kt,_){_.d(kt,{o:function(){return pn}});var pt=_(45),ht=_(3646),ot=_(487),at=_.n(ot),gt=_(631),xt=_.n(gt),Ut=_(2052),rt=_.n(Ut),vt=_(4010),Xt=_.n(vt),nn=_(1469),cn=_.n(nn),Qt=_(9329),hn=_.n(Qt),fn=_(6029),Nn={};Nn.styleTagTransform=hn(),Nn.setAttributes=Xt(),Nn.insert=rt().bind(null,"head"),Nn.domAPI=xt(),Nn.insertStyleElement=cn(),at()(fn.Z,Nn),fn.Z&&fn.Z.locals&&fn.Z.locals;var mn=_(4512),pn=function(vn){var yt=vn.children,Ht=vn.checked,Bt=vn.onChange,bt=vn.className;return(0,mn.jsxs)("div",{className:(0,pt.Z)("Checkbox",bt,{"is-checked":Ht}),onClick:function(Et){Bt(!Ht,Et),Et.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,mn.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":Ht,children:ht.eQ}),(0,mn.jsx)("div",{className:"Checkbox-label",children:yt})]})}},4499:function(Lt,kt,_){_.d(kt,{z:function(){return _e}});var pt=_(2577),ht=_(9787),ot=_.n(ht),at=_(2891),gt=_(6340),xt=_(487),Ut=_.n(xt),rt=_(631),vt=_.n(rt),Xt=_(2052),nn=_.n(Xt),cn=_(4010),Qt=_.n(cn),hn=_(1469),fn=_.n(hn),Nn=_(9329),mn=_.n(Nn),pn=_(2345),vn={};vn.styleTagTransform=mn(),vn.setAttributes=Qt(),vn.insert=nn().bind(null,"head"),vn.domAPI=vt(),vn.insertStyleElement=fn(),Ut()(pn.Z,vn),pn.Z&&pn.Z.locals&&pn.Z.locals;var yt=_(6066),Ht=_(8211),Bt=_(56),bt=_(4512),Et=function(lt,st){return!Bt.Z[st].includes(lt)},At=function(lt){var st=new Option().style;return st.color=lt,!!st.color},Ct=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),ct=function(lt){var st=lt.colors,It=lt.color,Dt=lt.onChange,tn=lt.onClose,Tt=lt.label,$t=lt.showInput,Wt=$t===void 0||$t,Ot=lt.type,In=lt.elements,rn=ot().useRef(),_t=ot().useRef(),St=ot().useRef(),Vt=ot().useRef(),Pt=ot().useState(function(){return Ot==="canvasBackground"?[]:function(Rt,Zt){for(var zt=[],ft=Rt.filter(function(Mt){return!Mt.isDeleted}).sort(function(Mt,un){return un.updated-Mt.updated}),Gt=0,wt={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[Zt];Gt<ft.length&&zt.length<5;){var Jt=ft[Gt];zt.length<5&&Et(Jt[wt],Zt)&&!zt.includes(Jt[wt])&&zt.push(Jt[wt]),Gt++}return zt}(In,Ot)}),qt=(0,pt.Z)(Pt,1)[0];ot().useEffect(function(){_t.current?_t.current.focus():Vt.current?Vt.current.focus():St.current&&St.current.focus()},[]);var dn=function(Rt){var Zt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Rt.map(function(zt,ft){var Gt=zt.replace("#",""),wt=Zt?Ct[ft+15]:Ct[ft],Jt=Zt?Gt:(0,Ht.t)("colors.".concat(Gt));return(0,bt.jsxs)("button",{className:"color-picker-swatch",onClick:function(Mt){Mt.currentTarget.focus(),Dt(zt)},title:"".concat(Jt).concat((0,gt.Qm)(zt)?"":" (".concat(zt,")")," — ").concat(wt.toUpperCase()),"aria-label":Jt,"aria-keyshortcuts":Ct[ft],style:{color:zt},ref:function(Mt){!Zt&&Mt&&ft===0&&(rn.current=Mt),Mt&&zt===It&&(_t.current=Mt)},onFocus:function(){Dt(zt)},children:[(0,gt.Qm)(zt)?(0,bt.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,bt.jsx)("span",{className:"color-picker-keybinding",children:wt})]},zt)})};return(0,bt.jsxs)("div",{className:"color-picker color-picker-type-".concat(Ot),role:"dialog","aria-modal":"true","aria-label":(0,Ht.t)("labels.colorPicker"),onKeyDown:function(Rt){var Zt=!1;if((0,yt.Wl)(Rt.key)){var zt,ft,Gt;Zt=!0;var wt,Jt=document.activeElement,Mt=(0,Ht.G3)().rtl,un=!1,bn=Array.prototype.indexOf.call((zt=St.current.querySelector(".color-picker-content--default"))===null||zt===void 0?void 0:zt.children,Jt);bn===-1&&(bn=Array.prototype.indexOf.call((wt=St.current.querySelector(".color-picker-content--canvas-colors"))===null||wt===void 0?void 0:wt.children,Jt))!==-1&&(un=!0);var jt=un?(ft=St.current)===null||ft===void 0?void 0:ft.querySelector(".color-picker-content--canvas-colors"):(Gt=St.current)===null||Gt===void 0?void 0:Gt.querySelector(".color-picker-content--default");if(jt&&bn!==-1){var Fn,yn=jt.children.length-(Wt?1:0),Gn=Rt.key===(Mt?yt.tW.ARROW_LEFT:yt.tW.ARROW_RIGHT)?(bn+1)%yn:Rt.key===(Mt?yt.tW.ARROW_RIGHT:yt.tW.ARROW_LEFT)?(yn+bn-1)%yn:un||Rt.key!==yt.tW.ARROW_DOWN?un||Rt.key!==yt.tW.ARROW_UP?bn:(yn+bn-5)%yn:(bn+5)%yn;(Fn=jt.children[Gn])===null||Fn===void 0||Fn.focus()}Rt.preventDefault()}else if(!Ct.includes(Rt.key.toLowerCase())||Rt[yt.tW.CTRL_OR_CMD]||Rt.altKey||(0,gt.s)(Rt.target))Rt.key!==yt.tW.ESCAPE&&Rt.key!==yt.tW.ENTER||(Zt=!0,Rt.preventDefault(),tn());else{var Nt,Xn,Cn;Zt=!0;var xn=Ct.indexOf(Rt.key.toLowerCase()),Tn=xn>=15,Pn=Tn?St==null||(Nt=St.current)===null||Nt===void 0?void 0:Nt.querySelector(".color-picker-content--canvas-colors"):St==null||(Xn=St.current)===null||Xn===void 0?void 0:Xn.querySelector(".color-picker-content--default"),tr=Tn?xn-15:xn;Pn==null||(Cn=Pn.children[tr])===null||Cn===void 0||Cn.focus(),Rt.preventDefault()}Zt&&(Rt.nativeEvent.stopImmediatePropagation(),Rt.stopPropagation())},children:[(0,bt.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,bt.jsx)("div",{className:"color-picker-triangle"}),(0,bt.jsxs)("div",{className:"color-picker-content",ref:function(Rt){Rt&&(St.current=Rt)},tabIndex:-1,children:[(0,bt.jsx)("div",{className:"color-picker-content--default",children:dn(st)}),!!qt.length&&(0,bt.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,bt.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,Ht.t)("labels.canvasColors")}),(0,bt.jsx)("div",{className:"color-picker-content--canvas-colors",children:dn(qt,!0)})]}),Wt&&(0,bt.jsx)(it,{color:It,label:Tt,onChange:function(Rt){Dt(Rt)},ref:Vt})]})]})},it=ot().forwardRef(function(lt,st){var It=lt.color,Dt=lt.onChange,tn=lt.label,Tt=ot().useState(It),$t=(0,pt.Z)(Tt,2),Wt=$t[0],Ot=$t[1],In=ot().useRef(null);ot().useEffect(function(){Ot(It)},[It]),ot().useImperativeHandle(st,function(){return In.current});var rn=ot().useCallback(function(_t){var St=_t.toLowerCase(),Vt=function(Pt){return(0,gt.Qm)(Pt)?Pt:At("#".concat(Pt))?"#".concat(Pt):At(Pt)?Pt:null}(St);Vt&&Dt(Vt),Ot(St)},[Dt]);return(0,bt.jsxs)("label",{className:"color-input-container",children:[(0,bt.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,bt.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":tn,onChange:function(_t){return rn(_t.target.value)},value:(Wt||"").replace(/^#/,""),onBlur:function(){return Ot(It)},ref:In})]})});it.displayName="ColorInput";var _e=function(lt){var st,It=lt.type,Dt=lt.color,tn=lt.onChange,Tt=lt.label,$t=lt.isActive,Wt=lt.setActive,Ot=lt.elements,In=(lt.appState,ot().useRef(null)),rn=(st=In.current)===null||st===void 0?void 0:st.getBoundingClientRect();return(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{className:"color-picker-control-container",children:[(0,bt.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,bt.jsx)("button",{className:"color-picker-label-swatch","aria-label":Tt,style:Dt?{"--swatch-color":Dt}:void 0,onClick:function(){return Wt(!$t)},ref:In})}),(0,bt.jsx)(it,{color:Dt,label:Tt,onChange:function(_t){tn(_t)}})]}),(0,bt.jsx)(ot().Suspense,{fallback:"",children:$t?(0,bt.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:rn==null?void 0:rn.top,left:rn==null?void 0:rn.right,zIndex:1},children:(0,bt.jsx)(at.J,{onCloseRequest:function(_t){return _t.target!==In.current&&Wt(!1)},children:(0,bt.jsx)(ct,{colors:Bt.Z[It],color:Dt||null,onChange:function(_t){tn(_t)},onClose:function(){var _t;Wt(!1),(_t=In.current)===null||_t===void 0||_t.focus()},label:Tt,showInput:!1,type:It,elements:Ot})})}):null})]})}},7046:function(Lt,kt,_){_.d(kt,{Z:function(){return it}});var pt=_(7169),ht=_(2726),ot=_(8211),at=_(8396),gt=_(487),xt=_.n(gt),Ut=_(631),rt=_.n(Ut),vt=_(2052),Xt=_.n(vt),nn=_(4010),cn=_.n(nn),Qt=_(1469),hn=_.n(Qt),fn=_(9329),Nn=_.n(fn),mn=_(9393),pn={};pn.styleTagTransform=Nn(),pn.setAttributes=cn(),pn.insert=Xt().bind(null,"head"),pn.domAPI=rt(),pn.insertStyleElement=hn(),xt()(mn.Z,pn),mn.Z&&mn.Z.locals&&mn.Z.locals;var vn=_(6428),yt=_(4739),Ht=_(9206),Bt=_(2134),bt=_(9487),Et=_(4512),At=["onConfirm","onCancel","children","confirmText","cancelText","className"];function Ct(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Dt){return Object.getOwnPropertyDescriptor(_e,Dt).enumerable})),st.push.apply(st,It)}return st}function ct(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?Ct(Object(st),!0).forEach(function(It){(0,pt.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):Ct(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}var it=function(_e){var lt=_e.onConfirm,st=_e.onCancel,It=_e.children,Dt=_e.confirmText,tn=Dt===void 0?(0,ot.t)("buttons.confirm"):Dt,Tt=_e.cancelText,$t=Tt===void 0?(0,ot.t)("buttons.cancel"):Tt,Wt=_e.className,Ot=Wt===void 0?"":Wt,In=(0,ht.Z)(_e,At),rn=(0,Bt.n9)(),_t=(0,yt.b9)(Ht.u,bt.yE);return(0,Et.jsxs)(at.V,ct(ct({onCloseRequest:st,small:!0},In),{},{className:"confirm-dialog ".concat(Ot),children:[It,(0,Et.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,Et.jsx)(vn.Z,{label:$t,onClick:function(){rn({openMenu:null}),_t(!1),st()}}),(0,Et.jsx)(vn.Z,{label:tn,onClick:function(){rn({openMenu:null}),_t(!1),lt()},actionType:"danger"})]})]}))}},8396:function(Lt,kt,_){_.d(kt,{V:function(){return tn}});var pt=_(2577),ht=_(45),ot=_(9787),at=_(8211),gt=_(2134),xt=_(6066),Ut=_(487),rt=_.n(Ut),vt=_(631),Xt=_.n(vt),nn=_(2052),cn=_.n(nn),Qt=_(4010),hn=_.n(Qt),fn=_(1469),Nn=_.n(fn),mn=_(9329),pn=_.n(mn),vn=_(9482),yt={};yt.styleTagTransform=pn(),yt.setAttributes=hn(),yt.insert=cn().bind(null,"head"),yt.domAPI=Xt(),yt.insertStyleElement=Nn(),rt()(vn.Z,yt),vn.Z&&vn.Z.locals&&vn.Z.locals;var Ht=_(3646),Bt=_(1881),bt=_(6843),Et={};Et.styleTagTransform=pn(),Et.setAttributes=hn(),Et.insert=cn().bind(null,"head"),Et.domAPI=Xt(),Et.insertStyleElement=Nn(),rt()(bt.Z,Et),bt.Z&&bt.Z.locals&&bt.Z.locals;var At=_(5156),Ct=_(2335),ct=_(4512),it=function(Tt){var $t=Tt.theme,Wt=$t===void 0?Ct.C6.LIGHT:$t,Ot=Tt.closeOnClickOutside,In=Ot===void 0||Ot,rn=_e(Wt);return rn?(0,At.createPortal)((0,ct.jsxs)("div",{className:(0,ht.Z)("Modal",Tt.className),role:"dialog","aria-modal":"true",onKeyDown:function(_t){_t.key===xt.tW.ESCAPE&&(_t.nativeEvent.stopImmediatePropagation(),_t.stopPropagation(),Tt.onCloseRequest())},"aria-labelledby":Tt.labelledBy,"data-prevent-outside-click":!0,children:[(0,ct.jsx)("div",{className:"Modal__background",onClick:In?Tt.onCloseRequest:void 0}),(0,ct.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(Tt.maxWidth,"px")},tabIndex:0,children:Tt.children})]}),rn):null},_e=function(Tt){var $t=(0,ot.useState)(null),Wt=(0,pt.Z)($t,2),Ot=Wt[0],In=Wt[1],rn=(0,gt.Fy)(),_t=(0,ot.useRef)(rn.isMobile);_t.current=rn.isMobile;var St=(0,gt.J0)().container;return(0,ot.useLayoutEffect)(function(){Ot&&Ot.classList.toggle("excalidraw--mobile",rn.isMobile)},[Ot,rn.isMobile]),(0,ot.useLayoutEffect)(function(){var Vt=!(St==null||!St.classList.contains("theme--dark"))||Tt==="dark",Pt=document.createElement("div");return Pt.classList.add("excalidraw","excalidraw-modal-container"),Pt.classList.toggle("excalidraw--mobile",_t.current),Vt&&(Pt.classList.add("theme--dark"),Pt.classList.add("theme--dark-background-none")),document.body.appendChild(Pt),In(Pt),function(){document.body.removeChild(Pt)}},[St,Tt]),Ot},lt=_(6340),st=_(4739),It=_(9206),Dt=_(9487),tn=function(Tt){var $t=function(){var dn=(0,ot.useState)(null),Rt=(0,pt.Z)(dn,2),Zt=Rt[0],zt=Rt[1];return[Zt,(0,ot.useCallback)(function(ft){return zt(ft)},[])]}(),Wt=(0,pt.Z)($t,2),Ot=Wt[0],In=Wt[1],rn=(0,ot.useState)(document.activeElement),_t=(0,pt.Z)(rn,1)[0],St=(0,gt.J0)().id;(0,ot.useEffect)(function(){if(Ot){var dn=(0,lt.xp)(Ot);dn.length>0&&Tt.autofocus!==!1&&(dn[1]||dn[0]).focus();var Rt=function(Zt){if(Zt.key===xt.tW.TAB){var zt=(0,lt.xp)(Ot),ft=document.activeElement,Gt=zt.findIndex(function(wt){return wt===ft});Gt===0&&Zt.shiftKey?(zt[zt.length-1].focus(),Zt.preventDefault()):Gt!==zt.length-1||Zt.shiftKey||(zt[0].focus(),Zt.preventDefault())}};return Ot.addEventListener("keydown",Rt),function(){return Ot.removeEventListener("keydown",Rt)}}},[Ot,Tt.autofocus]);var Vt=(0,gt.n9)(),Pt=(0,st.b9)(It.u,Dt.yE),qt=function(){Vt({openMenu:null}),Pt(!1),_t.focus(),Tt.onCloseRequest()};return(0,ct.jsx)(it,{className:(0,ht.Z)("Dialog",Tt.className),labelledBy:"dialog-title",maxWidth:Tt.small?550:800,onCloseRequest:qt,theme:Tt.theme,closeOnClickOutside:Tt.closeOnClickOutside,children:(0,ct.jsxs)(Bt.W,{ref:In,children:[(0,ct.jsxs)("h2",{id:"".concat(St,"-dialog-title"),className:"Dialog__title",children:[(0,ct.jsx)("span",{className:"Dialog__titleContent",children:Tt.title}),(0,ct.jsx)("button",{className:"Modal__close",onClick:qt,title:(0,at.t)("buttons.close"),"aria-label":(0,at.t)("buttons.close"),children:(0,gt.Fy)().isMobile?Ht.op:Ht.Tw})]}),(0,ct.jsx)("div",{className:"Dialog__content",children:Tt.children})]})})}},6428:function(Lt,kt,_){_.d(kt,{Z:function(){return bt}});var pt=_(7169),ht=_(2726),ot=_(45),at=_(487),gt=_.n(at),xt=_(631),Ut=_.n(xt),rt=_(2052),vt=_.n(rt),Xt=_(4010),nn=_.n(Xt),cn=_(1469),Qt=_.n(cn),hn=_(9329),fn=_.n(hn),Nn=_(6148),mn={};mn.styleTagTransform=fn(),mn.setAttributes=nn(),mn.insert=vt().bind(null,"head"),mn.domAPI=Ut(),mn.insertStyleElement=Qt(),gt()(Nn.Z,mn),Nn.Z&&Nn.Z.locals&&Nn.Z.locals;var pn=_(5644),vn=_(4512),yt=["label","onClick","className","children","actionType","type","isLoading"];function Ht(Et,At){var Ct=Object.keys(Et);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(Et);At&&(ct=ct.filter(function(it){return Object.getOwnPropertyDescriptor(Et,it).enumerable})),Ct.push.apply(Ct,ct)}return Ct}function Bt(Et){for(var At=1;At<arguments.length;At++){var Ct=arguments[At]!=null?arguments[At]:{};At%2?Ht(Object(Ct),!0).forEach(function(ct){(0,pt.Z)(Et,ct,Ct[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Ct)):Ht(Object(Ct)).forEach(function(ct){Object.defineProperty(Et,ct,Object.getOwnPropertyDescriptor(Ct,ct))})}return Et}var bt=function(Et){var At=Et.label,Ct=Et.onClick,ct=Et.className,it=Et.children,_e=Et.actionType,lt=Et.type,st=lt===void 0?"button":lt,It=Et.isLoading,Dt=(0,ht.Z)(Et,yt),tn=_e?"Dialog__action-button--".concat(_e):"";return(0,vn.jsxs)("button",Bt(Bt({className:(0,ot.Z)("Dialog__action-button",tn,ct),type:st,"aria-label":At,onClick:Ct},Dt),{},{children:[it&&(0,vn.jsx)("div",{style:It?{visibility:"hidden"}:{},children:it}),(0,vn.jsx)("div",{style:It?{visibility:"hidden"}:{},children:At}),It&&(0,vn.jsx)("div",{style:{position:"absolute",inset:0},children:(0,vn.jsx)(pn.Z,{})})]}))}},1881:function(Lt,kt,_){_.d(kt,{W:function(){return Bt}});var pt=_(7169),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),Ut=_.n(xt),rt=_(4010),vt=_.n(rt),Xt=_(1469),nn=_.n(Xt),cn=_(9329),Qt=_.n(cn),hn=_(7369),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=vt(),fn.insert=Ut().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=nn(),ot()(hn.Z,fn),hn.Z&&hn.Z.locals&&hn.Z.locals;var Nn=_(9787),mn=_.n(Nn),pn=_(45),vn=_(4512);function yt(bt,Et){var At=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Et&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),At.push.apply(At,Ct)}return At}function Ht(bt){for(var Et=1;Et<arguments.length;Et++){var At=arguments[Et]!=null?arguments[Et]:{};Et%2?yt(Object(At),!0).forEach(function(Ct){(0,pt.Z)(bt,Ct,At[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(At)):yt(Object(At)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(At,Ct))})}return bt}var Bt=mn().forwardRef(function(bt,Et){var At=bt.children,Ct=bt.padding,ct=bt.className,it=bt.style;return(0,vn.jsx)("div",{className:(0,pn.Z)("Island",ct),style:Ht({"--padding":Ct},it),ref:Et,children:At})})},9206:function(Lt,kt,_){_.d(kt,{W:function(){return zt},u:function(){return Rt}});var pt=_(8950),ht=_(2577),ot=_(2975),at=_.n(ot),gt=_(9787),xt=_(5523),Ut=_(7053),rt=_(8211),vt=_(3646),Xt=_(1319),nn=_(1393),cn=_(6340),Qt=_(4739),hn=_(9487),fn=_(7046),Nn=_(7169),mn=_(5284),pn=_(8396),vn=_(3024),yt=_(2335),Ht=_(434),Bt=_(6428),bt=_(487),Et=_.n(bt),At=_(631),Ct=_.n(At),ct=_(2052),it=_.n(ct),_e=_(4010),lt=_.n(_e),st=_(1469),It=_.n(st),Dt=_(9329),tn=_.n(Dt),Tt=_(7589),$t={};$t.styleTagTransform=tn(),$t.setAttributes=lt(),$t.insert=it().bind(null,"head"),$t.domAPI=Ct(),$t.insertStyleElement=It(),Et()(Tt.Z,$t),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Wt=_(4512);function Ot(ft,Gt){var wt=Object.keys(ft);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(ft);Gt&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(ft,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function In(ft){for(var Gt=1;Gt<arguments.length;Gt++){var wt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?Ot(Object(wt),!0).forEach(function(Jt){(0,Nn.Z)(ft,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(wt)):Ot(Object(wt)).forEach(function(Jt){Object.defineProperty(ft,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return ft}function rn(ft,Gt){var wt=typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(!wt){if(Array.isArray(ft)||(wt=function(Fn,yn){if(Fn){if(typeof Fn=="string")return _t(Fn,yn);var Gn=Object.prototype.toString.call(Fn).slice(8,-1);if(Gn==="Object"&&Fn.constructor&&(Gn=Fn.constructor.name),Gn==="Map"||Gn==="Set")return Array.from(Fn);if(Gn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gn))return _t(Fn,yn)}}(ft))||Gt&&ft&&typeof ft.length=="number"){wt&&(ft=wt);var Jt=0,Mt=function(){};return{s:Mt,n:function(){return Jt>=ft.length?{done:!0}:{done:!1,value:ft[Jt++]}},e:function(Fn){throw Fn},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var un,bn=!0,jt=!1;return{s:function(){wt=wt.call(ft)},n:function(){var Fn=wt.next();return bn=Fn.done,Fn},e:function(Fn){jt=!0,un=Fn},f:function(){try{bn||wt.return==null||wt.return()}finally{if(jt)throw un}}}}function _t(ft,Gt){(Gt==null||Gt>ft.length)&&(Gt=ft.length);for(var wt=0,Jt=new Array(Gt);wt<Gt;wt++)Jt[wt]=ft[wt];return Jt}var St="publish-library-data",Vt=function(){var ft=(0,pt.Z)(at().mark(function Gt(wt){var Jt,Mt,un,bn,jt,Fn,yn,Gn,Nt,Xn,Cn,xn,Tn,Pn,tr,ir,gr;return at().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:Jt=6,Mt=128,un=Math.round(Mt/16),bn=Math.max(Math.round(Mt/64),2),jt=(0,cn.yo)(wt,Jt),(Fn=document.createElement("canvas")).width=jt[0].length*Mt+(jt[0].length+1)*(2*un)-2*un,Fn.height=jt.length*Mt+(jt.length+1)*(2*un)-2*un,(yn=Fn.getContext("2d")).fillStyle=mn.white,yn.fillRect(0,0,Fn.width,Fn.height),Gn=rn(wt.entries()),Wn.prev=12,Gn.s();case 14:if((Nt=Gn.n()).done){Wn.next=28;break}return Xn=(0,ht.Z)(Nt.value,2),Cn=Xn[0],xn=Xn[1],Wn.next=18,(0,vn.NL)({elements:xn.elements,files:null,maxWidthOrHeight:Mt});case 18:Tn=Wn.sent,Pn=Tn.width,tr=Tn.height,ir=Math.floor(Cn/Jt)*(Mt+2*un),gr=Cn%Jt*(Mt+2*un),yn.drawImage(Tn,gr+(Mt-Pn)/2+un,ir+(Mt-tr)/2+un),yn.lineWidth=bn,yn.strokeStyle=mn.gray[4],yn.strokeRect(gr+un/2,ir+un/2,Mt+un,Mt+un);case 26:Wn.next=14;break;case 28:Wn.next=33;break;case 30:Wn.prev=30,Wn.t0=Wn.catch(12),Gn.e(Wn.t0);case 33:return Wn.prev=33,Gn.f(),Wn.finish(33);case 36:return Wn.t1=Ht.Tu,Wn.t2=File,Wn.next=40,(0,Ht._c)(Fn);case 40:return Wn.t3=Wn.sent,Wn.t4=[Wn.t3],Wn.t5={type:yt.LO.png},Wn.t6=new Wn.t2(Wn.t4,"preview",Wn.t5),Wn.t7={outputType:yt.LO.jpg,maxWidthOrHeight:5e3},Wn.next=47,(0,Wn.t1)(Wn.t6,Wn.t7);case 47:return Wn.abrupt("return",Wn.sent);case 48:case"end":return Wn.stop()}},Gt,null,[[12,30,33,36]])}));return function(Gt){return ft.apply(this,arguments)}}(),Pt=function(ft){var Gt=ft.libItem,wt=ft.appState,Jt=ft.index,Mt=ft.onChange,un=ft.onRemove,bn=(0,gt.useRef)(null),jt=(0,gt.useRef)(null);return(0,gt.useEffect)(function(){var Fn=bn.current;Fn&&(0,pt.Z)(at().mark(function yn(){var Gn;return at().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,(0,vn.$D)({elements:Gt.elements,appState:In(In({},wt),{},{viewBackgroundColor:mn.white,exportBackground:!0}),files:null});case 2:Gn=Nt.sent,Fn.innerHTML=Gn.outerHTML;case 4:case"end":return Nt.stop()}},yn)}))()},[Gt.elements,wt]),(0,Wt.jsxs)("div",{className:"single-library-item",children:[Gt.status==="published"&&(0,Wt.jsx)("span",{className:"single-library-item-status",children:(0,rt.t)("labels.statusPublished")}),(0,Wt.jsx)("div",{ref:bn,className:"single-library-item__svg"}),(0,Wt.jsx)(Xt.V,{"aria-label":(0,rt.t)("buttons.remove"),type:"button",icon:vt.Tw,className:"single-library-item--remove",onClick:un.bind(null,Gt.id),title:(0,rt.t)("buttons.remove")}),(0,Wt.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,Wt.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,Wt.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,Wt.jsx)("span",{style:{fontWeight:500,color:mn.gray[6]},children:(0,rt.t)("publishDialog.itemName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",ref:jt,style:{width:"80%",padding:"0.2rem"},defaultValue:Gt.name,placeholder:"Item name",onChange:function(Fn){Mt(Fn.target.value,Jt)}})]}),(0,Wt.jsx)("span",{className:"error",children:Gt.error})]})]})},qt=function(ft){var Gt=ft.onClose,wt=ft.libraryItems,Jt=ft.appState,Mt=ft.onSuccess,un=ft.onError,bn=ft.updateItemsInStorage,jt=ft.onRemove,Fn=(0,gt.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),yn=(0,ht.Z)(Fn,2),Gn=yn[0],Nt=yn[1],Xn=(0,gt.useState)(!1),Cn=(0,ht.Z)(Xn,2),xn=Cn[0],Tn=Cn[1];(0,gt.useEffect)(function(){var jn=function(){try{var $n=localStorage.getItem(St);if($n)return JSON.parse($n)}catch(cr){console.error(cr)}return null}();jn&&Nt(jn)},[]);var Pn=(0,gt.useState)(wt.slice()),tr=(0,ht.Z)(Pn,2),ir=tr[0],gr=tr[1];(0,gt.useEffect)(function(){gr(wt.slice())},[wt]);var Wn,ln=function(jn){Nt(In(In({},Gn),{},(0,Nn.Z)({},jn.target.name,jn.target.value)))},Un=function(){var jn=(0,pt.Z)(at().mark(function $n(cr){var or,ur,Ur,Zr,yr,Ar,pr;return at().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:if(cr.preventDefault(),Tn(!0),or=[],ur=!1,ir.forEach(function(Or){var ba="";Or.name||(ba=(0,rt.t)("publishDialog.errors.required"),ur=!0),or.push(In(In({},Or),{},{error:ba}))}),!ur){Nr.next=9;break}return gr(or),Tn(!1),Nr.abrupt("return");case 9:return Nr.next=11,Vt(ir);case 11:Ur=Nr.sent,Zr={type:yt.r8.excalidrawLibrary,version:yt.Kr.excalidrawLibrary,source:yt.pb,libraryItems:ir},yr=JSON.stringify(Zr,null,2),Ar=new Blob([yr],{type:"application/json"}),(pr=new FormData).append("excalidrawLib",Ar),pr.append("previewImage",Ur),pr.append("previewImageType",Ur.type),pr.append("title",Gn.name),pr.append("authorName",Gn.authorName),pr.append("githubHandle",Gn.githubHandle),pr.append("name",Gn.name),pr.append("description",Gn.description),pr.append("twitterHandle",Gn.twitterHandle),pr.append("website",Gn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:pr}).then(function(Or){return Or.ok?Or.json().then(function(ba){var ho=ba.url;localStorage.removeItem(St),Mt({url:ho,authorName:Gn.authorName,items:ir})}):Or.json().catch(function(){throw new Error(Or.statusText||"something went wrong")}).then(function(ba){throw new Error(ba.message||Or.statusText||"something went wrong")})},function(Or){console.error(Or),un(Or),Tn(!1)}).catch(function(Or){console.error(Or),un(Or),Tn(!1)});case 27:case"end":return Nr.stop()}},$n)}));return function($n){return jn.apply(this,arguments)}}(),wn=(0,gt.useCallback)(function(){bn(ir),function(jn){try{localStorage.setItem(St,JSON.stringify(jn))}catch($n){console.error($n)}}(Gn),Gt()},[ir,Gt,bn,Gn]),Mn=!!wt.length,zn=wt.some(function(jn){return jn.status==="published"});return(0,Wt.jsx)(pn.V,{onCloseRequest:wn,title:(0,rt.t)("publishDialog.title"),className:"publish-library",children:Mn?(0,Wt.jsxs)("form",{onSubmit:Un,children:[(0,Wt.jsxs)("div",{className:"publish-library-note",children:[(0,rt.t)("publishDialog.noteDescription.pre"),(0,Wt.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,rt.t)("publishDialog.noteDescription.link")})," ",(0,rt.t)("publishDialog.noteDescription.post")]}),(0,Wt.jsxs)("span",{className:"publish-library-note",children:[(0,rt.t)("publishDialog.noteGuidelines.pre"),(0,Wt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,rt.t)("publishDialog.noteGuidelines.link")}),(0,rt.t)("publishDialog.noteGuidelines.post")]}),(0,Wt.jsx)("div",{className:"publish-library-note",children:(0,rt.t)("publishDialog.noteItems")}),zn&&(0,Wt.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,rt.t)("publishDialog.republishWarning")}),(Wn=[],ir.forEach(function(jn,$n){Wn.push((0,Wt.jsx)("div",{className:"single-library-item-wrapper",children:(0,Wt.jsx)(Pt,{libItem:jn,appState:Jt,index:$n,onChange:function(cr,or){var ur=ir.slice();ur[or].name=cr,gr(ur)},onRemove:jt})},$n))}),(0,Wt.jsx)("div",{className:"selected-library-items",children:Wn})),(0,Wt.jsxs)("div",{className:"publish-library__fields",children:[(0,Wt.jsxs)("label",{children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.libraryName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",name:"name",required:!0,value:Gn.name,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.libraryName")})]}),(0,Wt.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.libraryDesc")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("textarea",{name:"description",rows:4,required:!0,value:Gn.description,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.libraryDesc")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.authorName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",name:"authorName",required:!0,value:Gn.authorName,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.authorName")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.githubUsername")}),(0,Wt.jsx)("input",{type:"text",name:"githubHandle",value:Gn.githubHandle,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.githubHandle")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.twitterUsername")}),(0,Wt.jsx)("input",{type:"text",name:"twitterHandle",value:Gn.twitterHandle,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.twitterHandle")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,rt.t)("publishDialog.website")}),(0,Wt.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,rt.t)("publishDialog.errors.website"),value:Gn.website,onChange:ln,placeholder:(0,rt.t)("publishDialog.placeholder.website")})]}),(0,Wt.jsxs)("span",{className:"publish-library-note",children:[(0,rt.t)("publishDialog.noteLicense.pre"),(0,Wt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,rt.t)("publishDialog.noteLicense.link")}),(0,rt.t)("publishDialog.noteLicense.post")]})]}),(0,Wt.jsxs)("div",{className:"publish-library__buttons",children:[(0,Wt.jsx)(Bt.Z,{label:(0,rt.t)("buttons.cancel"),onClick:wn,"data-testid":"cancel-clear-canvas-button"}),(0,Wt.jsx)(Bt.Z,{type:"submit",label:(0,rt.t)("buttons.submit"),actionType:"primary",isLoading:xn})]})]}):(0,Wt.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,rt.t)("publishDialog.atleastOneLibItem")})})},dn=_(9127),Rt=(0,Qt.cn)(!1),Zt=function(ft,Gt){return ft.filter(function(wt){return Gt.includes(wt.id)})},zt=function(ft){var Gt=ft.setAppState,wt=ft.selectedItems,Jt=ft.library,Mt=ft.onRemoveFromLibrary,un=ft.resetLibrary,bn=ft.onSelectItems,jt=ft.appState,Fn=(0,Qt.KO)(Ut.rF,hn.yE),yn=(0,ht.Z)(Fn,1)[0],Gn=(0,Qt.KO)(Rt,hn.yE),Nt=(0,ht.Z)(Gn,2),Xn=Nt[0],Cn=Nt[1],xn=(0,gt.useCallback)(function(){var Ar=wt.length?(0,rt.t)("alerts.removeItemsFromsLibrary",{count:wt.length}):(0,rt.t)("alerts.resetLibrary"),pr=wt.length?(0,rt.t)("confirmDialog.removeItemsFromLib"):(0,rt.t)("confirmDialog.resetLibrary");return(0,Wt.jsx)(fn.Z,{onConfirm:function(){wt.length?Mt():un(),ir(!1)},onCancel:function(){ir(!1)},title:pr,children:(0,Wt.jsx)("p",{children:Ar})})},[wt,Mt,un]),Tn=(0,gt.useState)(!1),Pn=(0,ht.Z)(Tn,2),tr=Pn[0],ir=Pn[1],gr=!!wt.length,Wn=gr?yn.libraryItems.filter(function(Ar){return wt.includes(Ar.id)}):yn.libraryItems,ln=gr?(0,rt.t)("buttons.remove"):(0,rt.t)("buttons.resetLibrary"),Un=(0,gt.useState)(!1),wn=(0,ht.Z)(Un,2),Mn=wn[0],zn=wn[1],jn=(0,gt.useState)(null),$n=(0,ht.Z)(jn,2),cr=$n[0],or=$n[1],ur=(0,gt.useCallback)(function(){return(0,Wt.jsxs)(pn.V,{onCloseRequest:function(){return or(null)},title:(0,rt.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,Wt.jsxs)("p",{children:[(0,rt.t)("publishSuccessDialog.content",{authorName:cr.authorName})," ",(0,Wt.jsx)("a",{href:cr==null?void 0:cr.url,target:"_blank",rel:"noopener noreferrer",children:(0,rt.t)("publishSuccessDialog.link")})]}),(0,Wt.jsx)(Xt.V,{type:"button",title:(0,rt.t)("buttons.close"),"aria-label":(0,rt.t)("buttons.close"),label:(0,rt.t)("buttons.close"),onClick:function(){return or(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[or,cr]),Ur=(0,gt.useCallback)(function(Ar,pr){zn(!1),or({url:Ar.url,authorName:Ar.authorName});var Nr=pr.slice();Nr.forEach(function(Or){wt.includes(Or.id)&&(Or.status="published")}),Jt.setLibrary(Nr)},[zn,or,wt,Jt]),Zr=function(){var Ar=(0,pt.Z)(at().mark(function pr(){return at().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:return Nr.prev=0,Nr.next=3,Jt.updateLibrary({libraryItems:(0,nn.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:Nr.next=11;break;case 5:if(Nr.prev=5,Nr.t0=Nr.catch(0),(Nr.t0===null||Nr.t0===void 0?void 0:Nr.t0.name)!=="AbortError"){Nr.next=10;break}return console.warn(Nr.t0),Nr.abrupt("return");case 10:Gt({errorMessage:(0,rt.t)("errors.importLibraryError")});case 11:case"end":return Nr.stop()}},pr,null,[[0,5]])}));return function(){return Ar.apply(this,arguments)}}(),yr=function(){var Ar=(0,pt.Z)(at().mark(function pr(){var Nr;return at().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(!gr){Or.next=4;break}Or.t0=Wn,Or.next=7;break;case 4:return Or.next=6,Jt.getLatestLibrary();case 6:Or.t0=Or.sent;case 7:Nr=Or.t0,(0,xt.t1)(Nr).catch(cn.FG).catch(function(ba){Gt({errorMessage:ba.message})});case 9:case"end":return Or.stop()}},pr)}));return function(){return Ar.apply(this,arguments)}}();return(0,Wt.jsxs)("div",{style:{position:"relative"},children:[(0,Wt.jsxs)(dn.Z,{open:Xn,children:[(0,Wt.jsx)(dn.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return Cn(!Xn)},children:vt.YA}),(0,Wt.jsxs)(dn.Z.Content,{onClickOutside:function(){return Cn(!1)},onSelect:function(){return Cn(!1)},className:"library-menu",children:[!gr&&(0,Wt.jsx)(dn.Z.Item,{onSelect:Zr,icon:vt.Tl,"data-testid":"lib-dropdown--load",children:(0,rt.t)("buttons.load")}),!!Wn.length&&(0,Wt.jsx)(dn.Z.Item,{onSelect:yr,icon:vt.Hy,"data-testid":"lib-dropdown--export",children:(0,rt.t)("buttons.export")}),!!Wn.length&&(0,Wt.jsx)(dn.Z.Item,{onSelect:function(){return ir(!0)},icon:vt.XH,children:ln}),gr&&(0,Wt.jsx)(dn.Z.Item,{icon:vt.Nw,onSelect:function(){return zn(!0)},"data-testid":"lib-dropdown--remove",children:(0,rt.t)("buttons.publishLibrary")})]})]}),wt.length>0&&(0,Wt.jsx)("div",{className:"library-actions-counter",children:wt.length}),tr&&xn(),Mn&&(0,Wt.jsx)(qt,{onClose:function(){return zn(!1)},libraryItems:Zt(yn.libraryItems,wt),appState:jt,onSuccess:function(Ar){return Ur(Ar,yn.libraryItems)},onError:function(Ar){return window.alert(Ar)},updateItemsInStorage:function(){return Jt.setLibrary(yn.libraryItems)},onRemove:function(Ar){return bn(wt.filter(function(pr){return pr!==Ar}))}}),cr&&ur()]})}},5440:function(Lt,kt,_){_.d(kt,{z:function(){return rt}});var pt=_(2577),ht=_(8211),ot=_(9787),at=_(5644),gt=_(45),xt=_(2335),Ut=_(4512),rt=function(vt){var Xt=vt.delay,nn=vt.theme,cn=(0,ot.useState)(!!Xt),Qt=(0,pt.Z)(cn,2),hn=Qt[0],fn=Qt[1];return(0,ot.useEffect)(function(){if(Xt){var Nn=setTimeout(function(){fn(!1)},Xt);return function(){return clearTimeout(Nn)}}},[Xt]),hn?null:(0,Ut.jsxs)("div",{className:(0,gt.Z)("LoadingMessage",{"LoadingMessage--dark":nn===xt.C6.DARK}),children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)(at.Z,{})}),(0,Ut.jsx)("div",{className:"LoadingMessage-text",children:(0,ht.t)("labels.loadingScene")})]})}},2891:function(Lt,kt,_){_.d(kt,{J:function(){return yt}});var pt=_(9787),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),Ut=_.n(xt),rt=_(4010),vt=_.n(rt),Xt=_(1469),nn=_.n(Xt),cn=_(9329),Qt=_.n(cn),hn=_(9935),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=vt(),fn.insert=Ut().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=nn(),ot()(hn.Z,fn),hn.Z&&hn.Z.locals&&hn.Z.locals;var Nn=_(5156),mn=_(6340),pn=_(6066),vn=_(4512),yt=function(Ht){var Bt=Ht.children,bt=Ht.left,Et=Ht.top,At=Ht.onCloseRequest,Ct=Ht.fitInViewport,ct=Ct!==void 0&&Ct,it=Ht.offsetLeft,_e=it===void 0?0:it,lt=Ht.offsetTop,st=lt===void 0?0:lt,It=Ht.viewportWidth,Dt=It===void 0?window.innerWidth:It,tn=Ht.viewportHeight,Tt=tn===void 0?window.innerHeight:tn,$t=(0,pt.useRef)(null);(0,pt.useEffect)(function(){var Ot=$t.current;if(Ot){Ot.contains(document.activeElement)||Ot.focus();var In=function(rn){if(rn.key===pn.tW.TAB){var _t=(0,mn.xp)(Ot),St=document.activeElement,Vt=_t.findIndex(function(Rt){return Rt===St});if(St===Ot){var Pt;rn.shiftKey?(Pt=_t[_t.length-1])===null||Pt===void 0||Pt.focus():_t[0].focus(),rn.preventDefault(),rn.stopImmediatePropagation()}else if(Vt===0&&rn.shiftKey){var qt;(qt=_t[_t.length-1])===null||qt===void 0||qt.focus(),rn.preventDefault(),rn.stopImmediatePropagation()}else if(Vt===_t.length-1&&!rn.shiftKey){var dn;(dn=_t[0])===null||dn===void 0||dn.focus(),rn.preventDefault(),rn.stopImmediatePropagation()}}};return Ot.addEventListener("keydown",In),function(){return Ot.removeEventListener("keydown",In)}}},[]);var Wt=(0,pt.useRef)(null);return(0,pt.useLayoutEffect)(function(){if(ct&&$t.current&&Et!=null&&bt!=null){var Ot,In,rn=$t.current,_t=rn.getBoundingClientRect(),St=_t.width,Vt=_t.height;if(((Ot=Wt.current)===null||Ot===void 0?void 0:Ot.top)===Et&&((In=Wt.current)===null||In===void 0?void 0:In.left)===bt)return;Wt.current={top:Et,left:bt},St>=Dt?(rn.style.width="".concat(Dt,"px"),rn.style.left="0px",rn.style.overflowX="scroll"):rn.style.left="".concat(bt+St-_e>Dt?Dt-St-10:bt,"px"),Vt>=Tt?(rn.style.height="".concat(Tt-20,"px"),rn.style.top="10px",rn.style.overflowY="scroll"):rn.style.top="".concat(Et+Vt-st>Tt?Tt-Vt:Et,"px")}},[Et,bt,ct,Dt,Tt,_e,st]),(0,pt.useEffect)(function(){if(At){var Ot=function(In){var rn;(rn=$t.current)!==null&&rn!==void 0&&rn.contains(In.target)||(0,Nn.unstable_batchedUpdates)(function(){return At(In)})};return document.addEventListener("pointerdown",Ot,!1),function(){return document.removeEventListener("pointerdown",Ot,!1)}}},[At]),(0,vn.jsx)("div",{className:"popover",ref:$t,tabIndex:-1,children:Bt})}},9430:function(Lt,kt,_){_.d(kt,{Y:function(){return $t},b:function(){return Tt}});var pt=_(2577),ht=_(9787),ot=_.n(ht),at=_(1881),gt=_(4739),xt=_(9487),Ut=ot().createContext({}),rt=_(45),vt=_(8211),Xt=_(2134),nn=_(3646),cn=_(7169),Qt=_(4512);function hn(Wt,Ot){var In=Object.keys(Wt);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(Wt);Ot&&(rn=rn.filter(function(_t){return Object.getOwnPropertyDescriptor(Wt,_t).enumerable})),In.push.apply(In,rn)}return In}var fn=_(1894),Nn=function(Wt){return(0,Qt.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,Qt.jsxs)(fn.u,{label:(0,vt.t)("labels.sidebarLock"),children:[(0,Qt.jsxs)("label",{className:(0,rt.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,Qt.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:Wt.onChange,checked:Wt.checked,"aria-label":(0,vt.t)("labels.sidebarLock")})," ",(0,Qt.jsx)("div",{className:(0,rt.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":Wt.checked}),tabIndex:0,children:nn.qQ})," "]})," "]})})},mn=function(Wt){var Ot=(0,ht.createContext)([!1,function(){}]),In=function(_t){var St=_t.children,Vt=(0,ht.useState)(!1),Pt=(0,pt.Z)(Vt,2),qt=Pt[0],dn=Pt[1],Rt=(0,ht.useMemo)(function(){return[qt,dn]},[qt]);return(0,Qt.jsx)(Ot.Provider,{value:Rt,children:St})},rn=function(_t){var St=(0,ht.useContext)(Ot),Vt=(0,pt.Z)(St,2),Pt=Vt[0],qt=Vt[1];return(0,ht.useLayoutEffect)(function(){if(!_t.__isFallback)return qt(!0),function(){return qt(!1)}},[_t.__isFallback,qt]),_t.__isFallback&&Pt?null:(0,Qt.jsx)(Wt,function(dn){for(var Rt=1;Rt<arguments.length;Rt++){var Zt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?hn(Object(Zt),!0).forEach(function(zt){(0,cn.Z)(dn,zt,Zt[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(Zt)):hn(Object(Zt)).forEach(function(zt){Object.defineProperty(dn,zt,Object.getOwnPropertyDescriptor(Zt,zt))})}return dn}({},_t))};return Wt.name&&(rn.displayName="".concat(Wt.name,"_upstreamOverrideWrapper"),In.displayName="".concat(Wt.name,"_upstreamOverrideContextWrapper")),[In,rn]}(function(Wt){var Ot=Wt.children,In=Wt.className,rn=(0,Xt.Fy)(),_t=(0,ht.useContext)(Ut),St=!(!rn.canDeviceFitSidebar||!_t.dockable),Vt=!!_t.onClose;return(0,Qt.jsxs)("div",{className:(0,rt.Z)("layer-ui__sidebar__header",In),"data-testid":"sidebar-header",children:[Ot,(St||Vt)&&(0,Qt.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[St&&(0,Qt.jsx)(Nn,{checked:!!_t.docked,onChange:function(){var Pt;(Pt=_t.onDock)===null||Pt===void 0||Pt.call(_t,!_t.docked)}}),Vt&&(0,Qt.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:_t.onClose,"aria-label":(0,vt.t)("buttons.close"),children:nn.Tw})]})]})}),pn=(0,pt.Z)(mn,2),vn={Context:pn[0],Component:pn[1]},yt=_(487),Ht=_.n(yt),Bt=_(631),bt=_.n(Bt),Et=_(2052),At=_.n(Et),Ct=_(4010),ct=_.n(Ct),it=_(1469),_e=_.n(it),lt=_(9329),st=_.n(lt),It=_(8208),Dt={};Dt.styleTagTransform=st(),Dt.setAttributes=ct(),Dt.insert=At().bind(null,"head"),Dt.domAPI=bt(),Dt.insertStyleElement=_e(),Ht()(It.Z,Dt),It.Z&&It.Z.locals&&It.Z.locals;var tn=_(6340),Tt=(0,gt.cn)({rendered:0,docked:0}),$t=Object.assign((0,ht.forwardRef)(function(Wt,Ot){var In,rn=Wt.children,_t=Wt.onClose,St=Wt.onDock,Vt=Wt.docked,Pt=Wt.initialDockedState,qt=Pt===void 0?Vt:Pt,dn=Wt.dockable,Rt=dn===void 0||dn,Zt=Wt.className,zt=Wt.__isInternal,ft=(0,gt.KO)(Tt,xt.yE),Gt=(0,pt.Z)(ft,2),wt=Gt[0],Jt=Gt[1],Mt=(0,Xt.n9)(),un=(0,ht.useState)((In=Vt??qt)!==null&&In!==void 0&&In),bn=(0,pt.Z)(un,2),jt=bn[0],Fn=bn[1];(0,ht.useLayoutEffect)(function(){Vt===void 0&&Mt(function(Nt){return Fn(Nt.isSidebarDocked),null})},[Mt,Vt]),(0,ht.useLayoutEffect)(function(){if(!zt)return Jt(function(Nt){return{rendered:Nt.rendered+1,docked:jt?Nt.docked+1:Nt.docked}}),function(){Jt(function(Nt){return{rendered:Nt.rendered-1,docked:jt?Nt.docked-1:Nt.docked}})}},[zt,Jt,jt]);var yn=(0,ht.useRef)(_t);yn.current=_t,(0,ht.useEffect)(function(){return function(){var Nt;(Nt=yn.current)===null||Nt===void 0||Nt.call(yn)}},[]);var Gn=(0,ht.useRef)({});return Gn.current.onClose=function(){Mt({openSidebar:null})},Gn.current.onDock=function(Nt){Vt===void 0&&(Mt({isSidebarDocked:Nt}),Fn(Nt)),St==null||St(Nt)},Gn.current=(0,tn.v4)(Gn.current,{docked:Vt??jt,dockable:Rt}),wt.rendered>0&&zt?null:(0,Qt.jsx)(at.W,{className:(0,rt.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":jt},Zt),ref:Ot,children:(0,Qt.jsx)(Ut.Provider,{value:Gn.current,children:(0,Qt.jsxs)(vn.Context,{children:[(0,Qt.jsx)(vn.Component,{__isFallback:!0}),rn]})})})}),{Header:vn.Component})},5644:function(Lt,kt,_){_.d(kt,{Z:function(){return Nn}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),Ut=_(4010),rt=_.n(Ut),vt=_(1469),Xt=_.n(vt),nn=_(9329),cn=_.n(nn),Qt=_(5892),hn={};hn.styleTagTransform=cn(),hn.setAttributes=rt(),hn.insert=xt().bind(null,"head"),hn.domAPI=at(),hn.insertStyleElement=Xt(),ht()(Qt.Z,hn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var fn=_(4512),Nn=function(mn){var pn=mn.size,vn=pn===void 0?"1em":pn,yt=mn.circleWidth,Ht=yt===void 0?8:yt;return(0,fn.jsx)("div",{className:"Spinner",children:(0,fn.jsx)("svg",{viewBox:"0 0 100 100",style:{width:vn,height:vn},children:(0,fn.jsx)("circle",{cx:"50",cy:"50",r:50-Ht/2,strokeWidth:Ht,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(Lt,kt,_){_.d(kt,{Z:function(){return yt}});var pt=_(7169),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),Ut=_.n(xt),rt=_(4010),vt=_.n(rt),Xt=_(1469),nn=_.n(Xt),cn=_(9329),Qt=_.n(cn),hn=_(3874),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=vt(),fn.insert=Ut().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=nn(),ot()(hn.Z,fn),hn.Z&&hn.Z.locals&&hn.Z.locals;var Nn=_(45),mn=_(4512);function pn(Ht,Bt){var bt=Object.keys(Ht);if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(Ht);Bt&&(Et=Et.filter(function(At){return Object.getOwnPropertyDescriptor(Ht,At).enumerable})),bt.push.apply(bt,Et)}return bt}function vn(Ht){for(var Bt=1;Bt<arguments.length;Bt++){var bt=arguments[Bt]!=null?arguments[Bt]:{};Bt%2?pn(Object(bt),!0).forEach(function(Et){(0,pt.Z)(Ht,Et,bt[Et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ht,Object.getOwnPropertyDescriptors(bt)):pn(Object(bt)).forEach(function(Et){Object.defineProperty(Ht,Et,Object.getOwnPropertyDescriptor(bt,Et))})}return Ht}var yt={Row:function(Ht){var Bt=Ht.children,bt=Ht.gap,Et=Ht.align,At=Ht.justifyContent,Ct=Ht.className,ct=Ht.style;return(0,mn.jsx)("div",{className:(0,Nn.Z)("Stack Stack_horizontal",Ct),style:vn({"--gap":bt,alignItems:Et,justifyContent:At},ct),children:Bt})},Col:function(Ht){var Bt=Ht.children,bt=Ht.gap,Et=Ht.align,At=Ht.justifyContent,Ct=Ht.className,ct=Ht.style;return(0,mn.jsx)("div",{className:(0,Nn.Z)("Stack Stack_vertical",Ct),style:vn({"--gap":bt,justifyItems:Et,justifyContent:At},ct),children:Bt})}}},1319:function(Lt,kt,_){_.d(kt,{V:function(){return cn}});var pt=_(8950),ht=_(2577),ot=_(2975),at=_.n(ot),gt=(_(5422),_(9787)),xt=_.n(gt),Ut=_(45),rt=_(2134),vt=_(6797),Xt=_(5644),nn=_(4512),cn=xt().forwardRef(function(Qt,hn){var fn=(0,rt.J0)().id,Nn=xt().useRef(null);xt().useImperativeHandle(hn,function(){return Nn.current});var mn="ToolIcon_size_".concat(Qt.size),pn=(0,gt.useState)(!1),vn=(0,ht.Z)(pn,2),yt=vn[0],Ht=vn[1],Bt=(0,gt.useRef)(!0),bt=function(){var Ct=(0,pt.Z)(at().mark(function ct(it){var _e,lt;return at().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(!(lt="onClick"in Qt&&((_e=Qt.onClick)===null||_e===void 0?void 0:_e.call(Qt,it)))||!("then"in lt)){st.next=18;break}return st.prev=2,Ht(!0),st.next=6,lt;case 6:st.next=15;break;case 8:if(st.prev=8,st.t0=st.catch(2),st.t0 instanceof vt._){st.next=14;break}throw st.t0;case 14:console.warn(st.t0);case 15:return st.prev=15,Bt.current&&Ht(!1),st.finish(15);case 18:case"end":return st.stop()}},ct,null,[[2,8,15,18]])}));return function(ct){return Ct.apply(this,arguments)}}();(0,gt.useEffect)(function(){return function(){Bt.current=!1}},[]);var Et=(0,gt.useRef)(null);if(Qt.type==="button"||Qt.type==="icon"||Qt.type==="submit"){var At=Qt.type==="icon"?"button":Qt.type;return(0,nn.jsxs)("button",{className:(0,Ut.Z)("ToolIcon_type_button",mn,Qt.className,Qt.visible&&!Qt.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!Qt.hidden,"ToolIcon--selected":Qt.selected,"ToolIcon--plain":Qt.type==="icon"}),"data-testid":Qt["data-testid"],hidden:Qt.hidden,title:Qt.title,"aria-label":Qt["aria-label"],type:At,onClick:bt,ref:Nn,disabled:yt||Qt.isLoading,children:[(Qt.icon||Qt.label)&&(0,nn.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[Qt.icon||Qt.label,Qt.keyBindingLabel&&(0,nn.jsx)("span",{className:"ToolIcon__keybinding",children:Qt.keyBindingLabel}),Qt.isLoading&&(0,nn.jsx)(Xt.Z,{})]}),Qt.showAriaLabel&&(0,nn.jsxs)("div",{className:"ToolIcon__label",children:[Qt["aria-label"]," ",yt&&(0,nn.jsx)(Xt.Z,{})]}),Qt.children]})}return(0,nn.jsxs)("label",{className:(0,Ut.Z)("ToolIcon",Qt.className),title:Qt.title,onPointerDown:function(Ct){var ct;Et.current=Ct.pointerType||null,(ct=Qt.onPointerDown)===null||ct===void 0||ct.call(Qt,{pointerType:Ct.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){Et.current=null})},children:[(0,nn.jsx)("input",{className:"ToolIcon_type_radio ".concat(mn),type:"radio",name:Qt.name,"aria-label":Qt["aria-label"],"aria-keyshortcuts":Qt["aria-keyshortcuts"],"data-testid":Qt["data-testid"],id:"".concat(fn,"-").concat(Qt.id),onChange:function(){var Ct;(Ct=Qt.onChange)===null||Ct===void 0||Ct.call(Qt,{pointerType:Et.current})},checked:Qt.checked,ref:Nn}),(0,nn.jsxs)("div",{className:"ToolIcon__icon",children:[Qt.icon,Qt.keyBindingLabel&&(0,nn.jsx)("span",{className:"ToolIcon__keybinding",children:Qt.keyBindingLabel})]})]})});cn.defaultProps={visible:!0,className:"",size:"medium"},cn.displayName="ToolButton"},1894:function(Lt,kt,_){_.d(kt,{u:function(){return vn},bK:function(){return mn},Js:function(){return pn}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),Ut=_(4010),rt=_.n(Ut),vt=_(1469),Xt=_.n(vt),nn=_(9329),cn=_.n(nn),Qt=_(6626),hn={};hn.styleTagTransform=cn(),hn.setAttributes=rt(),hn.insert=xt().bind(null,"head"),hn.domAPI=at(),hn.insertStyleElement=Xt(),ht()(Qt.Z,hn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var fn=_(9787),Nn=_(4512),mn=function(){var yt=document.querySelector(".excalidraw-tooltip");if(yt)return yt;var Ht=document.createElement("div");return document.body.appendChild(Ht),Ht.classList.add("excalidraw-tooltip"),Ht},pn=function(yt,Ht){var Bt,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",Et=yt.getBoundingClientRect(),At=window.innerWidth,Ct=window.innerHeight,ct=5,it=Ht.left+Ht.width/2-Et.width/2;it<0?it=ct:it+Et.width>=At&&(it=At-Et.width-ct),bt==="bottom"?(Bt=Ht.top+Ht.height+ct)+Et.height>=Ct&&(Bt=Ht.top-Et.height-ct):(Bt=Ht.top-Et.height-ct)<0&&(Bt=Ht.top+Ht.height+ct),Object.assign(yt.style,{top:"".concat(Bt,"px"),left:"".concat(it,"px")})},vn=function(yt){var Ht=yt.children,Bt=yt.label,bt=yt.long,Et=bt!==void 0&&bt,At=yt.style;return(0,fn.useEffect)(function(){return function(){return mn().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Nn.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(Ct){return function(ct,it,_e,lt){it.classList.add("excalidraw-tooltip--visible"),it.style.minWidth=lt?"50ch":"10ch",it.style.maxWidth=lt?"50ch":"15ch",it.textContent=_e;var st=ct.getBoundingClientRect();pn(it,st)}(Ct.currentTarget,mn(),Bt,Et)},onPointerLeave:function(){return mn().classList.remove("excalidraw-tooltip--visible")},style:At,children:Ht})}},6773:function(Lt,kt,_){_.d(kt,{Z:function(){return Bt}});var pt=_(2577),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),Ut=_.n(xt),rt=_(4010),vt=_.n(rt),Xt=_(1469),nn=_.n(Xt),cn=_(9329),Qt=_.n(cn),hn=_(6359),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=vt(),fn.insert=Ut().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=nn(),ot()(hn.Z,fn),hn.Z&&hn.Z.locals&&hn.Z.locals;var Nn=_(9787),mn=_.n(Nn),pn=_(45),vn=_(1894),yt=_(2134),Ht=_(4512),Bt=function(bt){var Et=bt.className,At=bt.mobile,Ct=bt.collaborators,ct=(0,yt.eh)(),it=new Map;Ct.forEach(function(lt,st){it.set(lt.id||st,lt)});var _e=it.size>0&&Array.from(it).filter(function(lt){var st=(0,pt.Z)(lt,2),It=(st[0],st[1]);return Object.keys(It).length!==0}).map(function(lt){var st=(0,pt.Z)(lt,2),It=st[0],Dt=st[1],tn=ct.renderAction("goToCollaborator",[It,Dt]);return At?(0,Ht.jsx)(vn.u,{label:Dt.username||"Unknown user",children:tn},It):(0,Ht.jsx)(mn().Fragment,{children:tn},It)});return(0,Ht.jsx)("div",{className:(0,pn.Z)("UserList",Et,{UserList_mobile:At}),children:_e})}},8888:function(Lt,kt,_){_.d(kt,{A3:function(){return Xt},ZC:function(){return cn},R6:function(){return nn}});var pt=_(9787),ht=_.n(pt);const ot=Qt=>{let hn;const fn=new Set,Nn=(vn,yt)=>{const Ht=typeof vn=="function"?vn(hn):vn;if(!Object.is(Ht,hn)){const Bt=hn;hn=yt??typeof Ht!="object"?Ht:Object.assign({},hn,Ht),fn.forEach(bt=>bt(hn,Bt))}},mn=()=>hn,pn={setState:Nn,getState:mn,subscribe:vn=>(fn.add(vn),()=>fn.delete(vn)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),fn.clear()}};return hn=Qt(Nn,mn,pn),pn},at=Qt=>Qt?ot(Qt):ot;var gt=_(5668);const{useSyncExternalStoreWithSelector:xt}=gt,Ut=Qt=>{typeof Qt!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const hn=typeof Qt=="function"?at(Qt):Qt,fn=(Nn,mn)=>function(pn,vn=pn.getState,yt){const Ht=xt(pn.subscribe,pn.getState,pn.getServerState||pn.getState,vn,yt);return(0,pt.useDebugValue)(Ht),Ht}(hn,Nn,mn);return Object.assign(fn,hn),fn},rt=Qt=>Qt?Ut(Qt):Ut;function vt(){const Qt=rt(hn=>({current:new Array,version:0,set:hn}));return{In:({children:hn})=>{const fn=Qt(mn=>mn.set),Nn=Qt(mn=>mn.version);return(0,pt.useLayoutEffect)(()=>{fn(mn=>({version:mn.version+1}))},[]),(0,pt.useLayoutEffect)(()=>(fn(({current:mn})=>({current:[...mn,hn]})),()=>fn(({current:mn})=>({current:mn.filter(pn=>pn!==hn)}))),[hn,Nn]),null},Out:()=>{const hn=Qt(fn=>fn.current);return ht().createElement(ht().Fragment,null,hn)}}}var Xt=ht().createContext(null),nn=function(){return ht().useContext(Xt)},cn=function(){return ht().useMemo(function(){return{mainMenuTunnel:vt(),welcomeScreenMenuHintTunnel:vt(),welcomeScreenToolbarHintTunnel:vt(),welcomeScreenHelpHintTunnel:vt(),welcomeScreenCenterTunnel:vt(),footerCenterTunnel:vt(),jotaiScope:Symbol()}},[])}},9127:function(Lt,kt,_){_.d(kt,{Z:function(){return _t}});var pt=_(45),ht=_(2134),ot=_(4512),at=function(St){var Vt=St.className,Pt=Vt===void 0?"":Vt,qt=St.children,dn=St.onToggle,Rt=(0,ht.gF)(),Zt=(0,ht.Fy)(),zt=(0,pt.Z)("dropdown-menu-button ".concat(Pt),"zen-mode-transition",{"transition-left":Rt.zenModeEnabled,"dropdown-menu-button--mobile":Zt.isMobile}).trim();return(0,ot.jsx)("button",{"data-prevent-outside-click":!0,className:zt,onClick:dn,type:"button","data-testid":"dropdown-menu-button",children:qt})},gt=at;at.displayName="DropdownMenuTrigger";var xt=_(2739),Ut=function(){return(0,ot.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},rt=Ut;Ut.displayName="DropdownMenuSeparator";var vt=function(St){var Vt=St.children,Pt=St.className,qt=Pt===void 0?"":Pt,dn=St.style,Rt=St.title;return(0,ot.jsxs)("div",{className:"dropdown-menu-group ".concat(qt),style:dn,children:[Rt&&(0,ot.jsx)("p",{className:"dropdown-menu-group-title",children:Rt}),Vt]})},Xt=vt;vt.displayName="DropdownMenuGroup";var nn=_(1930),cn=_(9787),Qt=_.n(cn),hn=_(1881),fn=_(7239),Nn=_(6772),mn=function(St){var Vt,Pt,qt=St.children,dn=St.onClickOutside,Rt=St.className,Zt=Rt===void 0?"":Rt,zt=St.onSelect,ft=St.style,Gt=(0,ht.Fy)(),wt=(Vt=function(){dn==null||dn()},Pt=(0,cn.useRef)(null),(0,cn.useEffect)(function(){var Mt=function(un){var bn=Pt.current;!bn||bn.contains(un.target)||(0,nn.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(jt){return jt.contains(un.target)})||Vt(un)};return document.addEventListener("pointerdown",Mt),document.addEventListener("touchstart",Mt),function(){document.removeEventListener("pointerdown",Mt),document.removeEventListener("touchstart",Mt)}},[Pt,Vt]),Pt),Jt=(0,pt.Z)("dropdown-menu ".concat(Zt),{"dropdown-menu--mobile":Gt.isMobile}).trim();return(0,ot.jsx)(Nn.N7.Provider,{value:{onSelect:zt},children:(0,ot.jsx)("div",{ref:wt,className:Jt,style:ft,"data-testid":"dropdown-menu",children:Gt.isMobile?(0,ot.jsx)(fn.Z.Col,{className:"dropdown-menu-container",children:qt}):(0,ot.jsx)(hn.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:qt})})})};mn.displayName="DropdownMenuContent";var pn=mn,vn=_(4215),yt=_(7169),Ht=_(2726),Bt=["children","className"];function bt(St,Vt){var Pt=Object.keys(St);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(St);Vt&&(qt=qt.filter(function(dn){return Object.getOwnPropertyDescriptor(St,dn).enumerable})),Pt.push.apply(Pt,qt)}return Pt}function Et(St){for(var Vt=1;Vt<arguments.length;Vt++){var Pt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?bt(Object(Pt),!0).forEach(function(qt){(0,yt.Z)(St,qt,Pt[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Pt)):bt(Object(Pt)).forEach(function(qt){Object.defineProperty(St,qt,Object.getOwnPropertyDescriptor(Pt,qt))})}return St}var At=function(St){var Vt=St.children,Pt=St.className,qt=Pt===void 0?"":Pt,dn=(0,Ht.Z)(St,Bt);return(0,ot.jsx)("div",Et(Et({},dn),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(qt).trim(),children:Vt}))},Ct=_(487),ct=_.n(Ct),it=_(631),_e=_.n(it),lt=_(2052),st=_.n(lt),It=_(4010),Dt=_.n(It),tn=_(1469),Tt=_.n(tn),$t=_(9329),Wt=_.n($t),Ot=_(7399),In={};In.styleTagTransform=Wt(),In.setAttributes=Dt(),In.insert=st().bind(null,"head"),In.domAPI=_e(),In.insertStyleElement=Tt(),ct()(Ot.Z,In),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var rn=function(St){var Vt=St.children,Pt=St.open,qt=function(Rt){return Qt().Children.toArray(Rt).find(function(Zt){return Qt().isValidElement(Zt)&&typeof Zt.type!="string"&&(Zt==null?void 0:Zt.type.displayName)&&Zt.type.displayName==="DropdownMenuTrigger"})||null}(Vt),dn=function(Rt){return Qt().Children.toArray(Rt).find(function(Zt){return Qt().isValidElement(Zt)&&typeof Zt.type!="string"&&(Zt==null?void 0:Zt.type.displayName)&&Zt.type.displayName==="DropdownMenuContent"})||null}(Vt);return(0,ot.jsxs)(ot.Fragment,{children:[qt,Pt&&dn]})};rn.Trigger=gt,rn.Content=pn,rn.Item=xt.Z,rn.ItemLink=vn.Z,rn.ItemCustom=At,rn.Group=Xt,rn.Separator=rt;var _t=rn;rn.displayName="DropdownMenu"},2739:function(Lt,kt,_){var pt=_(7169),ht=_(2726),ot=_(6772),at=_(4122),gt=_(4512),xt=["icon","onSelect","children","shortcut","className"];function Ut(Xt,nn){var cn=Object.keys(Xt);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(Xt);nn&&(Qt=Qt.filter(function(hn){return Object.getOwnPropertyDescriptor(Xt,hn).enumerable})),cn.push.apply(cn,Qt)}return cn}function rt(Xt){for(var nn=1;nn<arguments.length;nn++){var cn=arguments[nn]!=null?arguments[nn]:{};nn%2?Ut(Object(cn),!0).forEach(function(Qt){(0,pt.Z)(Xt,Qt,cn[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(cn)):Ut(Object(cn)).forEach(function(Qt){Object.defineProperty(Xt,Qt,Object.getOwnPropertyDescriptor(cn,Qt))})}return Xt}var vt=function(Xt){var nn,cn=Xt.icon,Qt=Xt.onSelect,hn=Xt.children,fn=Xt.shortcut,Nn=Xt.className,mn=(0,ht.Z)(Xt,xt),pn=(0,ot.qZ)(mn.onClick,Qt);return(0,gt.jsx)("button",rt(rt({},mn),{},{onClick:pn,type:"button",className:(0,ot.n)(Nn),title:(nn=mn.title)!==null&&nn!==void 0?nn:mn["aria-label"],children:(0,gt.jsx)(at.Z,{icon:cn,shortcut:fn,children:hn})}))};kt.Z=vt,vt.displayName="DropdownMenuItem"},4122:function(Lt,kt,_){var pt=_(2134),ht=_(4512);kt.Z=function(ot){var at=ot.icon,gt=ot.shortcut,xt=ot.children,Ut=(0,pt.Fy)();return(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"dropdown-menu-item__icon",children:at}),(0,ht.jsx)("div",{className:"dropdown-menu-item__text",children:xt}),gt&&!Ut.isMobile&&(0,ht.jsx)("div",{className:"dropdown-menu-item__shortcut",children:gt})]})}},4215:function(Lt,kt,_){var pt=_(7169),ht=_(2726),ot=_(4122),at=_(6772),gt=_(4512),xt=["icon","shortcut","href","children","onSelect","className"];function Ut(Xt,nn){var cn=Object.keys(Xt);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(Xt);nn&&(Qt=Qt.filter(function(hn){return Object.getOwnPropertyDescriptor(Xt,hn).enumerable})),cn.push.apply(cn,Qt)}return cn}function rt(Xt){for(var nn=1;nn<arguments.length;nn++){var cn=arguments[nn]!=null?arguments[nn]:{};nn%2?Ut(Object(cn),!0).forEach(function(Qt){(0,pt.Z)(Xt,Qt,cn[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(cn)):Ut(Object(cn)).forEach(function(Qt){Object.defineProperty(Xt,Qt,Object.getOwnPropertyDescriptor(cn,Qt))})}return Xt}var vt=function(Xt){var nn,cn=Xt.icon,Qt=Xt.shortcut,hn=Xt.href,fn=Xt.children,Nn=Xt.onSelect,mn=Xt.className,pn=mn===void 0?"":mn,vn=(0,ht.Z)(Xt,xt),yt=(0,at.qZ)(vn.onClick,Nn);return(0,gt.jsx)("a",rt(rt({},vn),{},{href:hn,target:"_blank",rel:"noreferrer",className:(0,at.n)(pn),title:(nn=vn.title)!==null&&nn!==void 0?nn:vn["aria-label"],onClick:yt,children:(0,gt.jsx)(ot.Z,{icon:cn,shortcut:Qt,children:fn})}))};kt.Z=vt,vt.displayName="DropdownMenuItemLink"},6772:function(Lt,kt,_){_.d(kt,{N7:function(){return gt},n:function(){return xt},qZ:function(){return Ut}});var pt=_(9787),ht=_.n(pt),ot=_(2335),at=_(6340),gt=ht().createContext({}),xt=function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(rt).trim()},Ut=function(rt,vt){var Xt=(0,pt.useContext)(gt);return(0,at.Mj)(rt,function(nn){var cn,Qt=new CustomEvent(ot.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});vt==null||vt(Qt),Qt.defaultPrevented||(cn=Xt.onSelect)===null||cn===void 0||cn.call(Xt,Qt)})}},3646:function(Lt,kt,_){_.d(kt,{$c:function(){return yn},$q:function(){return $t},BF:function(){return cr},BR:function(){return un},Ct:function(){return tr},D7:function(){return Zt},DG:function(){return bn},DJ:function(){return Et},DS:function(){return qr},EO:function(){return mo},ET:function(){return Rt},FC:function(){return Ht},Gc:function(){return xn},HL:function(){return ir},Hk:function(){return Bl},Hy:function(){return Pt},IN:function(){return Tn},J8:function(){return jt},Mw:function(){return At},NA:function(){return rn},NW:function(){return St},Nw:function(){return Jo},OA:function(){return Rr},OW:function(){return ct},P7:function(){return No},Pm:function(){return Dt},RJ:function(){return or},RY:function(){return Vt},Re:function(){return _e},ST:function(){return wn},Sd:function(){return Wt},TP:function(){return Fn},Tl:function(){return Mt},Tw:function(){return jn},UE:function(){return Gn},VL:function(){return tn},Vl:function(){return Xn},Vq:function(){return Nn},W2:function(){return lo},W5:function(){return Un},Wl:function(){return pr},X7:function(){return yr},XB:function(){return Tt},XH:function(){return In},YA:function(){return pn},ZA:function(){return Ar},Zm:function(){return zt},_C:function(){return yt},_U:function(){return bt},a0:function(){return Ur},a1:function(){return wt},a5:function(){return Or},aA:function(){return Zo},aT:function(){return ba},bf:function(){return ho},by:function(){return qt},e0:function(){return lt},eQ:function(){return ft},fr:function(){return Co},gK:function(){return Mn},h0:function(){return dn},il:function(){return po},j8:function(){return Ir},jn:function(){return zn},kL:function(){return _t},kM:function(){return oo},lF:function(){return ur},m:function(){return lr},m9:function(){return Nr},mh:function(){return Wn},nb:function(){return it},np:function(){return Zr},nq:function(){return wr},o3:function(){return io},oQ:function(){return Bt},oT:function(){return so},op:function(){return $n},pO:function(){return mn},po:function(){return Jt},pw:function(){return Pn},q0:function(){return Cr},qQ:function(){return vn},rr:function(){return to},t5:function(){return Cn},tW:function(){return Er},tb:function(){return It},tn:function(){return na},uD:function(){return ln},vo:function(){return Kr},wr:function(){return $r},xL:function(){return Ot},xP:function(){return Gt},xs:function(){return gr},z6:function(){return ga},zG:function(){return Nt},zb:function(){return st},zu:function(){return Ct}});var pt=_(7169),ht=_(2726),ot=_(9787),at=_.n(ot),gt=_(5284),xt=_(45),Ut=_(2335),rt=_(4512),vt=["width","height","mirror","style"];function Xt(ro,Io){var Qo=Object.keys(ro);if(Object.getOwnPropertySymbols){var Lo=Object.getOwnPropertySymbols(ro);Io&&(Lo=Lo.filter(function(Wl){return Object.getOwnPropertyDescriptor(ro,Wl).enumerable})),Qo.push.apply(Qo,Lo)}return Qo}function nn(ro){for(var Io=1;Io<arguments.length;Io++){var Qo=arguments[Io]!=null?arguments[Io]:{};Io%2?Xt(Object(Qo),!0).forEach(function(Lo){(0,pt.Z)(ro,Lo,Qo[Lo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ro,Object.getOwnPropertyDescriptors(Qo)):Xt(Object(Qo)).forEach(function(Lo){Object.defineProperty(ro,Lo,Object.getOwnPropertyDescriptor(Qo,Lo))})}return ro}var cn=function(ro){return ro===Ut.C6.LIGHT?gt.white:"#1e1e1e"},Qt=function(ro){var Io=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Qo=typeof Io=="number"?{width:Io}:Io,Lo=Qo.width,Wl=Lo===void 0?512:Lo,Ol=Qo.height,Hl=Ol===void 0?Wl:Ol,Zl=Qo.mirror,_o=Qo.style,ls=(0,ht.Z)(Qo,vt);return(0,rt.jsx)("svg",nn(nn({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Wl," ").concat(Hl),className:(0,xt.Z)({"rtl-mirror":Zl}),style:_o},ls),{},{children:typeof ro=="string"?(0,rt.jsx)("path",{fill:"currentColor",d:ro}):ro}))},hn={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},fn={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Nn=(Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,rt.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,rt.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,rt.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),hn),Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,rt.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,rt.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,rt.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,rt.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),hn)),mn=Qt((0,rt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,rt.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),hn),pn=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,rt.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,rt.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),hn),vn=Qt((0,rt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,rt.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,rt.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),hn),yt=Qt((0,rt.jsxs)("g",{children:[(0,rt.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,rt.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,rt.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,rt.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),fn),Ht=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,rt.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,rt.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),fn),Bt=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),bt=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),Et=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),At=Qt((0,rt.jsxs)("g",{fill:"currentColor",children:[(0,rt.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),Ct=Qt((0,rt.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,rt.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),ct=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),hn),it=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),hn),_e=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),hn),lt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,rt.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,rt.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),hn),st=Qt((0,rt.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),fn),It=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,rt.jsx)("path",{d:"M16 7h4"}),(0,rt.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),hn),Dt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,rt.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),fn),tn=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,rt.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,rt.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,rt.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,rt.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),hn),Tt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M12.5 6.667h.01"}),(0,rt.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,rt.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,rt.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),fn),$t=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,rt.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),hn),Wt=Qt((0,rt.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),fn),Ot=Qt((0,rt.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),fn),In=Qt((0,rt.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),fn),rn=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,rt.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),fn),_t=Qt((0,rt.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),fn),St=Qt((0,rt.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,rt.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),fn),Vt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,rt.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,rt.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),hn),Pt=Qt((0,rt.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),fn),qt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,rt.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,rt.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),hn),dn=Qt((0,rt.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),fn),Rt=Qt((0,rt.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),fn),Zt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,rt.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),fn),zt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),hn),ft=Qt((0,rt.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Gt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,rt.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),fn),wt=Qt("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Jt=Qt("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Mt=Qt((0,rt.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),fn),un=Qt("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),bn=Qt("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),jt=Qt((0,rt.jsxs)("g",{strokeWidth:"1.25",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M15 8h.01"}),(0,rt.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,rt.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,rt.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,rt.jsx)("path",{d:"M19 16v6"}),(0,rt.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),hn),Fn=Qt("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),yn=(Qt("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Qt("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Qt("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),Gn=(Qt("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),Qt((0,rt.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),fn)),Nt=Qt((0,rt.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),fn),Xn=Qt("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Cn=(Qt((0,rt.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),fn),Qt("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,rt.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),Qt((0,rt.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn)),xn=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Tn=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Pn=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",children:[(0,rt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,rt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,rt.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,rt.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),tr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),ir=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),gr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Wn=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),ln=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Un=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),wn=Qt((0,rt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),fn),Mn=Qt((0,rt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,rt.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),fn),zn=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,rt.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,rt.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,rt.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),hn),jn=(Qt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Qt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,rt.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn)),$n=Qt("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),cr=(Qt("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Qt("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Qt("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),at().memo(function(ro){var Io=ro.theme;return Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,rt.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,rt.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,rt.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,rt.jsxs)("g",{fill:cn(Io),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,rt.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),or=at().memo(function(ro){var Io=ro.theme;return Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,rt.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,rt.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,rt.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,rt.jsxs)("g",{fill:cn(Io),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,rt.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,rt.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),ur=Qt((0,rt.jsx)("g",{strokeWidth:1.25,children:(0,rt.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),fn),Ur=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,rt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,rt.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,rt.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),fn),Zr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("g",{clipPath:"url(#a)",children:[(0,rt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,rt.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,rt.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,rt.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,rt.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),yr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",children:(0,rt.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),nn(nn({},fn),{},{fill:"currentColor"})),Ar=Qt((0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fn),pr=Qt((0,rt.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),fn),Nr=Qt((0,rt.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),fn),Or=Qt((0,rt.jsxs)("g",{strokeWidth:"2",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M5 12h2"}),(0,rt.jsx)("path",{d:"M17 12h2"}),(0,rt.jsx)("path",{d:"M11 12h2"})]}),hn),ba=Qt((0,rt.jsxs)("g",{strokeWidth:"2",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M4 12v.01"}),(0,rt.jsx)("path",{d:"M8 12v.01"}),(0,rt.jsx)("path",{d:"M12 12v.01"}),(0,rt.jsx)("path",{d:"M16 12v.01"}),(0,rt.jsx)("path",{d:"M20 12v.01"})]}),hn),ho=Qt((0,rt.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),fn),oo=Qt((0,rt.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),fn),lo=Qt((0,rt.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),fn),$r=Qt((0,rt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,rt.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,rt.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,rt.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,rt.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,rt.jsx)("path",{d:"M16.6667 10V10.01"}),(0,rt.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,rt.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,rt.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,rt.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,rt.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,rt.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,rt.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),fn),qr=Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,rt.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,rt.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,rt.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,rt.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,rt.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,rt.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,rt.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,rt.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,rt.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,rt.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,rt.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),hn),Co=Qt((0,rt.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),po=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,rt.jsxs)("g",{transform:Qo?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,rt.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,rt.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),na=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,rt.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:[(0,rt.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,rt.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),lr=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,rt.jsx)("g",{transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:(0,rt.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Ir=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,rt.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:[(0,rt.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,rt.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Cr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",children:(0,rt.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),wr=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",children:(0,rt.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Er=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",children:(0,rt.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Rr=Qt((0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fn),Kr=Qt((0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,rt.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),fn),ga=Qt((0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,rt.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,rt.jsx)("defs",{children:(0,rt.jsx)("clipPath",{id:"a",children:(0,rt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),to=Qt((0,rt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,rt.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,rt.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),hn),io=Qt((0,rt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,rt.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,rt.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),hn),so=Qt((0,rt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,rt.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,rt.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),hn),mo=at().memo(function(ro){return ro.theme,Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,rt.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),hn)}),Zo=at().memo(function(ro){return ro.theme,Qt((0,rt.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,rt.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),hn)}),No=at().memo(function(ro){return ro.theme,Qt((0,rt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,rt.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,rt.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),hn)}),Jo=Qt((0,rt.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Bl=(Qt((0,rt.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),Qt((0,rt.jsxs)("g",{strokeWidth:1.25,children:[(0,rt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,rt.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,rt.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,rt.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,rt.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),hn))},4709:function(Lt,kt,_){_.d(kt,{Z:function(){return wt}});var pt={};_.r(pt),_.d(pt,{ChangeCanvasBackground:function(){return Tt},ClearCanvas:function(){return Dt},Export:function(){return $t},Help:function(){return It},LiveCollaborationTrigger:function(){return Ot},LoadScene:function(){return _e},SaveAsImage:function(){return st},SaveToActiveFile:function(){return lt},Socials:function(){return Wt},ToggleTheme:function(){return tn}});var ht=_(2134),ot=_(9127),at=_(785),gt=_(8211),xt=_(3646),Ut=_(2739),rt=_(4215),vt=_(6710),Xt=_(487),nn=_.n(Xt),cn=_(631),Qt=_.n(cn),hn=_(2052),fn=_.n(hn),Nn=_(4010),mn=_.n(Nn),pn=_(1469),vn=_.n(pn),yt=_(9329),Ht=_.n(yt),Bt=_(4343),bt={};bt.styleTagTransform=Ht(),bt.setAttributes=mn(),bt.insert=fn().bind(null,"head"),bt.domAPI=Qt(),bt.insertStyleElement=vn(),nn()(Bt.Z,bt),Bt.Z&&Bt.Z.locals&&Bt.Z.locals;var Et=_(45),At=_(4739),Ct=_(6798),ct=_(9487),it=_(4512),_e=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return Mt.isActionEnabled(vt._d)?(0,it.jsx)(Ut.Z,{icon:xt.Tl,onSelect:function(){return Mt.executeAction(vt._d)},"data-testid":"load-button",shortcut:(0,at.C)("loadScene"),"aria-label":Jt("buttons.load"),children:Jt("buttons.load")}):null};_e.displayName="LoadScene";var lt=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return Mt.isActionEnabled(vt.ns)?(0,it.jsx)(Ut.Z,{shortcut:(0,at.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Mt.executeAction(vt.ns)},icon:xt.a1,"aria-label":"".concat(Jt("buttons.save")),children:"".concat(Jt("buttons.save"))}):null};lt.displayName="SaveToActiveFile";var st=function(){var Jt=(0,ht.n9)(),Mt=(0,gt.QT)().t;return(0,it.jsx)(Ut.Z,{icon:xt.J8,"data-testid":"image-export-button",onSelect:function(){return Jt({openDialog:"imageExport"})},shortcut:(0,at.C)("imageExport"),"aria-label":Mt("buttons.exportImage"),children:Mt("buttons.exportImage")})};st.displayName="SaveAsImage";var It=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return(0,it.jsx)(Ut.Z,{"data-testid":"help-menu-item",icon:xt.by,onSelect:function(){return Mt.executeAction(vt.jY)},shortcut:"?","aria-label":Jt("helpDialog.title"),children:Jt("helpDialog.title")})};It.displayName="Help";var Dt=function(){var Jt=(0,gt.QT)().t,Mt=(0,At.b9)(Ct.w,ct.yE);return(0,ht.eh)().isActionEnabled(vt.mo)?(0,it.jsx)(Ut.Z,{icon:xt.XH,onSelect:function(){return Mt("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Jt("buttons.clearReset"),children:Jt("buttons.clearReset")}):null};Dt.displayName="ClearCanvas";var tn=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.gF)(),un=(0,ht.eh)();return un.isActionEnabled(vt.Zp)?(0,it.jsx)(Ut.Z,{onSelect:function(bn){return bn.preventDefault(),un.executeAction(vt.Zp)},icon:Mt.theme==="dark"?xt.NW:xt.kL,"data-testid":"toggle-dark-mode",shortcut:(0,at.C)("toggleTheme"),"aria-label":Mt.theme==="dark"?Jt("buttons.lightMode"):Jt("buttons.darkMode"),children:Mt.theme==="dark"?Jt("buttons.lightMode"):Jt("buttons.darkMode")}):null};tn.displayName="ToggleTheme";var Tt=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.gF)(),un=(0,ht.eh)();return Mt.viewModeEnabled?null:(0,it.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,it.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:Jt("labels.canvasBackground")}),(0,it.jsx)("div",{style:{padding:"0 0.625rem"},children:un.renderAction("changeViewBackgroundColor")})]})};Tt.displayName="ChangeCanvasBackground";var $t=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.n9)();return(0,it.jsx)(Ut.Z,{icon:xt.Hy,onSelect:function(){Mt({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Jt("buttons.export"),children:Jt("buttons.export")})};$t.displayName="Export";var Wt=function(){return(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(rt.Z,{icon:xt.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,it.jsx)(rt.Z,{icon:xt.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,it.jsx)(rt.Z,{icon:xt.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};Wt.displayName="Socials";var Ot=function(Jt){var Mt=Jt.onSelect,un=Jt.isCollaborating,bn=(0,gt.QT)().t;return(0,it.jsx)(Ut.Z,{"data-testid":"collab-button",icon:xt.jn,className:(0,Et.Z)({"active-collab":un}),onSelect:Mt,children:bn("labels.liveCollaboration")})};Ot.displayName="LiveCollaborationTrigger";var In=_(6773),rn=_(7169),_t=_(2577),St=_(9787),Vt=_(8888);function Pt(Jt,Mt){var un=Object.keys(Jt);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(Jt);Mt&&(bn=bn.filter(function(jt){return Object.getOwnPropertyDescriptor(Jt,jt).enumerable})),un.push.apply(un,bn)}return un}var qt,dn,Rt,Zt,zt,ft=_(6340),Gt=Object.assign((qt="MainMenu",dn=function(Jt){var Mt=Jt.children,un=Jt.onSelect,bn=(0,Vt.R6)().mainMenuTunnel,jt=(0,ht.Fy)(),Fn=(0,ht.gF)(),yn=(0,ht.n9)(),Gn=jt.isMobile?void 0:function(){return yn({openMenu:null})};return(0,it.jsx)(bn.In,{children:(0,it.jsxs)(ot.Z,{open:Fn.openMenu==="canvas",children:[(0,it.jsx)(ot.Z.Trigger,{onToggle:function(){yn({openMenu:Fn.openMenu==="canvas"?null:"canvas"})},children:xt.RY}),(0,it.jsxs)(ot.Z.Content,{onClickOutside:Gn,onSelect:(0,ft.Mj)(un,function(){yn({openMenu:null})}),children:[Mt,jt.isMobile&&Fn.collaborators.size>0&&(0,it.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,it.jsx)("legend",{children:(0,gt.t)("labels.collaborators")}),(0,it.jsx)(In.Z,{mobile:!0,collaborators:Fn.collaborators})]})]})]})})},Rt=(0,At.cn)(0),Zt=!1,zt=function(Jt){var Mt=(0,Vt.R6)().jotaiScope,un=(0,At.KO)(Rt,Mt),bn=(0,_t.Z)(un,2),jt=bn[0],Fn=bn[1];return(0,St.useLayoutEffect)(function(){return Fn(function(yn){return yn+1}),function(){Fn(function(yn){return yn-1})}},[Fn]),Jt.__fallback||(Zt=!0),!jt&&Jt.__fallback&&Zt||jt>1&&Jt.__fallback?null:(0,it.jsx)(dn,function(yn){for(var Gn=1;Gn<arguments.length;Gn++){var Nt=arguments[Gn]!=null?arguments[Gn]:{};Gn%2?Pt(Object(Nt),!0).forEach(function(Xn){(0,rn.Z)(yn,Xn,Nt[Xn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yn,Object.getOwnPropertyDescriptors(Nt)):Pt(Object(Nt)).forEach(function(Xn){Object.defineProperty(yn,Xn,Object.getOwnPropertyDescriptor(Nt,Xn))})}return yn}({},Jt))},zt.displayName=qt,zt),{Trigger:ot.Z.Trigger,Item:ot.Z.Item,ItemLink:ot.Z.ItemLink,ItemCustom:ot.Z.ItemCustom,Group:ot.Z.Group,Separator:ot.Z.Separator,DefaultItems:pt}),wt=Gt},2335:function(Lt,kt,_){_.d(kt,{jo:function(){return tr},iC:function(){return Et},gK:function(){return ln},$C:function(){return tn},oc:function(){return st},_9:function(){return jn},HN:function(){return or},qy:function(){return Tn},rk:function(){return In},n5:function(){return Ot},h6:function(){return Pn},Rx:function(){return zn},Hg:function(){return rn},cW:function(){return bn},hs:function(){return _t},f:function(){return At},xY:function(){return Mn},Iw:function(){return ct},$e:function(){return it},Vi:function(){return Dt},Ks:function(){return fn},r8:function(){return Pt},ZB:function(){return xn},pb:function(){return qt},ut:function(){return Tt},k:function(){return St},sA:function(){return wt},LL:function(){return dn},EE:function(){return Xn},qx:function(){return Ct},$n:function(){return ir},zK:function(){return Cn},LO:function(){return Vt},Zj:function(){return Gt},Yx:function(){return Gn},sS:function(){return yn},kV:function(){return Fn},sk:function(){return Nt},eF:function(){return jt},Oh:function(){return It},WR:function(){return cr},a6:function(){return $n},HM:function(){return zt},ay:function(){return lt},hR:function(){return gr},Gj:function(){return Rt},I8:function(){return wn},wZ:function(){return _e},C6:function(){return $t},ZF:function(){return Jt},nM:function(){return Zt},ah:function(){return un},UO:function(){return Mt},Kr:function(){return Wn},oX:function(){return Un},_D:function(){return Wt},V4:function(){return ft},Dt:function(){return yt},jP:function(){return bt},Um:function(){return pn},vU:function(){return Ht},G6:function(){return Bt},ED:function(){return vn}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),Ut=_(4010),rt=_.n(Ut),vt=_(1469),Xt=_.n(vt),nn=_(9329),cn=_.n(nn),Qt=_(6464),hn={};hn.styleTagTransform=cn(),hn.setAttributes=rt(),hn.insert=xt().bind(null,"head"),hn.domAPI=at(),hn.insertStyleElement=Xt(),ht()(Qt.Z,hn);var fn,Nn=Qt.Z&&Qt.Z.locals?Qt.Z.locals:void 0,mn=_(5284),pn=/Mac|iPod|iPhone|iPad/.test(navigator.platform),vn=/^Win/.test(navigator.platform),yt=/\b(android)\b/i.test(navigator.userAgent),Ht="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,Bt=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,bt=function(){var ur,Ur;return((ur=navigator.brave)===null||ur===void 0||(Ur=ur.isBrave)===null||Ur===void 0?void 0:Ur.name)==="isBrave"},Et="Excalidraw",At=10,Ct=8,ct=5,it=1,_e=30,lt=Math.PI/12,st={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},It={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(ur){ur.COPY="copy",ur.PASTE="paste",ur.CUT="cut",ur.KEYDOWN="keydown",ur.KEYUP="keyup",ur.MOUSE_MOVE="mousemove",ur.RESIZE="resize",ur.UNLOAD="unload",ur.FOCUS="focus",ur.BLUR="blur",ur.DRAG_OVER="dragover",ur.DROP="drop",ur.GESTURE_END="gestureend",ur.BEFORE_UNLOAD="beforeunload",ur.GESTURE_START="gesturestart",ur.GESTURE_CHANGE="gesturechange",ur.POINTER_MOVE="pointermove",ur.POINTER_UP="pointerup",ur.STATE_CHANGE="statechange",ur.WHEEL="wheel",ur.TOUCH_START="touchstart",ur.TOUCH_END="touchend",ur.HASHCHANGE="hashchange",ur.VISIBILITY_CHANGE="visibilitychange",ur.SCROLL="scroll",ur.EXCALIDRAW_LINK="excalidraw-link",ur.MENU_ITEM_SELECT="menu.itemSelect"})(fn||(fn={}));var Dt={TEST:"test",DEVELOPMENT:"development"},tn={SHAPE_ACTIONS_MENU:"App-menu__left"},Tt={Virgil:1,Helvetica:2,Cascadia:3},$t={LIGHT:"light",DARK:"dark"},Wt="Segoe UI Emoji",Ot=20,In=Tt.Virgil,rn="left",_t="top",St=20,Vt={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},Pt={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},qt=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,dn=500,Rt=300,Zt=500,zt=100,ft=.1,Gt=.1,wt=300,Jt=Nn.themeFilter,Mt={addLibrary:"addLibrary"},un={addLibrary:"addLibrary"},bn={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},jt=640,Fn=730,yn=1e3,Gn=500,Nt=1229,Xn=parseInt(Nn.rightSidebarWidth),Cn=2,xn=[1,2,3],Tn=10,Pn=1440,tr=[Vt.png,Vt.jpg,Vt.svg,Vt.gif,Vt.webp,Vt.bmp,Vt.ico],ir=2097152,gr="http://www.w3.org/2000/svg",Wn={excalidraw:2,excalidrawLibrary:2},ln=5,Un={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},wn={LEFT:"left",CENTER:"center",RIGHT:"right"},Mn=20,zn=.25,jn=32,$n={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},cr="__precedingElement__",or={strokeColor:mn.black,backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,locked:!1}},434:function(Lt,kt,_){_.d(kt,{DQ:function(){return Bt},KG:function(){return It},Pn:function(){return tn},Qk:function(){return Ht},Sf:function(){return st},Tu:function(){return Dt},Wr:function(){return Et},ZY:function(){return At},_c:function(){return _e},bv:function(){return Tt},cT:function(){return Ct},g8:function(){return bt},gY:function(){return In},lV:function(){return it},tW:function(){return lt},vZ:function(){return rn},wf:function(){return ct}});var pt=_(1930),ht=_(2577),ot=_(7169),at=_(8950),gt=_(2975),xt=_.n(gt),Ut=_(5605),rt=_(8897),vt=_(2335),Xt=_(1047),nn=_(6797),cn=_(8211),Qt=_(75),hn=_(6340),fn=_(1393),Nn=_(5523),mn=_(679);function pn(_t,St){var Vt=Object.keys(_t);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(_t);St&&(Pt=Pt.filter(function(qt){return Object.getOwnPropertyDescriptor(_t,qt).enumerable})),Vt.push.apply(Vt,Pt)}return Vt}function vn(_t){for(var St=1;St<arguments.length;St++){var Vt=arguments[St]!=null?arguments[St]:{};St%2?pn(Object(Vt),!0).forEach(function(Pt){(0,ot.Z)(_t,Pt,Vt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Vt)):pn(Object(Vt)).forEach(function(Pt){Object.defineProperty(_t,Pt,Object.getOwnPropertyDescriptor(Vt,Pt))})}return _t}var yt=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt;return xt().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:if(Vt.type!==vt.LO.png){qt.next=18;break}return qt.prev=1,qt.next=4,Promise.resolve().then(_.bind(_,673));case 4:return qt.next=6,qt.sent.decodePngMetadata(Vt);case 6:return qt.abrupt("return",qt.sent);case 9:if(qt.prev=9,qt.t0=qt.catch(1),qt.t0.message!=="INVALID"){qt.next=15;break}throw new DOMException((0,cn.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,cn.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:qt.next=43;break;case 18:if(!("text"in Blob)){qt.next=24;break}return qt.next=21,Vt.text();case 21:Pt=qt.sent,qt.next=27;break;case 24:return qt.next=26,new Promise(function(dn){var Rt=new FileReader;Rt.readAsText(Vt,"utf8"),Rt.onloadend=function(){Rt.readyState===FileReader.DONE&&dn(Rt.result)}});case 26:Pt=qt.sent;case 27:if(Vt.type!==vt.LO.svg){qt.next=43;break}return qt.prev=28,qt.next=31,Promise.resolve().then(_.bind(_,673));case 31:return qt.next=33,qt.sent.decodeSvgMetadata({svg:Pt});case 33:return qt.abrupt("return",qt.sent);case 36:if(qt.prev=36,qt.t1=qt.catch(28),qt.t1.message!=="INVALID"){qt.next=42;break}throw new DOMException((0,cn.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,cn.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return qt.abrupt("return",Pt);case 44:case"end":return qt.stop()}},St,null,[[1,9],[28,36]])}));return function(St){return _t.apply(this,arguments)}}(),Ht=function(_t){var St;return _t&&((St=_t.name.match(/\.(json|excalidraw|png|svg)$/))===null||St===void 0?void 0:St[1])||null},Bt=function(_t){return _t==="png"||_t==="svg"},bt=function(_t){var St=Ht(_t);return St==="png"||St==="svg"},Et=function(_t){var St=(_t||{}).type;return!!St&&vt.jo.includes(St)},At=function(){var _t=(0,at.Z)(xt().mark(function St(Vt,Pt,qt,dn){var Rt,Zt;return xt().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,yt(Vt);case 2:if(Rt=zt.sent,zt.prev=3,Zt=JSON.parse(Rt),!(0,Nn.dS)(Zt)){zt.next=9;break}return zt.abrupt("return",{type:vt.LO.excalidraw,data:(0,mn.nu)({elements:(0,Xt._M)(Zt.elements||[]),appState:vn(vn({theme:Pt==null?void 0:Pt.theme,fileHandle:dn||Vt.handle||null},(0,rt.s)(Zt.appState||{})),Pt?(0,Qt.W)(Zt.elements||[],Pt,null):{}),files:Zt.files},Pt,qt,{repairBindings:!0,refreshDimensions:!0})});case 9:if(!(0,Nn.HT)(Zt)){zt.next=11;break}return zt.abrupt("return",{type:vt.LO.excalidrawlib,data:Zt});case 11:throw new Error((0,cn.t)("alerts.couldNotLoadInvalidFile"));case 14:throw zt.prev=14,zt.t0=zt.catch(3),console.error(zt.t0.message),new Error((0,cn.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return zt.stop()}},St,null,[[3,14]])}));return function(St,Vt,Pt,qt){return _t.apply(this,arguments)}}(),Ct=function(){var _t=(0,at.Z)(xt().mark(function St(Vt,Pt,qt,dn){var Rt;return xt().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.next=2,At(Vt,Pt,qt,dn);case 2:if((Rt=Zt.sent).type===vt.LO.excalidraw){Zt.next=5;break}throw new Error((0,cn.t)("alerts.couldNotLoadInvalidFile"));case 5:return Zt.abrupt("return",Rt.data);case 6:case"end":return Zt.stop()}},St)}));return function(St,Vt,Pt,qt){return _t.apply(this,arguments)}}(),ct=function(_t){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",Vt=JSON.parse(_t);if(!(0,Nn.HT)(Vt))throw new Error("Invalid library");var Pt=Vt.libraryItems||Vt.library;return(0,mn.wJ)(Pt,St)},it=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt,qt=arguments;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return Pt=qt.length>1&&qt[1]!==void 0?qt[1]:"unpublished",dn.t0=ct,dn.next=4,yt(Vt);case 4:return dn.t1=dn.sent,dn.t2=Pt,dn.abrupt("return",(0,dn.t0)(dn.t1,dn.t2));case 7:case"end":return dn.stop()}},St)}));return function(St){return _t.apply(this,arguments)}}(),_e=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){return xt().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.abrupt("return",new Promise(function(qt,dn){try{Vt.toBlob(function(Rt){if(!Rt)return dn(new nn.l((0,cn.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));qt(Rt)})}catch(Rt){dn(Rt)}}));case 1:case"end":return Pt.stop()}},St)}));return function(St){return _t.apply(this,arguments)}}(),lt=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt;return xt().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.prev=0,qt.t0=window.crypto.subtle,qt.next=4,rn(Vt);case 4:return qt.t1=qt.sent,qt.next=7,qt.t0.digest.call(qt.t0,"SHA-1",qt.t1);case 7:return Pt=qt.sent,qt.abrupt("return",(0,hn.G3)(new Uint8Array(Pt)));case 11:return qt.prev=11,qt.t2=qt.catch(0),console.error(qt.t2),qt.abrupt("return",(0,Ut.x0)(40));case 15:case"end":return qt.stop()}},St,null,[[0,11]])}));return function(St){return _t.apply(this,arguments)}}(),st=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){return xt().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.abrupt("return",new Promise(function(qt,dn){var Rt=new FileReader;Rt.onload=function(){var Zt=Rt.result;qt(Zt)},Rt.onerror=function(Zt){return dn(Zt)},Rt.readAsDataURL(Vt)}));case 1:case"end":return Pt.stop()}},St)}));return function(St){return _t.apply(this,arguments)}}(),It=function(_t){for(var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Vt=_t.indexOf(","),Pt=atob(_t.slice(Vt+1)),qt=_t.slice(0,Vt).split(":")[1].split(";")[0],dn=new ArrayBuffer(Pt.length),Rt=new Uint8Array(dn),Zt=0;Zt<Pt.length;Zt++)Rt[Zt]=Pt.charCodeAt(Zt);return new File([dn],St,{type:qt})},Dt=function(){var _t=(0,at.Z)(xt().mark(function St(Vt,Pt){var qt,dn,Rt,Zt,zt,ft;return xt().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(Vt.type!==vt.LO.svg){Gt.next=2;break}return Gt.abrupt("return",Vt);case 2:return Gt.next=4,Promise.all([_.e(4736).then(_.t.bind(_,4881,23)).then(function(wt){return wt.default}),_.e(4736).then(_.bind(_,100)).then(function(wt){return wt.default})]);case 4:if(qt=Gt.sent,dn=(0,ht.Z)(qt,2),Rt=dn[0],Zt=dn[1],zt=Zt({pica:Rt({features:["js","wasm"]})}),Pt.outputType&&(ft=Pt.outputType,zt._create_blob=function(wt){return this.pica.toBlob(wt.out_canvas,ft,.8).then(function(Jt){return wt.out_blob=Jt,wt})}),Et(Vt)){Gt.next=12;break}throw new Error((0,cn.t)("errors.unsupportedFileType"));case 12:return Gt.t0=File,Gt.next=15,zt.toBlob(Vt,{max:Pt.maxWidthOrHeight});case 15:return Gt.t1=Gt.sent,Gt.t2=[Gt.t1],Gt.t3=Vt.name,Gt.t4={type:Pt.outputType||Vt.type},Gt.abrupt("return",new Gt.t0(Gt.t2,Gt.t3,Gt.t4));case 20:case"end":return Gt.stop()}},St)}));return function(St,Vt){return _t.apply(this,arguments)}}(),tn=function(_t){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(_t)],St,{type:vt.LO.svg})},Tt=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt,qt;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return Pt=Vt.dataTransfer.files.item(0),dn.next=3,$t(Vt);case 3:if(qt=dn.sent,!Pt){dn.next=10;break}return dn.next=7,In(Pt);case 7:dn.t0=dn.sent,dn.next=11;break;case 10:dn.t0=null;case 11:return dn.t1=dn.t0,dn.t2=qt,dn.abrupt("return",{file:dn.t1,fileHandle:dn.t2});case 14:case"end":return dn.stop()}},St)}));return function(St){return _t.apply(this,arguments)}}(),$t=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt,qt;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:if(!fn.kr){dn.next=16;break}return dn.prev=1,Pt=Vt.dataTransfer.items[0],dn.next=5,Pt.getAsFileSystemHandle();case 5:if(dn.t0=dn.sent,dn.t0){dn.next=8;break}dn.t0=null;case 8:return qt=dn.t0,dn.abrupt("return",qt);case 12:return dn.prev=12,dn.t1=dn.catch(1),console.warn(dn.t1.name,dn.t1.message),dn.abrupt("return",null);case 16:return dn.abrupt("return",null);case 17:case"end":return dn.stop()}},St,null,[[1,12]])}));return function(St){return _t.apply(this,arguments)}}(),Wt=function(_t){var St=null,Vt="".concat((0,pt.Z)(new Uint8Array(_t).slice(0,8)).join(" ")," "),Pt="255 216 255 ",qt="71 73 70 56 57 97 ";return Vt==="137 80 78 71 13 10 26 10 "?St=vt.LO.png:Vt.startsWith(Pt)?St=vt.LO.jpg:Vt.startsWith(qt)&&(St=vt.LO.gif),St},Ot=function(_t,St,Vt){return new File([_t],Vt||"",{type:St})},In=function(){var _t=(0,at.Z)(xt().mark(function St(Vt){var Pt,qt,dn,Rt,Zt,zt,ft,Gt;return xt().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(Vt.type){wt.next=28;break}if((Pt=Vt)===null||Pt===void 0||(qt=Pt.name)===null||qt===void 0||!qt.endsWith(".excalidrawlib")){wt.next=11;break}return wt.t0=Ot,wt.next=5,rn(Vt);case 5:wt.t1=wt.sent,wt.t2=vt.LO.excalidrawlib,wt.t3=Vt.name,Vt=(0,wt.t0)(wt.t1,wt.t2,wt.t3),wt.next=26;break;case 11:if((dn=Vt)===null||dn===void 0||(Rt=dn.name)===null||Rt===void 0||!Rt.endsWith(".excalidraw")){wt.next=21;break}return wt.t4=Ot,wt.next=15,rn(Vt);case 15:wt.t5=wt.sent,wt.t6=vt.LO.excalidraw,wt.t7=Vt.name,Vt=(0,wt.t4)(wt.t5,wt.t6,wt.t7),wt.next=26;break;case 21:return wt.next=23,rn(Vt);case 23:Zt=wt.sent,(zt=Wt(Zt))&&(Vt=Ot(Zt,zt,Vt.name));case 26:wt.next=34;break;case 28:if(!Et(Vt)){wt.next=34;break}return wt.next=31,rn(Vt);case 31:ft=wt.sent,(Gt=Wt(ft))&&Gt!==Vt.type&&(Vt=Ot(ft,Gt,Vt.name));case 34:return wt.abrupt("return",Vt);case 35:case"end":return wt.stop()}},St)}));return function(St){return _t.apply(this,arguments)}}(),rn=function(_t){return"arrayBuffer"in _t?_t.arrayBuffer():new Promise(function(St,Vt){var Pt=new FileReader;Pt.onload=function(qt){var dn;if((dn=qt.target)===null||dn===void 0||!dn.result)return Vt(new Error("Couldn't convert blob to ArrayBuffer"));St(qt.target.result)},Pt.readAsArrayBuffer(_t)})}},1393:function(Lt,kt,_){_.d(kt,{I$:function(){return cn},NL:function(){return Qt},kr:function(){return at}});var pt=_(1930),ht=_(8950),ot=_(2975),at=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),gt=at?_.e(4736).then(_.bind(_,2254)):_.e(4736).then(_.bind(_,3499));function xt(){return xt=(0,ht.Z)(ot.mark(function hn(){var fn,Nn=arguments;return ot.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:return mn.next=2,gt;case 2:return mn.abrupt("return",(fn=mn.sent).default.apply(fn,Nn));case 3:case"end":return mn.stop()}},hn)})),xt.apply(this,arguments)}at?_.e(4736).then(_.bind(_,6474)):_.e(4736).then(_.bind(_,9521));var Ut=at?_.e(4736).then(_.bind(_,9475)):_.e(4736).then(_.bind(_,6281));function rt(){return rt=(0,ht.Z)(ot.mark(function hn(){var fn,Nn=arguments;return ot.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:return mn.next=2,Ut;case 2:return mn.abrupt("return",(fn=mn.sent).default.apply(fn,Nn));case 3:case"end":return mn.stop()}},hn)})),rt.apply(this,arguments)}var vt=_(2335),Xt=_(6797),nn=_(6340),cn=function(hn){var fn,Nn,mn,pn=(fn=hn.extensions)===null||fn===void 0?void 0:fn.reduce(function(yt,Ht){return yt.push(vt.LO[Ht]),yt},[]),vn=(Nn=hn.extensions)===null||Nn===void 0?void 0:Nn.reduce(function(yt,Ht){return Ht==="jpg"?yt.concat(".jpg",".jpeg"):yt.concat(".".concat(Ht))},[]);return function(){return xt.apply(this,arguments)}({description:hn.description,extensions:vn,mimeTypes:pn,multiple:(mn=hn.multiple)!==null&&mn!==void 0&&mn,legacySetup:function(yt,Ht,Bt){var bt=(0,nn.Ds)(Ht,500),Et=function(){At(),document.addEventListener(vt.Ks.KEYUP,bt),document.addEventListener(vt.Ks.POINTER_UP,bt),bt()},At=function(){var ct;if((ct=Bt.files)!==null&&ct!==void 0&&ct.length){var it=hn.multiple?(0,pt.Z)(Bt.files):Bt.files[0];yt(it)}};requestAnimationFrame(function(){window.addEventListener(vt.Ks.FOCUS,Et)});var Ct=window.setInterval(function(){At()},500);return function(ct){clearInterval(Ct),bt.cancel(),window.removeEventListener(vt.Ks.FOCUS,Et),document.removeEventListener(vt.Ks.KEYUP,bt),document.removeEventListener(vt.Ks.POINTER_UP,bt),ct&&(console.warn("Opening the file was canceled (legacy-fs)."),ct(new Xt._))}}})},Qt=function(hn,fn){return function(){return rt.apply(this,arguments)}(hn,{fileName:"".concat(fn.name,".").concat(fn.extension),description:fn.description,extensions:[".".concat(fn.extension)]},fn.fileHandle)}},673:function(Lt,kt,_){_.r(kt),_.d(kt,{decodePngMetadata:function(){return Ht},decodeSvgMetadata:function(){return bt},encodePngMetadata:function(){return yt},encodeSvgMetadata:function(){return Bt},getTEXtChunk:function(){return vn}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(2983),gt=_.n(at),xt=_(1194),Ut=_(3434),rt=_.n(Ut),vt=_(2744),Xt=_(2335),nn=_(434),cn=function(Et){return new Promise(function(At,Ct){var ct=typeof Et=="string"?new Blob([new TextEncoder().encode(Et)]):new Blob([Et instanceof Uint8Array?Et:new Uint8Array(Et)]),it=new FileReader;it.onload=function(_e){if(!_e.target||typeof _e.target.result!="string")return Ct(new Error("couldn't convert to byte string"));At(_e.target.result)},it.readAsBinaryString(ct)})},Qt=function(Et){for(var At=new ArrayBuffer(Et.length),Ct=new Uint8Array(At),ct=0,it=Et.length;ct<it;ct++)Ct[ct]=Et.charCodeAt(ct);return At},hn=function(Et){return new TextDecoder("utf-8").decode(Qt(Et))},fn=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct=arguments;return ot().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(!(ct.length>1&&ct[1]!==void 0&&ct[1])){it.next=5;break}it.t0=window.btoa(Ct),it.next=10;break;case 5:return it.t1=window,it.next=8,cn(Ct);case 8:it.t2=it.sent,it.t0=it.t1.btoa.call(it.t1,it.t2);case 10:return it.abrupt("return",it.t0);case 11:case"end":return it.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),Nn=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it=arguments;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return ct=it.length>1&&it[1]!==void 0&&it[1],_e.abrupt("return",ct?window.atob(Ct):hn(window.atob(Ct)));case 2:case"end":return _e.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),mn=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct=Ct.text,Ct.compress===!1){_e.next=11;break}return _e.prev=2,_e.next=5,cn((0,vt.deflate)(ct));case 5:it=_e.sent,_e.next=11;break;case 8:_e.prev=8,_e.t0=_e.catch(2),console.error("encode: cannot deflate",_e.t0);case 11:if(_e.t1=!!it,_e.t2=it,_e.t2){_e.next=17;break}return _e.next=16,cn(ct);case 16:_e.t2=_e.sent;case 17:return _e.t3=_e.t2,_e.abrupt("return",{version:"1",encoding:"bstring",compressed:_e.t1,encoded:_e.t3});case 19:case"end":return _e.stop()}},At,null,[[2,8]])}));return function(At){return Et.apply(this,arguments)}}(),pn=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct;return ot().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:it.t0=Ct.encoding,it.next=it.t0==="bstring"?3:12;break;case 3:if(!Ct.compressed){it.next=7;break}it.t1=Ct.encoded,it.next=10;break;case 7:return it.next=9,hn(Ct.encoded);case 9:it.t1=it.sent;case 10:return ct=it.t1,it.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(Ct.encoding,'"'));case 13:if(!Ct.compressed){it.next=15;break}return it.abrupt("return",(0,vt.inflate)(new Uint8Array(Qt(ct)),{to:"string"}));case 15:return it.abrupt("return",ct);case 16:case"end":return it.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),vn=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.t0=gt(),_e.t1=Uint8Array,_e.next=4,(0,nn.vZ)(Ct);case 4:if(_e.t2=_e.sent,_e.t3=new _e.t1(_e.t2),ct=(0,_e.t0)(_e.t3),!(it=ct.find(function(lt){return lt.name==="tEXt"}))){_e.next=10;break}return _e.abrupt("return",xt.decode(it.data));case 10:return _e.abrupt("return",null);case 11:case"end":return _e.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),yt=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it,_e,lt;return ot().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return ct=Ct.blob,it=Ct.metadata,st.t0=gt(),st.t1=Uint8Array,st.next=5,(0,nn.vZ)(ct);case 5:return st.t2=st.sent,st.t3=new st.t1(st.t2),_e=(0,st.t0)(st.t3),st.t4=xt,st.t5=Xt.LO.excalidraw,st.t6=JSON,st.next=13,mn({text:it,compress:!0});case 13:return st.t7=st.sent,st.t8=st.t6.stringify.call(st.t6,st.t7),lt=st.t4.encode.call(st.t4,st.t5,st.t8),_e.splice(-1,0,lt),st.abrupt("return",new Blob([rt()(_e)],{type:Xt.LO.png}));case 18:case"end":return st.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),Ht=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,vn(Ct);case 2:if(((ct=_e.sent)==null?void 0:ct.keyword)!==Xt.LO.excalidraw){_e.next=19;break}if(_e.prev=4,"encoded"in(it=JSON.parse(ct.text))){_e.next=10;break}if(!("type"in it)||it.type!==Xt.r8.excalidraw){_e.next=9;break}return _e.abrupt("return",ct.text);case 9:throw new Error("FAILED");case 10:return _e.next=12,pn(it);case 12:return _e.abrupt("return",_e.sent);case 15:throw _e.prev=15,_e.t0=_e.catch(4),console.error(_e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return _e.stop()}},At,null,[[4,15]])}));return function(At){return Et.apply(this,arguments)}}(),Bt=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it,_e;return ot().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return ct=Ct.text,lt.t0=fn,lt.t1=JSON,lt.next=5,mn({text:ct});case 5:return lt.t2=lt.sent,lt.t3=lt.t1.stringify.call(lt.t1,lt.t2),lt.next=9,(0,lt.t0)(lt.t3,!0);case 9:return it=lt.sent,_e="",_e+="<!-- payload-type:".concat(Xt.LO.excalidraw," -->"),_e+="<!-- payload-version:2 -->",_e+="<!-- payload-start -->",_e+=it,_e+="<!-- payload-end -->",lt.abrupt("return",_e);case 17:case"end":return lt.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),bt=function(){var Et=(0,pt.Z)(ot().mark(function At(Ct){var ct,it,_e,lt,st,It,Dt;return ot().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(!(ct=Ct.svg).includes("payload-type:".concat(Xt.LO.excalidraw))){tn.next=26;break}if(it=ct.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){tn.next=5;break}throw new Error("INVALID");case 5:return _e=ct.match(/<!-- payload-version:(\d+) -->/),lt=(_e==null?void 0:_e[1])||"1",st=lt!=="1",tn.prev=8,tn.next=11,Nn(it[1],st);case 11:if(It=tn.sent,"encoded"in(Dt=JSON.parse(It))){tn.next=17;break}if(!("type"in Dt)||Dt.type!==Xt.r8.excalidraw){tn.next=16;break}return tn.abrupt("return",It);case 16:throw new Error("FAILED");case 17:return tn.next=19,pn(Dt);case 19:return tn.abrupt("return",tn.sent);case 22:throw tn.prev=22,tn.t0=tn.catch(8),console.error(tn.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return tn.stop()}},At,null,[[8,22]])}));return function(At){return Et.apply(this,arguments)}}()},9485:function(Lt,kt,_){_.d(kt,{Um:function(){return Xt.Um},cT:function(){return rt.cT},n8:function(){return Xt.n8},p1:function(){return nn}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(6665),gt=_(2335),xt=_(8211),Ut=_(4162),rt=_(434),vt=_(1393),Xt=_(5523),nn=function(){var cn=(0,pt.Z)(ot().mark(function Qt(hn,fn,Nn,mn,pn){var vn,yt,Ht,Bt,bt,Et,At,Ct,ct,it,_e;return ot().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(vn=pn.exportBackground,yt=pn.exportPadding,Ht=yt===void 0?gt.qy:yt,Bt=pn.viewBackgroundColor,bt=pn.name,Et=pn.fileHandle,At=Et===void 0?null:Et,fn.length!==0){lt.next=3;break}throw new Error((0,xt.t)("alerts.cannotExportEmptyCanvas"));case 3:if(hn!=="svg"&&hn!=="clipboard-svg"){lt.next=17;break}return lt.next=6,(0,Ut.$D)(fn,{exportBackground:vn,exportWithDarkMode:Nn.exportWithDarkMode,viewBackgroundColor:Bt,exportPadding:Ht,exportScale:Nn.exportScale,exportEmbedScene:Nn.exportEmbedScene&&hn==="svg"},mn);case 6:if(Ct=lt.sent,hn!=="svg"){lt.next=13;break}return lt.next=10,(0,vt.NL)(new Blob([Ct.outerHTML],{type:gt.LO.svg}),{description:"Export to SVG",name:bt,extension:Nn.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:At});case 10:return lt.abrupt("return",lt.sent);case 13:if(hn!=="clipboard-svg"){lt.next=17;break}return lt.next=16,(0,at.dd)(Ct.outerHTML);case 16:return lt.abrupt("return");case 17:return lt.next=19,(0,Ut.NL)(fn,Nn,mn,{exportBackground:vn,viewBackgroundColor:Bt,exportPadding:Ht});case 19:if((ct=lt.sent).style.display="none",document.body.appendChild(ct),hn!=="png"){lt.next=38;break}return lt.next=25,(0,rt._c)(ct);case 25:if(it=lt.sent,ct.remove(),!Nn.exportEmbedScene){lt.next=33;break}return lt.next=30,Promise.resolve().then(_.bind(_,673));case 30:return lt.next=32,lt.sent.encodePngMetadata({blob:it,metadata:(0,Xt.I_)(fn,Nn,mn,"local")});case 32:it=lt.sent;case 33:return lt.next=35,(0,vt.NL)(it,{description:"Export to PNG",name:bt,extension:"png",fileHandle:At});case 35:return lt.abrupt("return",lt.sent);case 38:if(hn!=="clipboard"){lt.next=60;break}return lt.prev=39,_e=(0,rt._c)(ct),lt.next=43,(0,at.uR)(_e);case 43:lt.next=55;break;case 45:if(lt.prev=45,lt.t0=lt.catch(39),console.warn(lt.t0),lt.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){lt.next=50;break}throw lt.t0;case 50:if(!gt.vU||lt.t0.name!=="TypeError"){lt.next=54;break}throw new Error("".concat((0,xt.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,xt.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,xt.t)("alerts.couldNotCopyToClipboard"));case 55:return lt.prev=55,ct.remove(),lt.finish(55);case 58:lt.next=62;break;case 60:throw ct.remove(),new Error("Unsupported export type");case 62:case"end":return lt.stop()}},Qt,null,[[39,45,55,58]])}));return function(Qt,hn,fn,Nn,mn){return cn.apply(this,arguments)}}()},5523:function(Lt,kt,_){_.d(kt,{HT:function(){return mn},I_:function(){return Qt},NI:function(){return pn},Um:function(){return hn},dS:function(){return Nn},n8:function(){return fn},t1:function(){return vn}});var pt=_(6655),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(1393),xt=_(8897),Ut=_(2335),rt=_(1047),vt=_(434);function Xt(yt,Ht){var Bt=typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(!Bt){if(Array.isArray(yt)||(Bt=function(it,_e){if(it){if(typeof it=="string")return nn(it,_e);var lt=Object.prototype.toString.call(it).slice(8,-1);if(lt==="Object"&&it.constructor&&(lt=it.constructor.name),lt==="Map"||lt==="Set")return Array.from(it);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return nn(it,_e)}}(yt))||Ht&&yt&&typeof yt.length=="number"){Bt&&(yt=Bt);var bt=0,Et=function(){};return{s:Et,n:function(){return bt>=yt.length?{done:!0}:{done:!1,value:yt[bt++]}},e:function(it){throw it},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var At,Ct=!0,ct=!1;return{s:function(){Bt=Bt.call(yt)},n:function(){var it=Bt.next();return Ct=it.done,it},e:function(it){ct=!0,At=it},f:function(){try{Ct||Bt.return==null||Bt.return()}finally{if(ct)throw At}}}}function nn(yt,Ht){(Ht==null||Ht>yt.length)&&(Ht=yt.length);for(var Bt=0,bt=new Array(Ht);Bt<Ht;Bt++)bt[Bt]=yt[Bt];return bt}var cn=function(yt,Ht){var Bt,bt={},Et=Xt(yt);try{for(Et.s();!(Bt=Et.n()).done;){var At=Bt.value;!At.isDeleted&&"fileId"in At&&At.fileId&&Ht[At.fileId]&&(bt[At.fileId]=Ht[At.fileId])}}catch(Ct){Et.e(Ct)}finally{Et.f()}return bt},Qt=function(yt,Ht,Bt,bt){var Et={type:Ut.r8.excalidraw,version:Ut.Kr.excalidraw,source:Ut.pb,elements:bt==="local"?(0,rt._M)(yt):(0,rt.BQ)(yt),appState:bt==="local"?(0,xt.s)(Ht):(0,xt.eS)(Ht),files:bt==="local"?cn(yt,Bt):void 0};return JSON.stringify(Et,null,2)},hn=function(){var yt=(0,ht.Z)(at().mark(function Ht(Bt,bt,Et){var At,Ct,ct;return at().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return At=Qt(Bt,bt,Et,"local"),Ct=new Blob([At],{type:Ut.LO.excalidraw}),it.next=4,(0,gt.NL)(Ct,{name:bt.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,vt.g8)(bt.fileHandle)?null:bt.fileHandle});case 4:return ct=it.sent,it.abrupt("return",{fileHandle:ct});case 6:case"end":return it.stop()}},Ht)}));return function(Ht,Bt,bt){return yt.apply(this,arguments)}}(),fn=function(){var yt=(0,ht.Z)(at().mark(function Ht(Bt,bt){var Et;return at().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,(0,gt.I$)({description:"Excalidraw files"});case 2:return Et=At.sent,At.t0=vt.cT,At.next=6,(0,vt.gY)(Et);case 6:return At.t1=At.sent,At.t2=Bt,At.t3=bt,At.t4=Et.handle,At.abrupt("return",(0,At.t0)(At.t1,At.t2,At.t3,At.t4));case 11:case"end":return At.stop()}},Ht)}));return function(Ht,Bt){return yt.apply(this,arguments)}}(),Nn=function(yt){return(yt==null?void 0:yt.type)===Ut.r8.excalidraw&&(!yt.elements||Array.isArray(yt.elements)&&(!yt.appState||(0,pt.Z)(yt.appState)==="object"))},mn=function(yt){return(0,pt.Z)(yt)==="object"&&yt&&yt.type===Ut.r8.excalidrawLibrary&&(yt.version===1||yt.version===2)},pn=function(yt){var Ht={type:Ut.r8.excalidrawLibrary,version:Ut.Kr.excalidrawLibrary,source:Ut.pb,libraryItems:yt};return JSON.stringify(Ht,null,2)},vn=function(){var yt=(0,ht.Z)(at().mark(function Ht(Bt){var bt;return at().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return bt=pn(Bt),Et.next=3,(0,gt.NL)(new Blob([bt],{type:Ut.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return Et.stop()}},Ht)}));return function(Ht){return yt.apply(this,arguments)}}()},7053:function(Lt,kt,_){_.d(kt,{Di:function(){return ct},WV:function(){return Ct},rF:function(){return Ht},xS:function(){return it},zh:function(){return Et}});var pt=_(7169),ht=_(8950),ot=_(5169),at=_(8821),gt=_(1930),xt=_(2975),Ut=_.n(xt),rt=_(434),vt=_(679),Xt=_(4739),nn=_(9487),cn=_(8925),Qt=_(6797),hn=_(8211),fn=_(9787),Nn=_(2335);function mn(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Dt){return Object.getOwnPropertyDescriptor(_e,Dt).enumerable})),st.push.apply(st,It)}return st}function pn(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?mn(Object(st),!0).forEach(function(It){(0,pt.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):mn(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}function vn(_e,lt){var st=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!st){if(Array.isArray(_e)||(st=function(Wt,Ot){if(Wt){if(typeof Wt=="string")return yt(Wt,Ot);var In=Object.prototype.toString.call(Wt).slice(8,-1);if(In==="Object"&&Wt.constructor&&(In=Wt.constructor.name),In==="Map"||In==="Set")return Array.from(Wt);if(In==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(In))return yt(Wt,Ot)}}(_e))||lt&&_e&&typeof _e.length=="number"){st&&(_e=st);var It=0,Dt=function(){};return{s:Dt,n:function(){return It>=_e.length?{done:!0}:{done:!1,value:_e[It++]}},e:function(Wt){throw Wt},f:Dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tn,Tt=!0,$t=!1;return{s:function(){st=st.call(_e)},n:function(){var Wt=st.next();return Tt=Wt.done,Wt},e:function(Wt){$t=!0,tn=Wt},f:function(){try{Tt||st.return==null||st.return()}finally{if($t)throw tn}}}}function yt(_e,lt){(lt==null||lt>_e.length)&&(lt=_e.length);for(var st=0,It=new Array(lt);st<lt;st++)It[st]=_e[st];return It}var Ht=(0,Xt.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),Bt=function(_e){return JSON.parse(JSON.stringify(_e))},bt=function(_e,lt){return!_e.find(function(st){return st.elements.length===lt.elements.length&&st.elements.every(function(It,Dt){return It.id===lt.elements[Dt].id&&It.versionNonce===lt.elements[Dt].versionNonce})})},Et=function(_e,lt){var st,It=[],Dt=vn(lt);try{for(Dt.s();!(st=Dt.n()).done;){var tn=st.value;bt(_e,tn)&&It.push(tn)}}catch(Tt){Dt.e(Tt)}finally{Dt.f()}return[].concat(It,(0,gt.Z)(_e))},At=(0,ot.Z)(function _e(lt){var st=this;(0,at.Z)(this,_e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return st.updateQueue[st.updateQueue.length-1]},this.notifyListeners=function(){if(st.updateQueue.length>0)nn.e_.set(Ht,{status:"loading",libraryItems:st.lastLibraryItems,isInitialized:st.isInitialized});else{st.isInitialized=!0,nn.e_.set(Ht,{status:"loaded",libraryItems:st.lastLibraryItems,isInitialized:st.isInitialized});try{var It,Dt;(It=(Dt=st.app.props).onLibraryChange)===null||It===void 0||It.call(Dt,Bt(st.lastLibraryItems))}catch(tn){console.error(tn)}}},this.resetLibrary=function(){return st.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var It=(0,ht.Z)(Ut().mark(function Dt(tn){var Tt;return Ut().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.prev=0,$t.next=3,st.getLastUpdateTask()||st.lastLibraryItems;case 3:Tt=$t.sent,st.updateQueue.length>0?tn(st.getLatestLibrary()):tn(Bt(Tt)),$t.next=10;break;case 7:return $t.prev=7,$t.t0=$t.catch(0),$t.abrupt("return",tn(st.lastLibraryItems));case 10:case"end":return $t.stop()}},Dt,null,[[0,7]])}));return function(Dt){return It.apply(this,arguments)}}())},this.updateLibrary=function(){var It=(0,ht.Z)(Ut().mark(function Dt(tn){var Tt,$t,Wt,Ot,In,rn,_t,St,Vt;return Ut().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Tt=tn.libraryItems,$t=tn.prompt,Wt=$t!==void 0&&$t,Ot=tn.merge,In=Ot!==void 0&&Ot,rn=tn.openLibraryMenu,_t=rn!==void 0&&rn,St=tn.defaultStatus,Vt=St===void 0?"unpublished":St,_t&&st.app.setState({openSidebar:"library"}),Pt.abrupt("return",st.setLibrary(function(){return new Promise(function(){var qt=(0,ht.Z)(Ut().mark(function dn(Rt,Zt){var zt,ft;return Ut().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Gt.prev=0,Gt.next=3,typeof Tt!="function"||Tt instanceof Blob?Tt:Tt(st.lastLibraryItems);case 3:if(!((zt=Gt.sent)instanceof Blob)){Gt.next=10;break}return Gt.next=7,(0,rt.lV)(zt,Vt);case 7:ft=Gt.sent,Gt.next=11;break;case 10:ft=(0,vt.wJ)(zt,Vt);case 11:!Wt||window.confirm((0,hn.t)("alerts.confirmAddLibrary",{numShapes:ft.length}))?Rt(In?Et(st.lastLibraryItems,ft):ft):Zt(new Qt._),Gt.next=17;break;case 14:Gt.prev=14,Gt.t0=Gt.catch(0),Zt(Gt.t0);case 17:case"end":return Gt.stop()}},dn,null,[[0,14]])}));return function(dn,Rt){return qt.apply(this,arguments)}}())}).finally(function(){st.app.focusContainer()}));case 3:case"end":return Pt.stop()}},Dt)}));return function(Dt){return It.apply(this,arguments)}}(),this.setLibrary=function(It){var Dt=new Promise(function(){var tn=(0,ht.Z)(Ut().mark(function Tt($t,Wt){return Ut().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return Ot.prev=0,Ot.next=3,st.getLastUpdateTask();case 3:return typeof It=="function"&&(It=It(st.lastLibraryItems)),Ot.t0=Bt,Ot.next=7,It;case 7:Ot.t1=Ot.sent,st.lastLibraryItems=(0,Ot.t0)(Ot.t1),$t(st.lastLibraryItems),Ot.next=15;break;case 12:Ot.prev=12,Ot.t2=Ot.catch(0),Wt(Ot.t2);case 15:case"end":return Ot.stop()}},Tt,null,[[0,12]])}));return function(Tt,$t){return tn.apply(this,arguments)}}()).catch(function(tn){if(tn.name==="AbortError")return console.warn("Library update aborted by user"),st.lastLibraryItems;throw tn}).finally(function(){st.updateQueue=st.updateQueue.filter(function(tn){return tn!==Dt}),st.notifyListeners()});return st.updateQueue.push(Dt),st.notifyListeners(),Dt},this.app=lt});kt.ZP=At;var Ct=function(_e){var lt,st=Math.ceil(Math.sqrt(_e.length)),It=[],Dt=0,tn=0,Tt=0,$t=0,Wt=0,Ot=0,In=0,rn=vn(_e);try{var _t=function(){var St=lt.value;Wt&&Wt%st==0&&(tn+=Tt+50,Dt=0,Ot=0,In++),Ot===0&&(Tt=function(ft){return _e.slice(ft*st,ft*st+st).reduce(function(Gt,wt){var Jt=(0,cn.v2)(wt.elements).height;return Math.max(Gt,Jt)},0)}(In)),$t=function(ft){var Gt,wt=0,Jt=0,Mt=0,un=vn(_e);try{for(un.s();!(Gt=un.n()).done;){var bn=Gt.value;if(wt%st==0&&(Jt=0),Jt===ft){var jt=(0,cn.v2)(bn.elements).width;Mt=Math.max(Mt,jt)}wt++,Jt++}}catch(Fn){un.e(Fn)}finally{un.f()}return Mt}(Ot);var Vt=(0,cn.v2)(St.elements),Pt=Vt.minX,qt=Vt.minY,dn=Vt.width,Rt=Vt.height,Zt=($t-dn)/2,zt=(Tt-Rt)/2;It.push.apply(It,(0,gt.Z)(St.elements.map(function(ft){return pn(pn({},ft),{},{x:ft.x+Dt+Zt-Pt,y:ft.y+tn+zt-qt})}))),Dt+=$t+50,Wt++,Ot++};for(rn.s();!(lt=rn.n()).done;)_t()}catch(St){rn.e(St)}finally{rn.f()}return It},ct=function(){var _e=new URLSearchParams(window.location.hash.slice(1)).get(Nn.ah.addLibrary)||new URLSearchParams(window.location.search).get(Nn.UO.addLibrary),lt=_e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return _e?{libraryUrl:_e,idToken:lt}:null},it=function(_e){var lt=_e.excalidrawAPI,st=_e.getInitialLibraryItems,It=(0,fn.useRef)(st);(0,fn.useEffect)(function(){if(lt){var Dt=function(){var $t=(0,ht.Z)(Ut().mark(function Wt(Ot){var In,rn,_t,St,Vt,Pt;return Ut().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return In=Ot.libraryUrl,rn=Ot.idToken,_t=new Promise(function(){var dn=(0,ht.Z)(Ut().mark(function Rt(Zt,zt){var ft,Gt;return Ut().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.prev=0,wt.next=3,fetch(decodeURIComponent(In));case 3:return ft=wt.sent,wt.next=6,ft.blob();case 6:Gt=wt.sent,Zt(Gt),wt.next=13;break;case 10:wt.prev=10,wt.t0=wt.catch(0),zt(wt.t0);case 13:case"end":return wt.stop()}},Rt,null,[[0,10]])}));return function(Rt,Zt){return dn.apply(this,arguments)}}()),St=rn!==lt.id,qt.next=5,St&&document.hidden?new Promise(function(dn){window.addEventListener("focus",function(){return dn()},{once:!0})}):null;case 5:return qt.prev=5,qt.next=8,lt.updateLibrary({libraryItems:_t,prompt:St,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:qt.next=13;break;case 10:throw qt.prev=10,qt.t0=qt.catch(5),qt.t0;case 13:return qt.prev=13,window.location.hash.includes(Nn.ah.addLibrary)?((Vt=new URLSearchParams(window.location.hash.slice(1))).delete(Nn.ah.addLibrary),window.history.replaceState({},Nn.iC,"#".concat(Vt.toString()))):window.location.search.includes(Nn.UO.addLibrary)&&((Pt=new URLSearchParams(window.location.search)).delete(Nn.UO.addLibrary),window.history.replaceState({},Nn.iC,"?".concat(Pt.toString()))),qt.finish(13);case 16:case"end":return qt.stop()}},Wt,null,[[5,10,13,16]])}));return function(Wt){return $t.apply(this,arguments)}}(),tn=function($t){$t.preventDefault();var Wt=ct();Wt&&($t.stopImmediatePropagation(),window.history.replaceState({},"",$t.oldURL),Dt(Wt))};It.current&&lt.updateLibrary({libraryItems:It.current()});var Tt=ct();return Tt&&Dt(Tt),window.addEventListener(Nn.Ks.HASHCHANGE,tn),function(){window.removeEventListener(Nn.Ks.HASHCHANGE,tn)}}},[lt])}},679:function(Lt,kt,_){_.d(kt,{ET:function(){return Bt},lY:function(){return At},nu:function(){return Ct},wJ:function(){return it}});var pt=_(2577),ht=_(7169),ot=_(1047),at=_(1974),gt=_(6954),xt=_(2335),Ut=_(8897),rt=_(6938),vt=_(1935),Xt=_(6340),nn=_(5284),cn=_(5710);function Qt(_e,lt){var st=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!st){if(Array.isArray(_e)||(st=function(Wt,Ot){if(Wt){if(typeof Wt=="string")return hn(Wt,Ot);var In=Object.prototype.toString.call(Wt).slice(8,-1);if(In==="Object"&&Wt.constructor&&(In=Wt.constructor.name),In==="Map"||In==="Set")return Array.from(Wt);if(In==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(In))return hn(Wt,Ot)}}(_e))||lt&&_e&&typeof _e.length=="number"){st&&(_e=st);var It=0,Dt=function(){};return{s:Dt,n:function(){return It>=_e.length?{done:!0}:{done:!1,value:_e[It++]}},e:function(Wt){throw Wt},f:Dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tn,Tt=!0,$t=!1;return{s:function(){st=st.call(_e)},n:function(){var Wt=st.next();return Tt=Wt.done,Wt},e:function(Wt){$t=!0,tn=Wt},f:function(){try{Tt||st.return==null||st.return()}finally{if($t)throw tn}}}}function hn(_e,lt){(lt==null||lt>_e.length)&&(lt=_e.length);for(var st=0,It=new Array(lt);st<lt;st++)It[st]=_e[st];return It}function fn(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Dt){return Object.getOwnPropertyDescriptor(_e,Dt).enumerable})),st.push.apply(st,It)}return st}function Nn(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?fn(Object(st),!0).forEach(function(It){(0,ht.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):fn(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}var mn={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},pn=function(_e){return Object.keys(xt.ut).includes(_e)?xt.ut[_e]:xt.rk},vn=function(_e,lt){var st,It,Dt,tn,Tt,$t,Wt,Ot,In,rn,_t,St,Vt,Pt,qt={type:lt.type||_e.type,version:_e.version||1,versionNonce:(st=_e.versionNonce)!==null&&st!==void 0?st:0,isDeleted:(It=_e.isDeleted)!==null&&It!==void 0&&It,id:_e.id||(0,gt.kb)(),fillStyle:_e.fillStyle||"hachure",strokeWidth:_e.strokeWidth||1,strokeStyle:(Dt=_e.strokeStyle)!==null&&Dt!==void 0?Dt:"solid",roughness:(tn=_e.roughness)!==null&&tn!==void 0?tn:1,opacity:_e.opacity==null?100:_e.opacity,angle:_e.angle||0,x:(Tt=($t=lt.x)!==null&&$t!==void 0?$t:_e.x)!==null&&Tt!==void 0?Tt:0,y:(Wt=(Ot=lt.y)!==null&&Ot!==void 0?Ot:_e.y)!==null&&Wt!==void 0?Wt:0,strokeColor:_e.strokeColor||nn.black,backgroundColor:_e.backgroundColor||"transparent",width:_e.width||0,height:_e.height||0,seed:(In=_e.seed)!==null&&In!==void 0?In:1,groupIds:(rn=_e.groupIds)!==null&&rn!==void 0?rn:[],roundness:_e.roundness?_e.roundness:_e.strokeSharpness==="round"?{type:(0,at.QI)(_e.type)?xt.a6.LEGACY:xt.a6.PROPORTIONAL_RADIUS}:null,boundElements:_e.boundElementIds?_e.boundElementIds.map(function(dn){return{type:"arrow",id:dn}}):(_t=_e.boundElements)!==null&&_t!==void 0?_t:[],updated:(St=_e.updated)!==null&&St!==void 0?St:(0,Xt.C3)(),link:(Vt=_e.link)!==null&&Vt!==void 0?Vt:null,locked:(Pt=_e.locked)!==null&&Pt!==void 0&&Pt};return"customData"in _e&&(qt.customData=_e.customData),xt.WR in _e&&(qt[xt.WR]=_e[xt.WR]),Nn(Nn(Nn({},qt),(0,ot.Qp)(qt)),lt)},yt=function(_e,lt){if(_e.boundElements){var st=_e.boundElements.slice(),It=new Set;_e.boundElements=st.reduce(function(Dt,tn){var Tt=lt.get(tn.id);if(Tt&&!It.has(tn.id)){if(It.add(tn.id),Tt.isDeleted)return Dt;Dt.push(tn),(0,at.iB)(Tt)&&!Tt.containerId&&(Tt.containerId=_e.id)}return Dt},[])}},Ht=function(_e,lt){var st=_e.containerId?lt.get(_e.containerId):null;if(st){if(!_e.isDeleted&&st.boundElements&&!st.boundElements.find(function(Dt){return Dt.id===_e.id})){var It=(st.boundElements||(st.boundElements=[])).slice();It.push({type:"text",id:_e.id}),st.boundElements=It}}else _e.containerId=null},Bt=function(_e,lt,st){var It=new Set,Dt=lt?(0,Xt.xn)(lt):null,tn=(_e||[]).reduce(function(In,rn){if(rn.type!=="selection"&&!(0,ot.QD)(rn)){var _t=function(Vt){var Pt,qt,dn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(Vt.type){case"text":var Rt=Vt.fontSize,Zt=Vt.fontFamily;if("font"in Vt){var zt=Vt.font.split(" "),ft=(0,pt.Z)(zt,2),Gt=ft[0],wt=ft[1];Rt=parseFloat(Gt),Zt=pn(wt)}var Jt=(Pt=Vt.text)!==null&&Pt!==void 0?Pt:"",Mt=Vt.lineHeight||(Vt.height?(0,cn.$2)(Vt):(0,cn.PT)(Vt.fontFamily)),un=(0,cn.R8)(Vt.text,(0,Xt.mO)(Vt),Mt);return Vt=vn(Vt,{fontSize:Rt,fontFamily:Zt,text:Jt,textAlign:Vt.textAlign||xt.Hg,verticalAlign:Vt.verticalAlign||xt.hs,containerId:(qt=Vt.containerId)!==null&&qt!==void 0?qt:null,originalText:Vt.originalText||Jt,lineHeight:Mt,baseline:un}),dn&&(Vt=Nn(Nn({},Vt),(0,ot.JZ)(Vt))),Vt;case"freedraw":return vn(Vt,{points:Vt.points,lastCommittedPoint:null,simulatePressure:Vt.simulatePressure,pressures:Vt.pressures});case"image":return vn(Vt,{status:Vt.status||"pending",fileId:Vt.fileId,scale:Vt.scale||[1,1]});case"line":case"draw":case"arrow":var bn=Vt,jt=bn.startArrowhead,Fn=jt===void 0?null:jt,yn=bn.endArrowhead,Gn=yn===void 0?Vt.type==="arrow"?"arrow":null:yn,Nt=Vt.x,Xn=Vt.y,Cn=!Array.isArray(Vt.points)||Vt.points.length<2?[[0,0],[Vt.width,Vt.height]]:Vt.points;if(Cn[0][0]!==0||Cn[0][1]!==0){var xn=rt._.getNormalizedPoints(Vt);Cn=xn.points,Nt=xn.x,Xn=xn.y}return vn(Vt,{type:Vt.type==="draw"?"line":Vt.type,startBinding:Vt.startBinding,endBinding:Vt.endBinding,lastCommittedPoint:null,startArrowhead:Fn,endArrowhead:Gn,points:Cn,x:Nt,y:Xn});case"ellipse":case"rectangle":case"diamond":return vn(Vt,{})}}(rn,st==null?void 0:st.refreshDimensions);if(_t){var St=Dt==null?void 0:Dt.get(rn.id);St&&St.version>_t.version&&(_t=(0,vt.ZP)(_t,St.version)),It.has(_t.id)&&(_t=Nn(Nn({},_t),{},{id:(0,gt.kb)()})),It.add(_t.id),In.push(_t)}}return In},[]);if(st==null||!st.repairBindings)return tn;var Tt,$t=(0,Xt.xn)(tn),Wt=Qt(tn);try{for(Wt.s();!(Tt=Wt.n()).done;){var Ot=Tt.value;(0,at.iB)(Ot)&&Ot.containerId?Ht(Ot,$t):Ot.boundElements&&yt(Ot,$t)}}catch(In){Wt.e(In)}finally{Wt.f()}return tn},bt=function(_e,lt,st){var It=lt[_e];return It!==void 0?It:st[_e]},Et={isLibraryOpen:function(_e,lt){return["openSidebar","isLibraryOpen"in _e?_e.isLibraryOpen?"library":null:bt("openSidebar",_e,lt)]},isLibraryMenuDocked:function(_e,lt){var st;return["isSidebarDocked",(st=_e.isLibraryMenuDocked)!==null&&st!==void 0?st:bt("isSidebarDocked",_e,lt)]}},At=function(_e,lt){var st,It,Dt,tn;_e=_e||{};for(var Tt=(0,Ut.im)(),$t={},Wt=0,Ot=Object.keys(Et);Wt<Ot.length;Wt++){var In=Ot[Wt];if(In in _e){var rn=Et[In](_e,Tt),_t=(0,pt.Z)(rn,2),St=_t[0],Vt=_t[1];$t[St]=Vt}}for(var Pt=0,qt=Object.entries(Tt);Pt<qt.length;Pt++){var dn=(0,pt.Z)(qt[Pt],2),Rt=dn[0],Zt=dn[1],zt=_e[Rt],ft=lt?lt[Rt]:void 0;$t[Rt]=zt!==void 0?zt:ft!==void 0?ft:Zt}return Nn(Nn({},$t),{},{cursorButton:(lt==null?void 0:lt.cursorButton)||"up",penDetected:(st=lt==null?void 0:lt.penDetected)!==null&&st!==void 0?st:!!_e.penMode&&(It=_e.penDetected)!==null&&It!==void 0&&It,activeTool:Nn(Nn({},(0,Xt.Om)(Tt,$t.activeTool.type&&mn[$t.activeTool.type]?$t.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(Dt=$t.activeTool.locked)!==null&&Dt!==void 0&&Dt}),zoom:typeof _e.zoom=="number"?{value:_e.zoom}:(tn=_e.zoom)!==null&&tn!==void 0&&tn.value?_e.zoom:Tt.zoom,openSidebar:$t.openSidebar==="library"?$t.isSidebarDocked?"library":null:$t.openSidebar})},Ct=function(_e,lt,st,It){return{elements:Bt(_e==null?void 0:_e.elements,st,It),appState:At(_e==null?void 0:_e.appState,lt||null),files:(_e==null?void 0:_e.files)||{}}},ct=function(_e){var lt=Bt((0,ot.Lm)(_e.elements),null);return lt.length?Nn(Nn({},_e),{},{elements:lt}):null},it=function(){var _e,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],st=arguments.length>1?arguments[1]:void 0,It=[],Dt=Qt(lt);try{for(Dt.s();!(_e=Dt.n()).done;){var tn=_e.value;if(Array.isArray(tn)){var Tt=ct({status:st,elements:tn,id:(0,gt.kb)(),created:Date.now()});Tt&&It.push(Tt)}else{var $t=tn,Wt=ct(Nn(Nn({},$t),{},{id:$t.id||(0,gt.kb)(),status:$t.status||st,created:$t.created||Date.now()}));Wt&&It.push(Wt)}}}catch(Ot){Dt.e(Ot)}finally{Dt.f()}return It}},4929:function(Lt,kt,_){_.d(kt,{rj:function(){return Ot},nW:function(){return rn},nz:function(){return Pt},sw:function(){return dn},lV:function(){return Gt},q$:function(){return Vt},wq:function(){return Rt},$u:function(){return St},Pp:function(){return zt}});var pt=_(7169),ht=_(2577),ot=_(6340),at=_(1935),gt=_(7901),xt=_(1319),Ut=_(3646),rt=_(8211),vt=_(9787),Xt=_(45),nn=_(6066),cn=_(3063),Qt=_(6552),hn=_(2335),fn=_(1894),Nn=_(75),mn=_(2325),pn=_(1047),vn=_(487),yt=_.n(vn),Ht=_(631),Bt=_.n(Ht),bt=_(2052),Et=_.n(bt),At=_(4010),Ct=_.n(At),ct=_(1469),it=_.n(ct),_e=_(9329),lt=_.n(_e),st=_(5260),It={};It.styleTagTransform=lt(),It.setAttributes=Ct(),It.insert=Et().bind(null,"head"),It.domAPI=Bt(),It.insertStyleElement=it(),yt()(st.Z,It),st.Z&&st.Z.locals&&st.Z.locals;var Dt=_(7047),tn=_(2134),Tt=_(4512);function $t(Jt,Mt){var un=Object.keys(Jt);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(Jt);Mt&&(bn=bn.filter(function(jt){return Object.getOwnPropertyDescriptor(Jt,jt).enumerable})),un.push.apply(un,bn)}return un}function Wt(Jt){for(var Mt=1;Mt<arguments.length;Mt++){var un=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?$t(Object(un),!0).forEach(function(bn){(0,pt.Z)(Jt,bn,un[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Jt,Object.getOwnPropertyDescriptors(un)):$t(Object(un)).forEach(function(bn){Object.defineProperty(Jt,bn,Object.getOwnPropertyDescriptor(un,bn))})}return Jt}var Ot=document.createElement("img");Ot.src="data:".concat(hn.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var In=!1,rn=function(Jt){var Mt=Jt.element,un=Jt.setAppState,bn=Jt.onLinkOpen,jt=(0,tn.gF)(),Fn=Mt.link||"",yn=(0,vt.useState)(Fn),Gn=(0,ht.Z)(yn,2),Nt=Gn[0],Xn=Gn[1],Cn=(0,vt.useRef)(null),xn=jt.showHyperlinkPopup==="editor"||!Fn,Tn=(0,vt.useCallback)(function(){if(Cn.current){var Wn=St(Cn.current.value);!Mt.link&&Wn&&(0,Dt.L)("hyperlink","create"),(0,at.DR)(Mt,{link:Wn}),un({showHyperlinkPopup:"info"})}},[Mt,un]);(0,vt.useLayoutEffect)(function(){return function(){Tn()}},[Tn]),(0,vt.useEffect)(function(){var Wn=null,ln=function(Un){xn||(Wn&&clearTimeout(Wn),wt(Mt,jt,[Un.clientX,Un.clientY])&&(Wn=window.setTimeout(function(){un({showHyperlinkPopup:!1})},500)))};return window.addEventListener(hn.Ks.POINTER_MOVE,ln,!1),function(){window.removeEventListener(hn.Ks.POINTER_MOVE,ln,!1),Wn&&clearTimeout(Wn)}},[jt,Mt,xn,un]);var Pn=(0,vt.useCallback)(function(){(0,Dt.L)("hyperlink","delete"),(0,at.DR)(Mt,{link:null}),xn&&(Cn.current.value=""),un({showHyperlinkPopup:!1})},[un,Mt,xn]),tr=_t(Mt,jt),ir=tr.x,gr=tr.y;return jt.draggingElement||jt.resizingElement||jt.isRotating||jt.openMenu?null:(0,Tt.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(gr,"px"),left:"".concat(ir,"px"),width:320,padding:5},children:[xn?(0,Tt.jsx)("input",{className:(0,Xt.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Cn,value:Nt,onChange:function(Wn){return Xn(Wn.target.value)},autoFocus:!0,onKeyDown:function(Wn){Wn.stopPropagation(),Wn[nn.tW.CTRL_OR_CMD]&&Wn.key===nn.tW.K&&Wn.preventDefault(),Wn.key!==nn.tW.ENTER&&Wn.key!==nn.tW.ESCAPE||Tn()}}):(0,Tt.jsx)("a",{href:Mt.link||"",className:(0,Xt.Z)("excalidraw-hyperlinkContainer-link",{"d-none":xn}),target:Vt(Mt.link)?"_self":"_blank",onClick:function(Wn){if(Mt.link&&bn){var ln=(0,ot.ag)(hn.Ks.EXCALIDRAW_LINK,Wn.nativeEvent);bn(Mt,ln),ln.defaultPrevented&&Wn.preventDefault()}},rel:"noopener noreferrer",children:Mt.link}),(0,Tt.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!xn&&(0,Tt.jsx)(xt.V,{type:"button",title:(0,rt.t)("buttons.edit"),"aria-label":(0,rt.t)("buttons.edit"),label:(0,rt.t)("buttons.edit"),onClick:function(){(0,Dt.L)("hyperlink","edit","popup-ui"),un({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:Ut.Pm}),Fn&&(0,Tt.jsx)(xt.V,{type:"button",title:(0,rt.t)("buttons.remove"),"aria-label":(0,rt.t)("buttons.remove"),label:(0,rt.t)("buttons.remove"),onClick:Pn,className:"excalidraw-hyperlinkContainer--remove",icon:Ut.XH})]})]})},_t=function(Jt,Mt){var un=(0,pn.qf)(Jt),bn=(0,ht.Z)(un,2),jt=bn[0],Fn=bn[1],yn=(0,ot._i)({sceneX:jt+Jt.width/2,sceneY:Fn},Mt),Gn=yn.x,Nt=yn.y;return{x:Gn-Mt.offsetLeft-160,y:Nt-Mt.offsetTop-85}},St=function(Jt){return(Jt=Jt.trim())&&(Jt.includes("://")||/^[[\\/]/.test(Jt)||(Jt="https://".concat(Jt))),Jt},Vt=function(Jt){return!!(Jt!=null&&Jt.includes(location.origin)||Jt!=null&&Jt.startsWith("/"))},Pt=(0,gt.z)({name:"hyperlink",perform:function(Jt,Mt){return Mt.showHyperlinkPopup!=="editor"&&{elements:Jt,appState:Wt(Wt({},Mt),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(Jt){return Jt[nn.tW.CTRL_OR_CMD]&&Jt.key===nn.tW.K},contextItemLabel:function(Jt,Mt){return qt(Jt,Mt)},predicate:function(Jt,Mt){return(0,Nn.eD)(Jt,Mt).length===1},PanelComponent:function(Jt){var Mt=Jt.elements,un=Jt.appState,bn=Jt.updateData,jt=(0,Nn.eD)(Mt,un);return(0,Tt.jsx)(xt.V,{type:"button",icon:Ut.xP,"aria-label":(0,rt.t)(qt(Mt,un)),title:"".concat((0,rt.t)("labels.link.label")," - ").concat((0,ot.uY)("CtrlOrCmd+K")),onClick:function(){return bn(null)},selected:jt.length===1&&!!jt[0].link})}}),qt=function(Jt,Mt){return(0,Nn.eD)(Jt,Mt)[0].link?"labels.link.edit":"labels.link.create"},dn=function(Jt,Mt,un){var bn=(0,ht.Z)(Jt,4),jt=bn[0],Fn=bn[1],yn=bn[2],Gn=bn[3],Nt=cn.Dn,Xn=Nt/un.zoom.value,Cn=Nt/un.zoom.value,xn=Nt/un.zoom.value,Tn=(jt+yn)/2,Pn=(Fn+Gn)/2,tr=(Nt-8)/(2*un.zoom.value),ir=4/un.zoom.value,gr=yn+ir-tr,Wn=Fn-ir-xn+tr,ln=(0,Qt.U1)(gr+Xn/2,Wn+Cn/2,Tn,Pn,Mt),Un=(0,ht.Z)(ln,2);return[Un[0]-Xn/2,Un[1]-Cn/2,Xn,Cn]},Rt=function(Jt,Mt,un,bn){var jt=(0,ht.Z)(un,2),Fn=jt[0],yn=jt[1];if(!Jt.link||Mt.selectedElementIds[Jt.id])return!1;var Gn=4/Mt.zoom.value;if(!bn&&Mt.viewModeEnabled&&(0,mn.pX)(Jt,[Fn,yn],Gn))return!0;var Nt=(0,pn.qf)(Jt),Xn=(0,ht.Z)(Nt,4),Cn=Xn[0],xn=Xn[1],Tn=Xn[2],Pn=Xn[3],tr=dn([Cn,xn,Tn,Pn],Jt.angle,Mt),ir=(0,ht.Z)(tr,4),gr=ir[0],Wn=ir[1],ln=ir[2],Un=ir[3];return Fn>gr-Gn&&Fn<gr+Gn+ln&&yn>Wn-Gn&&yn<Wn+Un+Gn},Zt=null,zt=function(Jt,Mt){Zt&&clearTimeout(Zt),Zt=window.setTimeout(function(){return ft(Jt,Mt)},hn.sA)},ft=function(Jt,Mt){if(Jt.link){var un=(0,fn.bK)();un.classList.add("excalidraw-tooltip--visible"),un.style.maxWidth="20rem",un.textContent=Jt.link;var bn=(0,pn.qf)(Jt),jt=(0,ht.Z)(bn,4),Fn=jt[0],yn=jt[1],Gn=jt[2],Nt=jt[3],Xn=dn([Fn,yn,Gn,Nt],Jt.angle,Mt),Cn=(0,ht.Z)(Xn,4),xn=Cn[0],Tn=Cn[1],Pn=Cn[2],tr=Cn[3],ir=(0,ot._i)({sceneX:xn,sceneY:Tn},Mt);(0,fn.Js)(un,{left:ir.x,top:ir.y,width:Pn,height:tr},"top"),(0,Dt.L)("hyperlink","tooltip","link-icon"),In=!0}},Gt=function(){Zt&&clearTimeout(Zt),In&&(In=!1,(0,fn.bK)().classList.remove("excalidraw-tooltip--visible"))},wt=function(Jt,Mt,un){var bn=(0,ht.Z)(un,2),jt=bn[0],Fn=bn[1],yn=(0,ot.dE)({clientX:jt,clientY:Fn},Mt),Gn=yn.x,Nt=yn.y,Xn=15/Mt.zoom.value;if((0,mn.pX)(Jt,[Gn,Nt],Xn))return!1;var Cn=(0,pn.qf)(Jt),xn=(0,ht.Z)(Cn,3),Tn=xn[0],Pn=xn[1],tr=xn[2];if(Gn>=Tn&&Gn<=tr&&Nt>=Pn-85&&Nt<=Pn)return!1;var ir=_t(Jt,Mt),gr=ir.x,Wn=ir.y;return!(jt>=gr-Xn&&jt<=gr+320+10+Xn&&Fn>=Wn-Xn&&Fn<=Wn+Xn+10+42)}},8290:function(Lt,kt,_){_.d(kt,{$q:function(){return _t},DK:function(){return bt},H:function(){return Et},HG:function(){return Nn},N1:function(){return hn},R:function(){return yt},Ww:function(){return it},Y9:function(){return Ct},ZB:function(){return Dt},cz:function(){return Qt},ek:function(){return In},el:function(){return pn}});var pt=_(7169),ht=_(2577),ot=_(75),at=_(1974),gt=_(2325),xt=_(1935),Ut=_(1564),rt=_(6938),vt=_(6340),Xt=_(6066),nn=_(5710);function cn(Pt,qt){var dn=Object.keys(Pt);if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(Pt);qt&&(Rt=Rt.filter(function(Zt){return Object.getOwnPropertyDescriptor(Pt,Zt).enumerable})),dn.push.apply(dn,Rt)}return dn}var Qt=function(Pt){return!Pt[Xt.tW.CTRL_OR_CMD]},hn=function(Pt){return Pt.isBindingEnabled},fn=function(Pt,qt){var dn=[];return qt.forEach(function(Rt){var Zt=Pt.getNonDeletedElement(Rt);Zt!=null&&dn.push(Zt)}),dn},Nn=function(Pt,qt,dn){var Rt=new Set,Zt=new Set;mn(Pt,qt,dn,"start",Rt,Zt),mn(Pt,dn,qt,"end",Rt,Zt);var zt=Array.from(Zt).filter(function(ft){return!Rt.has(ft)});fn(Ut.Z.getScene(Pt),zt).forEach(function(ft){var Gt;(0,xt.DR)(ft,{boundElements:(Gt=ft.boundElements)===null||Gt===void 0?void 0:Gt.filter(function(wt){return wt.type!=="arrow"||wt.id!==Pt.id})})})},mn=function(Pt,qt,dn,Rt,Zt,zt){if(qt!=="keep")if(qt!=null)dn!=null&&(dn==="keep"?Bt(Pt,qt,Rt):Rt!=="start"&&dn.id===qt.id)||(Ht(Pt,qt,Rt),Zt.add(qt.id));else{var ft=At(Pt,Rt);ft!=null&&zt.add(ft)}},pn=function(Pt){Pt.forEach(function(qt){(0,at.Mn)(qt)?Nn(qt,Tt(qt,"start"),Tt(qt,"end")):(0,at.f0)(qt)&&vn(qt)})},vn=function(Pt){Wt(Pt).forEach(function(qt){var dn=(0,ht.Z)(qt,2),Rt=dn[0],Zt=dn[1];return Nn(Rt,Zt==="end"?"keep":Pt,Zt==="start"?"keep":Pt)})},yt=function(Pt,qt,dn,Rt){qt.startBoundElement!=null&&Ht(Pt,qt.startBoundElement,"start");var Zt=Ct(Rt,dn);Zt==null||Bt(Pt,Zt,"end")||Ht(Pt,Zt,"end")},Ht=function(Pt,qt,dn){(0,xt.DR)(Pt,(0,pt.Z)({},dn==="start"?"startBinding":"endBinding",function(Rt){for(var Zt=1;Zt<arguments.length;Zt++){var zt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?cn(Object(zt),!0).forEach(function(ft){(0,pt.Z)(Rt,ft,zt[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(zt)):cn(Object(zt)).forEach(function(ft){Object.defineProperty(Rt,ft,Object.getOwnPropertyDescriptor(zt,ft))})}return Rt}({elementId:qt.id},ct(Pt,qt,dn)))),(0,vt.xn)(qt.boundElements||[]).has(Pt.id)||(0,xt.DR)(qt,{boundElements:(qt.boundElements||[]).concat({id:Pt.id,type:"arrow"})})},Bt=function(Pt,qt,dn){var Rt=Pt[dn==="start"?"endBinding":"startBinding"];return bt(Pt,Rt==null?void 0:Rt.elementId,qt)},bt=function(Pt,qt,dn){return qt===dn.id&&Pt.points.length<3},Et=function(Pt){Pt.forEach(function(qt){(0,at.Mn)(qt)&&Nn(qt,null,null)})},At=function(Pt,qt){var dn=qt==="start"?"startBinding":"endBinding",Rt=Pt[dn];return Rt==null?null:((0,xt.DR)(Pt,(0,pt.Z)({},dn,null)),Rt.elementId)},Ct=function(Pt,qt){return(0,ot.QG)(qt.getNonDeletedElements(),function(dn){return(0,at.f0)(dn,!1)&&(0,gt.uu)(dn,Pt)})},ct=function(Pt,qt,dn){var Rt=dn==="start"?-1:1,Zt=Rt===-1?0:Pt.points.length-1,zt=Zt-Rt,ft=rt._.getPointAtIndexGlobalCoordinates(Pt,Zt),Gt=rt._.getPointAtIndexGlobalCoordinates(Pt,zt);return{focus:(0,gt.T_)(qt,Gt,ft),gap:Math.max(1,(0,gt.oT)(qt,ft))}},it=function(Pt,qt){var dn,Rt=((dn=Pt.boundElements)!==null&&dn!==void 0?dn:[]).filter(function(wt){return wt.type==="arrow"});if(Rt.length!==0){var Zt=qt??{},zt=Zt.newSize,ft=Zt.simultaneouslyUpdated,Gt=lt(ft);fn(Ut.Z.getScene(Pt),Rt.map(function(wt){return wt.id})).forEach(function(wt){if((0,at.bt)(wt)){var Jt=Pt;if(_e(wt,Jt)){var Mt=It(Jt,wt.startBinding,zt),un=It(Jt,wt.endBinding,zt);Gt.has(wt.id)?(0,xt.DR)(wt,{startBinding:Mt,endBinding:un}):(st(wt,"start",Mt,Pt),st(wt,"end",un,Pt),(0,nn.WJ)(wt)&&(0,nn.RB)(wt,!1))}}})}},_e=function(Pt,qt){var dn,Rt;return((dn=Pt.startBinding)===null||dn===void 0?void 0:dn.elementId)===qt.id||((Rt=Pt.endBinding)===null||Rt===void 0?void 0:Rt.elementId)===qt.id},lt=function(Pt){return new Set((Pt||[]).map(function(qt){return qt.id}))},st=function(Pt,qt,dn,Rt){if(!(dn==null||dn.elementId!==Rt.id&&Pt.points.length>2)){var Zt=Ut.Z.getScene(Pt).getElement(dn.elementId);if(Zt!=null){var zt,ft=qt==="start"?-1:1,Gt=ft===-1?0:Pt.points.length-1,wt=Gt-ft,Jt=rt._.getPointAtIndexGlobalCoordinates(Pt,wt),Mt=(0,gt.j_)(Zt,dn.focus,Jt);if(dn.gap===0)zt=Mt;else{var un=(0,gt.MZ)(Zt,Jt,Mt,dn.gap);zt=un.length===0?Mt:un[0]}rt._.movePoints(Pt,[{index:Gt,point:rt._.pointFromAbsoluteCoords(Pt,zt)}],(0,pt.Z)({},qt==="start"?"startBinding":"endBinding",dn))}}},It=function(Pt,qt,dn){if(qt==null||dn==null)return qt;var Rt=qt.gap,Zt=qt.focus,zt=qt.elementId,ft=dn.width,Gt=dn.height,wt=Pt.width,Jt=Pt.height;return{elementId:zt,gap:Math.max(1,Math.min((0,gt.fb)(Pt,ft,Gt),Rt*(ft<Gt?ft/wt:Gt/Jt))),focus:Zt}},Dt=function(Pt){var qt=new Set(Pt.map(function(dn){return dn.id}));return Pt.flatMap(function(dn){return(0,at.Mn)(dn,!1)?tn(dn).filter(function(Rt){return!qt.has(Rt.id)}):(0,at.f0)(dn,!1)?Wt(dn).filter(function(Rt){return!qt.has(Rt[0].id)}):[]})},tn=function(Pt){return[Tt(Pt,"start"),Tt(Pt,"end")].filter(function(qt){return qt!=null})},Tt=function(Pt,qt){return Ct($t(Pt,qt),Ut.Z.getScene(Pt))},$t=function(Pt,qt){var dn=qt==="start"?0:-1;return(0,vt.AK)(rt._.getPointAtIndexGlobalCoordinates(Pt,dn))},Wt=function(Pt){return Ut.Z.getScene(Pt).getNonDeletedElements().map(function(qt){if(!(0,at.Mn)(qt,!1))return null;var dn=Ot(qt,"start",Pt),Rt=Ot(qt,"end",Pt);return dn||Rt?[qt,dn&&Rt?"both":dn?"start":"end",Pt]:null}).filter(function(qt){return qt!=null})},Ot=function(Pt,qt,dn){return Pt[qt==="start"?"startBinding":"endBinding"]==null&&!Bt(Pt,dn,qt)&&(0,gt.uu)(dn,$t(Pt,qt))},In=function(Pt,qt,dn,Rt){var Zt=new Set,zt=new Set,ft=Rt==="duplicatesServeAsOld";qt.forEach(function(Gt){var wt=Gt.boundElements;if(wt!=null&&wt.length>0&&(wt.forEach(function(un){ft&&!dn.has(un.id)&&Zt.add(un.id)}),zt.add(dn.get(Gt.id))),(0,at.Mn)(Gt)){if(Gt.startBinding!=null){var Jt=Gt.startBinding.elementId;ft&&!dn.has(Jt)&&zt.add(Jt)}if(Gt.endBinding!=null){var Mt=Gt.endBinding.elementId;ft&&!dn.has(Mt)&&zt.add(Mt)}Gt.startBinding==null&&Gt.endBinding==null||Zt.add(dn.get(Gt.id))}}),Pt.filter(function(Gt){var wt=Gt.id;return Zt.has(wt)}).forEach(function(Gt){var wt=Gt.startBinding,Jt=Gt.endBinding;(0,xt.DR)(Gt,{startBinding:rn(wt,dn),endBinding:rn(Jt,dn)})}),Pt.filter(function(Gt){var wt=Gt.id;return zt.has(wt)}).forEach(function(Gt){var wt=Gt.boundElements;wt!=null&&wt.length>0&&(0,xt.DR)(Gt,{boundElements:wt.map(function(Jt){return dn.has(Jt.id)?{id:dn.get(Jt.id),type:Jt.type}:Jt})})})},rn=function(Pt,qt){var dn;if(Pt==null)return null;var Rt=Pt.elementId;return{focus:Pt.focus,gap:Pt.gap,elementId:(dn=qt.get(Rt))!==null&&dn!==void 0?dn:Rt}},_t=function(Pt,qt){var dn=new Set(qt.map(function(Zt){return Zt.id})),Rt=new Set;qt.forEach(function(Zt){var zt;(0,at.f0)(Zt)?(zt=Zt.boundElements)===null||zt===void 0||zt.forEach(function(ft){dn.has(ft.id)||Rt.add(ft.id)}):(0,at.Mn)(Zt)&&(Zt.startBinding&&Rt.add(Zt.startBinding.elementId),Zt.endBinding&&Rt.add(Zt.endBinding.elementId))}),Pt.filter(function(Zt){var zt=Zt.id;return Rt.has(zt)}).forEach(function(Zt){(0,at.f0)(Zt)?(0,xt.DR)(Zt,{boundElements:Vt(Zt.boundElements,dn)}):(0,at.Mn)(Zt)&&(0,xt.DR)(Zt,{startBinding:St(Zt.startBinding,dn),endBinding:St(Zt.endBinding,dn)})})},St=function(Pt,qt){return Pt==null||qt.has(Pt.elementId)?null:Pt},Vt=function(Pt,qt){return Pt?Pt.filter(function(dn){return!qt.has(dn.id)}):null}},8925:function(Lt,kt,_){_.d(kt,{CM:function(){return hn},IX:function(){return mn},KP:function(){return bt},Pi:function(){return Bt},UC:function(){return Qt},Ut:function(){return At},Y5:function(){return yt},os:function(){return Ct},qf:function(){return cn},v2:function(){return ct},wC:function(){return Et}});var pt=_(2577),ht=_(1930),ot=_(6552),at=_(8234),gt=_(3063),xt=_(1974),Ut=_(5001),rt=_(5710),vt=_(6938);function Xt(it,_e){var lt=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!lt){if(Array.isArray(it)||(lt=function($t,Wt){if($t){if(typeof $t=="string")return nn($t,Wt);var Ot=Object.prototype.toString.call($t).slice(8,-1);if(Ot==="Object"&&$t.constructor&&(Ot=$t.constructor.name),Ot==="Map"||Ot==="Set")return Array.from($t);if(Ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ot))return nn($t,Wt)}}(it))||_e&&it&&typeof it.length=="number"){lt&&(it=lt);var st=0,It=function(){};return{s:It,n:function(){return st>=it.length?{done:!0}:{done:!1,value:it[st++]}},e:function($t){throw $t},f:It}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Dt,tn=!0,Tt=!1;return{s:function(){lt=lt.call(it)},n:function(){var $t=lt.next();return tn=$t.done,$t},e:function($t){Tt=!0,Dt=$t},f:function(){try{tn||lt.return==null||lt.return()}finally{if(Tt)throw Dt}}}}function nn(it,_e){(_e==null||_e>it.length)&&(_e=it.length);for(var lt=0,st=new Array(_e);lt<_e;lt++)st[lt]=it[lt];return st}var cn=function(it){var _e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,xt.F9)(it))return vn(it);if((0,xt.bt)(it))return vt._.getElementAbsoluteCoords(it,_e);if((0,xt.iB)(it)){var lt=(0,rt.tl)(it);if((0,xt.Yv)(lt)){var st=vt._.getBoundTextElementPosition(lt,it);return[st.x,st.y,st.x+it.width,st.y+it.height,st.x+it.width/2,st.y+it.height/2]}}return[it.x,it.y,it.x+it.width,it.y+it.height,it.x+it.width/2,it.y+it.height/2]},Qt=function(it){var _e=Math.floor(it.width/2)+1,lt=it.width,st=Math.floor(it.height/2)+1;return[_e,0,lt,st,_e,it.height,0,st]},hn=function(it){var _e,lt=Xt(it.sets);try{for(lt.s();!(_e=lt.n()).done;){var st=_e.value;if(st.type==="path")return st.ops}}catch(It){lt.e(It)}finally{lt.f()}return it.sets[0].ops},fn=function(it,_e,lt,st,It){var Dt=1-it;return Math.pow(Dt,3)*_e+3*Math.pow(Dt,2)*it*lt+3*Dt*Math.pow(it,2)*st+Math.pow(it,3)*It},Nn=function(it,_e,lt,st){var It=_e-it,Dt=lt-_e,tn=3*It-6*Dt+3*(st-lt),Tt=6*Dt-6*It,$t=3*It,Wt=Tt*Tt-4*tn*$t;if(!(Wt>=0))return!1;var Ot=null,In=null,rn=1/0,_t=1/0;return tn===0?rn=_t=-$t/Tt:(rn=(-Tt+Math.sqrt(Wt))/(2*tn),_t=(-Tt-Math.sqrt(Wt))/(2*tn)),rn>=0&&rn<=1&&(Ot=fn(rn,it,_e,lt,st)),_t>=0&&_t<=1&&(In=fn(_t,it,_e,lt,st)),[Ot,In]},mn=function(it,_e){var lt=[0,0],st=it.reduce(function(It,Dt){var tn=Dt.op,Tt=Dt.data;if(tn==="move")lt=Tt;else if(tn==="bcurveTo"){var $t=[Tt[0],Tt[1]],Wt=[Tt[2],Tt[3]],Ot=[Tt[4],Tt[5]],In=_e?_e.apply(void 0,$t):$t,rn=_e?_e.apply(void 0,Wt):Wt,_t=_e?_e.apply(void 0,Ot):Ot,St=_e?_e.apply(void 0,(0,ht.Z)(lt)):lt;lt=Ot;var Vt=function(zt,ft,Gt,wt){var Jt=Nn(zt[0],ft[0],Gt[0],wt[0]),Mt=Nn(zt[1],ft[1],Gt[1],wt[1]),un=Math.min(zt[0],wt[0]),bn=Math.max(zt[0],wt[0]);if(Jt){var jt=Jt.filter(function(Nt){return Nt!==null});un=Math.min.apply(Math,[un].concat((0,ht.Z)(jt))),bn=Math.max.apply(Math,[bn].concat((0,ht.Z)(jt)))}var Fn=Math.min(zt[1],wt[1]),yn=Math.max(zt[1],wt[1]);if(Mt){var Gn=Mt.filter(function(Nt){return Nt!==null});Fn=Math.min.apply(Math,[Fn].concat((0,ht.Z)(Gn))),yn=Math.max.apply(Math,[yn].concat((0,ht.Z)(Gn)))}return[un,Fn,bn,yn]}(St,In,rn,_t),Pt=(0,pt.Z)(Vt,4),qt=Pt[0],dn=Pt[1],Rt=Pt[2],Zt=Pt[3];It.minX=Math.min(It.minX,qt),It.minY=Math.min(It.minY,dn),It.maxX=Math.max(It.maxX,Rt),It.maxY=Math.max(It.maxY,Zt)}return It},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[st.minX,st.minY,st.maxX,st.maxY]},pn=function(it){var _e,lt=1/0,st=1/0,It=-1/0,Dt=-1/0,tn=Xt(it);try{for(tn.s();!(_e=tn.n()).done;){var Tt=(0,pt.Z)(_e.value,2),$t=Tt[0],Wt=Tt[1];lt=Math.min(lt,$t),st=Math.min(st,Wt),It=Math.max(It,$t),Dt=Math.max(Dt,Wt)}}catch(Ot){tn.e(Ot)}finally{tn.f()}return[lt,st,It,Dt]},vn=function(it){var _e=pn(it.points),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Dt=lt[2],tn=lt[3],Tt=st+it.x,$t=It+it.y,Wt=Dt+it.x,Ot=tn+it.y;return[Tt,$t,Wt,Ot,(Tt+Wt)/2,($t+Ot)/2]},yt=function(it,_e,lt,st){var It=hn(_e[0]);if(It.length<1)return null;var Dt=lt==="start"?1:It.length-1,tn=It[Dt].data,Tt=[tn[4],tn[5]],$t=[tn[2],tn[3]],Wt=[tn[0],tn[1]],Ot=It[Dt-1],In=[0,0];Ot.op==="move"?In=Ot.data:Ot.op==="bcurveTo"&&(In=[Ot.data[4],Ot.data[5]]);var rn=function(cr,or){return Math.pow(1-cr,3)*Tt[or]+3*cr*Math.pow(1-cr,2)*$t[or]+3*Math.pow(cr,2)*(1-cr)*Wt[or]+In[or]*Math.pow(cr,3)},_t=lt==="start"?In:Tt,St=(0,pt.Z)(_t,2),Vt=St[0],Pt=St[1],qt=[rn(.3,0),rn(.3,1)],dn=qt[0],Rt=qt[1],Zt=Math.hypot(Vt-dn,Pt-Rt),zt=(Vt-dn)/Zt,ft=(Pt-Rt)/Zt,Gt={arrow:30,bar:15,dot:15,triangle:15}[st],wt=0;if(st==="arrow"){var Jt=(0,pt.Z)(it.points[it.points.length-1],2),Mt=Jt[0],un=Jt[1],bn=it.points.length>1?it.points[it.points.length-2]:[0,0],jt=(0,pt.Z)(bn,2),Fn=jt[0],yn=jt[1];wt=Math.hypot(Mt-Fn,un-yn)}else for(var Gn=0;Gn<it.points.length;Gn++){var Nt=it.points[Gn-1]||[0,0],Xn=(0,pt.Z)(Nt,2),Cn=Xn[0],xn=Xn[1],Tn=(0,pt.Z)(it.points[Gn],2),Pn=Tn[0],tr=Tn[1];wt+=Math.hypot(Pn-Cn,tr-xn)}var ir=Math.min(Gt,wt/2),gr=Vt-zt*ir,Wn=Pt-ft*ir;if(st==="dot")return[Vt,Pt,Math.hypot(Wn-Pt,gr-Vt)+it.strokeWidth];var ln={arrow:20,bar:90,triangle:25}[st],Un=(0,ot.U1)(gr,Wn,Vt,Pt,-ln*Math.PI/180),wn=(0,pt.Z)(Un,2),Mn=wn[0],zn=wn[1],jn=(0,ot.U1)(gr,Wn,Vt,Pt,ln*Math.PI/180),$n=(0,pt.Z)(jn,2);return[Vt,Pt,Mn,zn,$n[0],$n[1]]},Ht=function(it,_e,lt){var st;if(it.points.length<2){var It=(0,pt.Z)(it.points[0],2),Dt=It[0],tn=It[1],Tt=(0,ot.U1)(it.x+Dt,it.y+tn,_e,lt,it.angle),$t=(0,pt.Z)(Tt,2),Wt=$t[0],Ot=$t[1],In=[Wt,Ot,Wt,Ot],rn=(0,rt.WJ)(it);if(rn){var _t=vt._.getMinMaxXYWithBoundText(it,[Wt,Ot,Wt,Ot],rn);In=[_t[0],_t[1],_t[2],_t[3]]}return In}var St=(st=(0,gt.R2)(it))===null||st===void 0?void 0:st[0],Vt=St??function(zt){var ft=at.Z.generator(),Gt=(0,gt.i)(zt);return ft[zt.roundness?"curve":Gt.fill?"polygon":"linearPath"](zt.points,Gt)}(it),Pt=hn(Vt),qt=mn(Pt,function(zt,ft){return(0,ot.U1)(it.x+zt,it.y+ft,_e,lt,it.angle)}),dn=[qt[0],qt[1],qt[2],qt[3]],Rt=(0,rt.WJ)(it);if(Rt){var Zt=vt._.getMinMaxXYWithBoundText(it,dn,Rt);dn=[Zt[0],Zt[1],Zt[2],Zt[3]]}return dn},Bt=function(it){var _e,lt=cn(it),st=(0,pt.Z)(lt,6),It=st[0],Dt=st[1],tn=st[2],Tt=st[3],$t=st[4],Wt=st[5];if((0,xt.F9)(it)){var Ot=pn(it.points.map(function(Zr){var yr=(0,pt.Z)(Zr,2),Ar=yr[0],pr=yr[1];return(0,ot.U1)(Ar,pr,$t-it.x,Wt-it.y,it.angle)})),In=(0,pt.Z)(Ot,4),rn=In[0],_t=In[1],St=In[2],Vt=In[3];return[rn+it.x,_t+it.y,St+it.x,Vt+it.y]}if((0,xt.bt)(it))_e=Ht(it,$t,Wt);else if(it.type==="diamond"){var Pt=(0,ot.U1)($t,Dt,$t,Wt,it.angle),qt=(0,pt.Z)(Pt,2),dn=qt[0],Rt=qt[1],Zt=(0,ot.U1)($t,Tt,$t,Wt,it.angle),zt=(0,pt.Z)(Zt,2),ft=zt[0],Gt=zt[1],wt=(0,ot.U1)(It,Wt,$t,Wt,it.angle),Jt=(0,pt.Z)(wt,2),Mt=Jt[0],un=Jt[1],bn=(0,ot.U1)(tn,Wt,$t,Wt,it.angle),jt=(0,pt.Z)(bn,2),Fn=jt[0],yn=jt[1];_e=[Math.min(dn,ft,Mt,Fn),Math.min(Rt,Gt,un,yn),Math.max(dn,ft,Mt,Fn),Math.max(Rt,Gt,un,yn)]}else if(it.type==="ellipse"){var Gn=(tn-It)/2,Nt=(Tt-Dt)/2,Xn=Math.cos(it.angle),Cn=Math.sin(it.angle),xn=Math.hypot(Gn*Xn,Nt*Cn),Tn=Math.hypot(Nt*Xn,Gn*Cn);_e=[$t-xn,Wt-Tn,$t+xn,Wt+Tn]}else{var Pn=(0,ot.U1)(It,Dt,$t,Wt,it.angle),tr=(0,pt.Z)(Pn,2),ir=tr[0],gr=tr[1],Wn=(0,ot.U1)(It,Tt,$t,Wt,it.angle),ln=(0,pt.Z)(Wn,2),Un=ln[0],wn=ln[1],Mn=(0,ot.U1)(tn,Tt,$t,Wt,it.angle),zn=(0,pt.Z)(Mn,2),jn=zn[0],$n=zn[1],cr=(0,ot.U1)(tn,Dt,$t,Wt,it.angle),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1];_e=[Math.min(ir,Un,jn,ur),Math.min(gr,wn,$n,Ur),Math.max(ir,Un,jn,ur),Math.max(gr,wn,$n,Ur)]}return _e},bt=function(it){if(!it.length)return[0,0,0,0];var _e=1/0,lt=-1/0,st=1/0,It=-1/0;return it.forEach(function(Dt){var tn=Bt(Dt),Tt=(0,pt.Z)(tn,4),$t=Tt[0],Wt=Tt[1],Ot=Tt[2],In=Tt[3];_e=Math.min(_e,$t),st=Math.min(st,Wt),lt=Math.max(lt,Ot),It=Math.max(It,In)}),[_e,st,lt,It]},Et=function(it,_e,lt,st){if(!(0,xt.bt)(it)&&!(0,xt.F9)(it))return[it.x,it.y,it.x+_e,it.y+lt];var It,Dt=(0,Ut.z)(0,_e,(0,Ut.z)(1,lt,it.points,st),st);if((0,xt.F9)(it))It=pn(Dt);else{var tn=at.Z.generator(),Tt=it.roundness?tn.curve(Dt,(0,gt.i)(it)):tn.linearPath(Dt,(0,gt.i)(it)),$t=hn(Tt);It=mn($t)}var Wt=It,Ot=(0,pt.Z)(Wt,4),In=Ot[0],rn=Ot[1],_t=Ot[2],St=Ot[3];return[In+it.x,rn+it.y,_t+it.x,St+it.y]},At=function(it,_e){var lt=at.Z.generator(),st=it.roundness==null?lt.linearPath(_e,(0,gt.i)(it)):lt.curve(_e,(0,gt.i)(it)),It=hn(st),Dt=mn(It),tn=(0,pt.Z)(Dt,4),Tt=tn[0],$t=tn[1],Wt=tn[2],Ot=tn[3];return[Tt+it.x,$t+it.y,Wt+it.x,Ot+it.y]},Ct=function(it,_e){if(!it.length)return[0,0,0,0];var lt=1/0,st=it[0];return it.forEach(function(It){var Dt=Bt(It),tn=(0,pt.Z)(Dt,4),Tt=tn[0],$t=tn[1],Wt=tn[2],Ot=tn[3],In=(0,ot.LW)((Tt+Wt)/2,($t+Ot)/2,_e.x,_e.y);In<lt&&(lt=In,st=It)}),Bt(st)},ct=function(it){var _e=bt(it),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Dt=lt[2],tn=lt[3];return{minX:st,minY:It,maxX:Dt,maxY:tn,width:Dt-st,height:tn-It,midX:(st+Dt)/2,midY:(It+tn)/2}}},2325:function(Lt,kt,_){_.d(kt,{uu:function(){return _t},T_:function(){return Fn},j_:function(){return yn},oT:function(){return Pt},wX:function(){return $t},MZ:function(){return Gn},wB:function(){return Wt},Qu:function(){return Ot},pX:function(){return rn},fb:function(){return St}});var pt=_(2577),ht=function(ln,Un){return[0,0,0,0,Un,ln,1,0]},ot=function(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,wn=[0,0,0,0,0,0,0,0];if(Un<0||Un>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Un,"`"));return ln!==0&&(wn[Un]=ln),wn},at=function(ln){return[ln[0],ln[1],ln[2],ln[3],-ln[4],-ln[5],-ln[6],-ln[7]]},gt=function(ln,Un){return Qt(Un)?[ln[0]-Un,ln[1],ln[2],ln[3],ln[4],ln[5],ln[6],ln[7]]:[ln[0]-Un[0],ln[1]-Un[1],ln[2]-Un[2],ln[3]-Un[3],ln[4]-Un[4],ln[5]-Un[5],ln[6]-Un[6],ln[7]-Un[7]]},xt=function(ln,Un){return Qt(Un)?[ln[0]*Un,ln[1]*Un,ln[2]*Un,ln[3]*Un,ln[4]*Un,ln[5]*Un,ln[6]*Un,ln[7]*Un]:[Ut(ln,Un),Un[1]*ln[0]+Un[0]*ln[1]-Un[4]*ln[2]+Un[5]*ln[3]+Un[2]*ln[4]-Un[3]*ln[5]-Un[7]*ln[6]-Un[6]*ln[7],Un[2]*ln[0]+Un[0]*ln[2]-Un[6]*ln[3]+Un[3]*ln[6],Un[3]*ln[0]+Un[6]*ln[2]+Un[0]*ln[3]-Un[2]*ln[6],Un[4]*ln[0]+Un[2]*ln[1]-Un[1]*ln[2]+Un[7]*ln[3]+Un[0]*ln[4]+Un[6]*ln[5]-Un[5]*ln[6]+Un[3]*ln[7],Un[5]*ln[0]-Un[3]*ln[1]+Un[7]*ln[2]+Un[1]*ln[3]-Un[6]*ln[4]+Un[0]*ln[5]+Un[4]*ln[6]+Un[2]*ln[7],Un[6]*ln[0]+Un[3]*ln[2]-Un[2]*ln[3]+Un[0]*ln[6],Un[7]*ln[0]+Un[6]*ln[1]+Un[5]*ln[2]+Un[4]*ln[3]+Un[3]*ln[4]+Un[2]*ln[5]+Un[1]*ln[6]+Un[0]*ln[7]]},Ut=function(ln,Un){return Un[0]*ln[0]+Un[2]*ln[2]+Un[3]*ln[3]-Un[6]*ln[6]},rt=function(ln,Un){return[vt(ln,Un),ln[1]*Un[7]+ln[4]*Un[5]-ln[5]*Un[4]+ln[7]*Un[1],ln[2]*Un[7]-ln[4]*Un[6]+ln[6]*Un[4]+ln[7]*Un[2],ln[3]*Un[7]+ln[5]*Un[6]-ln[6]*Un[5]+ln[7]*Un[3],ln[4]*Un[7]+ln[7]*Un[4],ln[5]*Un[7]+ln[7]*Un[5],ln[6]*Un[7]+ln[7]*Un[6],ln[7]*Un[7]]},vt=function(ln,Un){return ln[0]*Un[7]+ln[1]*Un[6]+ln[2]*Un[5]+ln[3]*Un[4]+ln[4]*Un[3]+ln[5]*Un[2]+ln[6]*Un[1]+ln[7]*Un[0]},Xt=function(ln){return Math.sqrt(Math.abs(ln[0]*ln[0]-ln[2]*ln[2]-ln[3]*ln[3]+ln[6]*ln[6]))},nn=function(ln){var Un=Xt(ln);if(Un===0||Un===1)return ln;var wn=ln[6]<0?-1:1;return xt(ln,wn/Un)},cn=function(ln){var Un=function(wn){return Math.sqrt(Math.abs(wn[7]*wn[7]-wn[5]*wn[5]-wn[4]*wn[4]+wn[1]*wn[1]))}(ln);return Un===0||Un===1?ln:xt(ln,1/Un)},Qt=function(ln){return typeof ln=="number"},hn=(ot(1,1),ot(1,2),ot(1,3),ot(1,4),ot(1,5),ot(1,6),ot(1,7),function(ln,Un,wn){return nn([0,wn,ln,Un,0,0,0,0])}),fn=function(ln,Un){return nn(rt(Un,ln))},Nn=function(ln,Un){return wn=ln,[(Mn=Un)[0]*wn[0]+Mn[2]*wn[2]+Mn[3]*wn[3]-Mn[6]*wn[6],Mn[1]*wn[0]+Mn[0]*wn[1]-Mn[4]*wn[2]+Mn[5]*wn[3]+Mn[2]*wn[4]-Mn[3]*wn[5]-Mn[7]*wn[6]-Mn[6]*wn[7],Mn[2]*wn[0]+Mn[0]*wn[2]-Mn[6]*wn[3]+Mn[3]*wn[6],Mn[3]*wn[0]+Mn[6]*wn[2]+Mn[0]*wn[3]-Mn[2]*wn[6],Mn[4]*wn[0]+Mn[7]*wn[3]+Mn[0]*wn[4]+Mn[3]*wn[7],Mn[5]*wn[0]+Mn[7]*wn[2]+Mn[0]*wn[5]+Mn[2]*wn[7],Mn[6]*wn[0]+Mn[0]*wn[6],Mn[7]*wn[0]+Mn[0]*wn[7]];var wn,Mn},mn=function(ln){var Un=(0,pt.Z)(ln,2),wn=Un[0];return[0,0,0,0,Un[1],wn,1,0]},pn=function(ln){return[ln[5],ln[4]]},vn=function(ln,Un){return nn((wn=ln,[(Mn=Un)[0]*wn[0],Mn[1]*wn[0]+Mn[0]*wn[1],Mn[2]*wn[0]+Mn[0]*wn[2],Mn[3]*wn[0]+Mn[0]*wn[3],Mn[4]*wn[0]+Mn[2]*wn[1]-Mn[1]*wn[2]+Mn[0]*wn[4],Mn[5]*wn[0]-Mn[3]*wn[1]+Mn[1]*wn[3]+Mn[0]*wn[5],Mn[6]*wn[0]+Mn[3]*wn[2]-Mn[2]*wn[3]+Mn[0]*wn[6],Mn[7]*wn[0]+Mn[6]*wn[1]+Mn[5]*wn[2]+Mn[4]*wn[3]+Mn[3]*wn[4]+Mn[2]*wn[5]+Mn[1]*wn[6]]));var wn,Mn},yt=function(ln,Un){return Xt(rt(ln,Un))},Ht=function(ln,Un){return vt(ln,Un)},Bt=function(ln){return[0,0,0,0,ln[4],ln[5],0,0]},bt=function(ln,Un){return wn=xt(ln,Math.sin(Un/2)),Mn=Math.cos(Un/2),Qt(Mn)?[wn[0]+Mn,wn[1],wn[2],wn[3],wn[4],wn[5],wn[6],wn[7]]:[wn[0]+Mn[0],wn[1]+Mn[1],wn[2]+Mn[2],wn[3]+Mn[3],wn[4]+Mn[4],wn[5]+Mn[5],wn[6]+Mn[6],wn[7]+Mn[7]];var wn,Mn},Et=function(ln,Un){return nn(xt(xt(ln,Un),at(ln)))},At=_(6552),Ct=_(1493),ct=_(8925),it=_(3063),_e=_(1974),lt=_(1047),st=_(6340),It=_(267),Dt=_(5710);function tn(ln,Un){var wn=typeof Symbol<"u"&&ln[Symbol.iterator]||ln["@@iterator"];if(!wn){if(Array.isArray(ln)||(wn=function(or,ur){if(or){if(typeof or=="string")return Tt(or,ur);var Ur=Object.prototype.toString.call(or).slice(8,-1);if(Ur==="Object"&&or.constructor&&(Ur=or.constructor.name),Ur==="Map"||Ur==="Set")return Array.from(or);if(Ur==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ur))return Tt(or,ur)}}(ln))||Un&&ln&&typeof ln.length=="number"){wn&&(ln=wn);var Mn=0,zn=function(){};return{s:zn,n:function(){return Mn>=ln.length?{done:!0}:{done:!1,value:ln[Mn++]}},e:function(or){throw or},f:zn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jn,$n=!0,cr=!1;return{s:function(){wn=wn.call(ln)},n:function(){var or=wn.next();return $n=or.done,or},e:function(or){cr=!0,jn=or},f:function(){try{$n||wn.return==null||wn.return()}finally{if(cr)throw jn}}}}function Tt(ln,Un){(Un==null||Un>ln.length)&&(Un=ln.length);for(var wn=0,Mn=new Array(Un);wn<Un;wn++)Mn[wn]=ln[wn];return Mn}var $t=function ln(Un,wn,Mn,zn){var jn=10/wn.zoom.value,$n=[Mn,zn];if(In(wn,Un)&&(0,It.oY)([Un],wn))return rn(Un,$n,jn);var cr=(0,Dt.WJ)(Un);return cr&&ln(cr,wn,Mn,zn)?!0:Ot(Un,wn,$n)},Wt=function(ln,Un,wn,Mn){var zn=10/Un.zoom.value,jn=(0,Dt.WJ)(ln);return(!jn||!$t(jn,Un,wn,Mn))&&!Ot(ln,Un,[wn,Mn])&&rn(ln,[wn,Mn],zn)},Ot=function(ln,Un,wn){var Mn=10/Un.zoom.value,zn=(0,lt.iB)(ln)?qt:function(jn){if(jn.type==="arrow")return!1;if(jn.type==="freedraw")return!0;var $n=!(0,st.Qm)(jn.backgroundColor)||(0,_e.Xo)(jn);return jn.type==="line"?$n&&(0,At.g6)(jn.points):$n||(0,_e.pC)(jn)}(ln)?dn:Rt;return Vt({element:ln,point:wn,threshold:Mn,check:zn})},In=function(ln,Un){return ln.selectedElementIds[Un.id]},rn=function(ln,Un,wn){var Mn=(0,pt.Z)(Un,2),zn=Mn[0],jn=Mn[1],$n=(0,ct.qf)(ln),cr=(0,pt.Z)($n,4),or=cr[0],ur=cr[1],Ur=cr[2],Zr=cr[3],yr=(or+Ur)/2,Ar=(ur+Zr)/2,pr=(0,At.U1)(zn,jn,yr,Ar,-ln.angle),Nr=(0,pt.Z)(pr,2),Or=Nr[0],ba=Nr[1];return Or>or-wn&&Or<Ur+wn&&ba>ur-wn&&ba<Zr+wn},_t=function(ln,Un){var wn=Un.x,Mn=Un.y,zn=St(ln,ln.width,ln.height);return Vt({element:ln,point:[wn,Mn],threshold:zn,check:Zt})},St=function(ln,Un,wn){var Mn=(ln.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Un,wn);return Math.max(16,Math.min(.25*Mn,32))},Vt=function(ln){switch(ln.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var Un=Pt(ln.element,ln.point);return ln.check(Un,ln.threshold);case"freedraw":return!!ln.check(zt(ln.element,ln.point),ln.threshold)&&Jt(ln.element,ln.point,ln.threshold);case"arrow":case"line":return Mt(ln);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Pt=function(ln,Un){switch(ln.type){case"rectangle":case"image":case"text":return zt(ln,Un);case"diamond":return ft(ln,Un);case"ellipse":return Gt(ln,Un)}},qt=function(ln,Un){return ln<0},dn=function(ln,Un){return ln<Un},Rt=function(ln,Un){return Math.abs(ln)<Un},Zt=function(ln,Un){return 0<=ln&&ln<Un},zt=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],jn=Mn[2],$n=Mn[3];return Math.max(Ht(zn,hn(0,1,-$n)),Ht(zn,hn(1,0,-jn)))},ft=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],jn=Mn[2],$n=Mn[3],cr=hn($n,jn,-$n*jn);return Ht(zn,cr)},Gt=function(ln,Un){var wn,Mn=wt(ln,Un),zn=(0,pt.Z)(Mn,2),jn=zn[0],$n=zn[1];return wn=$n,-Math.sign(wn[1])*Ht(jn,$n)},wt=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],jn=Mn[2],$n=Mn[3],cr=pn(zn),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1],Zr=.707,yr=.707,Ar=jn,pr=$n;[0,1,2,3].forEach(function(ba){var ho=Ar*Zr,oo=pr*yr,lo=(Ar*Ar-pr*pr)*Math.pow(Zr,3)/Ar,$r=(pr*pr-Ar*Ar)*Math.pow(yr,3)/pr,qr=ho-lo,Co=oo-$r,po=ur-lo,na=Ur-$r,lr=Math.hypot(Co,qr),Ir=Math.hypot(na,po);Zr=Math.min(1,Math.max(0,(po*lr/Ir+lo)/Ar)),yr=Math.min(1,Math.max(0,(na*lr/Ir+$r)/pr));var Cr=Math.hypot(yr,Zr);Zr/=Cr,yr/=Cr});var Nr,Or=ht(Ar*Zr,pr*yr);return[zn,Nn(fn(zn,Nr=Or),Nr)]},Jt=function(ln,Un,wn){var Mn,zn;if(ln.angle===0)Mn=Un[0]-ln.x,zn=Un[1]-ln.y;else{var jn=(0,ct.qf)(ln),$n=(0,pt.Z)(jn,4),cr=$n[0],or=$n[1],ur=$n[2],Ur=$n[3],Zr=(0,At.xj)(Un,[cr+(ur-cr)/2,or+(Ur-or)/2],-ln.angle);Mn=Zr[0]-ln.x,zn=Zr[1]-ln.y}var yr,Ar=(0,pt.Z)(ln.points,2),pr=Ar[0],Nr=Ar[1];if((0,At.LW)(pr[0],pr[1],Mn,zn)<wn||(0,At.LW)(Nr[0],Nr[1],Mn,zn)<wn)return!0;for(var Or=0;Or<ln.points.length;Or++){var ba=[Nr[0]-pr[0],Nr[1]-pr[1]],ho=Math.hypot(ba[1],ba[0]),oo=[ba[0]/ho,ba[1]/ho],lo=[Mn-pr[0],zn-pr[1]],$r=(lo[0]*oo[0]+lo[1]*oo[1])/Math.hypot(oo[1],oo[0]);yr=[pr[0]+oo[0]*$r,pr[1]+oo[1]*$r];var qr=(0,At.LW)(yr[0],yr[1],pr[0],pr[1]),Co=(0,At.LW)(yr[0],yr[1],Nr[0],Nr[1]);if(yr=Co<qr&&qr>ho?Nr:qr<Co&&Co>ho?pr:yr,Math.hypot(zn-yr[1],Mn-yr[0])<wn)return!0;pr=Nr,Nr=ln.points[Or+1]}var po=(0,it.R2)(ln);return!(!po||!po.sets.length)&&Wn(po,Mn,zn,wn)},Mt=function(ln){var Un=ln.element,wn=ln.threshold;if(!(0,it.R2)(Un))return!1;var Mn=un(ln.element,ln.point),zn=(0,pt.Z)(Mn,4),jn=zn[0],$n=zn[1],cr=zn[2],or=zn[3],ur=hn(0,1,-or),Ur=hn(1,0,-cr);if(!dn(Ht($n,ur),wn)||!dn(Ht($n,Ur),wn))return!1;var Zr=pn(jn),yr=(0,pt.Z)(Zr,2),Ar=yr[0],pr=yr[1],Nr=(0,it.R2)(Un);return Nr?ln.check===dn&&Nr.some(function(Or){return gr(Or,Ar,pr,Un.roundness?"round":"sharp")})?!0:Nr.some(function(Or){return Wn(Or,Ar,pr,wn)}):!1},un=function(ln,Un){var wn,Mn=mn(Un),zn=(0,ct.qf)(ln),jn=(0,pt.Z)(zn,4),$n=jn[0],cr=jn[1],or=jn[2],ur=jn[3],Ur=(0,ct.qf)(ln),Zr=jt([$n,cr,or,ur]),yr=bt(Zr,ln.angle),Ar=Et(yr,Mn),pr=function(lo){return[0,0,0,0,Math.abs(lo[4]),Math.abs(lo[5]),1,0]}(gt(Ar,Bt(Zr))),Nr=(wn=ln.x,[0,0,0,0,ln.y,wn,0,0]),Or=gt(Ar,Nr),ba=(0,pt.Z)(Ur,4),ho=ba[0],oo=ba[1];return[Or,pr,(ba[2]-ho)/2,(ba[3]-oo)/2]},bn=function(ln){var Un=(0,ct.qf)(ln),wn=(0,pt.Z)(Un,4),Mn=wn[0],zn=wn[1],jn=wn[2],$n=wn[3],cr=jt([Mn,zn,jn,$n]),or=bt(cr,ln.angle),ur=at(function(Ur){return[1,0,0,0,-.5*Ur[5],.5*Ur[4],0,0]}(Bt(cr)));return xt(ur,or)},jt=function(ln){var Un=(0,pt.Z)(ln,4),wn=Un[0],Mn=Un[1],zn=Un[2],jn=Un[3];return ht((wn+zn)/2,(Mn+jn)/2)},Fn=function(ln,Un,wn){var Mn=bn(ln),zn=Et(Mn,mn(Un)),jn=Et(Mn,mn(wn)),$n=fn(zn,jn),cr=ln.height/ln.width,or=ln.width/2,ur=ln.height/2,Ur=$n[2],Zr=$n[3],yr=$n[1],Ar=Math.abs(Zr),pr=Math.abs(Ur);switch(ln.type){case"rectangle":case"image":case"text":return yr/(or*(pr+cr*Ar));case"diamond":return Ar<pr?yr/(pr*or):yr/(Ar*ur);case"ellipse":return yr/(or*Math.sqrt(Math.pow(Ur,2)+Math.pow(cr,2)*Math.pow(Zr,2)))}},yn=function(ln,Un,wn){if(Un===0){var Mn=(0,ct.qf)(ln),zn=(0,pt.Z)(Mn,4),jn=zn[0],$n=zn[1],cr=zn[2],or=zn[3],ur=jt([jn,$n,cr,or]);return pn(ur)}var Ur,Zr=bn(ln),yr=Et(Zr,mn(wn)),Ar=at(Zr);switch(ln.type){case"rectangle":case"image":case"text":case"diamond":Ur=ir(ln,Un,yr);break;case"ellipse":Ur=tr(ln,Un,yr)}return pn(Et(Ar,Ur))},Gn=function(ln,Un,wn){var Mn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,zn=bn(ln),jn=Et(zn,mn(Un)),$n=Et(zn,mn(wn)),cr=fn(jn,$n),or=at(zn),ur=Nt(ln,cr,jn,Mn);return ur.map(function(Ur){return pn(Et(or,Ur))})},Nt=function(ln,Un,wn){var Mn,zn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(ln.type){case"rectangle":case"image":case"text":case"diamond":var jn=Xn(ln);Mn=jn.flatMap(function(cr,or){var ur=[cr,jn[(or+1)%4]];return Cn(Un,xn(ur,zn))}).concat(jn.flatMap(function(cr){return Pn(cr,zn,Un)}));break;case"ellipse":Mn=Tn(ln,zn,Un)}if(Mn.length<2)return[];var $n=Mn.sort(function(cr,or){return yt(cr,wn)-yt(or,wn)});return[$n[0],$n[$n.length-1]]},Xn=function(ln){var Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,wn=Un*ln.width/2,Mn=Un*ln.height/2;switch(ln.type){case"rectangle":case"image":case"text":return[ht(wn,Mn),ht(wn,-Mn),ht(-wn,-Mn),ht(-wn,Mn)];case"diamond":return[ht(0,Mn),ht(wn,0),ht(0,-Mn),ht(-wn,0)]}},Cn=function(ln,Un){var wn=(0,pt.Z)(Un,2),Mn=wn[0],zn=wn[1];return Ht(Mn,ln)*Ht(zn,ln)>=0?[]:[vn(ln,fn(Mn,zn))]},xn=function(ln,Un){var wn=(0,pt.Z)(ln,2),Mn=wn[0],zn=wn[1],jn=function($n,cr){var or=.5*cr;return[1,0,0,0,or*$n[4],or*$n[5],0,0]}(function($n,cr){return cn([0,0,0,0,cr[4]-$n[4],cr[5]-$n[5],0,0])}(Mn,zn),Un);return[Et(jn,Mn),Et(jn,zn)]},Tn=function(ln,Un,wn){var Mn=ln.width/2+Un,zn=ln.height/2+Un,jn=wn[2],$n=wn[3],cr=wn[1],or=Mn*Mn*jn*jn+zn*zn*$n*$n,ur=or-cr*cr;if(or===0||ur<=0)return[];var Ur=Math.sqrt(ur),Zr=-Mn*Mn*jn*cr,yr=-zn*zn*$n*cr;return[ht((Zr+Mn*zn*$n*Ur)/or,(yr-Mn*zn*jn*Ur)/or),ht((Zr-Mn*zn*$n*Ur)/or,(yr+Mn*zn*jn*Ur)/or)]},Pn=function(ln,Un,wn){if(Un===0)return Ht(wn,ln)===0?[ln]:[];var Mn=wn[2],zn=wn[3],jn=wn[1],$n=pn(ln),cr=(0,pt.Z)($n,2),or=cr[0],ur=cr[1],Ur=Mn*Mn+zn*zn,Zr=Un*Un*Ur-Math.pow(Mn*or+zn*ur+jn,2);if(Ur===0||Zr<=0)return[];var yr=Math.sqrt(Zr),Ar=or*zn*zn-ur*Mn*zn-Mn*jn,pr=ur*Mn*Mn-or*Mn*zn-zn*jn;return[ht((Ar+zn*yr)/Ur,(pr-Mn*yr)/Ur),ht((Ar-zn*yr)/Ur,(pr+Mn*yr)/Ur)]},tr=function(ln,Un,wn){var Mn=Math.abs(Un),zn=ln.width*Mn/2,jn=ln.height*Mn/2,$n=Math.sign(Un),cr=pn(wn),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1],Zr=Ur===0?1e-4:Ur,yr=Math.pow(ur,2)*Math.pow(jn,2)+Math.pow(Zr,2)*Math.pow(zn,2),Ar=(-ur*Math.pow(jn,2)+$n*Zr*Math.sqrt(Math.max(0,yr-Math.pow(zn,2)*Math.pow(jn,2))))/yr,pr=(-Ar*ur-1)/Zr;pr===0&&(pr=.01*(Object.is(pr,-0)?-1:1));var Nr=-Math.pow(zn,2)*Ar/(Math.pow(pr,2)*Math.pow(jn,2)+Math.pow(Ar,2)*Math.pow(zn,2));return ht(Nr,(-Ar*Nr-1)/pr)},ir=function(ln,Un,wn){var Mn=Math.abs(Un),zn=Math.sign(Un),jn=Xn(ln,Mn),$n=0,cr=null;return jn.forEach(function(or){var ur=zn*fn(wn,or)[1];ur>$n&&($n=ur,cr=or)}),cr},gr=function(ln,Un,wn,Mn){var zn,jn=[],$n=!1,cr=tn((0,ct.CM)(ln));try{for(cr.s();!(zn=cr.n()).done;){var or=zn.value;or.op==="move"?($n=!$n)&&jn.push([or.data[0],or.data[1]]):or.op==="bcurveTo"?$n&&(jn.push([or.data[0],or.data[1]]),jn.push([or.data[2],or.data[3]]),jn.push([or.data[4],or.data[5]])):or.op==="lineTo"&&$n&&jn.push([or.data[0],or.data[1]])}}catch(Ur){cr.e(Ur)}finally{cr.f()}if(jn.length>=4){if(Mn==="sharp")return(0,At.c9)(jn,Un,wn);var ur=(0,Ct.s)(jn,10,5);return(0,At.c9)(ur,Un,wn)}return!1},Wn=function(ln,Un,wn,Mn){var zn=(0,ct.CM)(ln),jn=[0,0];return zn.some(function($n,cr){var or=$n.op,ur=$n.data;if(or==="move")jn=ur;else{if(or==="bcurveTo"){var Ur=[ur[0],ur[1]],Zr=[ur[2],ur[3]],yr=[ur[4],ur[5]],Ar=jn;jn=yr;var pr=function(Nr,Or,ba,ho,oo,lo){for(var $r=(0,pt.Z)(oo,2),qr=$r[0],Co=$r[1],po=function(Cr,wr){return Math.pow(1-Cr,3)*ho[wr]+3*Cr*Math.pow(1-Cr,2)*ba[wr]+3*Math.pow(Cr,2)*(1-Cr)*Or[wr]+Nr[wr]*Math.pow(Cr,3)},na=0;na<=1;){var lr=po(na,0),Ir=po(na,1);if(Math.sqrt(Math.pow(lr-qr,2)+Math.pow(Ir-Co,2))<lo)return!0;na+=.01}return!1}(Ar,Ur,Zr,yr,[Un,wn],Mn);return pr}if(or==="lineTo")return gr(ln,Un,wn,"sharp");or==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(Lt,kt,_){_.d(kt,{PK:function(){return nn},Xx:function(){return cn},bp:function(){return hn},oA:function(){return Qt}});var pt=_(2577),ht=_(7169),ot=_(8950),at=_(2975),gt=_.n(at),xt=_(2335),Ut=_(8211),rt=_(1974);function vt(fn,Nn){var mn=Object.keys(fn);if(Object.getOwnPropertySymbols){var pn=Object.getOwnPropertySymbols(fn);Nn&&(pn=pn.filter(function(vn){return Object.getOwnPropertyDescriptor(fn,vn).enumerable})),mn.push.apply(mn,pn)}return mn}function Xt(fn){for(var Nn=1;Nn<arguments.length;Nn++){var mn=arguments[Nn]!=null?arguments[Nn]:{};Nn%2?vt(Object(mn),!0).forEach(function(pn){(0,ht.Z)(fn,pn,mn[pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fn,Object.getOwnPropertyDescriptors(mn)):vt(Object(mn)).forEach(function(pn){Object.defineProperty(fn,pn,Object.getOwnPropertyDescriptor(mn,pn))})}return fn}var nn=function(fn){return new Promise(function(Nn,mn){var pn=new Image;pn.onload=function(){Nn(pn)},pn.onerror=function(vn){mn(vn)},pn.src=fn})},cn=function(){var fn=(0,ot.Z)(gt().mark(function Nn(mn){var pn,vn,yt,Ht,Bt;return gt().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return pn=mn.fileIds,vn=mn.files,yt=mn.imageCache,Ht=new Map,Bt=new Map,bt.next=5,Promise.all(pn.reduce(function(Et,At){var Ct=vn[At];return Ct&&!Ht.has(At)?(Ht.set(At,!0),Et.concat((0,ot.Z)(gt().mark(function ct(){var it,_e,lt;return gt().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(st.prev=0,Ct.mimeType!==xt.LO.binary){st.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return it=nn(Ct.dataURL),_e={image:it,mimeType:Ct.mimeType},yt.set(At,_e),st.next=8,it;case 8:lt=st.sent,yt.set(At,Xt(Xt({},_e),{},{image:lt})),st.next=15;break;case 12:st.prev=12,st.t0=st.catch(0),Bt.set(At,!0);case 15:case"end":return st.stop()}},ct,null,[[0,12]])}))())):Et},[]));case 5:return bt.abrupt("return",{imageCache:yt,updatedFiles:Ht,erroredFiles:Bt});case 6:case"end":return bt.stop()}},Nn)}));return function(Nn){return fn.apply(this,arguments)}}(),Qt=function(fn){return fn.filter(function(Nn){return(0,rt.wi)(Nn)})},hn=function(){var fn=(0,ot.Z)(gt().mark(function Nn(mn){var pn,vn,yt,Ht,Bt,bt,Et;return gt().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(pn=new DOMParser().parseFromString(mn,xt.LO.svg),vn=pn.querySelector("svg"),!pn.querySelector("parsererror")&&((Ct=vn)==null?void 0:Ct.nodeName.toLowerCase())==="svg"){At.next=7;break}throw new Error((0,Ut.t)("errors.invalidSVGString"));case 7:return vn.hasAttribute("xmlns")||vn.setAttribute("xmlns",xt.hR),vn.hasAttribute("width")&&vn.hasAttribute("height")||(yt=vn.getAttribute("viewBox"),Ht=vn.getAttribute("width")||"50",Bt=vn.getAttribute("height")||"50",yt&&(bt=yt.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(Et=(0,pt.Z)(bt,3),Ht=Et[1],Bt=Et[2]),vn.setAttribute("width",Ht),vn.setAttribute("height",Bt)),At.abrupt("return",vn.outerHTML);case 10:case"end":return At.stop()}var Ct},Nn)}));return function(Nn){return fn.apply(this,arguments)}}()},1047:function(Lt,kt,_){_.d(kt,{ox:function(){return nn.ox},BQ:function(){return In},_M:function(){return rn},EJ:function(){return it},o8:function(){return At},Sy:function(){return vt.Sy},os:function(){return Xt.os},KP:function(){return Xt.KP},Un:function(){return yt},$V:function(){return ct},qf:function(){return Xt.qf},Pi:function(){return Xt.Pi},jt:function(){return mn},o4:function(){return Ut},Lm:function(){return $t},Qp:function(){return rt},T:function(){return Ht.T},xx:function(){return Ht.xx},Uo:function(){return tn},n2:function(){return pn},PC:function(){return nn.PC},kK:function(){return nn.kK},n_:function(){return Tt},wX:function(){return cn.wX},r2:function(){return ot.r2},wB:function(){return cn.wB},QD:function(){return gt},qP:function(){return Wt},iB:function(){return ot.iB},Up:function(){return vt.Up},vw:function(){return vt.vw},y8:function(){return vt.y8},VL:function(){return vt.VL},oN:function(){return bt.oN},JZ:function(){return vt.JZ},RT:function(){return st},b_:function(){return _e.b_},vY:function(){return Ht.vY},N_:function(){return vt.N_}});var pt=_(7169),ht=_(1935),ot=_(1974),at=_(2335),gt=function(_t){return(0,ot.bt)(_t)||(0,ot.F9)(_t)?_t.points.length<2:_t.width===0&&_t.height===0},xt=function(_t,St,Vt){var Pt=Math.abs(St),qt=Math.abs(Vt);if(_t==="line"||_t==="arrow"||_t==="freedraw"){var dn=Math.round(Math.atan(qt/Pt)/at.ay)*at.ay;dn===0?Vt=0:dn===Math.PI/2?St=0:Vt=Pt*Math.tan(dn)*Math.sign(Vt)||Vt}else _t!=="selection"&&(Vt=Pt*Math.sign(Vt));return{width:St,height:Vt}},Ut=function(_t,St,Vt,Pt){var qt=Vt-_t,dn=Pt-St,Rt=Math.round(Math.atan(dn/qt)/at.ay)*at.ay;if(Rt===0)dn=0;else if(Rt===Math.PI/2)qt=0;else{var Zt=Math.tan(Rt),zt=St-Zt*_t,ft=-1/Zt,Gt=Pt-ft*Vt;qt=(-1*Gt- -1*zt)/(-1*Zt- -1*ft)-_t,dn=(zt*ft-Gt*Zt)/(-1*Zt- -1*ft)-St}return{width:qt,height:dn}},rt=function(_t){var St={width:_t.width,height:_t.height,x:_t.x,y:_t.y};if(_t.width<0){var Vt=Math.abs(_t.width);St.width=Vt,St.x=_t.x-Vt}if(_t.height<0){var Pt=Math.abs(_t.height);St.height=Pt,St.y=_t.y-Pt}return St},vt=_(2791),Xt=_(8925),nn=_(267),cn=_(2325),Qt=_(2577),hn=_(2726),fn=["rotation"],Nn=function(_t,St,Vt){return St>=_t[0]&&St<=_t[0]+_t[2]&&Vt>=_t[1]&&Vt<=_t[1]+_t[3]},mn=function(_t,St,Vt,Pt,qt,dn){return _t.reduce(function(Rt,Zt){if(Rt)return Rt;var zt=function(ft,Gt,wt,Jt,Mt,un){if(!Gt.selectedElementIds[ft.id])return!1;var bn=(0,nn.PC)(ft,Mt,un),jt=bn.rotation,Fn=(0,hn.Z)(bn,fn);if(jt&&Nn(jt,wt,Jt))return"rotation";var yn=Object.keys(Fn).filter(function(Gn){var Nt=Fn[Gn];return!!Nt&&Nn(Nt,wt,Jt)});return yn.length>0&&yn[0]}(Zt,St,Vt,Pt,qt,dn);return zt?{element:Zt,transformHandleType:zt}:null},null)},pn=function(_t,St,Vt,Pt,qt){var dn=(0,Qt.Z)(_t,4),Rt=dn[0],Zt=dn[1],zt=dn[2],ft=dn[3],Gt=(0,nn.kK)([Rt,Zt,zt,ft,(Rt+zt)/2,(Zt+ft)/2],0,Pt,qt,nn.ox);return Object.keys(Gt).find(function(wt){var Jt=Gt[wt];return Jt&&Nn(Jt,St,Vt)})||!1},vn=["ns","nesw","ew","nwse"],yt=function(_t){var St=_t.element,Vt=_t.transformHandleType,Pt=St&&Math.sign(St.height)*Math.sign(St.width)==-1,qt=null;switch(Vt){case"n":case"s":qt="ns";break;case"w":case"e":qt="ew";break;case"nw":case"se":qt=Pt?"nesw":"nwse";break;case"ne":case"sw":qt=Pt?"nwse":"nesw";break;case"rotation":return"grab"}return qt&&St&&(qt=function(dn,Rt){var Zt=vn.indexOf(dn);if(Zt>=0){var zt=Math.round(Rt/(Math.PI/4));dn=vn[(Zt+zt)%vn.length]}return dn}(qt,St.angle)),qt?"".concat(qt,"-resize"):""},Ht=_(8634),Bt=_(8290),bt=_(5710),Et=_(242),At=function(_t,St,Vt,Pt){var qt=arguments.length>4&&arguments[4]!==void 0&&arguments[4],dn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,Zt=arguments.length>7?arguments[7]:void 0,zt=(0,Xt.KP)(St),ft=(0,Qt.Z)(zt,2),Gt=ft[0],wt=ft[1],Jt={x:Vt-Gt,y:Pt-wt};St.forEach(function(Mt){if(Ct(qt,dn,Rt,_t,Mt,Jt),!Mt.groupIds.length||Zt.editingGroupId&&!(0,Et.zq)(Zt,Mt)){var un=(0,bt.WJ)(Mt);un&&Ct(qt,dn,Rt,_t,un,Jt)}(0,Bt.Ww)(Mt,{simultaneouslyUpdated:St})})},Ct=function(_t,St,Vt,Pt,qt,dn){var Rt,Zt;if(_t){var zt=_t&&St<Vt,ft=_t&&St>Vt,Gt=Pt.originalElements.get(qt.id);Rt=zt&&Gt?Gt.x:qt.x+dn.x,Zt=ft&&Gt?Gt.y:qt.y+dn.y}else Rt=qt.x+dn.x,Zt=qt.y+dn.y;(0,ht.DR)(qt,{x:Rt,y:Zt})},ct=function(_t,St,Vt){var Pt=(0,Xt.KP)(_t),qt=(0,Qt.Z)(Pt,2);return[St-qt[0],Vt-qt[1]]},it=function(_t,St,Vt,Pt,qt,dn,Rt,Zt,zt,ft,Gt){if(zt&&_t.type!=="selection")if(Gt)Zt=Rt/Gt;else{if(Math.abs(dn-Pt)>Math.abs(qt-Vt)){var wt=xt(St,Zt,qt<Vt?-Rt:Rt);Rt=wt.width,Zt=wt.height}else{var Jt=xt(St,Rt,dn<Pt?-Zt:Zt);Rt=Jt.width,Zt=Jt.height}Zt<0&&(Zt=-Zt)}var Mt=qt<Vt?Vt-Rt:Vt,un=dn<Pt?Pt-Zt:Pt;ft&&(Mt=Vt-(Rt+=Rt)/2,un=Pt-(Zt+=Zt)/2),Rt!==0&&Zt!==0&&(0,ht.DR)(_t,{x:Mt,y:un,width:Rt,height:Zt})},_e=_(6906),lt=_(75),st=function(_t,St){return!!(!_t.viewModeEnabled&&_t.activeTool.type!=="custom"&&(_t.editingElement||_t.activeTool.type!=="selection"&&_t.activeTool.type!=="eraser"&&_t.activeTool.type!=="hand")||(0,lt.eD)(St,_t).length)};function It(_t,St){var Vt=Object.keys(_t);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(_t);St&&(Pt=Pt.filter(function(qt){return Object.getOwnPropertyDescriptor(_t,qt).enumerable})),Vt.push.apply(Vt,Pt)}return Vt}function Dt(_t){for(var St=1;St<arguments.length;St++){var Vt=arguments[St]!=null?arguments[St]:{};St%2?It(Object(Vt),!0).forEach(function(Pt){(0,pt.Z)(_t,Pt,Vt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Vt)):It(Object(Vt)).forEach(function(Pt){Object.defineProperty(_t,Pt,Object.getOwnPropertyDescriptor(Vt,Pt))})}return _t}var tn=function(_t){return _t.reduce(function(St,Vt){return St+Vt.version},0)},Tt=function(_t){return _t.filter(function(St){return!St.isDeleted&&!gt(St)})},$t=function(_t){return _t.filter(function(St){return!St.isDeleted})},Wt=function(_t){return!_t.isDeleted},Ot=function(_t){return $t(_t).map(function(St){return(0,ot.dt)(St.type)?Dt(Dt({},St),{},{lastCommittedPoint:null}):St})},In=function(_t){return Ot(_t)},rn=function(_t){return Ot(_t)}},6938:function(Lt,kt,_){_.d(kt,{_:function(){return bt}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(8821),gt=_(5169),xt=_(6552),Ut=_(1047),rt=_(8925),vt=_(1935),Xt=_(1564),nn=_(8290),cn=_(6340),Qt=_(1974),hn=_(6066),fn=_(5710),Nn=_(3063),mn=_(2335);function pn(At,Ct){var ct=typeof Symbol<"u"&&At[Symbol.iterator]||At["@@iterator"];if(!ct){if(Array.isArray(At)||(ct=function(Dt,tn){if(Dt){if(typeof Dt=="string")return vn(Dt,tn);var Tt=Object.prototype.toString.call(Dt).slice(8,-1);if(Tt==="Object"&&Dt.constructor&&(Tt=Dt.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(Dt);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return vn(Dt,tn)}}(At))||Ct&&At&&typeof At.length=="number"){ct&&(At=ct);var it=0,_e=function(){};return{s:_e,n:function(){return it>=At.length?{done:!0}:{done:!1,value:At[it++]}},e:function(Dt){throw Dt},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lt,st=!0,It=!1;return{s:function(){ct=ct.call(At)},n:function(){var Dt=ct.next();return st=Dt.done,Dt},e:function(Dt){It=!0,lt=Dt},f:function(){try{st||ct.return==null||ct.return()}finally{if(It)throw lt}}}}function vn(At,Ct){(Ct==null||Ct>At.length)&&(Ct=At.length);for(var ct=0,it=new Array(Ct);ct<Ct;ct++)it[ct]=At[ct];return it}function yt(At,Ct){var ct=Object.keys(At);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(At);Ct&&(it=it.filter(function(_e){return Object.getOwnPropertyDescriptor(At,_e).enumerable})),ct.push.apply(ct,it)}return ct}function Ht(At){for(var Ct=1;Ct<arguments.length;Ct++){var ct=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?yt(Object(ct),!0).forEach(function(it){(0,ht.Z)(At,it,ct[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(ct)):yt(Object(ct)).forEach(function(it){Object.defineProperty(At,it,Object.getOwnPropertyDescriptor(ct,it))})}return At}var Bt={version:null,points:[],zoom:null},bt=function(){function At(Ct,ct){(0,at.Z)(this,At),this.elementId=Ct.id,Xt.Z.mapElementToScene(this.elementId,ct),At.normalizePoints(Ct),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,gt.Z)(At,null,[{key:"getElement",value:function(Ct){var ct,it=(ct=Xt.Z.getScene(Ct))===null||ct===void 0?void 0:ct.getNonDeletedElement(Ct);return it||null}},{key:"handleBoxSelection",value:function(Ct,ct,it){var _e;if(!ct.editingLinearElement||((_e=ct.draggingElement)===null||_e===void 0?void 0:_e.type)!=="selection")return!1;var lt=ct.editingLinearElement,st=lt.selectedPointsIndices,It=lt.elementId,Dt=At.getElement(It);if(!Dt)return!1;var tn=(0,Ut.qf)(ct.draggingElement),Tt=(0,ot.Z)(tn,4),$t=Tt[0],Wt=Tt[1],Ot=Tt[2],In=Tt[3],rn=At.getPointsGlobalCoordinates(Dt).reduce(function(_t,St,Vt){return(St[0]>=$t&&St[0]<=Ot&&St[1]>=Wt&&St[1]<=In||Ct.shiftKey&&st!=null&&st.includes(Vt))&&_t.push(Vt),_t},[]);it({editingLinearElement:Ht(Ht({},lt),{},{selectedPointsIndices:rn.length?rn:null})})}},{key:"handlePointDragging",value:function(Ct,ct,it,_e,lt,st){if(!st)return!1;var It=st.selectedPointsIndices,Dt=st.elementId,tn=At.getElement(Dt);if(!tn)return!1;var Tt=tn.points[st.pointerDownState.lastClickedPoint];if(It&&Tt){if((0,hn.Ge)(Ct)&&It.length===1&&tn.points.length>1){var $t=It[0],Wt=tn.points[$t===0?1:$t-1],Ot=At._getShiftLockedDelta(tn,Wt,[it,_e],ct.gridSize),In=(0,ot.Z)(Ot,2),rn=In[0],_t=In[1];At.movePoints(tn,[{index:$t,point:[rn+Wt[0],_t+Wt[1]],isDragging:$t===st.pointerDownState.lastClickedPoint}])}else{var St=At.createPointAt(tn,it-st.pointerOffset.x,_e-st.pointerOffset.y,ct.gridSize),Vt=St[0]-Tt[0],Pt=St[1]-Tt[1];At.movePoints(tn,It.map(function(Rt){return{index:Rt,point:Rt===st.pointerDownState.lastClickedPoint?At.createPointAt(tn,it-st.pointerOffset.x,_e-st.pointerOffset.y,ct.gridSize):[tn.points[Rt][0]+Vt,tn.points[Rt][1]+Pt],isDragging:Rt===st.pointerDownState.lastClickedPoint}})),(0,fn.WJ)(tn)&&(0,fn.RB)(tn,!1)}if((0,Qt.Mn)(tn,!1)){var qt=[];It[0]===0&&qt.push((0,cn.AK)(At.getPointGlobalCoordinates(tn,tn.points[0])));var dn=It[It.length-1];dn===tn.points.length-1&&qt.push((0,cn.AK)(At.getPointGlobalCoordinates(tn,tn.points[dn]))),qt.length&&lt(tn,qt)}return!0}return!1}},{key:"handlePointerUp",value:function(Ct,ct,it){var _e,lt=ct.elementId,st=ct.selectedPointsIndices,It=ct.isDragging,Dt=ct.pointerDownState,tn=At.getElement(lt);if(!tn)return ct;var Tt={};if(It&&st){var $t,Wt=pn(st);try{for(Wt.s();!($t=Wt.n()).done;){var Ot=$t.value;if(Ot===0||Ot===tn.points.length-1){(0,xt.g6)(tn.points,it.zoom.value)&&At.movePoints(tn,[{index:Ot,point:Ot===0?tn.points[tn.points.length-1]:tn.points[0]}]);var In=(0,nn.N1)(it)?(0,nn.Y9)((0,cn.AK)(At.getPointAtIndexGlobalCoordinates(tn,Ot)),Xt.Z.getScene(tn)):null;Tt[Ot===0?"startBindingElement":"endBindingElement"]=In}}}catch(rn){Wt.e(rn)}finally{Wt.f()}}return Ht(Ht(Ht({},ct),Tt),{},{selectedPointsIndices:It||Ct.shiftKey?!It&&Ct.shiftKey&&(_e=Dt.prevSelectedPointsIndices)!==null&&_e!==void 0&&_e.includes(Dt.lastClickedPoint)?st&&st.filter(function(rn){return rn!==Dt.lastClickedPoint}):st:st!=null&&st.includes(Dt.lastClickedPoint)?[Dt.lastClickedPoint]:st,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(Ct,ct,it,_e){var lt=(0,xt.LW)(ct[0],ct[1],it[0],it[1]);return Ct.points.length>2&&Ct.roundness&&(lt=(0,xt.eH)(Ct,it)),lt*_e.value<4*At.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(Ct,ct,it,_e){var lt=(0,xt.H5)(ct,it);if(Ct.points.length>2&&Ct.roundness){var st=(0,xt.yB)(Ct,Ct.points[_e]);if(st){var It=(0,xt.lk)(Ct,Ct.points[_e],.5),Dt=(0,xt.N_)(st[0],st[1],st[2],st[3],It),tn=(0,ot.Z)(Dt,2),Tt=tn[0],$t=tn[1];lt=At.getPointGlobalCoordinates(Ct,[Tt,$t])}}return lt}},{key:"getSegmentMidPointIndex",value:function(Ct,ct,it){var _e=At.getElement(Ct.elementId);if(!_e)return-1;for(var lt=At.getEditorMidPoints(_e,ct),st=0;st<lt.length;){if(At.arePointsEqual(it,lt[st]))return st+1;st++}return-1}},{key:"handlePointerDown",value:function(Ct,ct,it,_e,lt){var st,It={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!lt)return It;var Dt=lt.elementId,tn=At.getElement(Dt);if(!tn)return It;var Tt=At.getSegmentMidpointHitCoords(lt,_e,ct),$t=null;if(Tt&&($t=At.getSegmentMidPointIndex(lt,ct,Tt)),Ct.altKey&&ct.editingLinearElement)return lt.lastUncommittedPoint==null&&((0,vt.DR)(tn,{points:[].concat((0,pt.Z)(tn.points),[At.createPointAt(tn,_e.x,_e.y,ct.gridSize)])}),It.didAddPoint=!0),it.resumeRecording(),It.linearElementEditor=Ht(Ht({},lt),{},{pointerDownState:{prevSelectedPointsIndices:lt.selectedPointsIndices,lastClickedPoint:-1,origin:{x:_e.x,y:_e.y},segmentMidpoint:{value:Tt,index:$t,added:!1}},selectedPointsIndices:[tn.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,nn.Y9)(_e,Xt.Z.getScene(tn))}),It.didAddPoint=!0,It;var Wt=At.getPointIndexUnderCursor(tn,ct.zoom,_e.x,_e.y);if(Wt>=0||Tt)It.hitElement=tn;else{var Ot=lt.startBindingElement,In=lt.endBindingElement;(0,nn.N1)(ct)&&(0,Qt.Mn)(tn)&&(0,nn.HG)(tn,Ot,In)}var rn=(0,Ut.qf)(tn),_t=(0,ot.Z)(rn,4),St=_t[0],Vt=_t[1],Pt=(St+_t[2])/2,qt=(Vt+_t[3])/2,dn=Wt>-1&&(0,xt.U1)(tn.x+tn.points[Wt][0],tn.y+tn.points[Wt][1],Pt,qt,tn.angle),Rt=Wt>-1||Ct.shiftKey?Ct.shiftKey||(st=lt.selectedPointsIndices)!==null&&st!==void 0&&st.includes(Wt)?Et([].concat((0,pt.Z)(lt.selectedPointsIndices||[]),[Wt])):[Wt]:null;return It.linearElementEditor=Ht(Ht({},lt),{},{pointerDownState:{prevSelectedPointsIndices:lt.selectedPointsIndices,lastClickedPoint:Wt,origin:{x:_e.x,y:_e.y},segmentMidpoint:{value:Tt,index:$t,added:!1}},selectedPointsIndices:Rt,pointerOffset:dn?{x:_e.x-dn[0],y:_e.y-dn[1]}:{x:0,y:0}}),It}},{key:"arePointsEqual",value:function(Ct,ct){return!Ct&&!ct||!(!Ct||!ct)&&(0,xt.Jj)(Ct,ct)}},{key:"handlePointerMove",value:function(Ct,ct,it,_e){if(!_e.editingLinearElement)return null;var lt=_e.editingLinearElement,st=lt.elementId,It=lt.lastUncommittedPoint,Dt=At.getElement(st);if(!Dt)return _e.editingLinearElement;var tn,Tt=Dt.points,$t=Tt[Tt.length-1];if(!Ct.altKey)return $t===It&&At.deletePoints(Dt,[Tt.length-1]),Ht(Ht({},_e.editingLinearElement),{},{lastUncommittedPoint:null});if((0,hn.Ge)(Ct)&&Tt.length>=2){var Wt=Tt[Tt.length-2],Ot=At._getShiftLockedDelta(Dt,Wt,[ct,it],_e.gridSize),In=(0,ot.Z)(Ot,2),rn=In[0],_t=In[1];tn=[rn+Wt[0],_t+Wt[1]]}else tn=At.createPointAt(Dt,ct-_e.editingLinearElement.pointerOffset.x,it-_e.editingLinearElement.pointerOffset.y,_e.gridSize);return $t===It?At.movePoints(Dt,[{index:Dt.points.length-1,point:tn}]):At.addPoints(Dt,_e,[{point:tn}]),Ht(Ht({},_e.editingLinearElement),{},{lastUncommittedPoint:Dt.points[Dt.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(Ct,ct){var it=(0,Ut.qf)(Ct),_e=(0,ot.Z)(it,4),lt=_e[0],st=_e[1],It=(lt+_e[2])/2,Dt=(st+_e[3])/2,tn=Ct.x,Tt=Ct.y,$t=(0,xt.U1)(tn+ct[0],Tt+ct[1],It,Dt,Ct.angle),Wt=(0,ot.Z)($t,2);return[tn=Wt[0],Tt=Wt[1]]}},{key:"getPointsGlobalCoordinates",value:function(Ct){var ct=(0,Ut.qf)(Ct),it=(0,ot.Z)(ct,4),_e=it[0],lt=it[1],st=it[2],It=it[3],Dt=(_e+st)/2,tn=(lt+It)/2;return Ct.points.map(function(Tt){var $t=Ct.x,Wt=Ct.y,Ot=(0,xt.U1)($t+Tt[0],Wt+Tt[1],Dt,tn,Ct.angle),In=(0,ot.Z)(Ot,2);return[$t=In[0],Wt=In[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(Ct,ct){var it=ct<0?Ct.points.length+ct:ct,_e=(0,Ut.qf)(Ct),lt=(0,ot.Z)(_e,4),st=lt[0],It=lt[1],Dt=(st+lt[2])/2,tn=(It+lt[3])/2,Tt=Ct.points[it],$t=Ct.x,Wt=Ct.y;return Tt?(0,xt.U1)($t+Tt[0],Wt+Tt[1],Dt,tn,Ct.angle):(0,xt.U1)($t,Wt,Dt,tn,Ct.angle)}},{key:"pointFromAbsoluteCoords",value:function(Ct,ct){var it=(0,Ut.qf)(Ct),_e=(0,ot.Z)(it,4),lt=_e[0],st=_e[1],It=(lt+_e[2])/2,Dt=(st+_e[3])/2,tn=(0,xt.U1)(ct[0],ct[1],It,Dt,-Ct.angle),Tt=(0,ot.Z)(tn,2),$t=Tt[0],Wt=Tt[1];return[$t-Ct.x,Wt-Ct.y]}},{key:"getPointIndexUnderCursor",value:function(Ct,ct,it,_e){for(var lt=At.getPointsGlobalCoordinates(Ct),st=lt.length;--st>-1;){var It=lt[st];if((0,xt.LW)(it,_e,It[0],It[1])*ct.value<At.POINT_HANDLE_SIZE+1)return st}return-1}},{key:"createPointAt",value:function(Ct,ct,it,_e){var lt=(0,xt.wC)(ct,it,_e),st=(0,Ut.qf)(Ct),It=(0,ot.Z)(st,4),Dt=It[0],tn=It[1],Tt=(Dt+It[2])/2,$t=(tn+It[3])/2,Wt=(0,xt.U1)(lt[0],lt[1],Tt,$t,-Ct.angle),Ot=(0,ot.Z)(Wt,2),In=Ot[0],rn=Ot[1];return[In-Ct.x,rn-Ct.y]}},{key:"getNormalizedPoints",value:function(Ct){var ct=Ct.points,it=ct[0][0],_e=ct[0][1];return{points:ct.map(function(lt,st){return[lt[0]-it,lt[1]-_e]}),x:Ct.x+it,y:Ct.y+_e}}},{key:"normalizePoints",value:function(Ct){(0,vt.DR)(Ct,At.getNormalizedPoints(Ct))}},{key:"duplicateSelectedPoints",value:function(Ct){if(!Ct.editingLinearElement)return!1;var ct=Ct.editingLinearElement,it=ct.selectedPointsIndices,_e=ct.elementId,lt=At.getElement(_e);if(!lt||it===null)return!1;var st=lt.points,It=[],Dt=!1,tn=-1,Tt=st.reduce(function(Wt,Ot,In){if(++tn,Wt.push(Ot),it.includes(In)){var rn=st[In+1];rn||(Dt=!0),Wt.push(rn?[(Ot[0]+rn[0])/2,(Ot[1]+rn[1])/2]:[Ot[0],Ot[1]]),It.push(tn+1),++tn}return Wt},[]);if((0,vt.DR)(lt,{points:Tt}),Dt){var $t=lt.points[lt.points.length-1];At.movePoints(lt,[{index:lt.points.length-1,point:[$t[0]+30,$t[1]+30]}])}return{appState:Ht(Ht({},Ct),{},{editingLinearElement:Ht(Ht({},Ct.editingLinearElement),{},{selectedPointsIndices:It})})}}},{key:"deletePoints",value:function(Ct,ct){var it=0,_e=0;if(ct.includes(0)){var lt=Ct.points.find(function(It,Dt){return!ct.includes(Dt)});lt&&(it=lt[0],_e=lt[1])}var st=Ct.points.reduce(function(It,Dt,tn){return ct.includes(tn)||It.push(It.length?[Dt[0]-it,Dt[1]-_e]:[0,0]),It},[]);At._updatePoints(Ct,st,it,_e)}},{key:"addPoints",value:function(Ct,ct,it){var _e=[].concat((0,pt.Z)(Ct.points),(0,pt.Z)(it.map(function(lt){return lt.point})));At._updatePoints(Ct,_e,0,0)}},{key:"movePoints",value:function(Ct,ct,it){var _e=Ct.points,lt=0,st=0,It=ct.find(function(tn){return tn.index===0});It&&(lt=It.point[0]+_e[It.index][0],st=It.point[1]+_e[It.index][1]);var Dt=_e.map(function(tn,Tt){var $t=ct.find(function(In){return In.index===Tt});if($t){if(It)return tn;var Wt=$t.point[0]-_e[$t.index][0],Ot=$t.point[1]-_e[$t.index][1];return[tn[0]+Wt,tn[1]+Ot]}return lt||st?[tn[0]-lt,tn[1]-st]:tn});At._updatePoints(Ct,Dt,lt,st,it)}},{key:"shouldAddMidpoint",value:function(Ct,ct,it){if(!At.getElement(Ct.elementId))return!1;var _e=Ct.pointerDownState.segmentMidpoint;if(_e.added||_e.value===null||_e.index===null||Ct.pointerDownState.origin===null)return!1;var lt=Ct.pointerDownState.origin,st=(0,xt.LW)(lt.x,lt.y,ct.x,ct.y);return!(!it.editingLinearElement&&st<mn.f/it.zoom.value)}},{key:"addMidpoint",value:function(Ct,ct,it){var _e=At.getElement(Ct.elementId);if(_e){var lt=Ct.pointerDownState.segmentMidpoint,st={pointerDownState:Ct.pointerDownState,selectedPointsIndices:Ct.selectedPointsIndices},It=At.createPointAt(_e,ct.x,ct.y,it.gridSize),Dt=[].concat((0,pt.Z)(_e.points.slice(0,lt.index)),[It],(0,pt.Z)(_e.points.slice(lt.index)));return(0,vt.DR)(_e,{points:Dt}),st.pointerDownState=Ht(Ht({},Ct.pointerDownState),{},{segmentMidpoint:Ht(Ht({},Ct.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:lt.index}),st.selectedPointsIndices=[lt.index],st}}},{key:"_updatePoints",value:function(Ct,ct,it,_e,lt){var st=(0,rt.Ut)(Ct,ct),It=(0,rt.Ut)(Ct,Ct.points),Dt=(st[0]+st[2])/2,tn=(st[1]+st[3])/2,Tt=(It[0]+It[2])/2-Dt,$t=(It[1]+It[3])/2-tn,Wt=(0,xt.U1)(it,_e,Tt,$t,Ct.angle);(0,vt.DR)(Ct,Ht(Ht({},lt),{},{points:ct,x:Ct.x+Wt[0],y:Ct.y+Wt[1]}))}},{key:"_getShiftLockedDelta",value:function(Ct,ct,it,_e){var lt=At.getPointGlobalCoordinates(Ct,ct),st=(0,xt.wC)(it[0],it[1],_e),It=(0,ot.Z)(st,2),Dt=It[0],tn=It[1],Tt=(0,Ut.o4)(lt[0],lt[1],Dt,tn),$t=Tt.width,Wt=Tt.height;return(0,xt.xj)([$t,Wt],[0,0],-Ct.angle)}}]),At}();bt.POINT_HANDLE_SIZE=10,bt.getEditorMidPoints=function(At,Ct){var ct=(0,fn.WJ)(At);return!Ct.editingLinearElement&&At.points.length>2&&!ct?[]:(Bt.version===At.version&&Bt.zoom===Ct.zoom.value||bt.updateEditorMidPointsCache(At,Ct),Bt.points)},bt.updateEditorMidPointsCache=function(At,Ct){for(var ct=bt.getPointsGlobalCoordinates(At),it=0,_e=[];it<ct.length-1;)if(bt.isSegmentTooShort(At,At.points[it],At.points[it+1],Ct.zoom))_e.push(null),it++;else{var lt=bt.getSegmentMidPoint(At,ct[it],ct[it+1],it+1);_e.push(lt),it++}Bt.points=_e,Bt.version=At.version,Bt.zoom=Ct.zoom.value},bt.getSegmentMidpointHitCoords=function(At,Ct,ct){var it=At.elementId,_e=bt.getElement(it);if(!_e||bt.getPointIndexUnderCursor(_e,ct.zoom,Ct.x,Ct.y)>=0||bt.getPointsGlobalCoordinates(_e).length>=3&&!ct.editingLinearElement)return null;var lt=bt.POINT_HANDLE_SIZE/ct.zoom.value,st=At.segmentMidPointHoveredCoords;if(st&&(0,xt.LW)(st[0],st[1],Ct.x,Ct.y)<=lt)return st;for(var It=0,Dt=bt.getEditorMidPoints(_e,ct);It<Dt.length;){if(Dt[It]!==null&&(0,xt.LW)(Dt[It][0],Dt[It][1],Ct.x,Ct.y)<=lt)return Dt[It];It++}return null},bt.getBoundTextElementPosition=function(At,Ct){var ct=bt.getPointsGlobalCoordinates(At);ct.length<2&&(0,vt.DR)(Ct,{isDeleted:!0});var it=0,_e=0;if(At.points.length%2==1){var lt=Math.floor(At.points.length/2),st=bt.getPointGlobalCoordinates(At,At.points[lt]);it=st[0]-Ct.width/2,_e=st[1]-Ct.height/2}else{var It=At.points.length/2-1,Dt=Bt.points[It];At.points.length===2&&(Dt=(0,xt.H5)(ct[0],ct[1])),Dt&&Bt.version===At.version||(Dt=bt.getSegmentMidPoint(At,ct[It],ct[It+1],It+1)),it=Dt[0]-Ct.width/2,_e=Dt[1]-Ct.height/2}return{x:it,y:_e}},bt.getMinMaxXYWithBoundText=function(At,Ct,ct){var it=(0,ot.Z)(Ct,4),_e=it[0],lt=it[1],st=it[2],It=it[3],Dt=(_e+st)/2,tn=(lt+It)/2,Tt=bt.getBoundTextElementPosition(At,ct),$t=Tt.x,Wt=Tt.y,Ot=$t+ct.width,In=Wt+ct.height,rn=(0,xt.xj)([_e,lt],[Dt,tn],At.angle),_t=(0,xt.xj)([st,lt],[Dt,tn],At.angle),St=(0,xt.xj)([$t,Wt],[Dt,tn],-At.angle),Vt=(0,xt.xj)([Ot,Wt],[Dt,tn],-At.angle),Pt=(0,xt.xj)([$t,In],[Dt,tn],-At.angle),qt=(0,xt.xj)([Ot,In],[Dt,tn],-At.angle);return rn[0]<_t[0]&&rn[1]>=_t[1]?(_e=Math.min(_e,Pt[0]),st=Math.max(st,Math.max(Vt[0],qt[0])),lt=Math.min(lt,St[1]),It=Math.max(It,qt[1])):rn[0]>=_t[0]&&rn[1]>_t[1]?(_e=Math.min(_e,qt[0]),st=Math.max(st,Math.max(St[0],Vt[0])),lt=Math.min(lt,Pt[1]),It=Math.max(It,Vt[1])):rn[0]>=_t[0]?(_e=Math.min(_e,Vt[0]),st=Math.max(st,Pt[0]),lt=Math.min(lt,qt[1]),It=Math.max(It,St[1])):rn[1]<=_t[1]&&(_e=Math.min(_e,Math.min(Vt[0],St[0])),st=Math.max(st,qt[0]),lt=Math.min(lt,Vt[1]),It=Math.max(It,Pt[1])),[_e,lt,st,It,Dt,tn]},bt.getElementAbsoluteCoords=function(At){var Ct,ct,it,_e,lt,st=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(At.points.length<2||!(0,Nn.R2)(At)){var It=At.points.reduce(function(Zt,zt){var ft=(0,ot.Z)(zt,2),Gt=ft[0],wt=ft[1];return Zt.minY=Math.min(Zt.minY,wt),Zt.minX=Math.min(Zt.minX,Gt),Zt.maxX=Math.max(Zt.maxX,Gt),Zt.maxY=Math.max(Zt.maxY,wt),Zt},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),Dt=It.minX,tn=It.minY,Tt=It.maxX,$t=It.maxY;ct=Dt+At.x,it=tn+At.y,_e=Tt+At.x,lt=$t+At.y}else{var Wt=(0,Nn.R2)(At),Ot=(0,rt.CM)(Wt[0]),In=(0,rt.IX)(Ot),rn=(0,ot.Z)(In,4),_t=rn[0],St=rn[1],Vt=rn[2],Pt=rn[3];ct=_t+At.x,it=St+At.y,_e=Vt+At.x,lt=Pt+At.y}var qt=(ct+_e)/2,dn=(it+lt)/2;if(Ct=[ct,it,_e,lt,qt,dn],!st)return Ct;var Rt=(0,fn.WJ)(At);return Rt&&(Ct=bt.getMinMaxXYWithBoundText(At,[ct,it,_e,lt],Rt)),Ct};var Et=function(At){var Ct=(0,pt.Z)(new Set(At.filter(function(ct){return ct!==null&&ct!==-1})));return(Ct=Ct.sort(function(ct,it){return ct-it})).length?Ct:null}},1935:function(Lt,kt,_){_.d(kt,{BE:function(){return nn},DR:function(){return Xt},ZP:function(){return cn}});var pt=_(6655),ht=_(7169),ot=_(3063),at=_(1564),gt=_(5001),xt=_(6954),Ut=_(6340);function rt(Qt,hn){var fn=Object.keys(Qt);if(Object.getOwnPropertySymbols){var Nn=Object.getOwnPropertySymbols(Qt);hn&&(Nn=Nn.filter(function(mn){return Object.getOwnPropertyDescriptor(Qt,mn).enumerable})),fn.push.apply(fn,Nn)}return fn}function vt(Qt){for(var hn=1;hn<arguments.length;hn++){var fn=arguments[hn]!=null?arguments[hn]:{};hn%2?rt(Object(fn),!0).forEach(function(Nn){(0,ht.Z)(Qt,Nn,fn[Nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qt,Object.getOwnPropertyDescriptors(fn)):rt(Object(fn)).forEach(function(Nn){Object.defineProperty(Qt,Nn,Object.getOwnPropertyDescriptor(fn,Nn))})}return Qt}var Xt=function(Qt,hn){var fn,Nn=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],mn=!1,pn=hn,vn=pn.points,yt=pn.fileId;for(var Ht in vn!==void 0&&(hn=vt(vt({},(0,gt.k)(vn)),hn)),hn){var Bt=hn[Ht];if(Bt!==void 0){if(Qt[Ht]===Bt&&((0,pt.Z)(Bt)!=="object"||Bt===null||Ht==="groupIds"||Ht==="scale"))continue;if(Ht==="scale"){var bt=Qt[Ht],Et=Bt;if(bt[0]===Et[0]&&bt[1]===Et[1])continue}else if(Ht==="points"){var At=Qt[Ht],Ct=Bt;if(At.length===Ct.length){for(var ct=!1,it=At.length;--it;){var _e=At[it],lt=Ct[it];if(_e[0]!==lt[0]||_e[1]!==lt[1]){ct=!0;break}}if(!ct)continue}}Qt[Ht]=Bt,mn=!0}}return mn&&(hn.height===void 0&&hn.width===void 0&&yt===void 0&&vn===void 0||(0,ot.bI)(Qt),Qt.version++,Qt.versionNonce=(0,xt.LU)(),Qt.updated=(0,Ut.C3)(),Nn&&((fn=at.Z.getScene(Qt))===null||fn===void 0||fn.informMutation())),Qt},nn=function(Qt,hn){var fn=!1;for(var Nn in hn){var mn=hn[Nn];if(mn!==void 0){if(Qt[Nn]===mn&&((0,pt.Z)(mn)!=="object"||mn===null))continue;fn=!0}}return fn?vt(vt(vt({},Qt),hn),{},{updated:(0,Ut.C3)(),version:Qt.version+1,versionNonce:(0,xt.LU)()}):Qt},cn=function(Qt,hn){return Qt.version=(hn??Qt.version)+1,Qt.versionNonce=(0,xt.LU)(),Qt.updated=(0,Ut.C3)(),Qt}},2791:function(Lt,kt,_){_.d(kt,{JZ:function(){return At},KE:function(){return ct},N_:function(){return Ct},OL:function(){return st},Sy:function(){return Dt},Up:function(){return Ht},VL:function(){return bt},_N:function(){return tn},vw:function(){return _e},y8:function(){return it}});var pt=_(6655),ht=_(2577),ot=_(7169),at=_(2726),gt=_(6340),xt=_(6954),Ut=_(1935),rt=_(242),vt=_(1047),Xt=_(6552),nn=_(8925),cn=_(5710),Qt=_(2335),hn=_(1974),fn=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function Nn(Tt,$t){var Wt=typeof Symbol<"u"&&Tt[Symbol.iterator]||Tt["@@iterator"];if(!Wt){if(Array.isArray(Tt)||(Wt=function(Vt,Pt){if(Vt){if(typeof Vt=="string")return mn(Vt,Pt);var qt=Object.prototype.toString.call(Vt).slice(8,-1);if(qt==="Object"&&Vt.constructor&&(qt=Vt.constructor.name),qt==="Map"||qt==="Set")return Array.from(Vt);if(qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return mn(Vt,Pt)}}(Tt))||$t&&Tt&&typeof Tt.length=="number"){Wt&&(Tt=Wt);var Ot=0,In=function(){};return{s:In,n:function(){return Ot>=Tt.length?{done:!0}:{done:!1,value:Tt[Ot++]}},e:function(Vt){throw Vt},f:In}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rn,_t=!0,St=!1;return{s:function(){Wt=Wt.call(Tt)},n:function(){var Vt=Wt.next();return _t=Vt.done,Vt},e:function(Vt){St=!0,rn=Vt},f:function(){try{_t||Wt.return==null||Wt.return()}finally{if(St)throw rn}}}}function mn(Tt,$t){($t==null||$t>Tt.length)&&($t=Tt.length);for(var Wt=0,Ot=new Array($t);Wt<$t;Wt++)Ot[Wt]=Tt[Wt];return Ot}function pn(Tt,$t){var Wt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Tt);$t&&(Ot=Ot.filter(function(In){return Object.getOwnPropertyDescriptor(Tt,In).enumerable})),Wt.push.apply(Wt,Ot)}return Wt}function vn(Tt){for(var $t=1;$t<arguments.length;$t++){var Wt=arguments[$t]!=null?arguments[$t]:{};$t%2?pn(Object(Wt),!0).forEach(function(Ot){(0,ot.Z)(Tt,Ot,Wt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(Wt)):pn(Object(Wt)).forEach(function(Ot){Object.defineProperty(Tt,Ot,Object.getOwnPropertyDescriptor(Wt,Ot))})}return Tt}var yt=function(Tt,$t){var Wt,Ot,In=$t.x,rn=$t.y,_t=$t.strokeColor,St=_t===void 0?Qt.HN.strokeColor:_t,Vt=$t.backgroundColor,Pt=Vt===void 0?Qt.HN.backgroundColor:Vt,qt=$t.fillStyle,dn=qt===void 0?Qt.HN.fillStyle:qt,Rt=$t.strokeWidth,Zt=Rt===void 0?Qt.HN.strokeWidth:Rt,zt=$t.strokeStyle,ft=zt===void 0?Qt.HN.strokeStyle:zt,Gt=$t.roughness,wt=Gt===void 0?Qt.HN.roughness:Gt,Jt=$t.opacity,Mt=Jt===void 0?Qt.HN.opacity:Jt,un=$t.width,bn=un===void 0?0:un,jt=$t.height,Fn=jt===void 0?0:jt,yn=$t.angle,Gn=yn===void 0?0:yn,Nt=$t.groupIds,Xn=Nt===void 0?[]:Nt,Cn=$t.roundness,xn=Cn===void 0?null:Cn,Tn=$t.boundElements,Pn=Tn===void 0?null:Tn,tr=$t.link,ir=tr===void 0?null:tr,gr=$t.locked,Wn=gr===void 0?Qt.HN.locked:gr,ln=(0,at.Z)($t,fn);return{id:ln.id||(0,xt.kb)(),type:Tt,x:In,y:rn,width:bn,height:Fn,angle:Gn,strokeColor:St,backgroundColor:Pt,fillStyle:dn,strokeWidth:Zt,strokeStyle:ft,roughness:wt,opacity:Mt,groupIds:Xn,roundness:xn,seed:(Wt=ln.seed)!==null&&Wt!==void 0?Wt:(0,xt.LU)(),version:ln.version||1,versionNonce:(Ot=ln.versionNonce)!==null&&Ot!==void 0?Ot:0,isDeleted:!1,boundElements:Pn,updated:(0,gt.C3)(),link:ir,locked:Wn}},Ht=function(Tt){return yt(Tt.type,Tt)},Bt=function(Tt,$t){return{x:Tt.textAlign==="center"?$t.width/2:Tt.textAlign==="right"?$t.width:0,y:Tt.verticalAlign==="middle"?$t.height/2:0}},bt=function(Tt){var $t=Tt.fontFamily||Qt.rk,Wt=Tt.fontSize||Qt.n5,Ot=Tt.lineHeight||(0,cn.PT)($t),In=(0,cn.bG)(Tt.text),rn=(0,cn.X1)(In,(0,gt.mO)({fontFamily:$t,fontSize:Wt}),Ot),_t=Tt.textAlign||Qt.Hg,St=Tt.verticalAlign||Qt.hs,Vt=Bt({textAlign:_t,verticalAlign:St},rn);return(0,Ut.BE)(vn(vn({},yt("text",Tt)),{},{text:In,fontSize:Wt,fontFamily:$t,textAlign:_t,verticalAlign:St,x:Tt.x-Vt.x,y:Tt.y-Vt.y,width:rn.width,height:rn.height,baseline:rn.baseline,containerId:Tt.containerId||null,originalText:In,lineHeight:Ot}),{})},Et=function(Tt,$t){var Wt,Ot,In=(0,cn.tl)(Tt),rn=(0,cn.X1)($t,(0,gt.mO)(Tt),Tt.lineHeight),_t=rn.width,St=rn.height,Vt=rn.baseline,Pt=Tt.textAlign,qt=Tt.verticalAlign;if(Pt!=="center"||qt!==Qt.oX.MIDDLE||Tt.containerId){var dn=(0,vt.qf)(Tt),Rt=(0,ht.Z)(dn,4),Zt=Rt[0],zt=Rt[1],ft=Rt[2],Gt=Rt[3],wt=(0,nn.wC)(Tt,_t,St,!1),Jt=(0,ht.Z)(wt,4),Mt=(Zt-Jt[0])/2,un=(zt-Jt[1])/2,bn=(ft-Jt[2])/2,jt=(Gt-Jt[3])/2,Fn=(0,Xt.yq)({s:!0,e:Pt==="center"||Pt==="left",w:Pt==="center"||Pt==="right"},Tt.x,Tt.y,Tt.angle,Mt,un,bn,jt),yn=(0,ht.Z)(Fn,2);Wt=yn[0],Ot=yn[1]}else{var Gn=(0,cn.X1)(Tt.text,(0,gt.mO)(Tt),Tt.lineHeight),Nt=Bt(Tt,{width:_t-Gn.width,height:St-Gn.height});Wt=Tt.x-Nt.x,Ot=Tt.y-Nt.y}if(In){var Xn=(0,cn.S)(Tt),Cn=(0,cn.HE)(In),xn=Cn.height,Tn=Cn.width;St>xn-2*Xn&&(xn=St+2*Xn),_t>Tn-2*Xn&&(Tn=_t+2*Xn),(0,hn.Yv)(In)||xn===Cn.height&&Tn===Cn.width||(0,Ut.DR)(In,{height:xn,width:Tn})}return{width:_t,height:St,baseline:Vt,x:Number.isFinite(Wt)?Wt:Tt.x,y:Number.isFinite(Ot)?Ot:Tt.y}},At=function(Tt){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt.text;if(!Tt.isDeleted){var Wt=(0,cn.tl)(Tt);Wt&&($t=(0,cn.lD)($t,(0,gt.mO)(Tt),(0,cn.jd)(Wt)));var Ot=Et(Tt,$t);return vn({text:$t},Ot)}},Ct=function(Tt,$t){$t.text;var Wt=$t.isDeleted,Ot=$t.originalText;return(0,Ut.BE)(Tt,vn({originalText:Ot,isDeleted:Wt??Tt.isDeleted},At(Tt,Ot)))},ct=function(Tt){return vn(vn({},yt(Tt.type,Tt)),{},{points:Tt.points||[],pressures:[],simulatePressure:Tt.simulatePressure,lastCommittedPoint:null})},it=function(Tt){return vn(vn({},yt(Tt.type,Tt)),{},{points:Tt.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:Tt.startArrowhead,endArrowhead:Tt.endArrowhead})},_e=function(Tt){var $t,Wt,Ot;return vn(vn({},yt("image",Tt)),{},{strokeColor:"transparent",status:($t=Tt.status)!==null&&$t!==void 0?$t:"pending",fileId:(Wt=Tt.fileId)!==null&&Wt!==void 0?Wt:null,scale:(Ot=Tt.scale)!==null&&Ot!==void 0?Ot:[1,1]})},lt=function Tt($t){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if($t==null||(0,pt.Z)($t)!=="object")return $t;var Ot=Object.prototype.toString.call($t);if(Ot==="[object Object]"){var In=typeof $t.constructor=="function"?Object.create(Object.getPrototypeOf($t)):{};for(var rn in $t)if($t.hasOwnProperty(rn)){if(Wt===0&&(rn==="shape"||rn==="canvas"))continue;In[rn]=Tt($t[rn],Wt+1)}return In}if(Array.isArray($t)){for(var _t=$t.length,St=new Array(_t);_t--;)St[_t]=Tt($t[_t],Wt+1);return St}return $t},st=function(Tt){return lt(Tt)},It=function(Tt){if((0,gt.h2)()&&Tt){var $t,Wt,Ot="".concat(Tt,"_copy");return($t=window.h)!==null&&$t!==void 0&&(Wt=$t.app)!==null&&Wt!==void 0&&Wt.getSceneElementsIncludingDeleted().find(function(In){return In.id===Ot})&&(Ot+="_copy"),Ot}return(0,xt.kb)()},Dt=function(Tt,$t,Wt,Ot){var In=st(Wt);return In.id=It(In.id),In.boundElements=null,In.updated=(0,gt.C3)(),In.seed=(0,xt.LU)(),In.groupIds=(0,rt.Qy)(In.groupIds,Tt,function(rn){return $t.has(rn)||$t.set(rn,It(rn)),$t.get(rn)}),Ot&&(In=Object.assign(In,Ot)),In},tn=function(Tt){var $t,Wt=[],Ot=(0,gt.xn)(Tt),In=new Map,rn=function(Zt){if(In.has(Zt))return In.get(Zt);if(Ot.has(Zt)){var zt=It(Zt);return In.set(Zt,zt),zt}return null},_t=new Map,St=Nn(Tt);try{for(St.s();!($t=St.n()).done;){var Vt=$t.value,Pt=lt(Vt);if(Pt.id=rn(Vt.id),Pt.groupIds&&(Pt.groupIds=Pt.groupIds.map(function(Zt){return _t.has(Zt)||_t.set(Zt,It(Zt)),_t.get(Zt)})),"containerId"in Pt&&Pt.containerId){var qt=rn(Pt.containerId);Pt.containerId=qt}if("boundElements"in Pt&&Pt.boundElements&&(Pt.boundElements=Pt.boundElements.reduce(function(Zt,zt){var ft=rn(zt.id);return ft&&Zt.push(vn(vn({},zt),{},{id:ft})),Zt},[])),"endBinding"in Pt&&Pt.endBinding){var dn=rn(Pt.endBinding.elementId);Pt.endBinding=dn?vn(vn({},Pt.endBinding),{},{elementId:dn}):null}if("startBinding"in Pt&&Pt.startBinding){var Rt=rn(Pt.startBinding.elementId);Pt.startBinding=Rt?vn(vn({},Pt.startBinding),{},{elementId:Rt}):null}Wt.push(Pt)}}catch(Zt){St.e(Zt)}finally{St.f()}return Wt}},8634:function(Lt,kt,_){_.d(kt,{LW:function(){return Nn},T:function(){return At},l2:function(){return Ht},vY:function(){return mn},xx:function(){return Et}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(2335),gt=_(5001),xt=_(6552),Ut=_(8925),rt=_(1974),vt=_(1935),Xt=_(6340),nn=_(8290),cn=_(1564),Qt=_(5710);function hn(Ct,ct){var it=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),it.push.apply(it,_e)}return it}function fn(Ct){for(var ct=1;ct<arguments.length;ct++){var it=arguments[ct]!=null?arguments[ct]:{};ct%2?hn(Object(it),!0).forEach(function(_e){(0,ht.Z)(Ct,_e,it[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(it)):hn(Object(it)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(it,_e))})}return Ct}var Nn=function(Ct){return Ct>=2*Math.PI?Ct-2*Math.PI:Ct},mn=function(Ct,ct,it,_e,lt,st,It,Dt,tn,Tt,$t){if(it.length===1){var Wt=(0,ot.Z)(it,1)[0];return ct==="rotation"?(pn(Wt,Dt,tn,lt,Ct.originalElements),(0,nn.Ww)(Wt)):!(0,rt.iB)(Wt)||ct!=="nw"&&ct!=="ne"&&ct!=="sw"&&ct!=="se"?ct&&Ht(Ct.originalElements,It,Wt,ct,st,Dt,tn):(yt(Wt,ct,st,Dt,tn),(0,nn.Ww)(Wt)),!0}if(it.length>1){if(ct==="rotation")return bt(Ct,it,Dt,tn,lt,Tt,$t),!0;if(ct==="nw"||ct==="ne"||ct==="sw"||ct==="se")return Bt(Ct,it,ct,st,Dt,tn),!0}return!1},pn=function(Ct,ct,it,_e,lt){var st=(0,Ut.qf)(Ct),It=(0,ot.Z)(st,4),Dt=It[0],tn=It[1],Tt=(Dt+It[2])/2,$t=(tn+It[3])/2,Wt=5*Math.PI/2+Math.atan2(it-$t,ct-Tt);_e&&(Wt+=at.ay/2,Wt-=Wt%at.ay),Wt=Nn(Wt);var Ot=(0,Qt.xB)(Ct);if((0,vt.DR)(Ct,{angle:Wt}),Ot){var In,rn=(In=cn.Z.getScene(Ct))===null||In===void 0?void 0:In.getElement(Ot);rn&&!(0,rt.Yv)(Ct)&&(0,vt.DR)(rn,{angle:Wt})}},vn=function(Ct,ct,it){var _e=Ct.width;if((0,rt.Xh)(Ct)){var lt=(0,Qt.tl)(Ct);lt&&(_e=(0,Qt.jd)(lt))}var st=Ct.fontSize*(ct/_e);if(st<1)return null;var It=(0,Qt.X1)(Ct.text,(0,Xt.mO)({fontSize:st,fontFamily:Ct.fontFamily}),Ct.lineHeight);return{size:st,baseline:It.baseline+(it-It.height)}},yt=function(Ct,ct,it,_e,lt){var st,It=(0,Ut.qf)(Ct),Dt=(0,ot.Z)(It,4),tn=Dt[0],Tt=Dt[1],$t=Dt[2],Wt=Dt[3],Ot=(tn+$t)/2,In=(Tt+Wt)/2,rn=(0,xt.U1)(_e,lt,Ot,In,-Ct.angle),_t=(0,ot.Z)(rn,2),St=_t[0],Vt=_t[1];switch(ct){case"se":st=Math.max((St-tn)/($t-tn),(Vt-Tt)/(Wt-Tt));break;case"nw":st=Math.max(($t-St)/($t-tn),(Wt-Vt)/(Wt-Tt));break;case"ne":st=Math.max((St-tn)/($t-tn),(Wt-Vt)/(Wt-Tt));break;case"sw":st=Math.max(($t-St)/($t-tn),(Vt-Tt)/(Wt-Tt))}if(st>0){var Pt=Ct.width*st,qt=Ct.height*st,dn=vn(Ct,Pt,qt);if(dn===null)return;var Rt=(0,Ut.wC)(Ct,Pt,qt,!1),Zt=(0,ot.Z)(Rt,4),zt=(tn-Zt[0])/2,ft=(Tt-Zt[1])/2,Gt=($t-Zt[2])/2,wt=(Wt-Zt[3])/2,Jt=(0,xt.yq)(function(jt,Fn){return{n:/^(n|ne|nw)$/.test(jt)||Fn&&/^(s|se|sw)$/.test(jt),s:/^(s|se|sw)$/.test(jt)||Fn&&/^(n|ne|nw)$/.test(jt),w:/^(w|nw|sw)$/.test(jt)||Fn&&/^(e|ne|se)$/.test(jt),e:/^(e|ne|se)$/.test(jt)||Fn&&/^(w|nw|sw)$/.test(jt)}}(ct,it),Ct.x,Ct.y,Ct.angle,zt,ft,Gt,wt),Mt=(0,ot.Z)(Jt,2),un=Mt[0],bn=Mt[1];(0,vt.DR)(Ct,{fontSize:dn.size,width:Pt,height:qt,baseline:dn.baseline,x:un,y:bn})}},Ht=function(Ct,ct,it,_e,lt,st,It){var Dt=Ct.get(it.id),tn=(0,Ut.wC)(Dt,Dt.width,Dt.height,!0),Tt=(0,ot.Z)(tn,4),$t=[Tt[0],Tt[1]],Wt=[Tt[2],Tt[3]],Ot=(0,xt.H5)($t,Wt),In=(0,xt.xj)([st,It],Ot,-Dt.angle),rn=(0,Ut.wC)(it,it.width,it.height,!0),_t=(0,ot.Z)(rn,4),St=_t[0],Vt=_t[1],Pt=_t[2]-St,qt=_t[3]-Vt,dn=(Wt[0]-$t[0])/Pt,Rt=(Wt[1]-$t[1])/qt,Zt={},zt=(0,Qt.WJ)(it);_e.includes("e")&&(dn=(In[0]-$t[0])/Pt),_e.includes("s")&&(Rt=(In[1]-$t[1])/qt),_e.includes("w")&&(dn=(Wt[0]-In[0])/Pt),_e.includes("n")&&(Rt=(Wt[1]-In[1])/qt);var ft=Dt.width,Gt=Dt.height,wt=it.width*dn,Jt=it.height*Rt;if(lt&&(wt=2*wt-ft,Jt=2*Jt-Gt),ct){var Mt=Math.abs(wt)/ft,un=Math.abs(Jt)/Gt;if(_e.length===1&&(Jt*=Mt,wt*=un),_e.length===2){var bn=Math.max(Mt,un);wt=ft*bn*Math.sign(wt),Jt=Gt*bn*Math.sign(Jt)}}if(zt){var jt=Ct.get(zt.id);if(jt&&(Zt={fontSize:jt.fontSize,baseline:jt.baseline}),ct){var Fn=fn(fn({},it),{},{width:wt,height:Jt}),yn=vn(zt,(0,Qt.jd)(Fn),(0,Qt.N2)(Fn));if(yn===null)return;Zt={fontSize:yn.size,baseline:yn.baseline}}else{var Gn=(0,Qt.AT)((0,Xt.mO)(zt),zt.lineHeight),Nt=(0,Qt.w_)(zt.fontSize,zt.lineHeight);wt=Math.ceil(Math.max(wt,Gn)),Jt=Math.ceil(Math.max(Jt,Nt))}}var Xn=(0,Ut.wC)(Dt,wt,Jt,!0),Cn=(0,ot.Z)(Xn,4),xn=Cn[0],Tn=Cn[1],Pn=Cn[2],tr=Cn[3],ir=Pn-xn,gr=tr-Tn,Wn=[].concat($t);if(["n","w","nw"].includes(_e)&&(Wn=[Wt[0]-Math.abs(ir),Wt[1]-Math.abs(gr)]),_e==="ne"){var ln=[$t[0],Wt[1]];Wn=[ln[0],ln[1]-Math.abs(gr)]}if(_e==="sw"){var Un=[Wt[0],$t[1]];Wn=[Un[0]-Math.abs(ir),Un[1]]}ct&&(["s","n"].includes(_e)&&(Wn[0]=Ot[0]-ir/2),["e","w"].includes(_e)&&(Wn[1]=Ot[1]-gr/2)),wt<0&&(_e.includes("e")&&(Wn[0]-=Math.abs(ir)),_e.includes("w")&&(Wn[0]+=Math.abs(ir))),Jt<0&&(_e.includes("s")&&(Wn[1]-=Math.abs(gr)),_e.includes("n")&&(Wn[1]+=Math.abs(gr))),lt&&(Wn[0]=Ot[0]-Math.abs(ir)/2,Wn[1]=Ot[1]-Math.abs(gr)/2);var wn,Mn,zn=Dt.angle,jn=(0,xt.xj)(Wn,Ot,zn),$n=[Wn[0]+Math.abs(ir)/2,Wn[1]+Math.abs(gr)/2],cr=(0,xt.xj)($n,Ot,zn);Wn=(0,xt.xj)(jn,cr,-zn),((0,rt.bt)(it)||(0,rt.F9)(it))&&(wn=(0,gt.z)(1,Jt,Dt.points,!0),Mn=(0,gt.z)(0,wt,wn,!0));var or=(0,pt.Z)(Wn);or[0]+=Dt.x-xn,or[1]+=Dt.y-Tn;var ur={width:Math.abs(wt),height:Math.abs(Jt),x:or[0],y:or[1],points:Mn};"scale"in it&&"scale"in Dt&&(0,vt.DR)(it,{scale:[(Math.sign(Pn-Dt.x)||Dt.scale[0])*Dt.scale[0],(Math.sign(tr-Dt.y)||Dt.scale[1])*Dt.scale[1]]}),ur.width!==0&&ur.height!==0&&Number.isFinite(ur.x)&&Number.isFinite(ur.y)&&((0,nn.Ww)(it,{newSize:{width:ur.width,height:ur.height}}),(0,vt.DR)(it,ur),zt&&Zt!=null&&(0,vt.DR)(zt,{fontSize:Zt.fontSize,baseline:Zt.baseline}),(0,Qt.RB)(it,_e))},Bt=function(Ct,ct,it,_e,lt,st){var It=ct.reduce(function(ft,Gt){var wt=Ct.originalElements.get(Gt.id);return wt&&ft.push({orig:wt,latest:Gt}),ft},[]),Dt=(0,Ut.v2)(It.map(function(ft){return ft.orig})),tn=Dt.minX,Tt=Dt.minY,$t=Dt.maxX,Wt=Dt.maxY,Ot=Dt.midX,In=Dt.midY,rn=it,_t=_e?[Ot,In]:{ne:[tn,Wt],se:[tn,Tt],sw:[$t,Tt],nw:[$t,Wt]}[rn],St=(0,ot.Z)(_t,2),Vt=St[0],Pt=St[1],qt={ne:[lt>=Vt,st<=Pt],se:[lt>=Vt,st>=Pt],sw:[lt<=Vt,st>=Pt],nw:[lt<=Vt,st<=Pt]}[rn].map(function(ft){return ft?1:-1}),dn=(0,ot.Z)(qt,2),Rt=dn[0],Zt=dn[1];if(!(Rt<0&&Zt<0)){var zt=Math.max(Rt*Math.abs(lt-Vt)/($t-tn),Zt*Math.abs(st-Pt)/(Wt-Tt))*(_e?2:1);zt!==0&&It.forEach(function(ft){var Gt=ft.orig.width*zt,wt=ft.orig.height*zt,Jt=Vt+(ft.orig.x-Vt)*zt,Mt=Pt+(ft.orig.y-Pt)*zt,un=function(Nt,Xn,Cn,xn){return(0,rt.bt)(Nt)||(0,rt.F9)(Nt)?{points:(0,gt.z)(0,Xn,(0,gt.z)(1,Cn,Nt.points,xn),xn)}:{}}(ft.orig,Gt,wt,!1),bn=fn({width:Gt,height:wt,x:Jt,y:Mt},un),jt=null,Fn=(0,Qt.WJ)(ft.latest);if(Fn||(0,rt.iB)(ft.orig)){var yn=fn(fn({},ft.latest),{},{width:Gt,height:wt}),Gn=vn(Fn??ft.orig,Fn?(0,Qt.jd)(yn):yn.width,Fn?(0,Qt.N2)(yn):yn.height);if(!Gn)return;(0,rt.iB)(ft.orig)&&(bn.fontSize=Gn.size,bn.baseline=Gn.baseline),Fn&&(jt={fontSize:Gn.size,baseline:Gn.baseline})}(0,nn.Ww)(ft.latest,{newSize:{width:Gt,height:wt}}),(0,vt.DR)(ft.latest,bn),Fn&&jt&&((0,vt.DR)(Fn,jt),(0,Qt.RB)(ft.latest,it))})}},bt=function(Ct,ct,it,_e,lt,st,It){var Dt=5*Math.PI/2+Math.atan2(_e-It,it-st);lt&&(Dt+=at.ay/2,Dt-=Dt%at.ay),ct.forEach(function(tn){var Tt,$t,Wt=(0,Ut.qf)(tn),Ot=(0,ot.Z)(Wt,4),In=Ot[0],rn=Ot[1],_t=(In+Ot[2])/2,St=(rn+Ot[3])/2,Vt=(Tt=($t=Ct.originalElements.get(tn.id))===null||$t===void 0?void 0:$t.angle)!==null&&Tt!==void 0?Tt:tn.angle,Pt=(0,xt.U1)(_t,St,st,It,Dt+Vt-tn.angle),qt=(0,ot.Z)(Pt,2),dn=qt[0],Rt=qt[1];(0,vt.DR)(tn,{x:tn.x+(dn-_t),y:tn.y+(Rt-St),angle:Nn(Dt+Vt)});var Zt=(0,Qt.xB)(tn);if(Zt){var zt,ft=(zt=cn.Z.getScene(tn))===null||zt===void 0?void 0:zt.getElement(Zt);ft&&!(0,rt.Yv)(tn)&&(0,vt.DR)(ft,{x:ft.x+(dn-_t),y:ft.y+(Rt-St),angle:Nn(Dt+Vt)})}})},Et=function(Ct,ct,it,_e){var lt=ct.length===1?(0,Ut.qf)(ct[0]):(0,Ut.KP)(ct),st=(0,ot.Z)(lt,4),It=st[0],Dt=st[1],tn=st[2],Tt=st[3],$t=(It+tn)/2,Wt=(Dt+Tt)/2,Ot=ct.length===1?ct[0].angle:0,In=(0,xt.U1)(it,_e,$t,Wt,-Ot),rn=(0,ot.Z)(In,2);switch(it=rn[0],_e=rn[1],Ct){case"n":return(0,xt.U1)(it-(It+tn)/2,_e-Dt,0,0,Ot);case"s":return(0,xt.U1)(it-(It+tn)/2,_e-Tt,0,0,Ot);case"w":return(0,xt.U1)(it-It,_e-(Dt+Tt)/2,0,0,Ot);case"e":return(0,xt.U1)(it-tn,_e-(Dt+Tt)/2,0,0,Ot);case"nw":return(0,xt.U1)(it-It,_e-Dt,0,0,Ot);case"ne":return(0,xt.U1)(it-tn,_e-Dt,0,0,Ot);case"sw":return(0,xt.U1)(it-It,_e-Tt,0,0,Ot);case"se":return(0,xt.U1)(it-tn,_e-Tt,0,0,Ot);default:return[0,0]}},At=function(Ct,ct){var it=(0,ot.Z)(ct.points,2),_e=(0,ot.Z)(it[1],2),lt=_e[0],st=_e[1];return Ct==="nw"&&(lt<0||st<0)||Ct==="ne"&&lt>=0||Ct==="sw"&&lt<=0||Ct==="se"&&(lt>0||st>0)?"end":"origin"}},5710:function(Lt,kt,_){_.d(kt,{$2:function(){return ct},AT:function(){return $t},FE:function(){return Et},HE:function(){return _t},H_:function(){return Pt},N2:function(){return Jt},NS:function(){return Gt},OW:function(){return Zt},P7:function(){return Bt},PT:function(){return bn},R8:function(){return Ct},RB:function(){return bt},Rg:function(){return it},S:function(){return qt},TP:function(){return St},WJ:function(){return In},X1:function(){return At},Zr:function(){return ft},aV:function(){return Rt},bG:function(){return vn},cn:function(){return dn},cw:function(){return Vt},eB:function(){return Mt},jd:function(){return wt},lD:function(){return Dt},mY:function(){return st},oN:function(){return Ht},tl:function(){return rn},w_:function(){return _e},xB:function(){return Ot}});var pt,ht=_(2577),ot=_(1930),at=_(7169),gt=_(6340),xt=_(1935),Ut=_(2335),rt=_(1564),vt=_(1047),Xt=_(1974),nn=_(6938),cn=_(75),Qt=_(2325),hn=_(6906);function fn(jt,Fn){var yn=Object.keys(jt);if(Object.getOwnPropertySymbols){var Gn=Object.getOwnPropertySymbols(jt);Fn&&(Gn=Gn.filter(function(Nt){return Object.getOwnPropertyDescriptor(jt,Nt).enumerable})),yn.push.apply(yn,Gn)}return yn}function Nn(jt){for(var Fn=1;Fn<arguments.length;Fn++){var yn=arguments[Fn]!=null?arguments[Fn]:{};Fn%2?fn(Object(yn),!0).forEach(function(Gn){(0,at.Z)(jt,Gn,yn[Gn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jt,Object.getOwnPropertyDescriptors(yn)):fn(Object(yn)).forEach(function(Gn){Object.defineProperty(jt,Gn,Object.getOwnPropertyDescriptor(yn,Gn))})}return jt}var mn,pn,vn=function(jt){return jt.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},yt=function(jt){return vn(jt).split(`
`)},Ht=function(jt,Fn){var yn=void 0,Gn={x:jt.x,y:jt.y,text:jt.text,width:jt.width,height:jt.height,baseline:jt.baseline};Gn.text=jt.text,Fn&&(yn=wt(Fn),Gn.text=Dt(jt.originalText,(0,gt.mO)(jt),yn));var Nt=At(Gn.text,(0,gt.mO)(jt),jt.lineHeight);if(Gn.width=Nt.width,Gn.height=Nt.height,Gn.baseline=Nt.baseline,Fn)if((0,Xt.Yv)(Fn)){var Xn=jt.x+jt.width/2,Cn=jt.y+jt.height/2,xn=Nt.width-jt.width,Tn=Nt.height-jt.height;Gn.x=Cn-(jt.height+Tn)/2,Gn.y=Xn-(jt.width+xn)/2}else{var Pn=_t(Fn),tr=Jt(Fn),ir=Pn.height;Nt.height>tr&&(ir=Gt(Nt.height,Fn.type),(0,xt.DR)(Fn,{height:ir}),tr=Jt(Fn),(0,hn.h_)(Fn.id,ir));var gr=Nn(Nn({},jt),Gn),Wn=Et(Fn,gr),ln=Wn.x,Un=Wn.y;Gn.x=ln,Gn.y=Un}(0,xt.DR)(jt,Gn)},Bt=function(jt,Fn,yn){var Gn=(0,gt.xn)(jt);Fn.forEach(function(Nt){var Xn=yn.get(Nt.id),Cn=Ot(Nt);if(Cn){var xn=yn.get(Cn);if(xn){var Tn=Gn.get(Xn);Tn&&(0,xt.DR)(Tn,{boundElements:(Nt.boundElements||[]).filter(function(tr){return tr.id!==xn&&tr.id!==Cn}).concat({type:"text",id:xn})});var Pn=Gn.get(xn);Pn&&(0,vt.iB)(Pn)&&(0,xt.DR)(Pn,{containerId:Tn?Xn:null})}}})},bt=function(jt,Fn){var yn=Ot(jt);if(yn){(0,hn.kT)(jt.id);var Gn=rt.Z.getScene(jt).getElement(yn);if(Gn&&Gn.text){if(!jt)return;var Nt=(Gn=rt.Z.getScene(jt).getElement(yn)).text,Xn=Gn.height,Cn=Gn.width,xn=_t(jt),Tn=wt(jt),Pn=Jt(jt),tr=xn.height,ir=Gn.baseline;if(Fn!=="n"&&Fn!=="s"){Nt&&(Nt=Dt(Gn.originalText,(0,gt.mO)(Gn),Tn));var gr=At(Nt,(0,gt.mO)(Gn),Gn.lineHeight);Xn=gr.height,Cn=gr.width,ir=gr.baseline}if(Xn>Pn){var Wn=(tr=Gt(Xn,jt.type))-xn.height,ln=(0,Xt.Yv)(jt)||Fn!=="ne"&&Fn!=="nw"&&Fn!=="n"?jt.y:jt.y-Wn;(0,xt.DR)(jt,{height:tr,y:ln})}(0,xt.DR)(Gn,{text:Nt,width:Cn,height:Xn,baseline:ir}),(0,Xt.Yv)(jt)||(0,xt.DR)(Gn,Et(jt,Gn))}}},Et=function(jt,Fn){if((0,Xt.Yv)(jt))return nn._.getBoundTextElementPosition(jt,Fn);var yn,Gn=Vt(jt),Nt=Jt(jt),Xn=wt(jt);return yn=Fn.verticalAlign===Ut.oX.TOP?Gn.y:Fn.verticalAlign===Ut.oX.BOTTOM?Gn.y+(Nt-Fn.height):Gn.y+(Nt/2-Fn.height/2),{x:Fn.textAlign===Ut.I8.LEFT?Gn.x:Fn.textAlign===Ut.I8.RIGHT?Gn.x+(Xn-Fn.width):Gn.x+(Xn/2-Fn.width/2),y:yn}},At=function(jt,Fn,yn){jt=jt.split(`
`).map(function(Xn){return Xn||" "}).join(`
`);var Gn=parseFloat(Fn),Nt=It(jt,Gn,yn);return{width:st(jt,Fn),height:Nt,baseline:Ct(jt,Fn,yn)}},Ct=function(jt,Fn,yn,Gn){var Nt=document.createElement("div");Nt.style.position="absolute",Nt.style.whiteSpace="pre",Nt.style.font=Fn,Nt.style.minHeight="1em",Gn&&(Nt.style.overflow="hidden",Nt.style.wordBreak="break-word",Nt.style.whiteSpace="pre-wrap"),Nt.style.lineHeight=String(yn),Nt.innerText=jt,document.body.appendChild(Nt);var Xn=document.createElement("span");Xn.style.display="inline-block",Xn.style.overflow="hidden",Xn.style.width="1px",Xn.style.height="1px",Nt.appendChild(Xn);var Cn=Xn.offsetTop+Xn.offsetHeight,xn=Nt.offsetHeight;if(Ut.G6){var Tn=It(jt,parseFloat(Fn),yn),Pn=parseFloat(Fn),tr=It(jt,Math.round(Pn),yn);Tn>xn&&(Cn+=Tn-tr),xn>Tn&&(Cn-=tr-Tn)}return document.body.removeChild(Nt),Cn},ct=function(jt){var Fn=yt(jt.text).length;return jt.height/Fn/jt.fontSize},it=function(jt,Fn){return jt*Fn},_e=function(jt,Fn){return it(jt,Fn)+2*Ut.gK},lt=function(jt,Fn){mn||(mn=document.createElement("canvas"));var yn=mn.getContext("2d");yn.font=Fn;var Gn=yn.measureText(jt).width;return(0,gt.h2)()?10*Gn:Gn},st=function(jt,Fn){var yn=yt(jt),Gn=0;return yn.forEach(function(Nt){Gn=Math.max(Gn,lt(Nt,Fn))}),Gn},It=function(jt,Fn,yn){var Gn=yt(jt).length;return it(Fn,yn)*Gn},Dt=function(jt,Fn,yn){if(!Number.isFinite(yn)||yn<0)return jt;var Gn=[],Nt=jt.split(`
`),Xn=lt(" ",Fn),Cn="",xn=0,Tn=function(tr){tr.trim()&&Gn.push(tr)},Pn=function(){Cn="",xn=0};return Nt.forEach(function(tr){if(st(tr,Fn)<=yn)Gn.push(tr);else{var ir=function(zn){var jn=zn.split("-");return jn.length>1&&jn.forEach(function($n,cr){cr!==jn.length-1&&(jn[cr]=$n+="-")}),jn.join(" ").split(" ")}(tr);Pn();for(var gr=0;gr<ir.length;){var Wn=lt(ir[gr],Fn);if(Wn===yn)Tn(ir[gr]),gr++;else if(Wn>yn){for(Tn(Cn),Pn();ir[gr].length>0;){var ln=String.fromCodePoint(ir[gr].codePointAt(0)),Un=tn.calculate(ln,Fn);xn+=Un,ir[gr]=ir[gr].slice(ln.length),xn>=yn?(Tn(Cn),Cn=ln,xn=Un):Cn+=ln}xn+Xn>=yn?(Tn(Cn),Pn()):Cn.endsWith("-")||(Cn+=" ",xn+=Xn),gr++}else for(;xn<yn&&gr<ir.length;){var wn=ir[gr];if((xn=lt(Cn+wn,Fn))>yn){Tn(Cn),Pn();break}gr++;var Mn=!wn.endsWith("-");if(Cn+=wn,Mn&&(Cn+=" "),xn+Xn>=yn){Mn?Gn.push(Cn.slice(0,-1)):Gn.push(Cn),Pn();break}}}Cn.slice(-1)===" "&&(Cn=Cn.slice(0,-1),Tn(Cn))}}),Gn.join(`
`)},tn=(pn={},{calculate:function(jt,Fn){var yn=jt.charCodeAt(0);if(pn[Fn]||(pn[Fn]=[]),!pn[Fn][yn]){var Gn=lt(jt,Fn);pn[Fn][yn]=Gn}return pn[Fn][yn]},getCache:function(jt){return pn[jt]}}),Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),$t=function(jt,Fn){var yn=Wt(jt);return yn===0?At(Tt.split("").join(`
`),jt,Fn).width+2*Ut.gK:yn+2*Ut.gK},Wt=function(jt){var Fn=tn.getCache(jt);if(!Fn)return 0;var yn=Fn.filter(function(Gn){return Gn!==void 0});return Math.max.apply(Math,(0,ot.Z)(yn))},Ot=function(jt){var Fn,yn,Gn;return jt!=null&&(Fn=jt.boundElements)!==null&&Fn!==void 0&&Fn.length&&(jt==null||(yn=jt.boundElements)===null||yn===void 0||(Gn=yn.filter(function(Nt){return Nt.type==="text"})[0])===null||Gn===void 0?void 0:Gn.id)||null},In=function(jt){if(!jt)return null;var Fn,yn=Ot(jt);return yn&&((Fn=rt.Z.getScene(jt))===null||Fn===void 0?void 0:Fn.getElement(yn))||null},rn=function(jt){return jt&&jt.containerId&&((Fn=rt.Z.getScene(jt))===null||Fn===void 0?void 0:Fn.getElement(jt.containerId))||null;var Fn},_t=function(jt){return(0,Xt.Yv)(jt)?{width:Math.max(jt.width,300),height:jt.height}:{width:jt.width,height:jt.height}},St=function(jt,Fn){if(!(0,Xt.Yv)(jt))return{x:jt.x+jt.width/2,y:jt.y+jt.height/2};var yn=nn._.getPointsGlobalCoordinates(jt);if(yn.length%2==1){var Gn=Math.floor(jt.points.length/2),Nt=nn._.getPointGlobalCoordinates(jt,jt.points[Gn]);return{x:Nt[0],y:Nt[1]}}var Xn=jt.points.length/2-1,Cn=nn._.getEditorMidPoints(jt,Fn)[Xn];return Cn||(Cn=nn._.getSegmentMidPoint(jt,yn[Xn],yn[Xn+1],Xn+1)),{x:Cn[0],y:Cn[1]}},Vt=function(jt){var Fn=Ut.gK,yn=Ut.gK;return jt.type==="ellipse"&&(Fn+=jt.width/2*(1-Math.sqrt(2)/2),yn+=jt.height/2*(1-Math.sqrt(2)/2)),jt.type==="diamond"&&(Fn+=jt.width/4,yn+=jt.height/4),{x:jt.x+Fn,y:jt.y+yn}},Pt=function(jt){var Fn=rn(jt);return!Fn||(0,Xt.Yv)(Fn)?jt.angle:Fn.angle},qt=function(jt){var Fn=rn(jt);return Fn&&jt?(0,Xt.Yv)(Fn)?8*Ut.gK:Ut.gK:0},dn=function(jt){return jt.some(function(Fn){if((0,Xt.Xh)(Fn)){var yn=rn(Fn);return!(0,vt.iB)(Fn)||!(0,Xt.Yv)(yn)}return!1})},Rt=function(jt){return jt.some(function(Fn){if((0,Xt.Xh)(Fn)){var yn=rn(Fn);return!(0,vt.iB)(Fn)||!(0,Xt.Yv)(yn)}return(0,vt.iB)(Fn)})},Zt=function(jt,Fn,yn,Gn){var Nt=(0,cn.eD)(jt,Fn);if(Nt.length===1)return(0,Xt.mG)(Nt[0],!1)?Nt[0]:null;for(var Xn=null,Cn=jt.length-1;Cn>=0;--Cn)if(!jt[Cn].isDeleted){var xn=(0,vt.qf)(jt[Cn]),Tn=(0,ht.Z)(xn,4),Pn=Tn[0],tr=Tn[1],ir=Tn[2],gr=Tn[3];if((0,Xt.Yv)(jt[Cn])&&(0,Qt.Qu)(jt[Cn],Fn,[yn,Gn])){Xn=jt[Cn];break}if(Pn<yn&&yn<ir&&tr<Gn&&Gn<gr){Xn=jt[Cn];break}}return(0,Xt.mG)(Xn,!1)?Xn:null},zt=new Set(["rectangle","ellipse","diamond","image","arrow"]),ft=function(jt){return zt.has(jt.type)},Gt=function(jt,Fn){jt=Math.ceil(jt);var yn=2*Ut.gK;return Fn==="ellipse"?Math.round((jt+yn)/Math.sqrt(2)*2):Fn==="arrow"?jt+8*yn:Fn==="diamond"?2*(jt+yn):jt+yn},wt=function(jt){var Fn=_t(jt).width;if((0,Xt.Yv)(jt)){var yn=Fn-8*Ut.gK*2;if(yn<=0){var Gn=In(jt);return Gn?Gn.width:8*Ut.gK*2}return yn}return jt.type==="ellipse"?Math.round(Fn/2*Math.sqrt(2))-2*Ut.gK:jt.type==="diamond"?Math.round(Fn/2)-2*Ut.gK:Fn-2*Ut.gK},Jt=function(jt){var Fn=_t(jt).height;if((0,Xt.Yv)(jt)){if(Fn-8*Ut.gK*2<=0){var yn=In(jt);return yn?yn.height:8*Ut.gK*2}return Fn}return jt.type==="ellipse"?Math.round(Fn/2*Math.sqrt(2))-2*Ut.gK:jt.type==="diamond"?Math.round(Fn/2)-2*Ut.gK:Fn-2*Ut.gK},Mt=function(){return st(Tt,(0,gt.mO)({fontSize:Ut.n5,fontFamily:Ut.rk}))>0},un=(pt={},(0,at.Z)(pt,Ut.ut.Virgil,1.25),(0,at.Z)(pt,Ut.ut.Helvetica,1.15),(0,at.Z)(pt,Ut.ut.Cascadia,1.2),pt),bn=function(jt){return jt in un?un[jt]:un[Ut.rk]}},6906:function(Lt,kt,_){_.d(kt,{b_:function(){return Et},eR:function(){return bt},h_:function(){return Ht},kT:function(){return Bt}});var pt=_(8950),ht=_(7169),ot=_(2577),at=_(2975),gt=_.n(at),xt=_(6066),Ut=_(6340),rt=_(1564),vt=_(1974),Xt=_(2335),nn=_(1935),cn=_(5710),Qt=_(6208),hn=_(2416),fn=_(6938),Nn=_(6665);function mn(At,Ct){var ct=Object.keys(At);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(At);Ct&&(it=it.filter(function(_e){return Object.getOwnPropertyDescriptor(At,_e).enumerable})),ct.push.apply(ct,it)}return ct}function pn(At){for(var Ct=1;Ct<arguments.length;Ct++){var ct=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?mn(Object(ct),!0).forEach(function(it){(0,ht.Z)(At,it,ct[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(ct)):mn(Object(ct)).forEach(function(it){Object.defineProperty(At,it,Object.getOwnPropertyDescriptor(ct,it))})}return At}var vn=function(At,Ct,ct,it,_e,lt){var st=it.zoom,It=180*ct/Math.PI,Dt=At*(st.value-1)/2,tn=Ct*(st.value-1)/2;return At>_e&&st.value!==1&&(Dt=_e*(st.value-1)/2),Ct>lt&&st.value!==1&&(tn=lt*(st.value-1)/2),"translate(".concat(Dt,"px, ").concat(tn,"px) scale(").concat(st.value,") rotate(").concat(It,"deg)")},yt={},Ht=function(At,Ct){var ct=yt[At]||(yt[At]={height:Ct});return ct.height=Ct,ct},Bt=function(At){yt[At]&&delete yt[At]},bt=function(At){var Ct,ct;return(Ct=(ct=yt[At])===null||ct===void 0?void 0:ct.height)!==null&&Ct!==void 0?Ct:null},Et=function(At){var Ct=At.id,ct=At.onChange,it=At.onSubmit,_e=At.getViewportCoords,lt=At.element,st=At.canvas,It=At.excalidrawContainer,Dt=At.app,tn=function(){var wt,Jt=Dt.state,Mt=(wt=rt.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(Ct);if(Mt){var un=Mt.textAlign,bn=Mt.verticalAlign;if(Mt&&(0,vt.iB)(Mt)){var jt=Mt.x,Fn=Mt.y,yn=(0,cn.tl)(Mt),Gn=Mt.width,Nt=Mt.height,Xn=Mt.width,Cn=Mt.height;if(yn&&Mt.containerId){if((0,vt.Yv)(yn)){var xn=fn._.getBoundTextElementPosition(yn,Mt);jt=xn.x,Fn=xn.y}var Tn,Pn=function(Zr,yr){if(!yr.style.fontFamily||!yr.style.fontSize)return!1;var Ar=yr.style.fontFamily.replace(/"/g,"");return(0,Ut.$g)({fontFamily:Zr.fontFamily})!==Ar||"".concat(Zr.fontSize,"px")!==yr.style.fontSize}(Mt,Tt),tr=(0,cn.HE)(yn),ir=Number(Tt.style.height.slice(0,-2));if(ir>0&&(Cn=ir),Pn&&(Cn=Mt.height),Pn?Tn=Ht(yn.id,tr.height):(Tn=yt[yn.id])||(Tn=Ht(yn.id,tr.height)),Gn=(0,cn.jd)(yn),Nt=(0,cn.N2)(yn),!(0,vt.Yv)(yn)&&Cn>Nt){var gr=(0,cn.NS)(Cn,yn.type);return void(0,nn.DR)(yn,{height:gr})}if(!(0,vt.Yv)(yn)&&tr.height>Tn.height&&Cn<Nt){var Wn=(0,cn.NS)(Cn,yn.type);(0,nn.DR)(yn,{height:Wn})}else{var ln=(0,cn.cw)(yn);bn===Xt.oX.MIDDLE&&((0,vt.Yv)(yn)||(Fn=ln.y+Nt/2-Cn/2)),bn===Xt.oX.BOTTOM&&(Fn=ln.y+(Nt-Cn))}}var Un=_e(jt,Fn),wn=(0,ot.Z)(Un,2),Mn=wn[0],zn=wn[1],jn=Tt.selectionStart,$n=Tt.selectionEnd,cr=Tt.value.length;if(Tt.value=Mt.originalText,jn===$n&&$n!==cr){var or=cr-$n;Tt.selectionStart=Tt.value.length-or,Tt.selectionEnd=Tt.value.length-or}yn?Xn+=.5:(Gn=(Jt.width-8-Mn)/Jt.zoom.value,Xn=Math.min(Xn,Gn));var ur=Mt.lineHeight;Xt.G6&&(ur=(0,cn.$2)(pn(pn({},Mt),{},{fontSize:Math.round(Mt.fontSize)})));var Ur=(Jt.height-zn)/Jt.zoom.value;Object.assign(Tt.style,{font:(0,Ut.mO)(Mt),lineHeight:ur,width:"".concat(Xn,"px"),height:"".concat(Cn,"px"),left:"".concat(Mn,"px"),top:"".concat(zn,"px"),transform:vn(Xn,Cn,(0,cn.H_)(Mt),Jt,Gn,Ur),textAlign:un,verticalAlign:bn,color:Mt.strokeColor,opacity:Mt.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(Ur,"px")}),Tt.scrollTop=0,(0,Ut.h2)()&&(Tt.style.fontFamily=(0,Ut.$g)(Mt)),(0,nn.DR)(Mt,{x:jt,y:Fn})}}},Tt=document.createElement("textarea");Tt.dir="auto",Tt.tabIndex=0,Tt.dataset.type="wysiwyg",Tt.wrap="off",Tt.classList.add("excalidraw-wysiwyg");var $t="pre",Wt="normal";(0,vt.Xh)(lt)&&($t="pre-wrap",Wt="break-word"),Object.assign(Tt.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:Wt,whiteSpace:$t,overflowWrap:"break-word",boxSizing:"content-box"}),tn(),ct&&(Tt.onpaste=function(){var wt=(0,pt.Z)(gt().mark(function Jt(Mt){var un,bn,jt,Fn,yn,Gn;return gt().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,(0,Nn.mQ)(Mt,!0);case 2:if((un=Nt.sent).text){Nt.next=5;break}return Nt.abrupt("return");case 5:if(bn=(0,cn.bG)(un.text)){Nt.next=8;break}return Nt.abrupt("return");case 8:jt=(0,cn.tl)(lt),Fn=(0,Ut.mO)({fontSize:Dt.state.currentItemFontSize,fontFamily:Dt.state.currentItemFontFamily}),jt&&(yn=(0,cn.lD)("".concat(Tt.value).concat(bn),Fn,(0,cn.jd)(jt)),Gn=(0,cn.mY)(yn,Fn),Tt.style.width="".concat(Gn,"px"));case 11:case"end":return Nt.stop()}},Jt)}));return function(Jt){return wt.apply(this,arguments)}}(),Tt.oninput=function(){var wt,Jt=(wt=rt.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(Ct),Mt=(0,Ut.mO)(Jt);if((0,vt.Xh)(lt)){var un=(0,cn.tl)(lt),bn=(0,cn.lD)((0,cn.bG)(Tt.value),Mt,(0,cn.jd)(un)),jt=(0,cn.X1)(bn,Mt,Jt.lineHeight),Fn=jt.width,yn=jt.height;Tt.style.width="".concat(Fn,"px"),Tt.style.height="".concat(yn,"px")}ct((0,cn.bG)(Tt.value))}),Tt.onkeydown=function(wt){if(!wt.shiftKey&&hn.Lo.keyTest(wt))wt.preventDefault(),Dt.actionManager.executeAction(hn.Lo),tn();else if(!wt.shiftKey&&hn.CZ.keyTest(wt))wt.preventDefault(),Dt.actionManager.executeAction(hn.CZ),tn();else if(Qt.Tu.keyTest(wt))Dt.actionManager.executeAction(Qt.Tu);else if(Qt.Zq.keyTest(wt))Dt.actionManager.executeAction(Qt.Zq);else if(wt.key===xt.tW.ESCAPE)wt.preventDefault(),Pt=!0,qt();else if(wt.key===xt.tW.ENTER&&wt[xt.tW.CTRL_OR_CMD]){if(wt.preventDefault(),wt.isComposing||wt.keyCode===229)return;Pt=!0,qt()}else if(wt.key===xt.tW.TAB||wt[xt.tW.CTRL_OR_CMD]&&(wt.code===xt.aU.BRACKET_LEFT||wt.code===xt.aU.BRACKET_RIGHT)){if(wt.preventDefault(),wt.isComposing)return;wt.shiftKey||wt.code===xt.aU.BRACKET_LEFT?_t():rn(),Tt.dispatchEvent(new Event("input"))}};var Ot=" ".repeat(4),In=new RegExp("^ {1,".concat(4,"}")),rn=function(){var wt=Tt.selectionStart,Jt=Tt.selectionEnd,Mt=St(),un=Tt.value;Mt.forEach(function(bn){var jt=un.slice(0,bn),Fn=un.slice(bn);un="".concat(jt).concat(Ot).concat(Fn)}),Tt.value=un,Tt.selectionStart=wt+4,Tt.selectionEnd=Jt+4*Mt.length},_t=function(){var wt=Tt.selectionStart,Jt=Tt.selectionEnd,Mt=St(),un=[],bn=Tt.value;Mt.forEach(function(jt){var Fn=bn.slice(jt,jt+4).match(In);if(Fn){var yn=bn.slice(0,jt),Gn=bn.slice(jt+Fn[0].length);bn="".concat(yn).concat(Gn),un.push(jt)}}),Tt.value=bn,un.length&&(wt>un[un.length-1]?Tt.selectionStart=Math.max(wt-4,un[un.length-1]):Tt.selectionStart=wt,Tt.selectionEnd=Math.max(Tt.selectionStart,Jt-4*un.length))},St=function(){var wt=Tt.selectionStart,Jt=Tt.selectionEnd,Mt=Tt.value,un=Mt.slice(0,wt).match(/[^\n]*$/)[0].length;return wt-=un,Mt.slice(wt,Jt).split(`
`).reduce(function(bn,jt,Fn,yn){return bn.concat(Fn?bn[Fn-1]+yn[Fn-1].length+1:wt)},[]).reverse()},Vt=function(wt){wt.preventDefault(),wt.stopPropagation()},Pt=!1,qt=function(){var wt;dn();var Jt=(wt=rt.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(lt.id);if(Jt){var Mt=Tt.value,un=(0,cn.tl)(Jt);if(un){if(Mt=Jt.text,Tt.value.trim()){var bn=(0,cn.xB)(un);bn&&bn===lt.id||(0,nn.DR)(un,{boundElements:(un.boundElements||[]).concat({type:"text",id:lt.id})})}else{var jt;(0,nn.DR)(un,{boundElements:(jt=un.boundElements)===null||jt===void 0?void 0:jt.filter(function(Fn){return!(0,vt.iB)(Fn)})})}(0,cn.oN)(Jt,un)}it({text:Mt,viaKeyboard:Pt,originalText:Tt.value})}},dn=function(){ft||(ft=!0,Tt.onblur=null,Tt.oninput=null,Tt.onkeydown=null,Gt&&Gt.disconnect(),window.removeEventListener("resize",tn),window.removeEventListener("wheel",Vt,!0),window.removeEventListener("pointerdown",Zt),window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",qt),zt(),Tt.remove())},Rt=function wt(Jt){window.removeEventListener("pointerup",wt);var Mt=Jt==null?void 0:Jt.target,un=Mt instanceof HTMLInputElement&&Mt.closest(".color-picker-input")&&(0,Ut.s)(Mt);setTimeout(function(){Tt.onblur=qt,Mt&&un&&(Mt.onblur=function(){Tt.focus()}),un||Tt.focus()})},Zt=function(wt){var Jt=wt.target instanceof HTMLInputElement&&wt.target.closest(".color-picker-input")&&(0,Ut.s)(wt.target);((wt.target instanceof HTMLElement||wt.target instanceof SVGElement)&&wt.target.closest(".".concat(Xt.$C.SHAPE_ACTIONS_MENU))&&!(0,Ut.s)(wt.target)||Jt)&&(Tt.onblur=null,window.addEventListener("pointerup",Rt),window.addEventListener("blur",qt))},zt=rt.Z.getScene(lt).addCallback(function(){var wt;tn(),!((wt=document.activeElement)===null||wt===void 0||!wt.closest(".color-picker-input"))||Tt.focus()}),ft=!1;Tt.select(),Rt();var Gt=null;st&&"ResizeObserver"in window?(Gt=new window.ResizeObserver(function(){tn()})).observe(st):window.addEventListener("resize",tn),window.addEventListener("pointerdown",Zt),window.addEventListener("wheel",Vt,{passive:!1,capture:!0}),It==null||It.querySelector(".excalidraw-textEditorContainer").appendChild(Tt)}},267:function(Lt,kt,_){_.d(kt,{PC:function(){return hn},kK:function(){return Qt},oY:function(){return fn},ox:function(){return rt}});var pt=_(2577),ht=_(8925),ot=_(6552),at=_(1047),gt=_(1974),xt=_(3547),Ut={mouse:8,pen:16,touch:28},rt={e:!0,s:!0,n:!0,w:!0},vt={e:!0,s:!0,n:!0,w:!0},Xt={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},nn={e:!0,s:!0,n:!0,w:!0},cn=function(Nn,mn,pn,vn,yt,Ht,Bt){var bt=(0,ot.U1)(Nn+pn/2,mn+vn/2,yt,Ht,Bt),Et=(0,pt.Z)(bt,2);return[Et[0]-pn/2,Et[1]-vn/2,pn,vn]},Qt=function(Nn,mn,pn,vn){var yt=(0,pt.Z)(Nn,6),Ht=yt[0],Bt=yt[1],bt=yt[2],Et=yt[3],At=yt[4],Ct=yt[5],ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},it=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,_e=Ut[vn],lt=_e/pn.value,st=_e/pn.value,It=_e/pn.value,Dt=_e/pn.value,tn=bt-Ht,Tt=Et-Bt,$t=it/pn.value,Wt=(_e-2*xt.Lu)/(2*pn.value),Ot={nw:ct.nw?void 0:cn(Ht-$t-It+Wt,Bt-$t-Dt+Wt,lt,st,At,Ct,mn),ne:ct.ne?void 0:cn(bt+$t-Wt,Bt-$t-Dt+Wt,lt,st,At,Ct,mn),sw:ct.sw?void 0:cn(Ht-$t-It+Wt,Et+$t-Wt,lt,st,At,Ct,mn),se:ct.se?void 0:cn(bt+$t-Wt,Et+$t-Wt,lt,st,At,Ct,mn),rotation:ct.rotation?void 0:cn(Ht+tn/2-lt/2,Bt-$t-Dt+Wt-16/pn.value,lt,st,At,Ct,mn)},In=5*Ut.mouse/pn.value;return Math.abs(tn)>In&&(ct.n||(Ot.n=cn(Ht+tn/2-lt/2,Bt-$t-Dt+Wt,lt,st,At,Ct,mn)),ct.s||(Ot.s=cn(Ht+tn/2-lt/2,Et+$t-Wt,lt,st,At,Ct,mn))),Math.abs(Tt)>In&&(ct.w||(Ot.w=cn(Ht-$t-It+Wt,Bt+Tt/2-st/2,lt,st,At,Ct,mn)),ct.e||(Ot.e=cn(bt+$t-Wt,Bt+Tt/2-st/2,lt,st,At,Ct,mn))),Ot},hn=function(Nn,mn){var pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Nn.locked)return{};var vn={};if(Nn.type==="freedraw"||(0,gt.bt)(Nn)){if(Nn.points.length===2){var yt=(0,pt.Z)(Nn.points,2),Ht=yt[1];Ht[0]===0||Ht[1]===0?vn=nn:Ht[0]>0&&Ht[1]<0?vn=Xt:Ht[0]>0&&Ht[1]>0?vn=nn:Ht[0]<0&&Ht[1]>0?vn=Xt:Ht[0]<0&&Ht[1]<0&&(vn=nn)}}else(0,at.iB)(Nn)&&(vn=vt);var Bt=(0,gt.bt)(Nn)?xt.Lu+8:xt.Lu;return Qt((0,ht.qf)(Nn,!0),Nn.angle,mn,pn,vn,Bt)},fn=function(Nn,mn){if(mn.editingLinearElement)return!1;if(Nn.length>1)return!0;var pn=Nn[0];return!(0,gt.bt)(pn)||pn.points.length>2}},1974:function(Lt,kt,_){_.d(kt,{F9:function(){return gt},Lx:function(){return nn},Mn:function(){return Xt},QI:function(){return mn},UQ:function(){return vn},Xh:function(){return Nn},Xo:function(){return fn},Yv:function(){return rt},bt:function(){return Ut},dt:function(){return vt},eK:function(){return pn},f0:function(){return cn},iB:function(){return at},mG:function(){return Qt},pC:function(){return ot},r2:function(){return hn},wi:function(){return ht}});var pt=_(2335),ht=function(yt){return!!yt&&yt.type==="image"&&!!yt.fileId},ot=function(yt){return!!yt&&yt.type==="image"},at=function(yt){return yt!=null&&yt.type==="text"},gt=function(yt){return yt!=null&&xt(yt.type)},xt=function(yt){return yt==="freedraw"},Ut=function(yt){return yt!=null&&vt(yt.type)},rt=function(yt){return yt!=null&&yt.type==="arrow"},vt=function(yt){return yt==="arrow"||yt==="line"},Xt=function(yt){var Ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return yt!=null&&(!yt.locked||Ht===!0)&&nn(yt.type)},nn=function(yt){return yt==="arrow"},cn=function(yt){var Ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(yt==null||yt.locked&&Ht!==!0||yt.type!=="rectangle"&&yt.type!=="diamond"&&yt.type!=="ellipse"&&yt.type!=="image"&&(yt.type!=="text"||yt.containerId))},Qt=function(yt){var Ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return yt!=null&&(!yt.locked||Ht===!0)&&(yt.type==="rectangle"||yt.type==="diamond"||yt.type==="ellipse"||yt.type==="image"||rt(yt))},hn=function(yt){return(yt==null?void 0:yt.type)==="text"||(yt==null?void 0:yt.type)==="diamond"||(yt==null?void 0:yt.type)==="rectangle"||(yt==null?void 0:yt.type)==="ellipse"||(yt==null?void 0:yt.type)==="arrow"||(yt==null?void 0:yt.type)==="freedraw"||(yt==null?void 0:yt.type)==="line"},fn=function(yt){var Ht;return Qt(yt)&&!((Ht=yt.boundElements)===null||Ht===void 0||!Ht.some(function(Bt){return Bt.type==="text"}))},Nn=function(yt){return yt!==null&&"containerId"in yt&&yt.containerId!==null&&at(yt)},mn=function(yt){return yt==="rectangle"},pn=function(yt,Ht){return!(yt!==pt.a6.ADAPTIVE_RADIUS&&yt!==pt.a6.LEGACY||!mn(Ht.type))||yt===pt.a6.PROPORTIONAL_RADIUS&&((Bt=Ht.type)==="line"||Bt==="arrow"||Bt==="diamond");var Bt},vn=function(yt){return yt.type==="arrow"||yt.type==="line"||yt.type==="diamond"?{type:pt.a6.PROPORTIONAL_RADIUS}:yt.type==="rectangle"?{type:pt.a6.ADAPTIVE_RADIUS}:null}},6797:function(Lt,kt,_){_.d(kt,{_:function(){return cn},l:function(){return nn}});var pt=_(5169),ht=_(8821),ot=_(2248),at=_(7245),gt=_(2312),xt=_(5901);function Ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(Qt,hn,fn){return rt=Ut()?Reflect.construct.bind():function(Nn,mn,pn){var vn=[null];vn.push.apply(vn,mn);var yt=new(Function.bind.apply(Nn,vn));return pn&&(0,xt.Z)(yt,pn.prototype),yt},rt.apply(null,arguments)}function vt(Qt){var hn=typeof Map=="function"?new Map:void 0;return vt=function(fn){if(fn===null||(Nn=fn,Function.toString.call(Nn).indexOf("[native code]")===-1))return fn;var Nn;if(typeof fn!="function")throw new TypeError("Super expression must either be null or a function");if(hn!==void 0){if(hn.has(fn))return hn.get(fn);hn.set(fn,mn)}function mn(){return rt(fn,arguments,(0,gt.Z)(this).constructor)}return mn.prototype=Object.create(fn.prototype,{constructor:{value:mn,enumerable:!1,writable:!0,configurable:!0}}),(0,xt.Z)(mn,fn)},vt(Qt)}function Xt(Qt){var hn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fn,Nn=(0,gt.Z)(Qt);if(hn){var mn=(0,gt.Z)(this).constructor;fn=Reflect.construct(Nn,arguments,mn)}else fn=Nn.apply(this,arguments);return(0,at.Z)(this,fn)}}var nn=function(Qt){(0,ot.Z)(fn,Qt);var hn=Xt(fn);function fn(){var Nn,mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,ht.Z)(this,fn),(Nn=hn.call(this)).name=pn,Nn.message=mn,Nn}return(0,pt.Z)(fn)}(vt(Error)),cn=function(Qt){(0,ot.Z)(fn,Qt);var hn=Xt(fn);function fn(){var Nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,ht.Z)(this,fn),hn.call(this,Nn,"AbortError")}return(0,pt.Z)(fn)}(vt(DOMException))},242:function(Lt,kt,_){_.d(kt,{AI:function(){return Bt},F$:function(){return Xt},Fb:function(){return mn},Nd:function(){return Nn},Qy:function(){return vn},S_:function(){return yt},YS:function(){return pn},bO:function(){return hn},h6:function(){return Ht},iE:function(){return fn},iJ:function(){return Qt},yO:function(){return cn},zq:function(){return nn}});var pt=_(1930),ht=_(2577),ot=_(7169),at=_(75),gt=_(5710);function xt(bt,Et){var At=typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(!At){if(Array.isArray(bt)||(At=function(st,It){if(st){if(typeof st=="string")return Ut(st,It);var Dt=Object.prototype.toString.call(st).slice(8,-1);if(Dt==="Object"&&st.constructor&&(Dt=st.constructor.name),Dt==="Map"||Dt==="Set")return Array.from(st);if(Dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dt))return Ut(st,It)}}(bt))||Et&&bt&&typeof bt.length=="number"){At&&(bt=At);var Ct=0,ct=function(){};return{s:ct,n:function(){return Ct>=bt.length?{done:!0}:{done:!1,value:bt[Ct++]}},e:function(st){throw st},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it,_e=!0,lt=!1;return{s:function(){At=At.call(bt)},n:function(){var st=At.next();return _e=st.done,st},e:function(st){lt=!0,it=st},f:function(){try{_e||At.return==null||At.return()}finally{if(lt)throw it}}}}function Ut(bt,Et){(Et==null||Et>bt.length)&&(Et=bt.length);for(var At=0,Ct=new Array(Et);At<Et;At++)Ct[At]=bt[At];return Ct}function rt(bt,Et){var At=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Et&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),At.push.apply(At,Ct)}return At}function vt(bt){for(var Et=1;Et<arguments.length;Et++){var At=arguments[Et]!=null?arguments[Et]:{};Et%2?rt(Object(At),!0).forEach(function(Ct){(0,ot.Z)(bt,Ct,At[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(At)):rt(Object(At)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(At,Ct))})}return bt}var Xt=function(bt,Et,At){var Ct=At.filter(function(ct){return ct.groupIds.includes(bt)});return Ct.length<2?Et.selectedGroupIds[bt]||Et.editingGroupId===bt?vt(vt({},Et),{},{selectedGroupIds:vt(vt({},Et.selectedGroupIds),{},(0,ot.Z)({},bt,!1)),editingGroupId:null}):Et:vt(vt({},Et),{},{selectedGroupIds:vt(vt({},Et.selectedGroupIds),{},(0,ot.Z)({},bt,!0)),selectedElementIds:vt(vt({},Et.selectedElementIds),Object.fromEntries(Ct.map(function(ct){return[ct.id,!0]})))})},nn=function(bt,Et){return cn(bt,Et)!=null},cn=function(bt,Et){return Et.groupIds.filter(function(At){return At!==bt.editingGroupId}).find(function(At){return bt.selectedGroupIds[At]})},Qt=function(bt){return Object.entries(bt.selectedGroupIds).filter(function(Et){var At=(0,ht.Z)(Et,2);return At[0],At[1]}).map(function(Et){var At=(0,ht.Z)(Et,2),Ct=At[0];return At[1],Ct})},hn=function(bt,Et){var At=vt(vt({},bt),{},{selectedGroupIds:{}}),Ct=(0,at.eD)(Et,bt);if(!Ct.length)return vt(vt({},At),{},{editingGroupId:null});var ct,it=xt(Ct);try{for(it.s();!(ct=it.n()).done;){var _e=ct.value.groupIds;if(bt.editingGroupId){var lt=_e.indexOf(bt.editingGroupId);lt>-1&&(_e=_e.slice(0,lt))}if(_e.length>0){var st=_e[_e.length-1];At=Xt(st,At,Et)}}}catch(It){it.e(It)}finally{it.f()}return At},fn=function(bt,Et){return vt(vt({},bt),{},{editingGroupId:Et.groupIds.length?Et.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,ot.Z)({},Et.id,!0)})},Nn=function(bt,Et){return bt.groupIds.includes(Et)},mn=function(bt,Et){return bt.filter(function(At){return Nn(At,Et)})},pn=function(bt,Et){return bt.groupIds.find(function(At){return Et[At]})},vn=function(bt,Et,At){for(var Ct=(0,pt.Z)(bt),ct=Et?bt.indexOf(Et):-1,it=ct>-1?ct:bt.length,_e=0;_e<it;_e++)Ct[_e]=At(Ct[_e]);return Ct},yt=function(bt,Et,At){var Ct=(0,pt.Z)(bt),ct=At?Ct.indexOf(At):-1,it=ct>-1?ct:Ct.length;return Ct.splice(it,0,Et),Ct},Ht=function(bt,Et){return bt.filter(function(At){return!Et[At]})},Bt=function(bt){var Et=new Map;return bt.forEach(function(At){var Ct=At.groupIds.length===0?At.id:At.groupIds[At.groupIds.length-1],ct=Et.get(Ct)||[],it=(0,gt.WJ)(At);it&&ct.push(it),Et.set(Ct,[].concat((0,pt.Z)(ct),[At]))}),Array.from(Et.values())}},8211:function(Lt,kt,_){_.d(kt,{Fp:function(){return vt},G3:function(){return fn},Mj:function(){return Xt},QT:function(){return vn},m0:function(){return hn},t:function(){return mn}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(1463),gt=_(4451),xt=_(2335),Ut=_(9487),rt=_(4739),vt={code:"en",label:"English"},Xt=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].concat([vt]).sort(function(yt,Ht){return yt.label>Ht.label?1:-1}).filter(function(yt){return gt[yt.code]>=85}),nn="__test__";xt.Vi.DEVELOPMENT==="production"&&Xt.unshift({code:nn,label:"test language"},{code:"".concat(nn,".rtl"),label:"‪test language (rtl)‬",rtl:!0});var cn=vt,Qt={},hn=function(){var yt=(0,pt.Z)(ot().mark(function Ht(Bt){return ot().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(cn=Bt,document.documentElement.dir=cn.rtl?"rtl":"ltr",document.documentElement.lang=cn.code,!Bt.code.startsWith(nn)){bt.next=7;break}Qt={},bt.next=17;break;case 7:return bt.prev=7,bt.next=10,_(940)("./".concat(cn.code,".json"));case 10:Qt=bt.sent,bt.next=17;break;case 13:bt.prev=13,bt.t0=bt.catch(7),console.error("Failed to load language ".concat(Bt.code,":"),bt.t0.message),Qt=at;case 17:Ut.e_.set(pn,Bt.code);case 18:case"end":return bt.stop()}},Ht,null,[[7,13]])}));return function(Ht){return yt.apply(this,arguments)}}(),fn=function(){return cn},Nn=function(yt,Ht){for(var Bt=0;Bt<Ht.length;++Bt){var bt=Ht[Bt];if(yt[bt]===void 0)return;yt=yt[bt]}if(typeof yt=="string")return yt},mn=function(yt,Ht){if(cn.code.startsWith(nn)){var Bt=Ht?"".concat(yt,"(").concat(JSON.stringify(Ht).slice(1,-1),")"):yt;return"‪[[".concat(Bt,"]]‬")}var bt=yt.split("."),Et=Nn(Qt,bt)||Nn(at,bt);if(Et===void 0)throw new Error("Can't find translation for ".concat(yt));if(Ht)for(var At in Ht)Et=Et.replace("{{".concat(At,"}}"),String(Ht[At]));return Et},pn=(0,rt.cn)(vt.code),vn=function(){var yt=(0,rt.Dv)(pn,Ut.yE);return{t:mn,langCode:yt}}},9487:function(Lt,kt,_){_.d(kt,{e_:function(){return ot},yE:function(){return ht}});var pt=_(4739),ht=(_(9787),Symbol()),ot=(0,pt.Vv)()},6066:function(Lt,kt,_){_.d(kt,{E0:function(){return xt},Ge:function(){return Ut},OA:function(){return gt},Wl:function(){return at},aU:function(){return ht},tW:function(){return ot}});var pt=_(2335),ht={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},ot={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:pt.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},at=function(rt){return rt===ot.ARROW_LEFT||rt===ot.ARROW_RIGHT||rt===ot.ARROW_DOWN||rt===ot.ARROW_UP},gt=function(rt){return rt.altKey},xt=function(rt){return rt.shiftKey},Ut=function(rt){return rt.shiftKey}},6552:function(Lt,kt,_){_.d(kt,{EK:function(){return Bt},H5:function(){return rt},Jj:function(){return Ht},LW:function(){return Ut},N_:function(){return mn},U1:function(){return at},c9:function(){return Xt},eH:function(){return vn},g6:function(){return vt},lk:function(){return yt},wC:function(){return hn},xj:function(){return gt},yB:function(){return Nn},yW:function(){return fn},yq:function(){return xt}});var pt=_(2335),ht=_(3063),ot=_(8925),at=function(bt,Et,At,Ct,ct){return[(bt-At)*Math.cos(ct)-(Et-Ct)*Math.sin(ct)+At,(bt-At)*Math.sin(ct)+(Et-Ct)*Math.cos(ct)+Ct]},gt=function(bt,Et,At){return at(bt[0],bt[1],Et[0],Et[1],At)},xt=function(bt,Et,At,Ct,ct,it,_e,lt){var st=Math.cos(Ct),It=Math.sin(Ct);return bt.e&&bt.w?Et+=ct+_e:bt.e?(Et+=ct*(1+st),At+=ct*It,Et+=_e*(1-st),At+=_e*-It):bt.w&&(Et+=ct*(1-st),At+=ct*-It,Et+=_e*(1+st),At+=_e*It),bt.n&&bt.s?At+=it+lt:bt.n?(Et+=it*It,At+=it*(1-st),Et+=lt*-It,At+=lt*(1+st)):bt.s&&(Et+=it*-It,At+=it*(1+st),Et+=lt*It,At+=lt*(1-st)),[Et,At]},Ut=function(bt,Et,At,Ct){var ct=At-bt,it=Ct-Et;return Math.hypot(ct,it)},rt=function(bt,Et){return[(bt[0]+Et[0])/2,(bt[1]+Et[1])/2]},vt=function(bt){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(bt.length>=3){var At=[bt[0],bt[bt.length-1]],Ct=At[0],ct=At[1],it=Ut(Ct[0],Ct[1],ct[0],ct[1]);return it<=pt.qx/Et}return!1},Xt=function(bt,Et,At){var Ct=bt.length;if(Ct<3)return!1;for(var ct=[Number.MAX_SAFE_INTEGER,At],it=[Et,At],_e=0,lt=0;lt<Ct;lt++){var st=bt[lt],It=bt[(lt+1)%Ct];if(Qt(st,It,it,ct)){if(cn(st,it,It)===0)return nn(st,it,It);_e++}}return _e%2==1},nn=function(bt,Et,At){return Et[0]<=Math.max(bt[0],At[0])&&Et[0]>=Math.min(bt[0],At[0])&&Et[1]<=Math.max(bt[1],At[1])&&Et[1]>=Math.min(bt[1],At[1])},cn=function(bt,Et,At){var Ct=(Et[1]-bt[1])*(At[0]-Et[0])-(Et[0]-bt[0])*(At[1]-Et[1]);return Ct===0?0:Ct>0?1:2},Qt=function(bt,Et,At,Ct){var ct=cn(bt,Et,At),it=cn(bt,Et,Ct),_e=cn(At,Ct,bt),lt=cn(At,Ct,Et);return ct!==it&&_e!==lt||!(ct!==0||!nn(bt,At,Et))||!(it!==0||!nn(bt,Ct,Et))||!(_e!==0||!nn(At,bt,Ct))||!(lt!==0||!nn(At,Et,Ct))},hn=function(bt,Et,At){return At?[Math.round(bt/At)*At,Math.round(Et/At)*At]:[bt,Et]},fn=function(bt,Et){var At,Ct,ct;if(((At=Et.roundness)===null||At===void 0?void 0:At.type)===pt.a6.PROPORTIONAL_RADIUS||((Ct=Et.roundness)===null||Ct===void 0?void 0:Ct.type)===pt.a6.LEGACY)return bt*pt.Rx;if(((ct=Et.roundness)===null||ct===void 0?void 0:ct.type)===pt.a6.ADAPTIVE_RADIUS){var it,_e,lt=(it=(_e=Et.roundness)===null||_e===void 0?void 0:_e.value)!==null&&it!==void 0?it:pt._9;return bt<=lt/pt.Rx?bt*pt.Rx:lt}return 0},Nn=function(bt,Et){var At=(0,ht.R2)(bt);if(!At)return null;for(var Ct=(0,ot.CM)(At[0]),ct=[0,0],it=0,_e=1/0,lt=null;it<Ct.length;){var st=Ct[it],It=st.op,Dt=st.data;if(It==="move"&&(ct=Dt),It==="bcurveTo"){var tn=ct,Tt=[Dt[0],Dt[1]],$t=[Dt[2],Dt[3]],Wt=[Dt[4],Dt[5]],Ot=Ut(Wt[0],Wt[1],Et[0],Et[1]);Ot<_e&&(_e=Ot,lt=[tn,Tt,$t,Wt]),ct=Wt}it++}return lt},mn=function(bt,Et,At,Ct,ct){var it=function(_e,lt){return Math.pow(1-_e,3)*Ct[lt]+3*_e*Math.pow(1-_e,2)*At[lt]+3*Math.pow(_e,2)*(1-_e)*Et[lt]+bt[lt]*Math.pow(_e,3)};return[it(ct,0),it(ct,1)]},pn=function(bt,Et){var At=[];At[0]=0;for(var Ct=function(_e,lt){var st=Nn(_e,lt);if(!st)return[];for(var It=[],Dt=1;Dt>0;){var tn=mn(st[0],st[1],st[2],st[3],Dt);It.push([tn[0],tn[1]]),Dt-=.05}return It.length&&Ht(It.at(-1),lt)&&It.push([lt[0],lt[1]]),It}(bt,Et),ct=0,it=0;ct<Ct.length-1;)it+=Ut(Ct[ct][0],Ct[ct][1],Ct[ct+1][0],Ct[ct+1][1]),At.push(it),ct++;return At},vn=function(bt,Et){return pn(bt,Et).at(-1)},yt=function(bt,Et,At){for(var Ct=pn(bt,Et),ct=Ct.length-1,it=At*Ct.at(-1),_e=0,lt=ct,st=0;_e<lt;)Ct[st=Math.floor(_e+(lt-_e)/2)]<it?_e=st+1:lt=st;return Ct[st]>it&&st--,Ct[st]===it?st/ct:1-(st+(it-Ct[st])/(Ct[st+1]-Ct[st]))/ct},Ht=function(bt,Et){return bt[0]===Et[0]&&bt[1]===Et[1]},Bt=function(bt){return Math.round(bt/Math.PI*1e4)%5e3==0}},3024:function(Lt,kt,_){_.d(kt,{$D:function(){return Bt},Fl:function(){return Ht},I_:function(){return Xt.I_},N7:function(){return fn.N7},NI:function(){return Xt.NI},NL:function(){return yt},ZY:function(){return hn.ZY},cT:function(){return hn.cT},i1:function(){return bt},lV:function(){return hn.lV},zh:function(){return Nn.zh}});var pt=_(8950),ht=_(7169),ot=_(2975),at=_.n(ot),gt=_(4162),xt=_(8897),Ut=_(679),rt=_(2335),vt=_(673),Xt=_(5523),nn=_(6665),cn=_(1564),Qt=_(2791),hn=_(434),fn=_(3063),Nn=_(7053);function mn(Et,At){var Ct=Object.keys(Et);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(Et);At&&(ct=ct.filter(function(it){return Object.getOwnPropertyDescriptor(Et,it).enumerable})),Ct.push.apply(Ct,ct)}return Ct}function pn(Et){for(var At=1;At<arguments.length;At++){var Ct=arguments[At]!=null?arguments[At]:{};At%2?mn(Object(Ct),!0).forEach(function(ct){(0,ht.Z)(Et,ct,Ct[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Ct)):mn(Object(Ct)).forEach(function(ct){Object.defineProperty(Et,ct,Object.getOwnPropertyDescriptor(Ct,ct))})}return Et}var vn=function(Et){var At=new cn.Z;return At.replaceAllElements((0,Qt._N)(Et)),At.getNonDeletedElements()},yt=function(Et){var At=Et.elements,Ct=Et.appState,ct=Et.files,it=Et.maxWidthOrHeight,_e=Et.getDimensions,lt=Et.exportPadding,st=(0,Ut.nu)({elements:At,appState:Ct},null,null),It=st.elements,Dt=st.appState,tn=Dt.exportBackground,Tt=Dt.viewBackgroundColor;return(0,gt.NL)(vn(It),pn(pn({},Dt),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),ct||{},{exportBackground:tn,exportPadding:lt,viewBackgroundColor:Tt},function($t,Wt){var Ot,In=document.createElement("canvas");if(it){var rn;typeof _e=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var _t=Math.max($t,Wt),St=it<_t?it/_t:(rn=Ct==null?void 0:Ct.exportScale)!==null&&rn!==void 0?rn:1;return In.width=$t*St,In.height=Wt*St,{canvas:In,scale:St}}var Vt=(_e==null?void 0:_e($t,Wt))||{width:$t,height:Wt};return In.width=Vt.width,In.height=Vt.height,{canvas:In,scale:(Ot=Vt.scale)!==null&&Ot!==void 0?Ot:1}})},Ht=function(){var Et=(0,pt.Z)(at().mark(function At(Ct){var ct,it,_e,lt,st,It;return at().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return _e=(it=Ct).mimeType,lt=_e===void 0?rt.LO.png:_e,st=it.quality,lt===rt.LO.png&&typeof st=="number"&&console.warn('"quality" will be ignored for "'.concat(rt.LO.png,'" mimeType')),lt==="image/jpg"&&(lt=rt.LO.jpg),lt!==rt.LO.jpg||(ct=Ct.appState)!==null&&ct!==void 0&&ct.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(rt.LO.jpg,'" mimeType')),Ct=pn(pn({},Ct),{},{appState:pn(pn({},Ct.appState),{},{exportBackground:!0})})),Dt.next=6,yt(pn(pn({},Ct),{},{elements:vn(Ct.elements)}));case 6:return It=Dt.sent,st=st||(/image\/jpe?g/.test(lt)?.92:.8),Dt.abrupt("return",new Promise(function(tn,Tt){It.toBlob(function(){var $t=(0,pt.Z)(at().mark(function Wt(Ot){var In;return at().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(Ot){rn.next=2;break}return rn.abrupt("return",Tt(new Error("couldn't export to blob")));case 2:if(!Ot||lt!==rt.LO.png||(In=Ct.appState)===null||In===void 0||!In.exportEmbedScene){rn.next=6;break}return rn.next=5,(0,vt.encodePngMetadata)({blob:Ot,metadata:(0,Xt.I_)(Ct.elements,Ct.appState,Ct.files||{},"local")});case 5:Ot=rn.sent;case 6:tn(Ot);case 7:case"end":return rn.stop()}},Wt)}));return function(Wt){return $t.apply(this,arguments)}}(),lt,st)}));case 9:case"end":return Dt.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),Bt=function(){var Et=(0,pt.Z)(at().mark(function At(Ct){var ct,it,_e,lt,st,It,Dt,tn,Tt,$t;return at().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return ct=Ct.elements,it=Ct.appState,_e=it===void 0?(0,xt.im)():it,lt=Ct.files,st=lt===void 0?{}:lt,It=Ct.exportPadding,Dt=(0,Ut.nu)({elements:ct,appState:_e},null,null),tn=Dt.elements,Tt=Dt.appState,$t=pn(pn({},Tt),{},{exportPadding:It}),Wt.abrupt("return",(0,gt.$D)(vn(tn),$t,st,{serializeAsJSON:function(){return(0,Xt.I_)(tn,$t,st||{},"local")}}));case 4:case"end":return Wt.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}(),bt=function(){var Et=(0,pt.Z)(at().mark(function At(Ct){var ct,it;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(Ct.type!=="svg"){_e.next=8;break}return _e.next=3,Bt(Ct);case 3:return ct=_e.sent,_e.next=6,(0,nn.dd)(ct.outerHTML);case 6:case 11:case 17:_e.next=20;break;case 8:if(Ct.type!=="png"){_e.next=13;break}return _e.next=11,(0,nn.uR)(Ht(Ct));case 13:if(Ct.type!=="json"){_e.next=19;break}return it=pn(pn({offsetTop:0,offsetLeft:0,width:0,height:0},(0,xt.im)()),Ct.appState),_e.next=17,(0,nn.vQ)(Ct.elements,it,Ct.files);case 19:throw new Error("Invalid export type");case 20:case"end":return _e.stop()}},At)}));return function(At){return Et.apply(this,arguments)}}()},5001:function(Lt,kt,_){_.d(kt,{k:function(){return ht},z:function(){return ot}});var pt=_(1930),ht=function(at){var gt=at.map(function(Ut){return Ut[0]}),xt=at.map(function(Ut){return Ut[1]});return{width:Math.max.apply(Math,(0,pt.Z)(gt))-Math.min.apply(Math,(0,pt.Z)(gt)),height:Math.max.apply(Math,(0,pt.Z)(xt))-Math.min.apply(Math,(0,pt.Z)(xt))}},ot=function(at,gt,xt,Ut){var rt=xt.map(function(Nn){return Nn[at]}),vt=Math.max.apply(Math,(0,pt.Z)(rt)),Xt=Math.min.apply(Math,(0,pt.Z)(rt)),nn=vt-Xt,cn=nn===0?1:gt/nn,Qt=1/0,hn=xt.map(function(Nn){var mn=Nn[at]*cn,pn=(0,pt.Z)(Nn);return pn[at]=mn,mn<Qt&&(Qt=mn),pn});if(!Ut||hn.length===2)return hn;var fn=Xt-Qt;return hn.map(function(Nn){return Nn.map(function(mn,pn){return pn===at?mn+fn:mn})})}},6954:function(Lt,kt,_){_.d(kt,{LU:function(){return xt},kb:function(){return Ut}});var pt=_(8152),ht=_(5605),ot=_(6340),at=new pt.k(Date.now()),gt=0,xt=function(){return Math.floor(at.next()*Math.pow(2,31))},Ut=function(){return(0,ot.h2)()?"id".concat(gt++):(0,ht.x0)()}},3063:function(Lt,kt,_){_.d(kt,{Dn:function(){return rn},i:function(){return zt},N7:function(){return Fn},R2:function(){return dn},bI:function(){return Zt},lw:function(){return Jt},Rg:function(){return un}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(1974),gt=_(8925),xt=_(6340),Ut=_(6552),rt=_(8234),vt=_(8897),Xt=_(2335);function nn(Nt,Xn,Cn,xn=Tn=>Tn){return Nt*xn(.5-Xn*(.5-Cn))}function cn(Nt,Xn){return[Nt[0]+Xn[0],Nt[1]+Xn[1]]}function Qt(Nt,Xn){return[Nt[0]-Xn[0],Nt[1]-Xn[1]]}function hn(Nt,Xn){return[Nt[0]*Xn,Nt[1]*Xn]}function fn(Nt){return[Nt[1],-Nt[0]]}function Nn(Nt,Xn){return Nt[0]*Xn[0]+Nt[1]*Xn[1]}function mn(Nt,Xn){return Nt[0]===Xn[0]&&Nt[1]===Xn[1]}function pn(Nt,Xn){return function(Cn){return Cn[0]*Cn[0]+Cn[1]*Cn[1]}(Qt(Nt,Xn))}function vn(Nt){return function(Xn,Cn){return[Xn[0]/Cn,Xn[1]/Cn]}(Nt,function(Xn){return Math.hypot(Xn[0],Xn[1])}(Nt))}function yt(Nt,Xn){return Math.hypot(Nt[1]-Xn[1],Nt[0]-Xn[0])}function Ht(Nt,Xn,Cn){let xn=Math.sin(Cn),Tn=Math.cos(Cn),Pn=Nt[0]-Xn[0],tr=Nt[1]-Xn[1],ir=Pn*xn+tr*Tn;return[Pn*Tn-tr*xn+Xn[0],ir+Xn[1]]}function Bt(Nt,Xn,Cn){return cn(Nt,hn(Qt(Xn,Nt),Cn))}function bt(Nt,Xn,Cn){return cn(Nt,hn(Xn,Cn))}var{min:Et,PI:At}=Math,Ct=At+1e-4;function ct(Nt,Xn={}){return function(Cn,xn={}){let{size:Tn=16,smoothing:Pn=.5,thinning:tr=.5,simulatePressure:ir=!0,easing:gr=na=>na,start:Wn={},end:ln={},last:Un=!1}=xn,{cap:wn=!0,easing:Mn=na=>na*(2-na)}=Wn,{cap:zn=!0,easing:jn=na=>--na*na*na+1}=ln;if(Cn.length===0||Tn<=0)return[];let $n,cr=Cn[Cn.length-1].runningLength,or=Wn.taper===!1?0:Wn.taper===!0?Math.max(Tn,cr):Wn.taper,ur=ln.taper===!1?0:ln.taper===!0?Math.max(Tn,cr):ln.taper,Ur=Math.pow(Tn*Pn,2),Zr=[],yr=[],Ar=Cn.slice(0,10).reduce((na,lr)=>{let Ir=lr.pressure;if(ir){let Cr=Et(1,lr.distance/Tn),wr=Et(1,1-Cr);Ir=Et(1,na+.275*Cr*(wr-na))}return(na+Ir)/2},Cn[0].pressure),pr=nn(Tn,tr,Cn[Cn.length-1].pressure,gr),Nr=Cn[0].vector,Or=Cn[0].point,ba=Or,ho=Or,oo=ba,lo=!1;for(let na=0;na<Cn.length;na++){let{pressure:lr}=Cn[na],{point:Ir,vector:Cr,distance:wr,runningLength:Er}=Cn[na];if(na<Cn.length-1&&cr-Er<3)continue;if(tr){if(ir){let mo=Et(1,wr/Tn),Zo=Et(1,1-mo);lr=Et(1,Ar+.275*mo*(Zo-Ar))}pr=nn(Tn,tr,lr,gr)}else pr=Tn/2;$n===void 0&&($n=pr);let Rr=Er<or?Mn(Er/or):1,Kr=cr-Er<ur?jn((cr-Er)/ur):1;pr=Math.max(.01,pr*Math.min(Rr,Kr));let ga=(na<Cn.length-1?Cn[na+1]:Cn[na]).vector,to=na<Cn.length-1?Nn(Cr,ga):1,io=to!==null&&to<0;if(Nn(Cr,Nr)<0&&!lo||io){let mo=hn(fn(Nr),pr);for(let Zo=.07692307692307693,No=0;No<=1;No+=Zo)ho=Ht(Qt(Ir,mo),Ir,Ct*No),Zr.push(ho),oo=Ht(cn(Ir,mo),Ir,Ct*-No),yr.push(oo);Or=ho,ba=oo,io&&(lo=!0);continue}if(lo=!1,na===Cn.length-1){let mo=hn(fn(Cr),pr);Zr.push(Qt(Ir,mo)),yr.push(cn(Ir,mo));continue}let so=hn(fn(Bt(ga,Cr,to)),pr);ho=Qt(Ir,so),(na<=1||pn(Or,ho)>Ur)&&(Zr.push(ho),Or=ho),oo=cn(Ir,so),(na<=1||pn(ba,oo)>Ur)&&(yr.push(oo),ba=oo),Ar=lr,Nr=Cr}let $r=Cn[0].point.slice(0,2),qr=Cn.length>1?Cn[Cn.length-1].point.slice(0,2):cn(Cn[0].point,[1,1]),Co=[],po=[];if(Cn.length===1){if(!or&&!ur||Un){let na=bt($r,vn(fn(Qt($r,qr))),-($n||pr)),lr=[];for(let Ir=.07692307692307693,Cr=Ir;Cr<=1;Cr+=Ir)lr.push(Ht(na,$r,2*Ct*Cr));return lr}}else{if(!(or||ur&&Cn.length===1))if(wn)for(let lr=.07692307692307693,Ir=lr;Ir<=1;Ir+=lr){let Cr=Ht(yr[0],$r,Ct*Ir);Co.push(Cr)}else{let lr=Qt(Zr[0],yr[0]),Ir=hn(lr,.5),Cr=hn(lr,.51);Co.push(Qt($r,Ir),Qt($r,Cr),cn($r,Cr),cn($r,Ir))}let na=fn(function(lr){return[-lr[0],-lr[1]]}(Cn[Cn.length-1].vector));if(ur||or&&Cn.length===1)po.push(qr);else if(zn){let lr=bt(qr,na,pr);for(let Ir=.034482758620689655,Cr=Ir;Cr<1;Cr+=Ir)po.push(Ht(lr,qr,3*Ct*Cr))}else po.push(cn(qr,hn(na,pr)),cn(qr,hn(na,.99*pr)),Qt(qr,hn(na,.99*pr)),Qt(qr,hn(na,pr)))}return Zr.concat(po,yr.reverse(),Co)}(function(Cn,xn={}){var Tn;let{streamline:Pn=.5,size:tr=16,last:ir=!1}=xn;if(Cn.length===0)return[];let gr=.15+.85*(1-Pn),Wn=Array.isArray(Cn[0])?Cn:Cn.map(({x:jn,y:$n,pressure:cr=.5})=>[jn,$n,cr]);if(Wn.length===2){let jn=Wn[1];Wn=Wn.slice(0,-1);for(let $n=1;$n<5;$n++)Wn.push(Bt(Wn[0],jn,$n/4))}Wn.length===1&&(Wn=[...Wn,[...cn(Wn[0],[1,1]),...Wn[0].slice(2)]]);let ln=[{point:[Wn[0][0],Wn[0][1]],pressure:Wn[0][2]>=0?Wn[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Un=!1,wn=0,Mn=ln[0],zn=Wn.length-1;for(let jn=1;jn<Wn.length;jn++){let $n=ir&&jn===zn?Wn[jn].slice(0,2):Bt(Mn.point,Wn[jn],gr);if(mn(Mn.point,$n))continue;let cr=yt($n,Mn.point);if(wn+=cr,jn<zn&&!Un){if(wn<tr)continue;Un=!0}Mn={point:$n,pressure:Wn[jn][2]>=0?Wn[jn][2]:.5,vector:vn(Qt(Mn.point,$n)),distance:cr,runningLength:wn},ln.push(Mn)}return ln[0].vector=((Tn=ln[1])==null?void 0:Tn.vector)||[0,0],ln}(Nt,Xn),Xn)}var it=_(5710),_e=_(6938);function lt(Nt,Xn){var Cn=Object.keys(Nt);if(Object.getOwnPropertySymbols){var xn=Object.getOwnPropertySymbols(Nt);Xn&&(xn=xn.filter(function(Tn){return Object.getOwnPropertyDescriptor(Nt,Tn).enumerable})),Cn.push.apply(Cn,xn)}return Cn}function st(Nt){for(var Xn=1;Xn<arguments.length;Xn++){var Cn=arguments[Xn]!=null?arguments[Xn]:{};Xn%2?lt(Object(Cn),!0).forEach(function(xn){(0,ht.Z)(Nt,xn,Cn[xn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(Cn)):lt(Object(Cn)).forEach(function(xn){Object.defineProperty(Nt,xn,Object.getOwnPropertyDescriptor(Cn,xn))})}return Nt}var It="invert(100%) hue-rotate(180deg) saturate(1.25)",Dt=(0,vt.im)(),tn=function(Nt,Xn){return(0,at.wi)(Nt)&&!Xn.imageCache.has(Nt.fileId)},Tt=function(Nt,Xn){var Cn;return Xn.theme==="dark"&&(0,at.wi)(Nt)&&!tn(Nt,Xn)&&((Cn=Xn.imageCache.get(Nt.fileId))===null||Cn===void 0?void 0:Cn.mimeType)!==Xt.LO.svg},$t=function(Nt){return[8,8+Nt]},Wt=function(Nt){return[1.5,6+Nt]},Ot=function(Nt){return Nt.type==="freedraw"?12*Nt.strokeWidth:20},In=function(Nt,Xn,Cn){var xn,Tn=document.createElement("canvas"),Pn=Tn.getContext("2d"),tr=Ot(Nt),ir=function(or,ur){var Ur=16777216,Zr=32767,yr=Ot(or),Ar=(0,gt.qf)(or),pr=(0,ot.Z)(Ar,4),Nr=pr[0],Or=pr[1],ba=pr[2],ho=pr[3],oo=(0,at.bt)(or)||(0,at.F9)(or)?(0,xt.TE)(Nr,ba):or.width,lo=(0,at.bt)(or)||(0,at.F9)(or)?(0,xt.TE)(Or,ho):or.height,$r=oo*window.devicePixelRatio+2*yr,qr=lo*window.devicePixelRatio+2*yr,Co=ur.value;return($r*Co>Zr||qr*Co>Zr)&&(Co=Math.min(Zr/$r,Zr/qr)),$r*qr*Co*Co>Ur&&(Co=Math.sqrt(Ur/($r*qr))),{width:$r=Math.floor($r*Co),height:qr=Math.floor(qr*Co),scale:Co}}(Nt,Xn),gr=ir.width,Wn=ir.height,ln=ir.scale;Tn.width=gr,Tn.height=Wn;var Un=0,wn=0;if((0,at.bt)(Nt)||(0,at.F9)(Nt)){var Mn=(0,gt.qf)(Nt),zn=(0,ot.Z)(Mn,2),jn=zn[0],$n=zn[1];Un=Nt.x>jn?(0,xt.TE)(Nt.x,jn)*window.devicePixelRatio*ln:0,wn=Nt.y>$n?(0,xt.TE)(Nt.y,$n)*window.devicePixelRatio*ln:0,Pn.translate(Un,wn)}Pn.save(),Pn.translate(tr*ln,tr*ln),Pn.scale(window.devicePixelRatio*ln,window.devicePixelRatio*ln);var cr=rt.Z.canvas(Tn);return Tt(Nt,Cn)&&(Pn.filter=It),Vt(Nt,cr,Pn,Cn),Pn.restore(),{element:Nt,canvas:Tn,theme:Cn.theme,scale:ln,zoomValue:Xn.value,canvasOffsetX:Un,canvasOffsetY:wn,boundTextElementVersion:((xn=(0,it.WJ)(Nt))===null||xn===void 0?void 0:xn.version)||null}},rn=14,_t=document.createElement("img");_t.src="data:".concat(Xt.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var St=document.createElement("img");St.src="data:".concat(Xt.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Vt=function(Nt,Xn,Cn,xn){switch(Cn.globalAlpha=Nt.opacity/100,Nt.type){case"rectangle":case"diamond":case"ellipse":Cn.lineJoin="round",Cn.lineCap="round",Xn.draw(dn(Nt));break;case"arrow":case"line":Cn.lineJoin="round",Cn.lineCap="round",dn(Nt).forEach(function(jn){Xn.draw(jn)});break;case"freedraw":Cn.save(),Cn.fillStyle=Nt.strokeColor;var Tn=function(jn){return bn.get(jn)}(Nt),Pn=dn(Nt);Pn&&Xn.draw(Pn),Cn.fillStyle=Nt.strokeColor,Cn.fill(Tn),Cn.restore();break;case"image":var tr,ir=(0,at.wi)(Nt)?(tr=xn.imageCache.get(Nt.fileId))===null||tr===void 0?void 0:tr.image:void 0;ir==null||ir instanceof Promise?function(jn,$n,cr){$n.fillStyle="#E7E7E7",$n.fillRect(0,0,jn.width,jn.height);var or=Math.min(jn.width,jn.height),ur=Math.min(or,Math.min(.4*or,100));$n.drawImage(jn.status==="error"?St:_t,jn.width/2-ur/2,jn.height/2-ur/2,ur,ur)}(Nt,Cn,xn.zoom.value):Cn.drawImage(ir,0,0,Nt.width,Nt.height);break;default:if(!(0,at.iB)(Nt))throw new Error("Unimplemented type ".concat(Nt.type));var gr=(0,xt.dZ)(Nt.text),Wn=gr&&!Cn.canvas.isConnected;Wn&&document.body.appendChild(Cn.canvas),Cn.canvas.setAttribute("dir",gr?"rtl":"ltr"),Cn.save(),Cn.font=(0,xt.mO)(Nt),Cn.fillStyle=Nt.strokeColor,Cn.textAlign=Nt.textAlign;for(var ln=Nt.text.replace(/\r\n?/g,`
`).split(`
`),Un=Nt.textAlign==="center"?Nt.width/2:Nt.textAlign==="right"?Nt.width:0,wn=(0,it.Rg)(Nt.fontSize,Nt.lineHeight),Mn=Nt.height-Nt.baseline,zn=0;zn<ln.length;zn++)Cn.fillText(ln[zn],Un,(zn+1)*wn-Mn);Cn.restore(),Wn&&Cn.canvas.remove()}Cn.globalAlpha=1},Pt=new WeakMap,qt=new WeakMap,dn=function(Nt){return qt.get(Nt)},Rt=function(Nt,Xn){return qt.set(Nt,Xn)},Zt=function(Nt){return qt.delete(Nt)},zt=function(Nt){var Xn=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Cn={seed:Nt.seed,strokeLineDash:Nt.strokeStyle==="dashed"?$t(Nt.strokeWidth):Nt.strokeStyle==="dotted"?Wt(Nt.strokeWidth):void 0,disableMultiStroke:Nt.strokeStyle!=="solid",strokeWidth:Nt.strokeStyle!=="solid"?Nt.strokeWidth+.5:Nt.strokeWidth,fillWeight:Nt.strokeWidth/2,hachureGap:4*Nt.strokeWidth,roughness:Nt.roughness,stroke:Nt.strokeColor,preserveVertices:Xn};switch(Nt.type){case"rectangle":case"diamond":case"ellipse":return Cn.fillStyle=Nt.fillStyle,Cn.fill=Nt.backgroundColor==="transparent"?void 0:Nt.backgroundColor,Nt.type==="ellipse"&&(Cn.curveFitting=1),Cn;case"line":case"freedraw":return(0,Ut.g6)(Nt.points)&&(Cn.fillStyle=Nt.fillStyle,Cn.fill=Nt.backgroundColor==="transparent"?void 0:Nt.backgroundColor),Cn;case"arrow":return Cn;default:throw new Error("Unimplemented type ".concat(Nt.type))}},ft=function(Nt,Xn){var Cn=qt.get(Nt);if(Cn===void 0)switch(Pt.delete(Nt),Nt.type){case"rectangle":if(Nt.roundness){var xn=Nt.width,Tn=Nt.height,Pn=(0,Ut.yW)(Math.min(xn,Tn),Nt);Cn=Xn.path("M ".concat(Pn," 0 L ").concat(xn-Pn," 0 Q ").concat(xn," 0, ").concat(xn," ").concat(Pn," L ").concat(xn," ").concat(Tn-Pn," Q ").concat(xn," ").concat(Tn,", ").concat(xn-Pn," ").concat(Tn," L ").concat(Pn," ").concat(Tn," Q 0 ").concat(Tn,", 0 ").concat(Tn-Pn," L 0 ").concat(Pn," Q 0 0, ").concat(Pn," 0"),zt(Nt,!0))}else Cn=Xn.rectangle(0,0,Nt.width,Nt.height,zt(Nt));Rt(Nt,Cn);break;case"diamond":var tr=(0,gt.UC)(Nt),ir=(0,ot.Z)(tr,8),gr=ir[0],Wn=ir[1],ln=ir[2],Un=ir[3],wn=ir[4],Mn=ir[5],zn=ir[6],jn=ir[7];if(Nt.roundness){var $n=(0,Ut.yW)(Math.abs(gr-zn),Nt),cr=(0,Ut.yW)(Math.abs(Un-Wn),Nt);Cn=Xn.path("M ".concat(gr+$n," ").concat(Wn+cr," L ").concat(ln-$n," ").concat(Un-cr,`
            C `).concat(ln," ").concat(Un,", ").concat(ln," ").concat(Un,", ").concat(ln-$n," ").concat(Un+cr,`
            L `).concat(wn+$n," ").concat(Mn-cr,`
            C `).concat(wn," ").concat(Mn,", ").concat(wn," ").concat(Mn,", ").concat(wn-$n," ").concat(Mn-cr,`
            L `).concat(zn+$n," ").concat(jn+cr,`
            C `).concat(zn," ").concat(jn,", ").concat(zn," ").concat(jn,", ").concat(zn+$n," ").concat(jn-cr,`
            L `).concat(gr-$n," ").concat(Wn+cr,`
            C `).concat(gr," ").concat(Wn,", ").concat(gr," ").concat(Wn,", ").concat(gr+$n," ").concat(Wn+cr),zt(Nt,!0))}else Cn=Xn.polygon([[gr,Wn],[ln,Un],[wn,Mn],[zn,jn]],zt(Nt));Rt(Nt,Cn);break;case"ellipse":Cn=Xn.ellipse(Nt.width/2,Nt.height/2,Nt.width,Nt.height,zt(Nt)),Rt(Nt,Cn);break;case"line":case"arrow":var or=zt(Nt),ur=Nt.points.length?Nt.points:[[0,0]];if(Cn=Nt.roundness?[Xn.curve(ur,or)]:or.fill?[Xn.polygon(ur,or)]:[Xn.linearPath(ur,or)],Nt.type==="arrow"){var Ur=Nt.startArrowhead,Zr=Ur===void 0?null:Ur,yr=Nt.endArrowhead,Ar=yr===void 0?"arrow":yr,pr=function(oo,lo,$r,qr){var Co=(0,gt.Y5)(oo,lo,$r,qr);if(Co===null)return[];if(qr==="dot"){var po=(0,ot.Z)(Co,3),na=po[0],lr=po[1],Ir=po[2];return[Xn.circle(na,lr,Ir,st(st({},or),{},{fill:oo.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(qr==="triangle"){var Cr=(0,ot.Z)(Co,6),wr=Cr[0],Er=Cr[1],Rr=Cr[2],Kr=Cr[3],ga=Cr[4],to=Cr[5];return delete or.strokeLineDash,[Xn.polygon([[wr,Er],[Rr,Kr],[ga,to],[wr,Er]],st(st({},or),{},{fill:oo.strokeColor,fillStyle:"solid"}))]}var io=(0,ot.Z)(Co,6),so=io[0],mo=io[1],Zo=io[2],No=io[3],Jo=io[4],Bl=io[5];if(oo.strokeStyle==="dotted"){var ro=Wt(oo.strokeWidth-1);or.strokeLineDash=[ro[0],ro[1]-1]}else delete or.strokeLineDash;return[Xn.line(Zo,No,so,mo,or),Xn.line(Jo,Bl,so,mo,or)]};if(Zr!==null){var Nr,Or=pr(Nt,Cn,"start",Zr);(Nr=Cn).push.apply(Nr,(0,pt.Z)(Or))}if(Ar!==null){var ba,ho=pr(Nt,Cn,"end",Ar);(ba=Cn).push.apply(ba,(0,pt.Z)(ho))}}Rt(Nt,Cn);break;case"freedraw":jt(Nt),Cn=(0,Ut.g6)(Nt.points)?Xn.polygon(Nt.points,st(st({},zt(Nt)),{},{stroke:"none"})):null,Rt(Nt,Cn);break;case"text":case"image":Rt(Nt,null)}},Gt=function(Nt,Xn){var Cn,xn=Xn?Xn.zoom:Dt.zoom,Tn=Pt.get(Nt),Pn=Tn&&Tn.zoomValue!==xn.value&&!(Xn!=null&&Xn.shouldCacheIgnoreZoom),tr=((Cn=(0,it.WJ)(Nt))===null||Cn===void 0?void 0:Cn.version)||null;if(!Tn||Pn||Tn.theme!==Xn.theme||Tn.boundTextElementVersion!==tr){var ir=In(Nt,xn,Xn);return Pt.set(Nt,ir),ir}return Tn},wt=function(Nt,Xn,Cn,xn){var Tn=Nt.element,Pn=Ot(Tn),tr=Nt.scale,ir=(0,gt.qf)(Tn),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3];(0,at.F9)(Tn)&&(Wn=Math.floor(Wn),Un=Math.ceil(Un),ln=Math.floor(ln),wn=Math.ceil(wn));var Mn=((Wn+Un)/2+xn.scrollX)*window.devicePixelRatio,zn=((ln+wn)/2+xn.scrollY)*window.devicePixelRatio;Cn.save(),Cn.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var jn=(0,it.WJ)(Tn);if((0,at.Yv)(Tn)&&jn){var $n=document.createElement("canvas"),cr=$n.getContext("2d"),or=Math.max((0,xt.TE)(Wn,Un),(0,xt.TE)(ln,wn));$n.width=or*window.devicePixelRatio*tr+Pn*Nt.scale*10,$n.height=or*window.devicePixelRatio*tr+Pn*Nt.scale*10;var ur=($n.width-Nt.canvas.width)/2,Ur=($n.height-Nt.canvas.height)/2;cr.translate($n.width/2,$n.height/2),cr.rotate(Tn.angle),cr.drawImage(Nt.canvas,-Nt.canvas.width/2,-Nt.canvas.height/2,Nt.canvas.width,Nt.canvas.height);var Zr=(0,gt.qf)(jn),yr=(0,ot.Z)(Zr,6),Ar=yr[4],pr=yr[5];cr.rotate(-Tn.angle);var Nr=$n.width/2-(Ar-Wn)*window.devicePixelRatio*tr-ur-Pn*tr,Or=$n.height/2-(pr-ln)*window.devicePixelRatio*tr-Ur-Pn*tr;cr.translate(-Nr,-Or),cr.clearRect(-(jn.width/2+Xt.gK)*window.devicePixelRatio*tr,-(jn.height/2+Xt.gK)*window.devicePixelRatio*tr,(jn.width+2*Xt.gK)*window.devicePixelRatio*tr,(jn.height+2*Xt.gK)*window.devicePixelRatio*tr),Cn.translate(Mn,zn),Cn.drawImage($n,-(Un-Wn)/2*window.devicePixelRatio-ur/tr-Pn,-(wn-ln)/2*window.devicePixelRatio-Ur/tr-Pn,$n.width/tr,$n.height/tr)}else if(Cn.translate(Mn,zn),Cn.rotate(Tn.angle),"scale"in Nt.element&&!tn(Tn,xn)&&Cn.scale(Nt.element.scale[0],Nt.element.scale[1]),Cn.translate(-Mn,-zn),Cn.drawImage(Nt.canvas,(Wn+xn.scrollX)*window.devicePixelRatio-Pn*Nt.scale/Nt.scale,(ln+xn.scrollY)*window.devicePixelRatio-Pn*Nt.scale/Nt.scale,Nt.canvas.width/Nt.scale,Nt.canvas.height/Nt.scale),{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.REACT_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,at.Xo)(Tn)){var ba=(0,it.cw)(Tn);Cn.strokeStyle="#c92a2a",Cn.lineWidth=3,Cn.strokeRect((ba.x+xn.scrollX)*window.devicePixelRatio,(ba.y+xn.scrollY)*window.devicePixelRatio,(0,it.jd)(Tn)*window.devicePixelRatio,(0,it.N2)(Tn)*window.devicePixelRatio)}Cn.restore()},Jt=function(Nt,Xn,Cn,xn,Tn){var Pn=Xn.generator;switch(Nt.type){case"selection":Cn.save(),Cn.translate(Nt.x+xn.scrollX,Nt.y+xn.scrollY),Cn.fillStyle="rgba(0, 0, 200, 0.04)";var tr=.5/xn.zoom.value;Cn.fillRect(tr,tr,Nt.width,Nt.height),Cn.lineWidth=1/xn.zoom.value,Cn.strokeStyle="rgb(105, 101, 219)",Cn.strokeRect(tr,tr,Nt.width,Nt.height),Cn.restore();break;case"freedraw":if(ft(Nt,Pn),xn.isExporting){var ir=(0,gt.qf)(Nt),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3],Mn=(Wn+Un)/2+xn.scrollX,zn=(ln+wn)/2+xn.scrollY,jn=(Un-Wn)/2-(Nt.x-Wn),$n=(wn-ln)/2-(Nt.y-ln);Cn.save(),Cn.translate(Mn,zn),Cn.rotate(Nt.angle),Cn.translate(-jn,-$n),Vt(Nt,Xn,Cn,xn),Cn.restore()}else{var cr=Gt(Nt,xn);wt(cr,0,Cn,xn)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(ft(Nt,Pn),xn.isExporting){var or=(0,gt.qf)(Nt),ur=(0,ot.Z)(or,4),Ur=ur[0],Zr=ur[1],yr=ur[2],Ar=ur[3],pr=(Ur+yr)/2+xn.scrollX,Nr=(Zr+Ar)/2+xn.scrollY,Or=(yr-Ur)/2-(Nt.x-Ur),ba=(Ar-Zr)/2-(Nt.y-Zr);if((0,at.iB)(Nt)){var ho=(0,it.tl)(Nt);if((0,at.Yv)(ho)){var oo=_e._.getBoundTextElementPosition(ho,Nt);Or=(yr-Ur)/2-(oo.x-Ur),ba=(Ar-Zr)/2-(oo.y-Zr)}}Cn.save(),Cn.translate(pr,Nr),Tt(Nt,xn)&&(Cn.filter="none");var lo=(0,it.WJ)(Nt);if((0,at.Yv)(Nt)&&lo){var $r=document.createElement("canvas"),qr=$r.getContext("2d"),Co=Math.max((0,xt.TE)(Ur,yr),(0,xt.TE)(Zr,Ar)),po=Ot(Nt);$r.width=Co*Tn.exportScale+10*po*Tn.exportScale,$r.height=Co*Tn.exportScale+10*po*Tn.exportScale,qr.translate($r.width/2,$r.height/2),qr.scale(Tn.exportScale,Tn.exportScale),Or=Nt.width/2-(Nt.x-Ur),ba=Nt.height/2-(Nt.y-Zr),qr.rotate(Nt.angle);var na=rt.Z.canvas($r);qr.translate(-Or,-ba),Vt(Nt,na,qr,xn),qr.translate(Or,ba),qr.rotate(-Nt.angle);var lr=(0,gt.qf)(lo),Ir=(0,ot.Z)(lr,6),Cr=(Ur+yr)/2-Ir[4],wr=(Zr+Ar)/2-Ir[5];qr.translate(-Cr,-wr),qr.clearRect(-lo.width/2,-lo.height/2,lo.width,lo.height),Cn.scale(1/Tn.exportScale,1/Tn.exportScale),Cn.drawImage($r,-$r.width/2,-$r.height/2,$r.width,$r.height)}else Cn.rotate(Nt.angle),Nt.type==="image"&&Cn.scale(Nt.scale[0],Nt.scale[1]),Cn.translate(-Or,-ba),Vt(Nt,Xn,Cn,xn);Cn.restore()}else{var Er=Gt(Nt,xn),Rr=Cn.imageSmoothingEnabled;xn!=null&&xn.shouldCacheIgnoreZoom||Nt.angle&&!(0,Ut.EK)(Nt.angle)||(Cn.imageSmoothingEnabled=!1),wt(Er,0,Cn,xn),Cn.imageSmoothingEnabled=Rr}break;default:throw new Error("Unimplemented type ".concat(Nt.type))}},Mt=function(Nt,Xn,Cn){if(Cn===void 0)return Nt.draw(Xn);var xn={sets:Xn.sets,shape:Xn.shape,options:st(st({},Xn.options),{},{fixedDecimalPlaceDigits:Cn})};return Nt.draw(xn)},un=function(Nt,Xn,Cn,xn,Tn,Pn,tr){var ir=(0,gt.qf)(Nt),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3],Mn=(Un-Wn)/2-(Nt.x-Wn),zn=(wn-ln)/2-(Nt.y-ln);if((0,at.iB)(Nt)){var jn=(0,it.tl)(Nt);if((0,at.Yv)(jn)){var $n=(0,gt.qf)(jn),cr=(0,ot.Z)($n,4),or=cr[0],ur=cr[1],Ur=cr[2],Zr=cr[3],yr=_e._.getBoundTextElementPosition(jn,Nt);Mn=(Ur-or)/2-(yr.x-or),zn=(Zr-ur)/2-(yr.y-ur),Tn=Tn+yr.x-Nt.x,Pn=Pn+yr.y-Nt.y}}var Ar=180*Nt.angle/Math.PI,pr=Xn.generator,Nr=Cn;if(Nt.link){var Or=Cn.ownerDocument.createElementNS(Xt.hR,"a");Or.setAttribute("href",Nt.link),Nr.appendChild(Or),Nr=Or}switch(Nt.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":ft(Nt,pr);var ba=Mt(Xn,dn(Nt),Xt.zK),ho=Nt.opacity/100;ho!==1&&(ba.setAttribute("stroke-opacity","".concat(ho)),ba.setAttribute("fill-opacity","".concat(ho))),ba.setAttribute("stroke-linecap","round"),ba.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Nr.appendChild(ba);break;case"line":case"arrow":var oo=(0,it.WJ)(Nt),lo=Cn.ownerDocument.createElementNS(Xt.hR,"mask");if(oo){lo.setAttribute("id","mask-".concat(Nt.id));var $r=Cn.ownerDocument.createElementNS(Xt.hR,"rect");Tn=Tn||0,Pn=Pn||0,$r.setAttribute("x","0"),$r.setAttribute("y","0"),$r.setAttribute("fill","#fff"),$r.setAttribute("width","".concat(Nt.width+100+Tn)),$r.setAttribute("height","".concat(Nt.height+100+Pn)),lo.appendChild($r);var qr=Cn.ownerDocument.createElementNS(Xt.hR,"rect"),Co=_e._.getBoundTextElementPosition(Nt,oo),po=Tn+Co.x-Nt.x,na=Pn+Co.y-Nt.y;qr.setAttribute("x",po.toString()),qr.setAttribute("y",na.toString()),qr.setAttribute("fill","#000"),qr.setAttribute("width","".concat(oo.width)),qr.setAttribute("height","".concat(oo.height)),qr.setAttribute("opacity","1"),lo.appendChild(qr)}ft(Nt,pr);var lr=Cn.ownerDocument.createElementNS(Xt.hR,"g");oo&&lr.setAttribute("mask","url(#mask-".concat(Nt.id,")"));var Ir=Nt.opacity/100;lr.setAttribute("stroke-linecap","round"),dn(Nt).forEach(function(ls){var Nl=Mt(Xn,ls,Xt.zK);Ir!==1&&(Nl.setAttribute("stroke-opacity","".concat(Ir)),Nl.setAttribute("fill-opacity","".concat(Ir))),Nl.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Nt.type==="line"&&(0,Ut.g6)(Nt.points)&&Nt.backgroundColor!=="transparent"&&Nl.setAttribute("fill-rule","evenodd"),lr.appendChild(Nl)}),Nr.appendChild(lr),Nr.append(lo);break;case"freedraw":ft(Nt,pr),jt(Nt);var Cr=Nt.opacity/100,wr=dn(Nt),Er=wr?Mt(Xn,wr,Xt.zK):Cn.ownerDocument.createElementNS(Xt.hR,"g");Cr!==1&&(Er.setAttribute("stroke-opacity","".concat(Cr)),Er.setAttribute("fill-opacity","".concat(Cr))),Er.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Er.setAttribute("stroke","none");var Rr=Cn.ownerDocument.createElementNS(Xt.hR,"path");Rr.setAttribute("fill",Nt.strokeColor),Rr.setAttribute("d",Fn(Nt)),Er.appendChild(Rr),Nr.appendChild(Er);break;case"image":var Kr=Math.round(Nt.width),ga=Math.round(Nt.height),to=(0,at.wi)(Nt)&&xn[Nt.fileId];if(to){var io="image-".concat(to.id),so=Cn.querySelector("#".concat(io));if(!so){(so=Cn.ownerDocument.createElementNS(Xt.hR,"symbol")).id=io;var mo=Cn.ownerDocument.createElementNS(Xt.hR,"image");mo.setAttribute("width","100%"),mo.setAttribute("height","100%"),mo.setAttribute("href",to.dataURL),so.appendChild(mo),Nr.prepend(so)}var Zo=Cn.ownerDocument.createElementNS(Xt.hR,"use");if(Zo.setAttribute("href","#".concat(io)),tr&&to.mimeType!==Xt.LO.svg&&Zo.setAttribute("filter",It),Zo.setAttribute("width","".concat(Kr)),Zo.setAttribute("height","".concat(ga)),Nt.scale[0]!==1||Nt.scale[1]!==1){var No=Nt.scale[0]!==1?-Kr:0,Jo=Nt.scale[1]!==1?-ga:0;Zo.setAttribute("transform","scale(".concat(Nt.scale[0],", ").concat(Nt.scale[1],") translate(").concat(No," ").concat(Jo,")"))}var Bl=Cn.ownerDocument.createElementNS(Xt.hR,"g");Bl.appendChild(Zo),Bl.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Nr.appendChild(Bl)}break;default:if(!(0,at.iB)(Nt))throw new Error("Unimplemented type ".concat(Nt.type));var ro=Nt.opacity/100,Io=Cn.ownerDocument.createElementNS(Xt.hR,"g");ro!==1&&(Io.setAttribute("stroke-opacity","".concat(ro)),Io.setAttribute("fill-opacity","".concat(ro))),Io.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")"));for(var Qo=Nt.text.replace(/\r\n?/g,`
`).split(`
`),Lo=(0,it.Rg)(Nt.fontSize,Nt.lineHeight),Wl=Nt.textAlign==="center"?Nt.width/2:Nt.textAlign==="right"?Nt.width:0,Ol=(0,xt.dZ)(Nt.text)?"rtl":"ltr",Hl=Nt.textAlign==="center"?"middle":Nt.textAlign==="right"||Ol==="rtl"?"end":"start",Zl=0;Zl<Qo.length;Zl++){var _o=Cn.ownerDocument.createElementNS(Xt.hR,"text");_o.textContent=Qo[Zl],_o.setAttribute("x","".concat(Wl)),_o.setAttribute("y","".concat(Zl*Lo)),_o.setAttribute("font-family",(0,xt.$g)(Nt)),_o.setAttribute("font-size","".concat(Nt.fontSize,"px")),_o.setAttribute("fill",Nt.strokeColor),_o.setAttribute("text-anchor",Hl),_o.setAttribute("style","white-space: pre;"),_o.setAttribute("direction",Ol),_o.setAttribute("dominant-baseline","text-before-edge"),Io.appendChild(_o)}Nr.appendChild(Io)}},bn=new WeakMap([]);function jt(Nt){var Xn=Fn(Nt),Cn=new Path2D(Xn);return bn.set(Nt,Cn),Cn}function Fn(Nt){return function(Xn){if(!Xn.length)return"";var Cn=Xn.length-1;return Xn.reduce(function(xn,Tn,Pn,tr){return Pn===Cn?xn.push(Tn,yn(Tn,tr[0]),"L",tr[0],"Z"):xn.push(Tn,yn(Tn,tr[Pn+1])),xn},["M",Xn[0],"Q"]).join(" ").replace(Gn,"$1")}(ct(Nt.simulatePressure?Nt.points:Nt.points.length?Nt.points.map(function(Xn,Cn){var xn=(0,ot.Z)(Xn,2);return[xn[0],xn[1],Nt.pressures[Cn]]}):[[0,0,.5]],{simulatePressure:Nt.simulatePressure,size:4.25*Nt.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(Xn){return Math.sin(Xn*Math.PI/2)},last:!!Nt.lastCommittedPoint}))}function yn(Nt,Xn){return[(Nt[0]+Xn[0])/2,(Nt[1]+Xn[1])/2]}var Gn=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(Lt,kt,_){_.d(kt,{Lu:function(){return bt},Eu:function(){return st},M_:function(){return In}});var pt,ht=_(2577),ot=_(1930),at=_(5284),gt=_(1047),xt=_(756),Ut=_(1868),rt=_(3063),vt=_(8982),Xt=_(6938),nn=_(242),cn=_(2325),Qt=_(8290),hn=_(267),fn=_(6340);(function(rn){rn.ACTIVE="active",rn.AWAY="away",rn.IDLE="idle"})(pt||(pt={}));var Nn=_(2335),mn=_(4929),pn=_(1974);function vn(rn,_t){var St=typeof Symbol<"u"&&rn[Symbol.iterator]||rn["@@iterator"];if(!St){if(Array.isArray(rn)||(St=function(Zt,zt){if(Zt){if(typeof Zt=="string")return yt(Zt,zt);var ft=Object.prototype.toString.call(Zt).slice(8,-1);if(ft==="Object"&&Zt.constructor&&(ft=Zt.constructor.name),ft==="Map"||ft==="Set")return Array.from(Zt);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return yt(Zt,zt)}}(rn))||_t&&rn&&typeof rn.length=="number"){St&&(rn=St);var Vt=0,Pt=function(){};return{s:Pt,n:function(){return Vt>=rn.length?{done:!0}:{done:!1,value:rn[Vt++]}},e:function(Zt){throw Zt},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,dn=!0,Rt=!1;return{s:function(){St=St.call(rn)},n:function(){var Zt=St.next();return dn=Zt.done,Zt},e:function(Zt){Rt=!0,qt=Zt},f:function(){try{dn||St.return==null||St.return()}finally{if(Rt)throw qt}}}}function yt(rn,_t){(_t==null||_t>rn.length)&&(_t=rn.length);for(var St=0,Vt=new Array(_t);St<_t;St++)Vt[St]=rn[St];return Vt}var Ht,Bt=(0,fn.Q5)(),bt=2,Et=function(rn,_t,St,Vt,Pt,qt,dn,Rt){var Zt=arguments.length>8&&arguments[8]!==void 0&&arguments[8];rn.save(),rn.translate(qt,dn),rn.rotate(Rt),Zt&&rn.fillRect(_t-qt,St-dn,Vt,Pt),rn.strokeRect(_t-qt,St-dn,Vt,Pt),rn.restore()},At=function(rn,_t,St,Vt){var Pt=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];rn.beginPath(),rn.arc(_t,St,Vt,0,2*Math.PI),rn.fill(),Pt&&rn.stroke()},Ct=function(rn,_t,St,Vt,Pt,qt){var dn=arguments.length>6&&arguments[6]!==void 0&&arguments[6];rn.strokeStyle="#5e5ad8",rn.setLineDash([]),rn.fillStyle="rgba(255, 255, 255, 0.9)",qt?rn.fillStyle="rgba(134, 131, 226, 0.9)":dn&&(rn.fillStyle="rgba(177, 151, 252, 0.7)"),At(rn,Vt[0],Vt[1],Pt/St.zoom.value,!dn)},ct=function(rn,_t,St,Vt){if(_t.selectedLinearElement){rn.save(),rn.translate(St.scrollX,St.scrollY),rn.lineWidth=1/St.zoom.value;var Pt=Xt._.getPointsGlobalCoordinates(Vt),qt=Xt._.POINT_HANDLE_SIZE,dn=_t.editingLinearElement?qt:qt/2;Pt.forEach(function(Rt,Zt){var zt,ft,Gt=!((zt=_t.editingLinearElement)===null||zt===void 0||(ft=zt.selectedPointsIndices)===null||ft===void 0||!ft.includes(Zt));Ct(rn,_t,St,Rt,dn,Gt)}),Xt._.getEditorMidPoints(Vt,_t).filter(function(Rt){return Rt!==null}).forEach(function(Rt){var Zt;_t!=null&&(Zt=_t.selectedLinearElement)!==null&&Zt!==void 0&&Zt.segmentMidPointHoveredCoords&&Xt._.arePointsEqual(Rt,_t.selectedLinearElement.segmentMidPointHoveredCoords)?_t.editingLinearElement?(Ct(rn,_t,St,Rt,dn,!1),it(Rt,rn,St)):(it(Rt,rn,St),Ct(rn,_t,St,Rt,dn,!1)):(_t.editingLinearElement||Pt.length===2)&&Ct(rn,_t,St,Rt,qt/2,!1,!0)}),rn.restore()}},it=function(rn,_t,St){_t.fillStyle="rgba(105, 101, 219, 0.4)",At(_t,rn[0],rn[1],Xt._.POINT_HANDLE_SIZE/St.zoom.value,!1)},_e=function(rn){var _t,St=rn.elements,Vt=rn.appState,Pt=rn.scale,qt=rn.rc,dn=rn.canvas,Rt=rn.renderConfig;if(dn===null)return{atLeastOneVisibleElement:!1};var Zt=Rt.renderScrollbars,zt=Zt===void 0||Zt,ft=Rt.renderSelection,Gt=ft===void 0||ft,wt=Rt.renderGrid,Jt=wt===void 0||wt,Mt=Rt.isExporting,un=Rt.selectionColor||at.black,bn=dn.getContext("2d");bn.setTransform(1,0,0,1,0,0),bn.save(),bn.scale(Pt,Pt);var jt=dn.width/Pt,Fn=dn.height/Pt;Mt&&Rt.theme==="dark"&&(bn.filter=Nn.ZF),typeof Rt.viewBackgroundColor=="string"?((Rt.viewBackgroundColor==="transparent"||Rt.viewBackgroundColor.length===5||Rt.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(Rt.viewBackgroundColor))&&bn.clearRect(0,0,jt,Fn),bn.save(),bn.fillStyle=Rt.viewBackgroundColor,bn.fillRect(0,0,jt,Fn),bn.restore()):bn.clearRect(0,0,jt,Fn),bn.save(),bn.scale(Rt.zoom.value,Rt.zoom.value),Jt&&Vt.gridSize&&function(Er,Rr,Kr,ga,to,io){Er.save(),Er.strokeStyle="rgba(0,0,0,0.1)",Er.beginPath();for(var so=Kr;so<Kr+to+2*Rr;so+=Rr)Er.moveTo(so,ga-Rr),Er.lineTo(so,ga+io+2*Rr);for(var mo=ga;mo<ga+io+2*Rr;mo+=Rr)Er.moveTo(Kr-Rr,mo),Er.lineTo(Kr+to+2*Rr,mo);Er.stroke(),Er.restore()}(bn,Vt.gridSize,-Math.ceil(Rt.zoom.value/Vt.gridSize)*Vt.gridSize+Rt.scrollX%Vt.gridSize,-Math.ceil(Rt.zoom.value/Vt.gridSize)*Vt.gridSize+Rt.scrollY%Vt.gridSize,jt/Rt.zoom.value,Fn/Rt.zoom.value);var yn=St.filter(function(Er){return Ot(Er,jt,Fn,{zoom:Rt.zoom,offsetLeft:Vt.offsetLeft,offsetTop:Vt.offsetTop,scrollX:Rt.scrollX,scrollY:Rt.scrollY})}),Gn=void 0;if(yn.forEach(function(Er){try{var Rr;(0,rt.lw)(Er,qt,bn,Rt,Vt),((Rr=Vt.editingLinearElement)===null||Rr===void 0?void 0:Rr.elementId)===Er.id&&Er&&(Gn=Er),Mt||Wt(Er,bn,Vt)}catch(Kr){console.error(Kr)}}),Gn&&ct(bn,Vt,Rt,Gn),Vt.selectionElement)try{(0,rt.lw)(Vt.selectionElement,qt,bn,Rt,Vt)}catch(Er){console.error(Er)}(0,Qt.N1)(Vt)&&Vt.suggestedBindings.filter(function(Er){return Er!=null}).forEach(function(Er){tn(bn,Rt,Er)});var Nt,Xn=(0,Ut.eD)(St,Vt);if(Xn.length===1&&((_t=Vt.editingLinearElement)===null||_t===void 0?void 0:_t.elementId)===Xn[0].id&&ct(bn,Vt,Rt,Xn[0]),Vt.selectedLinearElement&&Vt.selectedLinearElement.hoverPointIndex>=0&&function(Er,Rr,Kr){var ga,to,io=Rr.selectedLinearElement,so=io.elementId,mo=io.hoverPointIndex;if((ga=Rr.editingLinearElement)===null||ga===void 0||(to=ga.selectedPointsIndices)===null||to===void 0||!to.includes(mo)){var Zo=Xt._.getElement(so);if(Zo){var No=Xt._.getPointAtIndexGlobalCoordinates(Zo,mo);Er.save(),Er.translate(Kr.scrollX,Kr.scrollY),it(No,Er,Kr),Er.restore()}}}(bn,Vt,Rt),Gt&&!Vt.multiElement&&!Vt.editingLinearElement){var Cn,xn=(0,hn.oY)(Xn,Vt),Tn=Xn.map(function(Er){return Er.id});if(Xn.length===1&&(0,pn.bt)(Xn[0])&&((Cn=Vt.selectedLinearElement)===null||Cn===void 0?void 0:Cn.elementId)===Xn[0].id&&!Xn[0].locked&&ct(bn,Vt,Rt,Xn[0]),xn){var Pn,tr=St.reduce(function(Er,Rr){var Kr=[];if(Tn.includes(Rr.id)&&!(0,nn.zq)(Vt,Rr)&&Kr.push(un),Rt.remoteSelectedElementIds[Rr.id]&&Kr.push.apply(Kr,(0,ot.Z)(Rt.remoteSelectedElementIds[Rr.id].map(function(Bl){return(0,vt.X)(Bl,Vt).background}))),Kr.length){var ga=(0,gt.qf)(Rr,!0),to=(0,ht.Z)(ga,6),io=to[0],so=to[1],mo=to[2],Zo=to[3],No=to[4],Jo=to[5];Er.push({angle:Rr.angle,elementX1:io,elementY1:so,elementX2:mo,elementY2:Zo,selectionColors:Kr,dashed:!!Rt.remoteSelectedElementIds[Rr.id],cx:No,cy:Jo})}return Er},[]),ir=function(Er){var Rr=(0,nn.Fb)(St,Er),Kr=(0,gt.KP)(Rr),ga=(0,ht.Z)(Kr,4),to=ga[0],io=ga[1],so=ga[2],mo=ga[3];tr.push({angle:0,elementX1:to,elementX2:so,elementY1:io,elementY2:mo,selectionColors:[at.black],dashed:!0,cx:to+(so-to)/2,cy:io+(mo-io)/2})},gr=vn((0,nn.iJ)(Vt));try{for(gr.s();!(Pn=gr.n()).done;)ir(Pn.value)}catch(Er){gr.e(Er)}finally{gr.f()}Vt.editingGroupId&&ir(Vt.editingGroupId),tr.forEach(function(Er){return Dt(bn,Rt,Er)})}if(bn.save(),bn.translate(Rt.scrollX,Rt.scrollY),Xn.length===1){bn.fillStyle=at.white;var Wn=(0,gt.PC)(Xn[0],Rt.zoom,"mouse");!Vt.viewModeEnabled&&xn&&It(bn,Rt,Wn,Xn[0].angle)}else if(Xn.length>1&&!Vt.isRotating){var ln=2*bt/Rt.zoom.value;bn.fillStyle=at.white;var Un=(0,gt.KP)(Xn),wn=(0,ht.Z)(Un,4),Mn=wn[0],zn=wn[1],jn=wn[2],$n=wn[3],cr=bn.getLineDash();bn.setLineDash([2/Rt.zoom.value]);var or=bn.lineWidth;bn.lineWidth=1/Rt.zoom.value,bn.strokeStyle=un,Et(bn,Mn-ln,zn-ln,jn-Mn+2*ln,$n-zn+2*ln,(Mn+jn)/2,(zn+$n)/2,0),bn.lineWidth=or,bn.setLineDash(cr);var ur=(0,gt.kK)([Mn,zn,jn,$n,(Mn+jn)/2,(zn+$n)/2],0,Rt.zoom,"mouse",gt.ox);Xn.some(function(Er){return!Er.locked})&&It(bn,Rt,ur,0)}bn.restore()}for(var Ur in bn.restore(),Rt.remotePointerViewportCoords){var Zr=Rt.remotePointerViewportCoords[Ur],yr=Zr.x,Ar=Zr.y;yr-=Vt.offsetLeft,Ar-=Vt.offsetTop;var pr=yr<0||yr>jt-9||Ar<0||Ar>Fn-14;yr=Math.max(yr,0),yr=Math.min(yr,jt-9),Ar=Math.max(Ar,0),Ar=Math.min(Ar,Fn-14);var Nr=(0,vt.X)(Ur,Vt),Or=Nr.background,ba=Nr.stroke;bn.save(),bn.strokeStyle=ba,bn.fillStyle=Or;var ho=Rt.remotePointerUserStates[Ur];(pr||ho===pt.AWAY)&&(bn.globalAlpha=.48),Rt.remotePointerButton&&Rt.remotePointerButton[Ur]==="down"&&(bn.beginPath(),bn.arc(yr,Ar,15,0,2*Math.PI,!1),bn.lineWidth=3,bn.strokeStyle="#ffffff88",bn.stroke(),bn.closePath(),bn.beginPath(),bn.arc(yr,Ar,15,0,2*Math.PI,!1),bn.lineWidth=1,bn.strokeStyle=ba,bn.stroke(),bn.closePath()),bn.beginPath(),bn.moveTo(yr,Ar),bn.lineTo(yr+1,Ar+14),bn.lineTo(yr+4,Ar+9),bn.lineTo(yr+9,Ar+10),bn.lineTo(yr,Ar),bn.fill(),bn.stroke();var oo=Rt.remotePointerUsernames[Ur],lo="";ho===pt.AWAY?lo=Bt?"⚫️":" (".concat(pt.AWAY,")"):ho===pt.IDLE&&(lo=Bt?"💤":" (".concat(pt.IDLE,")"));var $r="".concat(oo||"").concat(lo?" ".concat(lo):"");if(!pr&&$r){var qr=yr+9,Co=Ar+14,po=bn.measureText($r),na=po.actualBoundingBoxDescent+po.actualBoundingBoxAscent,lr=qr-1,Ir=Co-1,Cr=po.width+8+2,wr=na+8+2;bn.roundRect?(bn.beginPath(),bn.roundRect(lr,Ir,Cr,wr,4/Rt.zoom.value),bn.fillStyle=Or,bn.fill(),bn.fillStyle=ba,bn.stroke()):(bn.fillStyle=ba,bn.fillRect(lr,Ir,Cr,wr),bn.fillStyle=Or,bn.fillRect(qr,Co,Cr-2,wr-2)),bn.fillStyle=at.white,bn.fillText($r,qr+4,Co+4+po.actualBoundingBoxAscent)}bn.restore(),bn.closePath()}return zt&&(Nt=(0,xt.tJ)(St,jt,Fn,Rt),bn.save(),bn.fillStyle=xt.w1,bn.strokeStyle="rgba(255,255,255,0.8)",[Nt.horizontal,Nt.vertical].forEach(function(Er){Er&&function(Rr,Kr,ga,to,io,so){Rr.beginPath(),Rr.moveTo(Kr+so,ga),Rr.lineTo(Kr+to-so,ga),Rr.quadraticCurveTo(Kr+to,ga,Kr+to,ga+so),Rr.lineTo(Kr+to,ga+io-so),Rr.quadraticCurveTo(Kr+to,ga+io,Kr+to-so,ga+io),Rr.lineTo(Kr+so,ga+io),Rr.quadraticCurveTo(Kr,ga+io,Kr,ga+io-so),Rr.lineTo(Kr,ga+so),Rr.quadraticCurveTo(Kr,ga,Kr+so,ga),Rr.closePath(),Rr.fill(),Rr.stroke()}(bn,Er.x,Er.y,Er.width,Er.height,xt.nn/2)}),bn.restore()),bn.restore(),{atLeastOneVisibleElement:yn.length>0,scrollBars:Nt}},lt=(0,fn.hR)(function(rn){var _t,St=_e(rn);(_t=rn.callback)===null||_t===void 0||_t.call(rn,St)},{trailing:!0}),st=function(rn,_t){var St;if(!_t){var Vt=_e(rn);return(St=rn.callback)===null||St===void 0||St.call(rn,Vt),Vt}lt(rn)},It=function(rn,_t,St,Vt){Object.keys(St).forEach(function(Pt){var qt=St[Pt];if(qt!==void 0){var dn=(0,ht.Z)(qt,4),Rt=dn[0],Zt=dn[1],zt=dn[2],ft=dn[3];rn.save(),rn.lineWidth=1/_t.zoom.value,_t.selectionColor&&(rn.strokeStyle=_t.selectionColor),Pt==="rotation"?At(rn,Rt+zt/2,Zt+ft/2,zt/2):rn.roundRect?(rn.beginPath(),rn.roundRect(Rt,Zt,zt,ft,2/_t.zoom.value),rn.fill(),rn.stroke()):Et(rn,Rt,Zt,zt,ft,Rt+zt/2,Zt+ft/2,Vt,!0),rn.restore()}})},Dt=function(rn,_t,St){var Vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*bt,Pt=St.angle,qt=St.elementX1,dn=St.elementY1,Rt=St.elementX2,Zt=St.elementY2,zt=St.selectionColors,ft=St.cx,Gt=St.cy,wt=St.dashed,Jt=Rt-qt,Mt=Zt-dn,un=Vt/_t.zoom.value,bn=8/_t.zoom.value,jt=4/_t.zoom.value;rn.save(),rn.translate(_t.scrollX,_t.scrollY),rn.lineWidth=1/_t.zoom.value;for(var Fn=zt.length,yn=0;yn<Fn;++yn)rn.strokeStyle=zt[yn],wt&&rn.setLineDash([bn,jt+(bn+jt)*(Fn-1)]),rn.lineDashOffset=(bn+jt)*yn,Et(rn,qt-un,dn-un,Jt+2*un,Mt+2*un,ft,Gt,Pt);rn.restore()},tn=function(rn,_t,St){var Vt=Array.isArray(St)?$t:Tt;rn.save(),rn.translate(_t.scrollX,_t.scrollY),Vt(rn,St),rn.restore()},Tt=function(rn,_t){var St=(0,gt.qf)(_t),Vt=(0,ht.Z)(St,4),Pt=Vt[0],qt=Vt[1],dn=Vt[2]-Pt,Rt=Vt[3]-qt,Zt=(0,cn.fb)(_t,dn,Rt);rn.strokeStyle="rgba(0,0,0,.05)",rn.lineWidth=Zt-4;var zt=2+Zt/2;switch(_t.type){case"rectangle":case"text":case"image":Et(rn,Pt-zt,qt-zt,dn+2*zt,Rt+2*zt,Pt+dn/2,qt+Rt/2,_t.angle);break;case"diamond":var ft=Math.hypot(dn,Rt);(function(Gt,wt,Jt,Mt,un,bn){Gt.save(),Gt.translate(Mt,un),Gt.rotate(bn),Gt.beginPath(),Gt.moveTo(0,Jt/2),Gt.lineTo(wt/2,0),Gt.lineTo(0,-Jt/2),Gt.lineTo(-wt/2,0),Gt.closePath(),Gt.stroke(),Gt.restore()})(rn,dn+2*(zt*ft/Rt),Rt+2*(zt*ft/dn),Pt+dn/2,qt+Rt/2,_t.angle);break;case"ellipse":(function(Gt,wt,Jt,Mt,un,bn){Gt.beginPath(),Gt.ellipse(Mt,un,wt/2,Jt/2,bn,0,2*Math.PI),Gt.stroke()})(rn,dn+2*zt,Rt+2*zt,Pt+dn/2,qt+Rt/2,_t.angle)}},$t=function(rn,_t){var St=(0,ht.Z)(_t,3),Vt=St[0],Pt=St[1],qt=St[2],dn=(0,cn.fb)(qt,qt.width,qt.height);rn.strokeStyle="rgba(0,0,0,0)",rn.fillStyle="rgba(0,0,0,.05)",(Pt==="both"?[0,-1]:Pt==="start"?[0]:[-1]).forEach(function(Rt){var Zt=Xt._.getPointAtIndexGlobalCoordinates(Vt,Rt),zt=(0,ht.Z)(Zt,2),ft=zt[0],Gt=zt[1];At(rn,ft,Gt,dn)})},Wt=function(rn,_t,St){if(rn.link&&!St.selectedElementIds[rn.id]){var Vt=(0,gt.qf)(rn),Pt=(0,ht.Z)(Vt,4),qt=Pt[0],dn=Pt[1],Rt=Pt[2],Zt=Pt[3],zt=(0,mn.sw)([qt,dn,Rt,Zt],rn.angle,St),ft=(0,ht.Z)(zt,4),Gt=ft[0],wt=ft[1],Jt=ft[2],Mt=ft[3],un=Gt+Jt/2,bn=wt+Mt/2;if(_t.save(),_t.translate(St.scrollX+un,St.scrollY+bn),_t.rotate(rn.angle),Ht&&Ht.zoom===St.zoom.value)_t.drawImage(Ht,Gt-un,wt-bn,Jt,Mt);else{(Ht=document.createElement("canvas")).zoom=St.zoom.value,Ht.width=Jt*window.devicePixelRatio*St.zoom.value,Ht.height=Mt*window.devicePixelRatio*St.zoom.value;var jt=Ht.getContext("2d");jt.scale(window.devicePixelRatio*St.zoom.value,window.devicePixelRatio*St.zoom.value),jt.fillStyle="#fff",jt.fillRect(0,0,Jt,Mt),jt.drawImage(mn.rj,0,0,Jt,Mt),jt.restore(),_t.drawImage(Ht,Gt-un,wt-bn,Jt,Mt)}_t.restore()}},Ot=function(rn,_t,St,Vt){var Pt=(0,gt.Pi)(rn),qt=(0,ht.Z)(Pt,4),dn=qt[0],Rt=qt[1],Zt=qt[2],zt=qt[3],ft=(0,fn.dE)({clientX:Vt.offsetLeft,clientY:Vt.offsetTop},Vt),Gt=(0,fn.dE)({clientX:Vt.offsetLeft+_t,clientY:Vt.offsetTop+St},Vt);return ft.x<=Zt&&ft.y<=zt&&Gt.x>=dn&&Gt.y>=Rt},In=function(rn,_t,St,Vt){var Pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},qt=Pt.offsetX,dn=qt===void 0?0:qt,Rt=Pt.offsetY,Zt=Rt===void 0?0:Rt,zt=Pt.exportWithDarkMode,ft=zt!==void 0&&zt;St&&rn.forEach(function(Gt,wt){if(!Gt.isDeleted)try{(0,rt.Rg)(Gt,_t,St,Vt,Gt.x+dn,Gt.y+Zt,ft)}catch(Jt){console.error(Jt)}})}},1564:function(Lt,kt,_){var pt=_(1930),ht=_(8821),ot=_(5169),at=_(1047),gt=function(Ut){return typeof Ut=="string"},xt=function(){function Ut(){(0,ht.Z)(this,Ut),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,ot.Z)(Ut,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(rt){return this.elementsMap.get(rt)||null}},{key:"getNonDeletedElement",value:function(rt){var vt=this.getElement(rt);return vt&&(0,at.qP)(vt)?vt:null}},{key:"mapElements",value:function(rt){var vt=!1,Xt=this.elements.map(function(nn){var cn=rt(nn);return cn!==nn&&(vt=!0),cn});return vt&&this.replaceAllElements(Xt),vt}},{key:"replaceAllElements",value:function(rt){var vt=this;this.elements=rt,this.elementsMap.clear(),rt.forEach(function(Xt){vt.elementsMap.set(Xt.id,Xt),Ut.mapElementToScene(Xt,vt)}),this.nonDeletedElements=(0,at.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var rt=0,vt=Array.from(this.callbacks);rt<vt.length;rt++)(0,vt[rt])()}},{key:"addCallback",value:function(rt){var vt=this;if(this.callbacks.has(rt))throw new Error;return this.callbacks.add(rt),function(){if(!vt.callbacks.has(rt))throw new Error;vt.callbacks.delete(rt)}}},{key:"destroy",value:function(){var rt=this;Ut.sceneMapById.forEach(function(vt,Xt){vt===rt&&Ut.sceneMapById.delete(Xt)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(rt,vt){if(!Number.isFinite(vt)||vt<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var Xt=[].concat((0,pt.Z)(this.elements.slice(0,vt)),[rt],(0,pt.Z)(this.elements.slice(vt)));this.replaceAllElements(Xt)}},{key:"getElementIndex",value:function(rt){return this.elements.findIndex(function(vt){return vt.id===rt})}}],[{key:"mapElementToScene",value:function(rt,vt){gt(rt)?this.sceneMapById.set(rt,vt):(this.sceneMapByElement.set(rt,vt),this.sceneMapById.set(rt.id,vt))}},{key:"getScene",value:function(rt){return gt(rt)?this.sceneMapById.get(rt)||null:this.sceneMapByElement.get(rt)||null}}]),Ut}();xt.sceneMapByElement=new WeakMap,xt.sceneMapById=new Map,kt.Z=xt},8120:function(Lt,kt,_){_.d(kt,{$b:function(){return pt},CJ:function(){return vt},M9:function(){return at},PD:function(){return ht},QG:function(){return rt},Un:function(){return Ut},Zd:function(){return ot},bZ:function(){return xt},sh:function(){return gt}});var pt=function(Xt){return Xt==="rectangle"||Xt==="ellipse"||Xt==="diamond"||Xt==="line"||Xt==="freedraw"},ht=function(Xt){return Xt!=="image"},ot=function(Xt){return Xt==="rectangle"||Xt==="ellipse"||Xt==="diamond"||Xt==="freedraw"||Xt==="arrow"||Xt==="line"},at=function(Xt){return Xt==="rectangle"||Xt==="ellipse"||Xt==="diamond"||Xt==="arrow"||Xt==="line"},gt=function(Xt){return Xt==="rectangle"||Xt==="arrow"||Xt==="line"||Xt==="diamond"},xt=function(Xt){return Xt==="text"},Ut=function(Xt){return Xt==="arrow"},rt=function(Xt,nn){for(var cn=null,Qt=Xt.length-1;Qt>=0;--Qt){var hn=Xt[Qt];if(!hn.isDeleted&&nn(hn)){cn=hn;break}}return cn},vt=function(Xt,nn){return Xt.filter(function(cn){return!cn.isDeleted&&nn(cn)})}},4162:function(Lt,kt,_){_.d(kt,{$D:function(){return fn},Cg:function(){return mn},NL:function(){return hn},oj:function(){return Qt}});var pt=_(2577),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(8234),xt=_(8925),Ut=_(3547),rt=_(6340),vt=_(2335),Xt=_(8897),nn=_(5523),cn=_(5637),Qt="<!-- svg-source:excalidraw -->",hn=function(){var pn=(0,ht.Z)(at().mark(function vn(yt,Ht,Bt,bt){var Et,At,Ct,ct,it,_e,lt,st,It,Dt,tn,Tt,$t,Wt,Ot,In,rn,_t,St=arguments;return at().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Et=bt.exportBackground,At=bt.exportPadding,Ct=At===void 0?vt.qy:At,ct=bt.viewBackgroundColor,it=St.length>4&&St[4]!==void 0?St[4]:function(Pt,qt){var dn=document.createElement("canvas");return dn.width=Pt*Ht.exportScale,dn.height=qt*Ht.exportScale,{canvas:dn,scale:Ht.exportScale}},_e=Nn(yt,Ct),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Dt=lt[2],tn=lt[3],Tt=it(Dt,tn),$t=Tt.canvas,Wt=Tt.scale,Ot=Wt===void 0?1:Wt,In=(0,Xt.im)(),Vt.next=7,(0,cn.Xx)({imageCache:new Map,fileIds:(0,cn.oA)(yt).map(function(Pt){return Pt.fileId}),files:Bt});case 7:return rn=Vt.sent,_t=rn.imageCache,(0,Ut.Eu)({elements:yt,appState:Ht,scale:Ot,rc:gt.Z.canvas($t),canvas:$t,renderConfig:{viewBackgroundColor:Et?ct:null,scrollX:-st+Ct,scrollY:-It+Ct,zoom:In.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:Ht.exportWithDarkMode?"dark":"light",imageCache:_t,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),Vt.abrupt("return",$t);case 11:case"end":return Vt.stop()}},vn)}));return function(vn,yt,Ht,Bt){return pn.apply(this,arguments)}}(),fn=function(){var pn=(0,ht.Z)(at().mark(function vn(yt,Ht,Bt,bt){var Et,At,Ct,ct,it,_e,lt,st,It,Dt,tn,Tt,$t,Wt,Ot,In,rn,_t,St;return at().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(Et=Ht.exportPadding,At=Et===void 0?vt.qy:Et,Ct=Ht.viewBackgroundColor,ct=Ht.exportScale,it=ct===void 0?1:ct,_e=Ht.exportEmbedScene,lt="",!_e){Vt.next=14;break}return Vt.prev=3,Vt.next=6,Promise.resolve().then(_.bind(_,673));case 6:return Vt.next=8,Vt.sent.encodeSvgMetadata({text:bt!=null&&bt.serializeAsJSON?bt==null||(st=bt.serializeAsJSON)===null||st===void 0?void 0:st.call(bt):(0,nn.I_)(yt,Ht,Bt||{},"local")});case 8:lt=Vt.sent,Vt.next=14;break;case 11:Vt.prev=11,Vt.t0=Vt.catch(3),console.error(Vt.t0);case 14:return It=Nn(yt,At),Dt=(0,pt.Z)(It,4),tn=Dt[0],Tt=Dt[1],$t=Dt[2],Wt=Dt[3],(Ot=document.createElementNS(vt.hR,"svg")).setAttribute("version","1.1"),Ot.setAttribute("xmlns",vt.hR),Ot.setAttribute("viewBox","0 0 ".concat($t," ").concat(Wt)),Ot.setAttribute("width","".concat($t*it)),Ot.setAttribute("height","".concat(Wt*it)),Ht.exportWithDarkMode&&Ot.setAttribute("filter",vt.ZF),In="https://excalidraw.com/",In=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2"),(rn=In)!==null&&rn!==void 0&&rn.startsWith("/")&&(In=In.replace("/","".concat(window.location.origin,"/"))),In="".concat(In,"/dist/excalidraw-assets/"),Ot.innerHTML=`
  `.concat(Qt,`
  `).concat(lt,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(In,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(In,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),Ht.exportBackground&&Ct&&((_t=Ot.ownerDocument.createElementNS(vt.hR,"rect")).setAttribute("x","0"),_t.setAttribute("y","0"),_t.setAttribute("width","".concat($t)),_t.setAttribute("height","".concat(Wt)),_t.setAttribute("fill",Ct),Ot.appendChild(_t)),St=gt.Z.svg(Ot),(0,Ut.M_)(yt,St,Ot,Bt||{},{offsetX:-tn+At,offsetY:-Tt+At,exportWithDarkMode:Ht.exportWithDarkMode}),Vt.abrupt("return",Ot);case 29:case"end":return Vt.stop()}},vn,null,[[3,11]])}));return function(vn,yt,Ht,Bt){return pn.apply(this,arguments)}}(),Nn=function(pn,vn){var yt=(0,xt.KP)(pn),Ht=(0,pt.Z)(yt,4),Bt=Ht[0],bt=Ht[1],Et=Ht[2],At=Ht[3];return[Bt,bt,(0,rt.TE)(Bt,Et)+2*vn,(0,rt.TE)(bt,At)+vn+vn]},mn=function(pn,vn,yt){var Ht=Nn(pn,vn).map(function(bt){return Math.trunc(bt*yt)}),Bt=(0,pt.Z)(Ht,4);return[Bt[2],Bt[3]]}},75:function(Lt,kt,_){_.d(kt,{$b:function(){return at.$b},CJ:function(){return at.CJ},M9:function(){return at.M9},N:function(){return ht.N},PR:function(){return ht.PR},QG:function(){return at.QG},Un:function(){return at.Un},W:function(){return ot.W},Yp:function(){return ht.Yp},Zd:function(){return at.Zd},Zs:function(){return ht.Zs},_4:function(){return pt._4},bZ:function(){return at.bZ},eD:function(){return ht.eD},j:function(){return gt.j},sh:function(){return at.sh}});var pt=_(756),ht=_(1868),ot=_(2264),at=_(8120),gt=_(746)},2264:function(Lt,kt,_){_.d(kt,{W:function(){return gt},s:function(){return at}});var pt=_(2577),ht=_(1047),ot=_(6340),at=function(xt){var Ut=xt.scenePoint,rt=xt.viewportDimensions,vt=xt.zoom;return{scrollX:rt.width/2/vt.value-Ut.x,scrollY:rt.height/2/vt.value-Ut.y}},gt=function(xt,Ut,rt){if(!(xt=(0,ht.n_)(xt)).length)return{scrollX:0,scrollY:0};var vt=(0,ht.KP)(xt),Xt=(0,pt.Z)(vt,4),nn=Xt[0],cn=Xt[1],Qt=Xt[2],hn=Xt[3];if(function(mn,pn,vn){var yt=(0,pt.Z)(vn,4),Ht=yt[0],Bt=yt[1],bt=yt[2],Et=yt[3],At=(0,ot._i)({sceneX:Ht,sceneY:Bt},mn),Ct=At.x,ct=At.y,it=(0,ot._i)({sceneX:bt,sceneY:Et},mn),_e=it.x,lt=it.y;return _e-Ct>mn.width||lt-ct>mn.height}(Ut,0,[nn,cn,Qt,hn])){var fn=(0,ht.os)(xt,(0,ot.dE)({clientX:Ut.scrollX,clientY:Ut.scrollY},Ut)),Nn=(0,pt.Z)(fn,4);nn=Nn[0],cn=Nn[1],Qt=Nn[2],hn=Nn[3]}return at({scenePoint:{x:(nn+Qt)/2,y:(cn+hn)/2},viewportDimensions:{width:Ut.width,height:Ut.height},zoom:Ut.zoom})}},756:function(Lt,kt,_){_.d(kt,{WM:function(){return gt},_4:function(){return vt},nn:function(){return xt},tJ:function(){return rt},w1:function(){return Ut}});var pt=_(2577),ht=_(1047),ot=_(6340),at=_(8211),gt=4,xt=6,Ut="rgba(0,0,0,0.3)",rt=function(Xt,nn,cn,Qt){var hn=Qt.scrollX,fn=Qt.scrollY,Nn=Qt.zoom;if(Xt.length===0)return{horizontal:null,vertical:null};var mn=(0,ht.KP)(Xt),pn=(0,pt.Z)(mn,4),vn=pn[0],yt=pn[1],Ht=pn[2],Bt=pn[3],bt=nn/Nn.value,Et=cn/Nn.value,At=nn-bt,Ct=cn-Et,ct={top:parseInt((0,ot.IH)("sat")),bottom:parseInt((0,ot.IH)("sab")),left:parseInt((0,ot.IH)("sal")),right:parseInt((0,ot.IH)("sar"))},it=(0,at.G3)().rtl,_e=At/2-hn+ct.left,lt=Ct/2-fn+ct.top,st=_e+bt-ct.right,It=lt+Et-ct.bottom,Dt=Math.min(vn,_e),tn=Math.min(yt,lt),Tt=Math.max(Ht,st),$t=Math.max(Bt,It);return{horizontal:_e===Dt&&st===Tt?null:{x:Math.max(ct.left,gt)+(_e-Dt)/(Tt-Dt)*nn,y:cn-xt-Math.max(gt,ct.bottom),width:(st-_e)/(Tt-Dt)*nn-Math.max(2*gt,ct.left+ct.right),height:xt},vertical:lt===tn&&It===$t?null:{x:it?Math.max(ct.left,gt):nn-xt-Math.max(ct.right,gt),y:(lt-tn)/($t-tn)*cn+Math.max(ct.top,gt),width:xt,height:(It-lt)/($t-tn)*cn-Math.max(2*gt,ct.top+ct.bottom)}}},vt=function(Xt,nn,cn){var Qt=[Xt.horizontal,Xt.vertical].map(function(mn){return mn!=null&&mn.x<=nn&&nn<=mn.x+mn.width&&mn.y<=cn&&cn<=mn.y+mn.height}),hn=(0,pt.Z)(Qt,2),fn=hn[0],Nn=hn[1];return{isOverEither:fn||Nn,isOverHorizontal:fn,isOverVertical:Nn}}},1868:function(Lt,kt,_){_.d(kt,{N:function(){return gt},PR:function(){return xt},Yp:function(){return at},Zs:function(){return rt},eD:function(){return Ut}});var pt=_(2577),ht=_(1047),ot=_(1974),at=function(vt,Xt){var nn=(0,ht.qf)(Xt),cn=(0,pt.Z)(nn,4),Qt=cn[0],hn=cn[1],fn=cn[2],Nn=cn[3];return vt.filter(function(mn){var pn=(0,ht.Pi)(mn),vn=(0,pt.Z)(pn,4),yt=vn[0],Ht=vn[1],Bt=vn[2],bt=vn[3];return mn.locked===!1&&mn.type!=="selection"&&!(0,ot.Xh)(mn)&&Qt<=yt&&hn<=Ht&&fn>=Bt&&Nn>=bt})},gt=function(vt,Xt){return vt.some(function(nn){return Xt.selectedElementIds[nn.id]})},xt=function(vt,Xt,nn){var cn=Array.from(new Set(Ut(vt,Xt).map(function(Qt){return nn(Qt)})));return cn.length===1?cn[0]:null},Ut=function(vt,Xt){var nn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return vt.filter(function(cn){return Xt.selectedElementIds[cn.id]||nn&&(0,ot.Xh)(cn)&&Xt.selectedElementIds[cn==null?void 0:cn.containerId]?cn:null})},rt=function(vt,Xt){return Xt.editingElement?[Xt.editingElement]:Ut(vt,Xt,!0)}},746:function(Lt,kt,_){_.d(kt,{E:function(){return ot},j:function(){return ht}});var pt=_(2335),ht=function(at){return Math.max(pt.Zj,Math.min(at,30))},ot=function(at,gt){var xt=at.viewportX,Ut=at.viewportY,rt=at.nextZoom,vt=xt-gt.offsetLeft,Xt=Ut-gt.offsetTop,nn=gt.zoom.value;return{scrollX:gt.scrollX+(vt-vt/nn)+-(vt-vt/rt),scrollY:gt.scrollY+(Xt-Xt/nn)+-(Xt-Xt/rt),zoom:{value:rt}}}},6340:function(Lt,kt,_){_.d(kt,{$9:function(){return Zt},$g:function(){return mn},$h:function(){return yn},AK:function(){return _t},B4:function(){return Et},C3:function(){return Jt},Ds:function(){return vn},FG:function(){return St},Fc:function(){return cn},G3:function(){return wt},I4:function(){return un},IH:function(){return Ot},Ip:function(){return ft},KJ:function(){return _e},Mj:function(){return Cn},OF:function(){return lt},Om:function(){return ct},Oo:function(){return Qt},PI:function(){return dn},Pr:function(){return tn},Q5:function(){return zt},Qm:function(){return qt},TE:function(){return Ct},Uk:function(){return st},_Z:function(){return fn},_i:function(){return Wt},ag:function(){return jt},cx:function(){return Vt},dE:function(){return $t},dZ:function(){return rn},h2:function(){return bn},hR:function(){return yt},mO:function(){return pn},qr:function(){return Pt},qz:function(){return Gt},rB:function(){return It},s:function(){return Nn},tH:function(){return Rt},uY:function(){return Tt},v4:function(){return Fn},w8:function(){return Xn},wO:function(){return hn},wo:function(){return Dt},xn:function(){return Mt},xp:function(){return Nt},y8:function(){return Gn},yo:function(){return At},z8:function(){return it}});var pt=_(6655),ht=_(7169),ot=_(1930),at=_(2577),gt=_(5284),xt=_(56),Ut=_(2335),rt=_(5156),vt=_(8897);function Xt(xn,Tn){var Pn=Object.keys(xn);if(Object.getOwnPropertySymbols){var tr=Object.getOwnPropertySymbols(xn);Tn&&(tr=tr.filter(function(ir){return Object.getOwnPropertyDescriptor(xn,ir).enumerable})),Pn.push.apply(Pn,tr)}return Pn}function nn(xn){for(var Tn=1;Tn<arguments.length;Tn++){var Pn=arguments[Tn]!=null?arguments[Tn]:{};Tn%2?Xt(Object(Pn),!0).forEach(function(tr){(0,ht.Z)(xn,tr,Pn[tr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xn,Object.getOwnPropertyDescriptors(Pn)):Xt(Object(Pn)).forEach(function(tr){Object.defineProperty(xn,tr,Object.getOwnPropertyDescriptor(Pn,tr))})}return xn}var cn=function(){var xn=new Date,Tn=xn.getFullYear(),Pn="".concat(xn.getMonth()+1).padStart(2,"0"),tr="".concat(xn.getDate()).padStart(2,"0"),ir="".concat(xn.getHours()).padStart(2,"0"),gr="".concat(xn.getMinutes()).padStart(2,"0");return"".concat(Tn,"-").concat(Pn,"-").concat(tr,"-").concat(ir).concat(gr)},Qt=function(xn){return xn.charAt(0).toUpperCase()+xn.slice(1)},hn=function(xn){return xn instanceof HTMLElement&&xn.className.includes("ToolIcon")},fn=function(xn){return xn instanceof HTMLElement&&xn.dataset.type==="wysiwyg"||xn instanceof HTMLBRElement||xn instanceof HTMLInputElement||xn instanceof HTMLTextAreaElement||xn instanceof HTMLSelectElement},Nn=function(xn){return xn instanceof HTMLElement&&xn.dataset.type==="wysiwyg"||xn instanceof HTMLBRElement||xn instanceof HTMLTextAreaElement||xn instanceof HTMLInputElement&&(xn.type==="text"||xn.type==="number")},mn=function(xn){for(var Tn=xn.fontFamily,Pn=0,tr=Object.entries(Ut.ut);Pn<tr.length;Pn++){var ir=(0,at.Z)(tr[Pn],2),gr=ir[0];if(ir[1]===Tn)return"".concat(gr,", ").concat(Ut._D)}return Ut._D},pn=function(xn){var Tn=xn.fontSize,Pn=xn.fontFamily;return"".concat(Tn,"px ").concat(mn({fontFamily:Pn}))},vn=function(xn,Tn){var Pn=0,tr=null,ir=function(){for(var gr=arguments.length,Wn=new Array(gr),ln=0;ln<gr;ln++)Wn[ln]=arguments[ln];tr=Wn,clearTimeout(Pn),Pn=window.setTimeout(function(){tr=null,xn.apply(void 0,Wn)},Tn)};return ir.flush=function(){if(clearTimeout(Pn),tr){var gr=tr;tr=null,xn.apply(void 0,(0,ot.Z)(gr))}},ir.cancel=function(){tr=null,clearTimeout(Pn)},ir},yt=function(xn,Tn){var Pn=null,tr=null,ir=null,gr=function ln(Un){Pn=window.requestAnimationFrame(function(){Pn=null,xn.apply(void 0,(0,ot.Z)(Un)),tr=null,ir&&(tr=ir,ir=null,ln(tr))})},Wn=function(){for(var ln=arguments.length,Un=new Array(ln),wn=0;wn<ln;wn++)Un[wn]=arguments[wn];tr=Un,Pn===null?gr(tr):Tn!=null&&Tn.trailing&&(ir=Un)};return Wn.flush=function(){Pn!==null&&(cancelAnimationFrame(Pn),Pn=null),tr&&(xn.apply(void 0,(0,ot.Z)(ir||tr)),tr=ir=null)},Wn.cancel=function(){tr=ir=null,Pn!==null&&(cancelAnimationFrame(Pn),Pn=null)},Wn};function Ht(xn){return 1-Math.pow(1-xn,4)}var Bt,bt,Et=function(xn,Tn,Pn,tr){var ir,gr=!1,Wn=0,ln=(tr==null?void 0:tr.duration)||250,Un=(tr==null?void 0:tr.easeFn)||Ht;return Wn=window.requestAnimationFrame(function wn(Mn){if(!gr){ir===void 0&&(ir=Mn);var zn=Mn-ir;if(zn<ln){var jn=Un(zn/ln),$n=xn.map(function(cr,or){return(Tn[or]-cr)*jn+cr});Pn.apply(void 0,(0,ot.Z)($n)),Wn=window.requestAnimationFrame(wn)}else Pn.apply(void 0,(0,ot.Z)(Tn))}}),function(){gr=!0,window.cancelAnimationFrame(Wn)}},At=function(xn,Tn){if(!xn.length||Tn<1)return[];for(var Pn=0,tr=0,ir=Array(Math.ceil(xn.length/Tn));Pn<xn.length;)ir[tr++]=xn.slice(Pn,Pn+=Tn);return ir},Ct=function(xn,Tn){return Math.abs(xn-Tn)},ct=function(xn,Tn){return Tn.type==="custom"?nn(nn({},xn.activeTool),{},{type:"custom",customType:Tn.customType}):nn(nn({},xn.activeTool),{},{lastActiveTool:Tn.lastActiveToolBeforeEraser===void 0?xn.activeTool.lastActiveTool:Tn.lastActiveToolBeforeEraser,type:Tn.type,customType:null})},it=function(xn){xn&&(xn.style.cursor="")},_e=function(xn,Tn){xn&&(xn.style.cursor=Tn)},lt=function(xn,Tn){Bt&&Bt.theme===Tn||function(){var Pn=Tn===Ut.C6.DARK;(Bt=document.createElement("canvas")).theme=Tn,Bt.height=20,Bt.width=20;var tr=Bt.getContext("2d");tr.lineWidth=1,tr.beginPath(),tr.arc(Bt.width/2,Bt.height/2,5,0,2*Math.PI),tr.fillStyle=Pn?gt.black:gt.white,tr.fill(),tr.strokeStyle=Pn?gt.white:gt.black,tr.stroke(),bt=Bt.toDataURL(Ut.LO.svg)}(),_e(xn,"url(".concat(bt,") ").concat(10," ").concat(10,", auto"))},st=function(xn,Tn){xn&&(Tn.activeTool.type==="selection"?it(xn):(0,vt.l$)(Tn)?xn.style.cursor=Ut.oc.GRAB:(0,vt.EN)(Tn)?lt(xn,Tn.theme):["image","custom"].includes(Tn.activeTool.type)||(xn.style.cursor=Ut.oc.CROSSHAIR))},It=function(){var xn;return((xn=document.fullscreenElement)===null||xn===void 0?void 0:xn.nodeName)==="HTML"},Dt=function(){return document.documentElement.requestFullscreen()},tn=function(){return document.exitFullscreen()},Tt=function(xn){return xn=xn.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),Ut.Um?xn.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):xn.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},$t=function(xn,Tn){var Pn=xn.clientX,tr=xn.clientY,ir=Tn.zoom,gr=Tn.offsetLeft,Wn=Tn.offsetTop,ln=Tn.scrollX,Un=Tn.scrollY;return{x:(Pn-gr)/ir.value-ln,y:(tr-Wn)/ir.value-Un}},Wt=function(xn,Tn){var Pn=xn.sceneX,tr=xn.sceneY,ir=Tn.zoom,gr=Tn.offsetLeft,Wn=Tn.offsetTop,ln=Tn.scrollX,Un=Tn.scrollY;return{x:(Pn+ln)*ir.value+gr,y:(tr+Un)*ir.value+Wn}},Ot=function(xn){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(xn))},In=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),rn=function(xn){return In.test(xn)},_t=function(xn){var Tn=(0,at.Z)(xn,2);return{x:Tn[0],y:Tn[1]}},St=function(xn){if((xn==null?void 0:xn.name)!=="AbortError")throw xn;console.warn(xn)},Vt=function(xn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Pn<0&&(Pn=xn.length+Pn);for(var tr=(Pn=Math.min(xn.length,Math.max(Pn,0)))-1;++tr<xn.length;)if(Tn(xn[tr],tr,xn))return tr;return-1},Pt=function(xn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xn.length-1;Pn<0&&(Pn=xn.length+Pn);for(var tr=(Pn=Math.min(xn.length-1,Math.max(Pn,0)))+1;--tr>-1;)if(Tn(xn[tr],tr,xn))return tr;return-1},qt=function(xn){var Tn=xn.length===5&&xn.substr(4,1)==="0",Pn=xn.length===9&&xn.substr(7,2)==="00";return Tn||Pn||xn===xt.Z.elementBackground[0]},dn=function(){var xn,Tn,Pn=new Promise(function(tr,ir){xn=tr,Tn=ir});return Pn.resolve=xn,Pn.reject=Tn,Pn},Rt=function(xn){return function(Tn){(0,rt.unstable_batchedUpdates)(xn,Tn)}},Zt=function(xn){return yt(function(Tn){(0,rt.unstable_batchedUpdates)(xn,Tn)})},zt=function(){var xn=document.createElement("canvas").getContext("2d");return xn?(xn.fillStyle="#f00",xn.textBaseline="top",xn.font="32px Arial",xn.fillText("😀",0,0),xn.getImageData(12,12,1,1).data[0]!==0):!1},ft=function(xn){for(var Tn=xn.parentElement;Tn;){if(Tn===document.body)return document;var Pn=window.getComputedStyle(Tn).overflowY;if(Tn.scrollHeight>Tn.clientHeight&&(Pn==="auto"||Pn==="scroll"||Pn==="overlay"))return Tn;Tn=Tn.parentElement}return document},Gt=function(xn){for(var Tn=xn.parentElement;Tn;){if(Tn.tabIndex>-1)return void Tn.focus();Tn=Tn.parentElement}},wt=function(xn){return Array.from(xn).map(function(Tn){return"0".concat(Tn.toString(16)).slice(-2)}).join("")},Jt=function(){return bn()?1:Date.now()},Mt=function(xn){return xn.reduce(function(Tn,Pn){return Tn.set(typeof Pn=="string"?Pn:Pn.id,Pn),Tn},new Map)},un=function(xn){return xn.reduce(function(Tn,Pn,tr){return Tn.set(Pn.id,[Pn,tr]),Tn},new Map)},bn=function(){return!1},jt=function(xn,Tn){return new CustomEvent(xn,{detail:{nativeEvent:Tn},cancelable:!0})},Fn=function(xn,Tn){var Pn=!1;for(var tr in Tn){var ir=Tn[tr];if(ir!==void 0){if(xn[tr]===ir&&((0,pt.Z)(ir)!=="object"||ir===null))continue;Pn=!0}}return Pn?nn(nn({},xn),Tn):xn},yn=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Gn=function(xn){return!!xn&&(0,pt.Z)(xn)==="object"&&"then"in xn&&"catch"in xn&&"finally"in xn},Nt=function(xn){var Tn=xn==null?void 0:xn.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return Tn?Array.from(Tn).filter(function(Pn){return Pn.tabIndex>-1&&!Pn.disabled}):[]},Xn=function(xn,Tn){var Pn=Object.keys(xn),tr=Object.keys(xn);return Pn.length===tr.length&&Pn.every(function(ir){return xn[ir]===Tn[ir]})},Cn=function(xn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tr=Pn.checkForDefaultPrevented,ir=tr===void 0||tr;return function(gr){if(xn==null||xn(gr),!ir||!gr.defaultPrevented)return Tn==null?void 0:Tn(gr)}}},9669:function(Lt){Lt.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(Lt){Lt.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(Lt){Lt.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Cascadia.woff2"},3940:function(Lt,kt,_){Lt.exports=_.p+"excalidraw-assets/Virgil.woff2"},9787:function(Lt){Lt.exports=$},5156:function(Lt){Lt.exports=tt},9649:function(Lt,kt,_){var pt=_(8114).default;function ht(){Lt.exports=ht=function(){return ot},Lt.exports.__esModule=!0,Lt.exports.default=Lt.exports;var ot={},at=Object.prototype,gt=at.hasOwnProperty,xt=Object.defineProperty||function(st,It,Dt){st[It]=Dt.value},Ut=typeof Symbol=="function"?Symbol:{},rt=Ut.iterator||"@@iterator",vt=Ut.asyncIterator||"@@asyncIterator",Xt=Ut.toStringTag||"@@toStringTag";function nn(st,It,Dt){return Object.defineProperty(st,It,{value:Dt,enumerable:!0,configurable:!0,writable:!0}),st[It]}try{nn({},"")}catch{nn=function(It,Dt,tn){return It[Dt]=tn}}function cn(st,It,Dt,tn){var Tt=It&&It.prototype instanceof fn?It:fn,$t=Object.create(Tt.prototype),Wt=new it(tn||[]);return xt($t,"_invoke",{value:Et(st,Dt,Wt)}),$t}function Qt(st,It,Dt){try{return{type:"normal",arg:st.call(It,Dt)}}catch(tn){return{type:"throw",arg:tn}}}ot.wrap=cn;var hn={};function fn(){}function Nn(){}function mn(){}var pn={};nn(pn,rt,function(){return this});var vn=Object.getPrototypeOf,yt=vn&&vn(vn(_e([])));yt&&yt!==at&&gt.call(yt,rt)&&(pn=yt);var Ht=mn.prototype=fn.prototype=Object.create(pn);function Bt(st){["next","throw","return"].forEach(function(It){nn(st,It,function(Dt){return this._invoke(It,Dt)})})}function bt(st,It){function Dt(Tt,$t,Wt,Ot){var In=Qt(st[Tt],st,$t);if(In.type!=="throw"){var rn=In.arg,_t=rn.value;return _t&&pt(_t)=="object"&&gt.call(_t,"__await")?It.resolve(_t.__await).then(function(St){Dt("next",St,Wt,Ot)},function(St){Dt("throw",St,Wt,Ot)}):It.resolve(_t).then(function(St){rn.value=St,Wt(rn)},function(St){return Dt("throw",St,Wt,Ot)})}Ot(In.arg)}var tn;xt(this,"_invoke",{value:function(Tt,$t){function Wt(){return new It(function(Ot,In){Dt(Tt,$t,Ot,In)})}return tn=tn?tn.then(Wt,Wt):Wt()}})}function Et(st,It,Dt){var tn="suspendedStart";return function(Tt,$t){if(tn==="executing")throw new Error("Generator is already running");if(tn==="completed"){if(Tt==="throw")throw $t;return lt()}for(Dt.method=Tt,Dt.arg=$t;;){var Wt=Dt.delegate;if(Wt){var Ot=At(Wt,Dt);if(Ot){if(Ot===hn)continue;return Ot}}if(Dt.method==="next")Dt.sent=Dt._sent=Dt.arg;else if(Dt.method==="throw"){if(tn==="suspendedStart")throw tn="completed",Dt.arg;Dt.dispatchException(Dt.arg)}else Dt.method==="return"&&Dt.abrupt("return",Dt.arg);tn="executing";var In=Qt(st,It,Dt);if(In.type==="normal"){if(tn=Dt.done?"completed":"suspendedYield",In.arg===hn)continue;return{value:In.arg,done:Dt.done}}In.type==="throw"&&(tn="completed",Dt.method="throw",Dt.arg=In.arg)}}}function At(st,It){var Dt=st.iterator[It.method];if(Dt===void 0){if(It.delegate=null,It.method==="throw"){if(st.iterator.return&&(It.method="return",It.arg=void 0,At(st,It),It.method==="throw"))return hn;It.method="throw",It.arg=new TypeError("The iterator does not provide a 'throw' method")}return hn}var tn=Qt(Dt,st.iterator,It.arg);if(tn.type==="throw")return It.method="throw",It.arg=tn.arg,It.delegate=null,hn;var Tt=tn.arg;return Tt?Tt.done?(It[st.resultName]=Tt.value,It.next=st.nextLoc,It.method!=="return"&&(It.method="next",It.arg=void 0),It.delegate=null,hn):Tt:(It.method="throw",It.arg=new TypeError("iterator result is not an object"),It.delegate=null,hn)}function Ct(st){var It={tryLoc:st[0]};1 in st&&(It.catchLoc=st[1]),2 in st&&(It.finallyLoc=st[2],It.afterLoc=st[3]),this.tryEntries.push(It)}function ct(st){var It=st.completion||{};It.type="normal",delete It.arg,st.completion=It}function it(st){this.tryEntries=[{tryLoc:"root"}],st.forEach(Ct,this),this.reset(!0)}function _e(st){if(st){var It=st[rt];if(It)return It.call(st);if(typeof st.next=="function")return st;if(!isNaN(st.length)){var Dt=-1,tn=function Tt(){for(;++Dt<st.length;)if(gt.call(st,Dt))return Tt.value=st[Dt],Tt.done=!1,Tt;return Tt.value=void 0,Tt.done=!0,Tt};return tn.next=tn}}return{next:lt}}function lt(){return{value:void 0,done:!0}}return Nn.prototype=mn,xt(Ht,"constructor",{value:mn,configurable:!0}),xt(mn,"constructor",{value:Nn,configurable:!0}),Nn.displayName=nn(mn,Xt,"GeneratorFunction"),ot.isGeneratorFunction=function(st){var It=typeof st=="function"&&st.constructor;return!!It&&(It===Nn||(It.displayName||It.name)==="GeneratorFunction")},ot.mark=function(st){return Object.setPrototypeOf?Object.setPrototypeOf(st,mn):(st.__proto__=mn,nn(st,Xt,"GeneratorFunction")),st.prototype=Object.create(Ht),st},ot.awrap=function(st){return{__await:st}},Bt(bt.prototype),nn(bt.prototype,vt,function(){return this}),ot.AsyncIterator=bt,ot.async=function(st,It,Dt,tn,Tt){Tt===void 0&&(Tt=Promise);var $t=new bt(cn(st,It,Dt,tn),Tt);return ot.isGeneratorFunction(It)?$t:$t.next().then(function(Wt){return Wt.done?Wt.value:$t.next()})},Bt(Ht),nn(Ht,Xt,"Generator"),nn(Ht,rt,function(){return this}),nn(Ht,"toString",function(){return"[object Generator]"}),ot.keys=function(st){var It=Object(st),Dt=[];for(var tn in It)Dt.push(tn);return Dt.reverse(),function Tt(){for(;Dt.length;){var $t=Dt.pop();if($t in It)return Tt.value=$t,Tt.done=!1,Tt}return Tt.done=!0,Tt}},ot.values=_e,it.prototype={constructor:it,reset:function(st){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ct),!st)for(var It in this)It.charAt(0)==="t"&&gt.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=void 0)},stop:function(){this.done=!0;var st=this.tryEntries[0].completion;if(st.type==="throw")throw st.arg;return this.rval},dispatchException:function(st){if(this.done)throw st;var It=this;function Dt(In,rn){return $t.type="throw",$t.arg=st,It.next=In,rn&&(It.method="next",It.arg=void 0),!!rn}for(var tn=this.tryEntries.length-1;tn>=0;--tn){var Tt=this.tryEntries[tn],$t=Tt.completion;if(Tt.tryLoc==="root")return Dt("end");if(Tt.tryLoc<=this.prev){var Wt=gt.call(Tt,"catchLoc"),Ot=gt.call(Tt,"finallyLoc");if(Wt&&Ot){if(this.prev<Tt.catchLoc)return Dt(Tt.catchLoc,!0);if(this.prev<Tt.finallyLoc)return Dt(Tt.finallyLoc)}else if(Wt){if(this.prev<Tt.catchLoc)return Dt(Tt.catchLoc,!0)}else{if(!Ot)throw new Error("try statement without catch or finally");if(this.prev<Tt.finallyLoc)return Dt(Tt.finallyLoc)}}}},abrupt:function(st,It){for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var tn=this.tryEntries[Dt];if(tn.tryLoc<=this.prev&&gt.call(tn,"finallyLoc")&&this.prev<tn.finallyLoc){var Tt=tn;break}}Tt&&(st==="break"||st==="continue")&&Tt.tryLoc<=It&&It<=Tt.finallyLoc&&(Tt=null);var $t=Tt?Tt.completion:{};return $t.type=st,$t.arg=It,Tt?(this.method="next",this.next=Tt.finallyLoc,hn):this.complete($t)},complete:function(st,It){if(st.type==="throw")throw st.arg;return st.type==="break"||st.type==="continue"?this.next=st.arg:st.type==="return"?(this.rval=this.arg=st.arg,this.method="return",this.next="end"):st.type==="normal"&&It&&(this.next=It),hn},finish:function(st){for(var It=this.tryEntries.length-1;It>=0;--It){var Dt=this.tryEntries[It];if(Dt.finallyLoc===st)return this.complete(Dt.completion,Dt.afterLoc),ct(Dt),hn}},catch:function(st){for(var It=this.tryEntries.length-1;It>=0;--It){var Dt=this.tryEntries[It];if(Dt.tryLoc===st){var tn=Dt.completion;if(tn.type==="throw"){var Tt=tn.arg;ct(Dt)}return Tt}}throw new Error("illegal catch attempt")},delegateYield:function(st,It,Dt){return this.delegate={iterator:_e(st),resultName:It,nextLoc:Dt},this.method==="next"&&(this.arg=void 0),hn}},ot}Lt.exports=ht,Lt.exports.__esModule=!0,Lt.exports.default=Lt.exports},8114:function(Lt){function kt(_){return Lt.exports=kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},Lt.exports.__esModule=!0,Lt.exports.default=Lt.exports,kt(_)}Lt.exports=kt,Lt.exports.__esModule=!0,Lt.exports.default=Lt.exports},2975:function(Lt,kt,_){var pt=_(9649)();Lt.exports=pt;try{regeneratorRuntime=pt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=pt:Function("r","regeneratorRuntime = r")(pt)}},7017:function(Lt,kt,_){function pt(ht,ot){(ot==null||ot>ht.length)&&(ot=ht.length);for(var at=0,gt=new Array(ot);at<ot;at++)gt[at]=ht[at];return gt}_.d(kt,{Z:function(){return pt}})},3173:function(Lt,kt,_){function pt(ht){if(ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht}_.d(kt,{Z:function(){return pt}})},8950:function(Lt,kt,_){function pt(ot,at,gt,xt,Ut,rt,vt){try{var Xt=ot[rt](vt),nn=Xt.value}catch(cn){return void gt(cn)}Xt.done?at(nn):Promise.resolve(nn).then(xt,Ut)}function ht(ot){return function(){var at=this,gt=arguments;return new Promise(function(xt,Ut){var rt=ot.apply(at,gt);function vt(nn){pt(rt,xt,Ut,vt,Xt,"next",nn)}function Xt(nn){pt(rt,xt,Ut,vt,Xt,"throw",nn)}vt(void 0)})}}_.d(kt,{Z:function(){return ht}})},8821:function(Lt,kt,_){function pt(ht,ot){if(!(ht instanceof ot))throw new TypeError("Cannot call a class as a function")}_.d(kt,{Z:function(){return pt}})},5169:function(Lt,kt,_){function pt(ot,at){for(var gt=0;gt<at.length;gt++){var xt=at[gt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(ot,xt.key,xt)}}function ht(ot,at,gt){return at&&pt(ot.prototype,at),gt&&pt(ot,gt),Object.defineProperty(ot,"prototype",{writable:!1}),ot}_.d(kt,{Z:function(){return ht}})},7169:function(Lt,kt,_){function pt(ht,ot,at){return ot in ht?Object.defineProperty(ht,ot,{value:at,enumerable:!0,configurable:!0,writable:!0}):ht[ot]=at,ht}_.d(kt,{Z:function(){return pt}})},2312:function(Lt,kt,_){function pt(ht){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},pt(ht)}_.d(kt,{Z:function(){return pt}})},2248:function(Lt,kt,_){_.d(kt,{Z:function(){return ht}});var pt=_(5901);function ht(ot,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(at&&at.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),at&&(0,pt.Z)(ot,at)}},2726:function(Lt,kt,_){function pt(ht,ot){if(ht==null)return{};var at,gt,xt=function(rt,vt){if(rt==null)return{};var Xt,nn,cn={},Qt=Object.keys(rt);for(nn=0;nn<Qt.length;nn++)Xt=Qt[nn],vt.indexOf(Xt)>=0||(cn[Xt]=rt[Xt]);return cn}(ht,ot);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ht);for(gt=0;gt<Ut.length;gt++)at=Ut[gt],ot.indexOf(at)>=0||Object.prototype.propertyIsEnumerable.call(ht,at)&&(xt[at]=ht[at])}return xt}_.d(kt,{Z:function(){return pt}})},7245:function(Lt,kt,_){_.d(kt,{Z:function(){return ot}});var pt=_(6655),ht=_(3173);function ot(at,gt){if(gt&&((0,pt.Z)(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,ht.Z)(at)}},5901:function(Lt,kt,_){function pt(ht,ot){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,gt){return at.__proto__=gt,at},pt(ht,ot)}_.d(kt,{Z:function(){return pt}})},2577:function(Lt,kt,_){_.d(kt,{Z:function(){return ht}});var pt=_(9139);function ht(ot,at){return function(gt){if(Array.isArray(gt))return gt}(ot)||function(gt,xt){var Ut=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Ut!=null){var rt,vt,Xt=[],nn=!0,cn=!1;try{for(Ut=Ut.call(gt);!(nn=(rt=Ut.next()).done)&&(Xt.push(rt.value),!xt||Xt.length!==xt);nn=!0);}catch(Qt){cn=!0,vt=Qt}finally{try{nn||Ut.return==null||Ut.return()}finally{if(cn)throw vt}}return Xt}}(ot,at)||(0,pt.Z)(ot,at)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(Lt,kt,_){_.d(kt,{Z:function(){return ot}});var pt=_(7017),ht=_(9139);function ot(at){return function(gt){if(Array.isArray(gt))return(0,pt.Z)(gt)}(at)||function(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}(at)||(0,ht.Z)(at)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(Lt,kt,_){function pt(ht){return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},pt(ht)}_.d(kt,{Z:function(){return pt}})},9139:function(Lt,kt,_){_.d(kt,{Z:function(){return ht}});var pt=_(7017);function ht(ot,at){if(ot){if(typeof ot=="string")return(0,pt.Z)(ot,at);var gt=Object.prototype.toString.call(ot).slice(8,-1);return gt==="Object"&&ot.constructor&&(gt=ot.constructor.name),gt==="Map"||gt==="Set"?Array.from(ot):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?(0,pt.Z)(ot,at):void 0}}},5605:function(Lt,kt,_){_.d(kt,{x0:function(){return pt}});let pt=(ht=21)=>crypto.getRandomValues(new Uint8Array(ht)).reduce((ot,at)=>ot+=(at&=63)<36?at.toString(36):at<62?(at-26).toString(36).toUpperCase():at>62?"-":"_","")},5284:function(Lt){Lt.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(Lt){Lt.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","brave_measure_text_error":{"start":"Looks like you are using Brave browser with the","aggressive_block_fingerprint":"Aggressively Block Fingerprinting","setting_enabled":"setting enabled","break":"This could result in breaking the","text_elements":"Text Elements","in_your_drawings":"in your drawings","strongly_recommend":"We strongly recommend disabling this setting. You can follow","steps":"these steps","how":"on how to do so","disable_setting":" If disabling this setting doesn't fix the display of text elements, please open an","issue":"issue","write":"on our GitHub, or write us on","discord":"Discord"}},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(Lt){Lt.exports=JSON.parse('{"ar-SA":89,"bg-BG":52,"bn-BD":57,"ca-ES":96,"cs-CZ":72,"da-DK":31,"de-DE":100,"el-GR":98,"en":100,"es-ES":99,"eu-ES":99,"fa-IR":91,"fi-FI":96,"fr-FR":99,"gl-ES":99,"he-IL":99,"hi-IN":73,"hu-HU":85,"id-ID":98,"it-IT":99,"ja-JP":97,"kab-KAB":93,"kk-KZ":19,"ko-KR":99,"ku-TR":91,"lt-LT":61,"lv-LV":93,"mr-IN":100,"my-MM":40,"nb-NO":100,"nl-NL":92,"nn-NO":86,"oc-FR":94,"pa-IN":79,"pl-PL":87,"pt-BR":96,"pt-PT":99,"ro-RO":100,"ru-RU":96,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":99,"ta-IN":90,"th-TH":39,"tr-TR":98,"uk-UA":93,"vi-VN":52,"zh-CN":99,"zh-HK":25,"zh-TW":100}')}},Jn={};function Vn(Lt){var kt=Jn[Lt];if(kt!==void 0)return kt.exports;var _=Jn[Lt]={id:Lt,exports:{}};return Dn[Lt](_,_.exports,Vn),_.exports}Vn.m=Dn,Vn.n=function(Lt){var kt=Lt&&Lt.__esModule?function(){return Lt.default}:function(){return Lt};return Vn.d(kt,{a:kt}),kt},mt=Object.getPrototypeOf?function(Lt){return Object.getPrototypeOf(Lt)}:function(Lt){return Lt.__proto__},Vn.t=function(Lt,kt){if(1&kt&&(Lt=this(Lt)),8&kt||typeof Lt=="object"&&Lt&&(4&kt&&Lt.__esModule||16&kt&&typeof Lt.then=="function"))return Lt;var _=Object.create(null);Vn.r(_);var pt={};dt=dt||[null,mt({}),mt([]),mt(mt)];for(var ht=2&kt&&Lt;typeof ht=="object"&&!~dt.indexOf(ht);ht=mt(ht))Object.getOwnPropertyNames(ht).forEach(function(ot){pt[ot]=function(){return Lt[ot]}});return pt.default=function(){return Lt},Vn.d(_,pt),_},Vn.d=function(Lt,kt){for(var _ in kt)Vn.o(kt,_)&&!Vn.o(Lt,_)&&Object.defineProperty(Lt,_,{enumerable:!0,get:kt[_]})},Vn.f={},Vn.e=function(Lt){return Promise.all(Object.keys(Vn.f).reduce(function(kt,_){return Vn.f[_](Lt,kt),kt},[]))},Vn.u=function(Lt){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[Lt]+"-"+{22:"1f9df2b51e34996bad30",537:"3a152569bbebfec7c6c0",1204:"ef6ec5abb0c3c53c7a51",1302:"db1222db995d9425e281",1477:"1a05d5c242c822079dca",1513:"79f7d66730b39df84f8e",1628:"72ac7b7548d7fefdcd2a",1690:"e90ca79174b6e1eccb72",1790:"ed85a6f48e1df51b1b46",2091:"06d4bd2f3a164162f2b8",2312:"3280be0edae615c7685f",2359:"7ea7ab2356e76889af8d",2404:"4063d11b19f24794564a",2943:"2117445509ba7c479ee0",3024:"5805f36f33a3f8e53adc",3031:"d10a4bb9ede3c08a08e1",3082:"f70dfb7201a16dc3f9fc",3162:"1854ecccf3c6f8ea9c46",3397:"c922a007bb00d3e4f3b1",3421:"c39caba2da3f001066a8",3512:"d43636fb51002f55e2a4",3674:"b4be83b26070e4cf70ca",3682:"b5ea877625968f748b7f",3721:"2e7a1690edc8d46e8842",3808:"6031eb8be253b20c28e9",3885:"8209f0f674435b52293d",4e3:"2f5b95c0011820e16f4b",4680:"2cb13b38b6615ada3097",4736:"53d1c69ef585b6dd219b",4977:"9002b1505b0931924d42",5089:"3397acad1a98b5093c8b",5130:"6108f4ae0be3d1e369a6",5330:"586a1324f942d89620b6",5395:"aba1622a80e32e465a3d",6071:"68eba9ac00ae57bae3f4",6239:"446b14f993000d0f572f",6265:"1ae99f296c9febb99f72",6768:"1e3a5e87e39d2d90274c",6844:"cf33ecf52ab95055544b",7368:"6ccf0d8a164ecec52187",7429:"759924ef13bd9e602cb3",7759:"4e345c790342b7672248",7920:"4bcbf71743fda1544a84",8081:"1cc77079b354b962615f",8124:"8ab49e8d0473e92a8ab9",8340:"08c7fc343ef2f533ec5f",8534:"36b97455521e61312a47",8750:"50dcb09552f93c2de3a4",8759:"682b92427b8b27bb0aa8",9551:"69853849c71eff277ba0",9828:"dad8ce15f9b7a435a926"}[Lt]+".js"},Vn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Vn.o=function(Lt,kt){return Object.prototype.hasOwnProperty.call(Lt,kt)},an={},An="ExcalidrawLib:",Vn.l=function(Lt,kt,_,pt){if(an[Lt])an[Lt].push(kt);else{var ht,ot;if(_!==void 0)for(var at=document.getElementsByTagName("script"),gt=0;gt<at.length;gt++){var xt=at[gt];if(xt.getAttribute("src")==Lt||xt.getAttribute("data-webpack")==An+_){ht=xt;break}}ht||(ot=!0,(ht=document.createElement("script")).charset="utf-8",ht.timeout=120,Vn.nc&&ht.setAttribute("nonce",Vn.nc),ht.setAttribute("data-webpack",An+_),ht.src=Lt),an[Lt]=[kt];var Ut=function(vt,Xt){ht.onerror=ht.onload=null,clearTimeout(rt);var nn=an[Lt];if(delete an[Lt],ht.parentNode&&ht.parentNode.removeChild(ht),nn&&nn.forEach(function(cn){return cn(Xt)}),vt)return vt(Xt)},rt=setTimeout(Ut.bind(null,void 0,{type:"timeout",target:ht}),12e4);ht.onerror=Ut.bind(null,ht.onerror),ht.onload=Ut.bind(null,ht.onload),ot&&document.head.appendChild(ht)}},Vn.r=function(Lt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Lt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Lt,"__esModule",{value:!0})},Vn.p="",function(){Vn.b=document.baseURI||self.location.href;var Lt={1388:0};Vn.f.j=function(pt,ht){var ot=Vn.o(Lt,pt)?Lt[pt]:void 0;if(ot!==0)if(ot)ht.push(ot[2]);else{var at=new Promise(function(Ut,rt){ot=Lt[pt]=[Ut,rt]});ht.push(ot[2]=at);var gt=Vn.p+Vn.u(pt),xt=new Error;Vn.l(gt,function(Ut){if(Vn.o(Lt,pt)&&((ot=Lt[pt])!==0&&(Lt[pt]=void 0),ot)){var rt=Ut&&(Ut.type==="load"?"missing":Ut.type),vt=Ut&&Ut.target&&Ut.target.src;xt.message="Loading chunk "+pt+` failed.
(`+rt+": "+vt+")",xt.name="ChunkLoadError",xt.type=rt,xt.request=vt,ot[1](xt)}},"chunk-"+pt,pt)}};var kt=function(pt,ht){var ot,at,gt=ht[0],xt=ht[1],Ut=ht[2],rt=0;if(gt.some(function(vt){return Lt[vt]!==0})){for(ot in xt)Vn.o(xt,ot)&&(Vn.m[ot]=xt[ot]);Ut&&Ut(Vn)}for(pt&&pt(ht);rt<gt.length;rt++)at=gt[rt],Vn.o(Lt,at)&&Lt[at]&&Lt[at][0](),Lt[at]=0},_=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];_.forEach(kt.bind(null,0)),_.push=kt.bind(null,_.push.bind(_))}(),Vn.nc=void 0;var er={};return function(){Vn.r(er),Vn.d(er,{Button:function(){return Mn},Excalidraw:function(){return na},FONT_FAMILY:function(){return Lt.ut},Footer:function(){return _t},LiveCollaborationTrigger:function(){return Ur},MIME_TYPES:function(){return Lt.LO},MainMenu:function(){return St.Z},Sidebar:function(){return ba.Y},THEME:function(){return Lt.C6},WelcomeScreen:function(){return ir},bumpVersion:function(){return Nr.ZP},defaultLang:function(){return At.Fp},exportToBlob:function(){return Ar.Fl},exportToCanvas:function(){return Ar.NL},exportToClipboard:function(){return Ar.i1},exportToSvg:function(){return Ar.$D},getFreeDrawSvgPath:function(){return Ar.N7},getNonDeletedElements:function(){return Zr.Lm},getSceneVersion:function(){return Zr.Uo},isInvisiblySmallElement:function(){return Zr.QD},isLinearElement:function(){return pr.bt},languages:function(){return At.Mj},loadFromBlob:function(){return Ar.cT},loadLibraryFromBlob:function(){return Ar.lV},loadSceneOrLibraryFromBlob:function(){return Ar.ZY},mergeLibraryItems:function(){return Ar.zh},mutateElement:function(){return Nr.DR},newElementWith:function(){return Nr.BE},parseLibraryTokensFromUrl:function(){return Or.Di},restore:function(){return yr.nu},restoreAppState:function(){return yr.lY},restoreElements:function(){return yr.ET},restoreLibraryItems:function(){return yr.wJ},sceneCoordsToViewportCoords:function(){return _e._i},serializeAsJSON:function(){return Ar.I_},serializeLibraryAsJSON:function(){return Ar.NI},useDevice:function(){return it.Fy},useHandleLibrary:function(){return Or.xS},useI18n:function(){return At.QT},viewportCoordsToSceneCoords:function(){return _e.dE}});var Lt=Vn(2335);Lt.Vi.TEST!=="production"&&(Vn.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2","/dist/"));var kt=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(lr){if((lr=Math.trunc(lr)||0)<0&&(lr+=this.length),!(lr<0||lr>=this.length))return this[lr]},writable:!0,enumerable:!1,configurable:!0})},_=Vn(487),pt=Vn.n(_),ht=Vn(631),ot=Vn.n(ht),at=Vn(2052),gt=Vn.n(at),xt=Vn(4010),Ut=Vn.n(xt),rt=Vn(1469),vt=Vn.n(rt),Xt=Vn(9329),nn=Vn.n(Xt),cn=Vn(4295),Qt={};Qt.styleTagTransform=nn(),Qt.setAttributes=Ut(),Qt.insert=gt().bind(null,"head"),Qt.domAPI=ot(),Qt.insertStyleElement=vt(),pt()(cn.Z,Qt),cn.Z&&cn.Z.locals&&cn.Z.locals;var hn=Vn(6479),fn=Vn.n(hn),Nn=Vn(9713),mn=Vn.n(Nn),pn=Vn(9787),vn=Vn.n(pn),yt=Vn(8950),Ht=Vn(2577),Bt=Vn(2975),bt=Vn.n(Bt),Et=Vn(5440),At=Vn(8211),Ct=Vn(4512),ct=function(lr){var Ir=(0,pn.useState)(!0),Cr=(0,Ht.Z)(Ir,2),wr=Cr[0],Er=Cr[1];return(0,pn.useEffect)(function(){var Rr=function(){var ga=(0,yt.Z)(bt().mark(function to(){return bt().wrap(function(io){for(;;)switch(io.prev=io.next){case 0:return io.next=2,(0,At.m0)(Kr);case 2:Er(!1);case 3:case"end":return io.stop()}},to)}));return function(){return ga.apply(this,arguments)}}(),Kr=At.Mj.find(function(ga){return ga.code===lr.langCode})||At.Fp;Rr()},[lr.langCode]),wr?(0,Ct.jsx)(Et.z,{theme:lr.theme}):lr.children},it=Vn(2134),_e=Vn(6340),lt=Vn(9915),st={};st.styleTagTransform=nn(),st.setAttributes=Ut(),st.insert=gt().bind(null,"head"),st.domAPI=ot(),st.insertStyleElement=vt(),pt()(lt.Z,st),lt.Z&&lt.Z.locals&&lt.Z.locals;var It=Vn(9310),Dt={};Dt.styleTagTransform=nn(),Dt.setAttributes=Ut(),Dt.insert=gt().bind(null,"head"),Dt.domAPI=ot(),Dt.insertStyleElement=vt(),pt()(It.Z,Dt),It.Z&&It.Z.locals&&It.Z.locals;var tn=Vn(4739),Tt=Vn(9487),$t=Vn(45),Wt=Vn(8888),Ot=Vn(8793),In={};In.styleTagTransform=nn(),In.setAttributes=Ut(),In.insert=gt().bind(null,"head"),In.domAPI=ot(),In.insertStyleElement=vt(),pt()(Ot.Z,In),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var rn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().footerCenterTunnel,wr=(0,it.gF)();return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsx)("div",{className:(0,$t.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":wr.zenModeEnabled}),children:Ir})})},_t=rn;rn.displayName="FooterCenter";var St=Vn(4709),Vt=Vn(7169),Pt=Vn(2726),qt=Vn(6710),dn=Vn(785),Rt=Vn(3646),Zt=["onSelect","children","icon","shortcut","className"],zt=["children","href","icon","shortcut","className"];function ft(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function Gt(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?ft(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):ft(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var wt=function(lr){var Ir=lr.icon,Cr=lr.shortcut,wr=lr.children,Er=(0,it.Fy)();return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Ir}),(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__text",children:wr}),Cr&&!Er.isMobile&&(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:Cr})]})};wt.displayName="WelcomeScreenMenuItemContent";var Jt=function(lr){var Ir=lr.onSelect,Cr=lr.children,wr=lr.icon,Er=lr.shortcut,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,Zt);return(0,Ct.jsx)("button",Gt(Gt({},ga),{},{type:"button",className:"welcome-screen-menu-item ".concat(Kr),onClick:Ir,children:(0,Ct.jsx)(wt,{icon:wr,shortcut:Er,children:Cr})}))};Jt.displayName="WelcomeScreenMenuItem";var Mt=function(lr){var Ir=lr.children,Cr=lr.href,wr=lr.icon,Er=lr.shortcut,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,zt);return(0,Ct.jsx)("a",Gt(Gt({},ga),{},{className:"welcome-screen-menu-item ".concat(Kr),href:Cr,target:"_blank",rel:"noreferrer",children:(0,Ct.jsx)(wt,{icon:wr,shortcut:Er,children:Ir})}))};Mt.displayName="WelcomeScreenMenuItemLink";var un=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenCenterTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsx)("div",{className:"welcome-screen-center",children:Ir||(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(bn,{}),(0,Ct.jsx)(jt,{children:(0,At.t)("welcomeScreen.defaults.center_heading")}),(0,Ct.jsxs)(Fn,{children:[(0,Ct.jsx)(Gn,{}),(0,Ct.jsx)(yn,{})]})]})})})};un.displayName="Center";var bn=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Ir||(0,Ct.jsxs)(Ct.Fragment,{children:[Rt.Mw," Excalidraw"]})})};bn.displayName="Logo";var jt=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Ir})};jt.displayName="Heading";var Fn=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-menu",children:Ir})};Fn.displayName="Menu";var yn=function(){var lr=(0,it.eh)();return(0,Ct.jsx)(Jt,{onSelect:function(){return lr.executeAction(qt.jY)},shortcut:"?",icon:Rt.by,children:(0,At.t)("helpDialog.title")})};yn.displayName="MenuItemHelp";var Gn=function(){var lr=(0,it.gF)(),Ir=(0,it.eh)();return lr.viewModeEnabled?null:(0,Ct.jsx)(Jt,{onSelect:function(){return Ir.executeAction(qt._d)},shortcut:(0,dn.C)("loadScene"),icon:Rt.Tl,children:(0,At.t)("buttons.load")})};Gn.displayName="MenuItemLoadScene";var Nt=function(lr){var Ir=lr.onSelect,Cr=(0,At.QT)().t;return(0,Ct.jsx)(Jt,{shortcut:null,onSelect:Ir,icon:Rt.jn,children:Cr("labels.liveCollaboration")})};Nt.displayName="MenuItemLiveCollaborationTrigger",un.Logo=bn,un.Heading=jt,un.Menu=Fn,un.MenuItem=Jt,un.MenuItemLink=Mt,un.MenuItemHelp=yn,un.MenuItemLoadScene=Gn,un.MenuItemLiveCollaborationTrigger=Nt;var Xn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenMenuHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Rt.oQ,(0,Ct.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ir||(0,At.t)("welcomeScreen.defaults.menuHint")})]})})};Xn.displayName="MenuHint";var Cn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenToolbarHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,Ct.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ir||(0,At.t)("welcomeScreen.defaults.toolbarHint")}),Rt.DJ]})})};Cn.displayName="ToolbarHint";var xn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenHelpHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,Ct.jsx)("div",{children:Ir||(0,At.t)("welcomeScreen.defaults.helpHint")}),Rt._U]})})};xn.displayName="HelpHint";var Tn=Vn(1569),Pn={};Pn.styleTagTransform=nn(),Pn.setAttributes=Ut(),Pn.insert=gt().bind(null,"head"),Pn.domAPI=ot(),Pn.insertStyleElement=vt(),pt()(Tn.Z,Pn),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;var tr=function(lr){return(0,Ct.jsx)(Ct.Fragment,{children:lr.children||(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(un,{}),(0,Ct.jsx)(Xn,{}),(0,Ct.jsx)(Cn,{}),(0,Ct.jsx)(xn,{})]})})};tr.displayName="WelcomeScreen",tr.Center=un,tr.Hints={MenuHint:Xn,ToolbarHint:Cn,HelpHint:xn};var ir=tr,gr=Vn(3137),Wn={};Wn.styleTagTransform=nn(),Wn.setAttributes=Ut(),Wn.insert=gt().bind(null,"head"),Wn.domAPI=ot(),Wn.insertStyleElement=vt(),pt()(gr.Z,Wn),gr.Z&&gr.Z.locals&&gr.Z.locals;var ln=["type","onSelect","children","className"];function Un(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function wn(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?Un(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):Un(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var Mn=function(lr){var Ir=lr.type,Cr=Ir===void 0?"button":Ir,wr=lr.onSelect,Er=lr.children,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,ln);return(0,Ct.jsx)("button",wn(wn({onClick:function(to){var io;wr(),(io=ga.onClick)===null||io===void 0||io.call(ga,to)},type:Cr,className:"excalidraw-button ".concat(Kr)},ga),{},{children:Er}))},zn=Vn(3397),jn={};jn.styleTagTransform=nn(),jn.setAttributes=Ut(),jn.insert=gt().bind(null,"head"),jn.domAPI=ot(),jn.insertStyleElement=vt(),pt()(zn.Z,jn),zn.Z&&zn.Z.locals&&zn.Z.locals;var $n=["isCollaborating","onSelect"];function cr(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function or(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?cr(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):cr(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var ur=function(lr){var Ir=lr.isCollaborating,Cr=lr.onSelect,wr=(0,Pt.Z)(lr,$n),Er=(0,it.gF)();return(0,Ct.jsxs)(Mn,or(or({},wr),{},{className:(0,$t.Z)("collab-button",{active:Ir}),type:"button",onSelect:Cr,style:{position:"relative"},title:(0,At.t)("labels.liveCollaboration"),children:[Rt.jn,Er.collaborators.size>0&&(0,Ct.jsx)("div",{className:"CollabButton-collaborators",children:Er.collaborators.size})]}))},Ur=ur;ur.displayName="LiveCollaborationTrigger";var Zr=Vn(1047),yr=Vn(679),Ar=Vn(3024),pr=Vn(1974),Nr=Vn(1935),Or=Vn(7053),ba=Vn(9430),ho=["initialData","UIOptions"],oo=["initialData","UIOptions"];function lo(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function $r(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?lo(Object(Cr),!0).forEach(function(wr){mn()(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):lo(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var qr=function(lr){var Ir,Cr,wr,Er=lr.onChange,Rr=lr.initialData,Kr=lr.excalidrawRef,ga=lr.isCollaborating,to=ga!==void 0&&ga,io=lr.onPointerUpdate,so=lr.renderTopRightUI,mo=lr.renderSidebar,Zo=lr.langCode,No=Zo===void 0?At.Fp.code:Zo,Jo=lr.viewModeEnabled,Bl=lr.zenModeEnabled,ro=lr.gridModeEnabled,Io=lr.libraryReturnUrl,Qo=lr.theme,Lo=lr.name,Wl=lr.renderCustomStats,Ol=lr.onPaste,Hl=lr.detectScroll,Zl=Hl===void 0||Hl,_o=lr.handleKeyboardGlobally,ls=_o!==void 0&&_o,Nl=lr.onLibraryChange,zl=lr.autoFocus,xs=zl!==void 0&&zl,es=lr.generateIdForFile,Gs=lr.onLinkOpen,Vs=lr.onPointerDown,ru=lr.onScrollChange,on=lr.children,Bn=(Ir=lr.UIOptions)===null||Ir===void 0?void 0:Ir.canvasActions,On=$r($r({},lr.UIOptions),{},{canvasActions:$r($r({},Lt.cW.canvasActions),Bn)});return Bn!=null&&Bn.export&&(On.canvasActions.export.saveFileToDisk=(Cr=(wr=Bn.export)===null||wr===void 0?void 0:wr.saveFileToDisk)!==null&&Cr!==void 0?Cr:Lt.cW.canvasActions.export.saveFileToDisk),On.canvasActions.toggleTheme===null&&Qo===void 0&&(On.canvasActions.toggleTheme=!0),(0,pn.useEffect)(function(){var Hn=function(br){typeof br.scale=="number"&&br.scale!==1&&br.preventDefault()};return document.addEventListener("touchmove",Hn,{passive:!1}),function(){document.removeEventListener("touchmove",Hn)}},[]),(0,Ct.jsx)(tn.zt,{unstable_createStore:function(){return Tt.e_},scope:Tt.yE,children:(0,Ct.jsx)(ct,{langCode:No,theme:Qo,children:(0,Ct.jsx)(it.ZP,{onChange:Er,initialData:Rr,excalidrawRef:Kr,isCollaborating:to,onPointerUpdate:io,renderTopRightUI:so,langCode:No,viewModeEnabled:Jo,zenModeEnabled:Bl,gridModeEnabled:ro,libraryReturnUrl:Io,theme:Qo,name:Lo,renderCustomStats:Wl,UIOptions:On,onPaste:Ol,detectScroll:Zl,handleKeyboardGlobally:ls,onLibraryChange:Nl,autoFocus:xs,generateIdForFile:es,onLinkOpen:Gs,onPointerDown:Vs,onScrollChange:ru,renderSidebar:mo,children:on})})})},Co=function(lr,Ir){if(lr.children!==Ir.children)return!1;lr.initialData;var Cr=lr.UIOptions,wr=Cr===void 0?{}:Cr,Er=fn()(lr,ho),Rr=(Ir.initialData,Ir.UIOptions),Kr=Rr===void 0?{}:Rr,ga=fn()(Ir,oo),to=Object.keys(wr),io=Object.keys(Kr);return to.length===io.length&&to.every(function(so){return so==="canvasActions"?Object.keys(wr.canvasActions).every(function(mo){var Zo,No,Jo,Bl;return mo==="export"&&wr!=null&&(Zo=wr.canvasActions)!==null&&Zo!==void 0&&Zo.export&&Kr!=null&&(No=Kr.canvasActions)!==null&&No!==void 0&&No.export?wr.canvasActions.export.saveFileToDisk===Kr.canvasActions.export.saveFileToDisk:(wr==null||(Jo=wr.canvasActions)===null||Jo===void 0?void 0:Jo[mo])===(Kr==null||(Bl=Kr.canvasActions)===null||Bl===void 0?void 0:Bl[mo])}):wr[so]===Kr[so]})&&(0,_e.w8)(Er,ga)},po=(0,pn.forwardRef)(function(lr,Ir){return(0,Ct.jsx)(qr,$r($r({},lr),{},{excalidrawRef:Ir}))}),na=vn().memo(po,Co);na.displayName="Excalidraw",kt()}(),er}()})})(excalidraw_production_min);var excalidraw_production_minExports=excalidraw_production_min.exports;main.exports=excalidraw_production_minExports;var mainExports=main.exports;const App$1="";var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,g){(function(){var $,tt="4.17.21",dt=200,mt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",an="Expected a function",An="Invalid `variable` option passed into `_.template`",Dn="__lodash_hash_undefined__",Jn=500,Vn="__lodash_placeholder__",er=1,Lt=2,kt=4,_=1,pt=2,ht=1,ot=2,at=4,gt=8,xt=16,Ut=32,rt=64,vt=128,Xt=256,nn=512,cn=30,Qt="...",hn=800,fn=16,Nn=1,mn=2,pn=3,vn=1/0,yt=9007199254740991,Ht=17976931348623157e292,Bt=0/0,bt=4294967295,Et=bt-1,At=bt>>>1,Ct=[["ary",vt],["bind",ht],["bindKey",ot],["curry",gt],["curryRight",xt],["flip",nn],["partial",Ut],["partialRight",rt],["rearg",Xt]],ct="[object Arguments]",it="[object Array]",_e="[object AsyncFunction]",lt="[object Boolean]",st="[object Date]",It="[object DOMException]",Dt="[object Error]",tn="[object Function]",Tt="[object GeneratorFunction]",$t="[object Map]",Wt="[object Number]",Ot="[object Null]",In="[object Object]",rn="[object Promise]",_t="[object Proxy]",St="[object RegExp]",Vt="[object Set]",Pt="[object String]",qt="[object Symbol]",dn="[object Undefined]",Rt="[object WeakMap]",Zt="[object WeakSet]",zt="[object ArrayBuffer]",ft="[object DataView]",Gt="[object Float32Array]",wt="[object Float64Array]",Jt="[object Int8Array]",Mt="[object Int16Array]",un="[object Int32Array]",bn="[object Uint8Array]",jt="[object Uint8ClampedArray]",Fn="[object Uint16Array]",yn="[object Uint32Array]",Gn=/\b__p \+= '';/g,Nt=/\b(__p \+=) '' \+/g,Xn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cn=/&(?:amp|lt|gt|quot|#39);/g,xn=/[&<>"']/g,Tn=RegExp(Cn.source),Pn=RegExp(xn.source),tr=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,gr=/<%=([\s\S]+?)%>/g,Wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wn=/[\\^$.*+?()[\]{}|]/g,Mn=RegExp(wn.source),zn=/^\s+/,jn=/\s/,$n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cr=/\{\n\/\* \[wrapped with (.+)\] \*/,or=/,? & /,ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ur=/[()=,{}\[\]\/\s]/,Zr=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ar=/\w*$/,pr=/^[-+]0x[0-9a-f]+$/i,Nr=/^0b[01]+$/i,Or=/^\[object .+?Constructor\]$/,ba=/^0o[0-7]+$/i,ho=/^(?:0|[1-9]\d*)$/,oo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lo=/($^)/,$r=/['\n\r\u2028\u2029\\]/g,qr="\\ud800-\\udfff",Co="\\u0300-\\u036f",po="\\ufe20-\\ufe2f",na="\\u20d0-\\u20ff",lr=Co+po+na,Ir="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",wr="\\xac\\xb1\\xd7\\xf7",Er="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rr="\\u2000-\\u206f",Kr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ga="A-Z\\xc0-\\xd6\\xd8-\\xde",to="\\ufe0e\\ufe0f",io=wr+Er+Rr+Kr,so="['’]",mo="["+qr+"]",Zo="["+io+"]",No="["+lr+"]",Jo="\\d+",Bl="["+Ir+"]",ro="["+Cr+"]",Io="[^"+qr+io+Jo+Ir+Cr+ga+"]",Qo="\\ud83c[\\udffb-\\udfff]",Lo="(?:"+No+"|"+Qo+")",Wl="[^"+qr+"]",Ol="(?:\\ud83c[\\udde6-\\uddff]){2}",Hl="[\\ud800-\\udbff][\\udc00-\\udfff]",Zl="["+ga+"]",_o="\\u200d",ls="(?:"+ro+"|"+Io+")",Nl="(?:"+Zl+"|"+Io+")",zl="(?:"+so+"(?:d|ll|m|re|s|t|ve))?",xs="(?:"+so+"(?:D|LL|M|RE|S|T|VE))?",es=Lo+"?",Gs="["+to+"]?",Vs="(?:"+_o+"(?:"+[Wl,Ol,Hl].join("|")+")"+Gs+es+")*",ru="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",on="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=Gs+es+Vs,On="(?:"+[Bl,Ol,Hl].join("|")+")"+Bn,Hn="(?:"+[Wl+No+"?",No,Ol,Hl,mo].join("|")+")",br=RegExp(so,"g"),xr=RegExp(No,"g"),Tr=RegExp(Qo+"(?="+Qo+")|"+Hn+Bn,"g"),Vr=RegExp([Zl+"?"+ro+"+"+zl+"(?="+[Zo,Zl,"$"].join("|")+")",Nl+"+"+xs+"(?="+[Zo,Zl+ls,"$"].join("|")+")",Zl+"?"+ls+"+"+zl,Zl+"+"+xs,on,ru,Jo,On].join("|"),"g"),fr=RegExp("["+_o+qr+lr+to+"]"),zr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xa=-1,jr={};jr[Gt]=jr[wt]=jr[Jt]=jr[Mt]=jr[un]=jr[bn]=jr[jt]=jr[Fn]=jr[yn]=!0,jr[ct]=jr[it]=jr[zt]=jr[lt]=jr[ft]=jr[st]=jr[Dt]=jr[tn]=jr[$t]=jr[Wt]=jr[In]=jr[St]=jr[Vt]=jr[Pt]=jr[Rt]=!1;var Mr={};Mr[ct]=Mr[it]=Mr[zt]=Mr[ft]=Mr[lt]=Mr[st]=Mr[Gt]=Mr[wt]=Mr[Jt]=Mr[Mt]=Mr[un]=Mr[$t]=Mr[Wt]=Mr[In]=Mr[St]=Mr[Vt]=Mr[Pt]=Mr[qt]=Mr[bn]=Mr[jt]=Mr[Fn]=Mr[yn]=!0,Mr[Dt]=Mr[tn]=Mr[Rt]=!1;var fo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},no={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ho=parseFloat,Oo=parseInt,Al=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ko=typeof self=="object"&&self&&self.Object===Object&&self,yo=Al||ko||Function("return this")(),Dr=g&&!g.nodeType&&g,To=Dr&&!0&&i&&!i.nodeType&&i,Fl=To&&To.exports===Dr,Ro=Fl&&Al.process,Po=function(){try{var ar=To&&To.require&&To.require("util").types;return ar||Ro&&Ro.binding&&Ro.binding("util")}catch{}}(),Jl=Po&&Po.isArrayBuffer,yl=Po&&Po.isDate,Cs=Po&&Po.isMap,C0=Po&&Po.isRegExp,p0=Po&&Po.isSet,m0=Po&&Po.isTypedArray;function Tl(ar,Br,_n){switch(_n.length){case 0:return ar.call(Br);case 1:return ar.call(Br,_n[0]);case 2:return ar.call(Br,_n[0],_n[1]);case 3:return ar.call(Br,_n[0],_n[1],_n[2])}return ar.apply(Br,_n)}function iu(ar,Br,_n,Jr){for(var bo=-1,wo=ar==null?0:ar.length;++bo<wo;){var qo=ar[bo];Br(Jr,qo,_n(qo),ar)}return Jr}function ts(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr&&Br(ar[_n],_n,ar)!==!1;);return ar}function wu(ar,Br){for(var _n=ar==null?0:ar.length;_n--&&Br(ar[_n],_n,ar)!==!1;);return ar}function Ws(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr;)if(!Br(ar[_n],_n,ar))return!1;return!0}function ws(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length,bo=0,wo=[];++_n<Jr;){var qo=ar[_n];Br(qo,_n,ar)&&(wo[bo++]=qo)}return wo}function Rs(ar,Br){var _n=ar==null?0:ar.length;return!!_n&&au(ar,Br,0)>-1}function Es(ar,Br,_n){for(var Jr=-1,bo=ar==null?0:ar.length;++Jr<bo;)if(_n(Br,ar[Jr]))return!0;return!1}function Yo(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length,bo=Array(Jr);++_n<Jr;)bo[_n]=Br(ar[_n],_n,ar);return bo}function Qs(ar,Br){for(var _n=-1,Jr=Br.length,bo=ar.length;++_n<Jr;)ar[bo+_n]=Br[_n];return ar}function Eu(ar,Br,_n,Jr){var bo=-1,wo=ar==null?0:ar.length;for(Jr&&wo&&(_n=ar[++bo]);++bo<wo;)_n=Br(_n,ar[bo],bo,ar);return _n}function f0(ar,Br,_n,Jr){var bo=ar==null?0:ar.length;for(Jr&&bo&&(_n=ar[--bo]);bo--;)_n=Br(_n,ar[bo],bo,ar);return _n}function zu(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr;)if(Br(ar[_n],_n,ar))return!0;return!1}var Su=ou("length");function Xu(ar){return ar.split("")}function ju(ar){return ar.match(ur)||[]}function B0(ar,Br,_n){var Jr;return _n(ar,function(bo,wo,qo){if(Br(bo,wo,qo))return Jr=wo,!1}),Jr}function pu(ar,Br,_n,Jr){for(var bo=ar.length,wo=_n+(Jr?1:-1);Jr?wo--:++wo<bo;)if(Br(ar[wo],wo,ar))return wo;return-1}function au(ar,Br,_n){return Br===Br?F0(ar,Br,_n):pu(ar,mu,_n)}function tI(ar,Br,_n,Jr){for(var bo=_n-1,wo=ar.length;++bo<wo;)if(Jr(ar[bo],Br))return bo;return-1}function mu(ar){return ar!==ar}function Ys(ar,Br){var _n=ar==null?0:ar.length;return _n?Zu(ar,Br)/_n:Bt}function ou(ar){return function(Br){return Br==null?$:Br[ar]}}function Ss(ar){return function(Br){return ar==null?$:ar[Br]}}function A0(ar,Br,_n,Jr,bo){return bo(ar,function(wo,qo,Do){_n=Jr?(Jr=!1,wo):Br(_n,wo,qo,Do)}),_n}function nI(ar,Br){var _n=ar.length;for(ar.sort(Br);_n--;)ar[_n]=ar[_n].value;return ar}function Zu(ar,Br){for(var _n,Jr=-1,bo=ar.length;++Jr<bo;){var wo=Br(ar[Jr]);wo!==$&&(_n=_n===$?wo:_n+wo)}return _n}function Ju(ar,Br){for(var _n=-1,Jr=Array(ar);++_n<ar;)Jr[_n]=Br(_n);return Jr}function _l(ar,Br){return Yo(Br,function(_n){return[_n,ar[_n]]})}function _u(ar){return ar&&ar.slice(0,$u(ar)+1).replace(zn,"")}function Pl(ar){return function(Br){return ar(Br)}}function Pu(ar,Br){return Yo(Br,function(_n){return ar[_n]})}function fu(ar,Br){return ar.has(Br)}function Ku(ar,Br){for(var _n=-1,Jr=ar.length;++_n<Jr&&au(Br,ar[_n],0)>-1;);return _n}function y0(ar,Br){for(var _n=ar.length;_n--&&au(Br,ar[_n],0)>-1;);return _n}function rI(ar,Br){for(var _n=ar.length,Jr=0;_n--;)ar[_n]===Br&&++Jr;return Jr}var x0=Ss(fo),iI=Ss(no);function aI(ar){return"\\"+Ko[ar]}function Nu(ar,Br){return ar==null?$:ar[Br]}function cs(ar){return fr.test(ar)}function oI(ar){return zr.test(ar)}function Q0(ar){for(var Br,_n=[];!(Br=ar.next()).done;)_n.push(Br.value);return _n}function ku(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr,bo){_n[++Br]=[bo,Jr]}),_n}function qu(ar,Br){return function(_n){return ar(Br(_n))}}function ss(ar,Br){for(var _n=-1,Jr=ar.length,bo=0,wo=[];++_n<Jr;){var qo=ar[_n];(qo===Br||qo===Vn)&&(ar[_n]=Vn,wo[bo++]=_n)}return wo}function Tu(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr){_n[++Br]=Jr}),_n}function lI(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr){_n[++Br]=[Jr,Jr]}),_n}function F0(ar,Br,_n){for(var Jr=_n-1,bo=ar.length;++Jr<bo;)if(ar[Jr]===Br)return Jr;return-1}function Xs(ar,Br,_n){for(var Jr=_n+1;Jr--;)if(ar[Jr]===Br)return Jr;return Jr}function lu(ar){return cs(ar)?U0(ar):Su(ar)}function ns(ar){return cs(ar)?cI(ar):Xu(ar)}function $u(ar){for(var Br=ar.length;Br--&&jn.test(ar.charAt(Br)););return Br}var v0=Ss(_r);function U0(ar){for(var Br=Tr.lastIndex=0;Tr.test(ar);)++Br;return Br}function cI(ar){return ar.match(Tr)||[]}function sI(ar){return ar.match(Vr)||[]}var G0=function ar(Br){Br=Br==null?yo:Ls.defaults(yo.Object(),Br,Ls.pick(yo,Xr));var _n=Br.Array,Jr=Br.Date,bo=Br.Error,wo=Br.Function,qo=Br.Math,Do=Br.Object,Bu=Br.RegExp,_d=Br.String,Xl=Br.TypeError,cu=_n.prototype,e0=wo.prototype,Hs=Do.prototype,su=Br["__core-js_shared__"],Du=e0.toString,Eo=Hs.hasOwnProperty,t0=0,Zs=function(){var j=/[^.]+$/.exec(su&&su.keys&&su.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),ps=Hs.toString,zs=Du.call(Do),Au=yo._,n0=Bu("^"+Du.call(Eo).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gu=Fl?Br.Buffer:$,Ml=Br.Symbol,Ns=Br.Uint8Array,yu=gu?gu.allocUnsafe:$,uu=qu(Do.getPrototypeOf,Do),r0=Do.create,i0=Hs.propertyIsEnumerable,gs=cu.splice,So=Ml?Ml.isConcatSpreadable:$,js=Ml?Ml.iterator:$,Js=Ml?Ml.toStringTag:$,Ou=function(){try{var j=vu(Do,"defineProperty");return j({},"",{}),j}catch{}}(),nt=Br.clearTimeout!==yo.clearTimeout&&Br.clearTimeout,Ft=Jr&&Jr.now!==yo.Date.now&&Jr.now,en=Br.setTimeout!==yo.setTimeout&&Br.setTimeout,sn=qo.ceil,kn=qo.floor,gn=Do.getOwnPropertySymbols,Yt=gu?gu.isBuffer:$,En=Br.isFinite,Zn=cu.join,Ln=qu(Do.keys,Do),Yn=qo.max,qn=qo.min,nr=Jr.now,hr=Br.parseInt,mr=qo.random,dr=cu.reverse,kr=vu(Br,"DataView"),Gr=vu(Br,"Map"),Pr=vu(Br,"Promise"),Qr=vu(Br,"Set"),_i=vu(Br,"WeakMap"),Hr=vu(Do,"create"),Yr=_i&&new _i,_a={},$a=Uu(kr),ao=Uu(Gr),Bo=Uu(Pr),$o=Uu(Qr),Ul=Uu(_i),Il=Ml?Ml.prototype:$,Vo=Il?Il.valueOf:$,Rl=Il?Il.toString:$;function Sn(j){if(Ql(j)&&!Ao(j)&&!(j instanceof Wr)){if(j instanceof Wo)return j;if(Eo.call(j,"__wrapped__"))return tp(j)}return new Wo(j)}var zo=function(){function j(){}return function(et){if(!Cl(et))return{};if(r0)return r0(et);j.prototype=et;var ut=new j;return j.prototype=$,ut}}();function jo(){}function Wo(j,et){this.__wrapped__=j,this.__actions__=[],this.__chain__=!!et,this.__index__=0,this.__values__=$}Sn.templateSettings={escape:tr,evaluate:ir,interpolate:gr,variable:"",imports:{_:Sn}},Sn.prototype=jo.prototype,Sn.prototype.constructor=Sn,Wo.prototype=zo(jo.prototype),Wo.prototype.constructor=Wo;function Wr(j){this.__wrapped__=j,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function Uo(){var j=new Wr(this.__wrapped__);return j.__actions__=rs(this.__actions__),j.__dir__=this.__dir__,j.__filtered__=this.__filtered__,j.__iteratees__=rs(this.__iteratees__),j.__takeCount__=this.__takeCount__,j.__views__=rs(this.__views__),j}function Gl(){if(this.__filtered__){var j=new Wr(this);j.__dir__=-1,j.__filtered__=!0}else j=this.clone(),j.__dir__*=-1;return j}function ks(){var j=this.__wrapped__.value(),et=this.__dir__,ut=Ao(j),Kt=et<0,Qn=ut?j.length:0,Rn=Xm(0,Qn,this.__views__),Kn=Rn.start,rr=Rn.end,sr=rr-Kn,Fr=Kt?rr:Kn-1,vr=this.__iteratees__,Sr=vr.length,Lr=0,eo=qn(sr,this.__takeCount__);if(!ut||!Kt&&Qn==sr&&eo==sr)return QC(j,this.__actions__);var go=[];e:for(;sr--&&Lr<eo;){Fr+=et;for(var Fo=-1,uo=j[Fr];++Fo<Sr;){var Go=vr[Fo],Xo=Go.iteratee,bs=Go.type,_c=Xo(uo);if(bs==mn)uo=_c;else if(!_c){if(bs==Nn)continue e;break e}}go[Lr++]=uo}return go}Wr.prototype=zo(jo.prototype),Wr.prototype.constructor=Wr;function Ts(j){var et=-1,ut=j==null?0:j.length;for(this.clear();++et<ut;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function gI(){this.__data__=Hr?Hr(null):{},this.size=0}function uI(j){var et=this.has(j)&&delete this.__data__[j];return this.size-=et?1:0,et}function w0(j){var et=this.__data__;if(Hr){var ut=et[j];return ut===Dn?$:ut}return Eo.call(et,j)?et[j]:$}function xl(j){var et=this.__data__;return Hr?et[j]!==$:Eo.call(et,j)}function Mu(j,et){var ut=this.__data__;return this.size+=this.has(j)?0:1,ut[j]=Hr&&et===$?Dn:et,this}Ts.prototype.clear=gI,Ts.prototype.delete=uI,Ts.prototype.get=w0,Ts.prototype.has=xl,Ts.prototype.set=Mu;function ms(j){var et=-1,ut=j==null?0:j.length;for(this.clear();++et<ut;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function E0(){this.__data__=[],this.size=0}function a0(j){var et=this.__data__,ut=Z0(et,j);if(ut<0)return!1;var Kt=et.length-1;return ut==Kt?et.pop():gs.call(et,ut,1),--this.size,!0}function dI(j){var et=this.__data__,ut=Z0(et,j);return ut<0?$:et[ut][1]}function xu(j){return Z0(this.__data__,j)>-1}function o0(j,et){var ut=this.__data__,Kt=Z0(ut,j);return Kt<0?(++this.size,ut.push([j,et])):ut[Kt][1]=et,this}ms.prototype.clear=E0,ms.prototype.delete=a0,ms.prototype.get=dI,ms.prototype.has=xu,ms.prototype.set=o0;function us(j){var et=-1,ut=j==null?0:j.length;for(this.clear();++et<ut;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function S0(){this.size=0,this.__data__={hash:new Ts,map:new(Gr||ms),string:new Ts}}function X0(j){var et=H0(this,j).delete(j);return this.size-=et?1:0,et}function _s(j){return H0(this,j).get(j)}function Yl(j){return H0(this,j).has(j)}function Vu(j,et){var ut=H0(this,j),Kt=ut.size;return ut.set(j,et),this.size+=ut.size==Kt?0:1,this}us.prototype.clear=S0,us.prototype.delete=X0,us.prototype.get=_s,us.prototype.has=Yl,us.prototype.set=Vu;function Ps(j){var et=-1,ut=j==null?0:j.length;for(this.__data__=new us;++et<ut;)this.add(j[et])}function Tp(j){return this.__data__.set(j,Dn),this}function Dp(j){return this.__data__.has(j)}Ps.prototype.add=Ps.prototype.push=Tp,Ps.prototype.has=Dp;function Fs(j){var et=this.__data__=new ms(j);this.size=et.size}function Op(){this.__data__=new ms,this.size=0}function Mp(j){var et=this.__data__,ut=et.delete(j);return this.size=et.size,ut}function Vp(j){return this.__data__.get(j)}function Wp(j){return this.__data__.has(j)}function Rp(j,et){var ut=this.__data__;if(ut instanceof ms){var Kt=ut.__data__;if(!Gr||Kt.length<dt-1)return Kt.push([j,et]),this.size=++ut.size,this;ut=this.__data__=new us(Kt)}return ut.set(j,et),this.size=ut.size,this}Fs.prototype.clear=Op,Fs.prototype.delete=Mp,Fs.prototype.get=Vp,Fs.prototype.has=Wp,Fs.prototype.set=Rp;function tC(j,et){var ut=Ao(j),Kt=!ut&&Gu(j),Qn=!ut&&!Kt&&Cu(j),Rn=!ut&&!Kt&&!Qn&&Lu(j),Kn=ut||Kt||Qn||Rn,rr=Kn?Ju(j.length,_d):[],sr=rr.length;for(var Fr in j)(et||Eo.call(j,Fr))&&!(Kn&&(Fr=="length"||Qn&&(Fr=="offset"||Fr=="parent")||Rn&&(Fr=="buffer"||Fr=="byteLength"||Fr=="byteOffset")||_g(Fr,sr)))&&rr.push(Fr);return rr}function nC(j){var et=j.length;return et?j[xI(0,et-1)]:$}function Yp(j,et){return z0(rs(j),Qu(et,0,j.length))}function Lp(j){return z0(rs(j))}function II(j,et,ut){(ut!==$&&!vs(j[et],ut)||ut===$&&!(et in j))&&Ks(j,et,ut)}function l0(j,et,ut){var Kt=j[et];(!(Eo.call(j,et)&&vs(Kt,ut))||ut===$&&!(et in j))&&Ks(j,et,ut)}function Z0(j,et){for(var ut=j.length;ut--;)if(vs(j[ut][0],et))return ut;return-1}function Hp(j,et,ut,Kt){return du(j,function(Qn,Rn,Kn){et(Kt,Qn,ut(Qn),Kn)}),Kt}function rC(j,et){return j&&Os(et,Dl(et),j)}function zp(j,et){return j&&Os(et,as(et),j)}function Ks(j,et,ut){et=="__proto__"&&Ou?Ou(j,et,{configurable:!0,enumerable:!0,value:ut,writable:!0}):j[et]=ut}function bI(j,et){for(var ut=-1,Kt=et.length,Qn=_n(Kt),Rn=j==null;++ut<Kt;)Qn[ut]=Rn?$:JI(j,et[ut]);return Qn}function Qu(j,et,ut){return j===j&&(ut!==$&&(j=j<=ut?j:ut),et!==$&&(j=j>=et?j:et)),j}function fs(j,et,ut,Kt,Qn,Rn){var Kn,rr=et&er,sr=et&Lt,Fr=et&kt;if(ut&&(Kn=Qn?ut(j,Kt,Qn,Rn):ut(j)),Kn!==$)return Kn;if(!Cl(j))return j;var vr=Ao(j);if(vr){if(Kn=Nm(j),!rr)return rs(j,Kn)}else{var Sr=Ll(j),Lr=Sr==tn||Sr==Tt;if(Cu(j))return UC(j,rr);if(Sr==In||Sr==ct||Lr&&!Qn){if(Kn=sr||Lr?{}:zC(j),!rr)return sr?xm(j,zp(Kn,j)):ym(j,rC(Kn,j))}else{if(!Mr[Sr])return Qn?j:{};Kn=km(j,Sr,rr)}}Rn||(Rn=new Fs);var eo=Rn.get(j);if(eo)return eo;Rn.set(j,Kn),Ap(j)?j.forEach(function(uo){Kn.add(fs(uo,et,ut,uo,j,Rn))}):fp(j)&&j.forEach(function(uo,Go){Kn.set(Go,fs(uo,et,ut,Go,j,Rn))});var go=Fr?sr?NI:ZI:sr?as:Dl,Fo=vr?$:go(j);return ts(Fo||j,function(uo,Go){Fo&&(Go=uo,uo=j[Go]),l0(Kn,Go,fs(uo,et,ut,Go,j,Rn))}),Kn}function jp(j){var et=Dl(j);return function(ut){return iC(ut,j,et)}}function iC(j,et,ut){var Kt=ut.length;if(j==null)return!Kt;for(j=Do(j);Kt--;){var Qn=ut[Kt],Rn=et[Qn],Kn=j[Qn];if(Kn===$&&!(Qn in j)||!Rn(Kn))return!1}return!0}function aC(j,et,ut){if(typeof j!="function")throw new Xl(an);return b0(function(){j.apply($,ut)},et)}function c0(j,et,ut,Kt){var Qn=-1,Rn=Rs,Kn=!0,rr=j.length,sr=[],Fr=et.length;if(!rr)return sr;ut&&(et=Yo(et,Pl(ut))),Kt?(Rn=Es,Kn=!1):et.length>=dt&&(Rn=fu,Kn=!1,et=new Ps(et));e:for(;++Qn<rr;){var vr=j[Qn],Sr=ut==null?vr:ut(vr);if(vr=Kt||vr!==0?vr:0,Kn&&Sr===Sr){for(var Lr=Fr;Lr--;)if(et[Lr]===Sr)continue e;sr.push(vr)}else Rn(et,Sr,Kt)||sr.push(vr)}return sr}var du=XC(Ds),oC=XC(CI,!0);function Jp(j,et){var ut=!0;return du(j,function(Kt,Qn,Rn){return ut=!!et(Kt,Qn,Rn),ut}),ut}function N0(j,et,ut){for(var Kt=-1,Qn=j.length;++Kt<Qn;){var Rn=j[Kt],Kn=et(Rn);if(Kn!=null&&(rr===$?Kn===Kn&&!Is(Kn):ut(Kn,rr)))var rr=Kn,sr=Rn}return sr}function _p(j,et,ut,Kt){var Qn=j.length;for(ut=xo(ut),ut<0&&(ut=-ut>Qn?0:Qn+ut),Kt=Kt===$||Kt>Qn?Qn:xo(Kt),Kt<0&&(Kt+=Qn),Kt=ut>Kt?0:xp(Kt);ut<Kt;)j[ut++]=et;return j}function lC(j,et){var ut=[];return du(j,function(Kt,Qn,Rn){et(Kt,Qn,Rn)&&ut.push(Kt)}),ut}function Vl(j,et,ut,Kt,Qn){var Rn=-1,Kn=j.length;for(ut||(ut=Dm),Qn||(Qn=[]);++Rn<Kn;){var rr=j[Rn];et>0&&ut(rr)?et>1?Vl(rr,et-1,ut,Kt,Qn):Qs(Qn,rr):Kt||(Qn[Qn.length]=rr)}return Qn}var hI=ZC(),cC=ZC(!0);function Ds(j,et){return j&&hI(j,et,Dl)}function CI(j,et){return j&&cC(j,et,Dl)}function k0(j,et){return ws(et,function(ut){return eu(j[ut])})}function Fu(j,et){et=bu(et,j);for(var ut=0,Kt=et.length;j!=null&&ut<Kt;)j=j[Ms(et[ut++])];return ut&&ut==Kt?j:$}function sC(j,et,ut){var Kt=et(j);return Ao(j)?Kt:Qs(Kt,ut(j))}function Kl(j){return j==null?j===$?dn:Ot:Js&&Js in Do(j)?Sm(j):Lm(j)}function pI(j,et){return j>et}function Pp(j,et){return j!=null&&Eo.call(j,et)}function Kp(j,et){return j!=null&&et in Do(j)}function qp(j,et,ut){return j>=qn(et,ut)&&j<Yn(et,ut)}function mI(j,et,ut){for(var Kt=ut?Es:Rs,Qn=j[0].length,Rn=j.length,Kn=Rn,rr=_n(Rn),sr=1/0,Fr=[];Kn--;){var vr=j[Kn];Kn&&et&&(vr=Yo(vr,Pl(et))),sr=qn(vr.length,sr),rr[Kn]=!ut&&(et||Qn>=120&&vr.length>=120)?new Ps(Kn&&vr):$}vr=j[0];var Sr=-1,Lr=rr[0];e:for(;++Sr<Qn&&Fr.length<sr;){var eo=vr[Sr],go=et?et(eo):eo;if(eo=ut||eo!==0?eo:0,!(Lr?fu(Lr,go):Kt(Fr,go,ut))){for(Kn=Rn;--Kn;){var Fo=rr[Kn];if(!(Fo?fu(Fo,go):Kt(j[Kn],go,ut)))continue e}Lr&&Lr.push(go),Fr.push(eo)}}return Fr}function $p(j,et,ut,Kt){return Ds(j,function(Qn,Rn,Kn){et(Kt,ut(Qn),Rn,Kn)}),Kt}function s0(j,et,ut){et=bu(et,j),j=PC(j,et);var Kt=j==null?j:j[Ms(As(et))];return Kt==null?$:Tl(Kt,j,ut)}function gC(j){return Ql(j)&&Kl(j)==ct}function em(j){return Ql(j)&&Kl(j)==zt}function tm(j){return Ql(j)&&Kl(j)==st}function g0(j,et,ut,Kt,Qn){return j===et?!0:j==null||et==null||!Ql(j)&&!Ql(et)?j!==j&&et!==et:nm(j,et,ut,Kt,g0,Qn)}function nm(j,et,ut,Kt,Qn,Rn){var Kn=Ao(j),rr=Ao(et),sr=Kn?it:Ll(j),Fr=rr?it:Ll(et);sr=sr==ct?In:sr,Fr=Fr==ct?In:Fr;var vr=sr==In,Sr=Fr==In,Lr=sr==Fr;if(Lr&&Cu(j)){if(!Cu(et))return!1;Kn=!0,vr=!1}if(Lr&&!vr)return Rn||(Rn=new Fs),Kn||Lu(j)?YC(j,et,ut,Kt,Qn,Rn):wm(j,et,sr,ut,Kt,Qn,Rn);if(!(ut&_)){var eo=vr&&Eo.call(j,"__wrapped__"),go=Sr&&Eo.call(et,"__wrapped__");if(eo||go){var Fo=eo?j.value():j,uo=go?et.value():et;return Rn||(Rn=new Fs),Qn(Fo,uo,ut,Kt,Rn)}}return Lr?(Rn||(Rn=new Fs),Em(j,et,ut,Kt,Qn,Rn)):!1}function rm(j){return Ql(j)&&Ll(j)==$t}function fI(j,et,ut,Kt){var Qn=ut.length,Rn=Qn,Kn=!Kt;if(j==null)return!Rn;for(j=Do(j);Qn--;){var rr=ut[Qn];if(Kn&&rr[2]?rr[1]!==j[rr[0]]:!(rr[0]in j))return!1}for(;++Qn<Rn;){rr=ut[Qn];var sr=rr[0],Fr=j[sr],vr=rr[1];if(Kn&&rr[2]){if(Fr===$&&!(sr in j))return!1}else{var Sr=new Fs;if(Kt)var Lr=Kt(Fr,vr,sr,j,et,Sr);if(!(Lr===$?g0(vr,Fr,_|pt,Kt,Sr):Lr))return!1}}return!0}function uC(j){if(!Cl(j)||Mm(j))return!1;var et=eu(j)?n0:Or;return et.test(Uu(j))}function im(j){return Ql(j)&&Kl(j)==St}function am(j){return Ql(j)&&Ll(j)==Vt}function om(j){return Ql(j)&&q0(j.length)&&!!jr[Kl(j)]}function dC(j){return typeof j=="function"?j:j==null?os:typeof j=="object"?Ao(j)?hC(j[0],j[1]):bC(j):Np(j)}function BI(j){if(!I0(j))return Ln(j);var et=[];for(var ut in Do(j))Eo.call(j,ut)&&ut!="constructor"&&et.push(ut);return et}function lm(j){if(!Cl(j))return Ym(j);var et=I0(j),ut=[];for(var Kt in j)Kt=="constructor"&&(et||!Eo.call(j,Kt))||ut.push(Kt);return ut}function AI(j,et){return j<et}function IC(j,et){var ut=-1,Kt=is(j)?_n(j.length):[];return du(j,function(Qn,Rn,Kn){Kt[++ut]=et(Qn,Rn,Kn)}),Kt}function bC(j){var et=TI(j);return et.length==1&&et[0][2]?JC(et[0][0],et[0][1]):function(ut){return ut===j||fI(ut,j,et)}}function hC(j,et){return OI(j)&&jC(et)?JC(Ms(j),et):function(ut){var Kt=JI(ut,j);return Kt===$&&Kt===et?_I(ut,j):g0(et,Kt,_|pt)}}function T0(j,et,ut,Kt,Qn){j!==et&&hI(et,function(Rn,Kn){if(Qn||(Qn=new Fs),Cl(Rn))cm(j,et,Kn,ut,T0,Kt,Qn);else{var rr=Kt?Kt(VI(j,Kn),Rn,Kn+"",j,et,Qn):$;rr===$&&(rr=Rn),II(j,Kn,rr)}},as)}function cm(j,et,ut,Kt,Qn,Rn,Kn){var rr=VI(j,ut),sr=VI(et,ut),Fr=Kn.get(sr);if(Fr){II(j,ut,Fr);return}var vr=Rn?Rn(rr,sr,ut+"",j,et,Kn):$,Sr=vr===$;if(Sr){var Lr=Ao(sr),eo=!Lr&&Cu(sr),go=!Lr&&!eo&&Lu(sr);vr=sr,Lr||eo||go?Ao(rr)?vr=rr:El(rr)?vr=rs(rr):eo?(Sr=!1,vr=UC(sr,!0)):go?(Sr=!1,vr=GC(sr,!0)):vr=[]:h0(sr)||Gu(sr)?(vr=rr,Gu(rr)?vr=Qp(rr):(!Cl(rr)||eu(rr))&&(vr=zC(sr))):Sr=!1}Sr&&(Kn.set(sr,vr),Qn(vr,sr,Kt,Rn,Kn),Kn.delete(sr)),II(j,ut,vr)}function CC(j,et){var ut=j.length;if(ut)return et+=et<0?ut:0,_g(et,ut)?j[et]:$}function pC(j,et,ut){et.length?et=Yo(et,function(Rn){return Ao(Rn)?function(Kn){return Fu(Kn,Rn.length===1?Rn[0]:Rn)}:Rn}):et=[os];var Kt=-1;et=Yo(et,Pl(co()));var Qn=IC(j,function(Rn,Kn,rr){var sr=Yo(et,function(Fr){return Fr(Rn)});return{criteria:sr,index:++Kt,value:Rn}});return nI(Qn,function(Rn,Kn){return Am(Rn,Kn,ut)})}function sm(j,et){return mC(j,et,function(ut,Kt){return _I(j,Kt)})}function mC(j,et,ut){for(var Kt=-1,Qn=et.length,Rn={};++Kt<Qn;){var Kn=et[Kt],rr=Fu(j,Kn);ut(rr,Kn)&&u0(Rn,bu(Kn,j),rr)}return Rn}function gm(j){return function(et){return Fu(et,j)}}function yI(j,et,ut,Kt){var Qn=Kt?tI:au,Rn=-1,Kn=et.length,rr=j;for(j===et&&(et=rs(et)),ut&&(rr=Yo(j,Pl(ut)));++Rn<Kn;)for(var sr=0,Fr=et[Rn],vr=ut?ut(Fr):Fr;(sr=Qn(rr,vr,sr,Kt))>-1;)rr!==j&&gs.call(rr,sr,1),gs.call(j,sr,1);return j}function fC(j,et){for(var ut=j?et.length:0,Kt=ut-1;ut--;){var Qn=et[ut];if(ut==Kt||Qn!==Rn){var Rn=Qn;_g(Qn)?gs.call(j,Qn,1):vI(j,Qn)}}return j}function xI(j,et){return j+kn(mr()*(et-j+1))}function um(j,et,ut,Kt){for(var Qn=-1,Rn=Yn(sn((et-j)/(ut||1)),0),Kn=_n(Rn);Rn--;)Kn[Kt?Rn:++Qn]=j,j+=ut;return Kn}function QI(j,et){var ut="";if(!j||et<1||et>yt)return ut;do et%2&&(ut+=j),et=kn(et/2),et&&(j+=j);while(et);return ut}function vo(j,et){return WI(_C(j,et,os),j+"")}function dm(j){return nC(Hu(j))}function Im(j,et){var ut=Hu(j);return z0(ut,Qu(et,0,ut.length))}function u0(j,et,ut,Kt){if(!Cl(j))return j;et=bu(et,j);for(var Qn=-1,Rn=et.length,Kn=Rn-1,rr=j;rr!=null&&++Qn<Rn;){var sr=Ms(et[Qn]),Fr=ut;if(sr==="__proto__"||sr==="constructor"||sr==="prototype")return j;if(Qn!=Kn){var vr=rr[sr];Fr=Kt?Kt(vr,sr,rr):$,Fr===$&&(Fr=Cl(vr)?vr:_g(et[Qn+1])?[]:{})}l0(rr,sr,Fr),rr=rr[sr]}return j}var BC=Yr?function(j,et){return Yr.set(j,et),j}:os,bm=Ou?function(j,et){return Ou(j,"toString",{configurable:!0,enumerable:!1,value:KI(et),writable:!0})}:os;function hm(j){return z0(Hu(j))}function Bs(j,et,ut){var Kt=-1,Qn=j.length;et<0&&(et=-et>Qn?0:Qn+et),ut=ut>Qn?Qn:ut,ut<0&&(ut+=Qn),Qn=et>ut?0:ut-et>>>0,et>>>=0;for(var Rn=_n(Qn);++Kt<Qn;)Rn[Kt]=j[Kt+et];return Rn}function Cm(j,et){var ut;return du(j,function(Kt,Qn,Rn){return ut=et(Kt,Qn,Rn),!ut}),!!ut}function D0(j,et,ut){var Kt=0,Qn=j==null?Kt:j.length;if(typeof et=="number"&&et===et&&Qn<=At){for(;Kt<Qn;){var Rn=Kt+Qn>>>1,Kn=j[Rn];Kn!==null&&!Is(Kn)&&(ut?Kn<=et:Kn<et)?Kt=Rn+1:Qn=Rn}return Qn}return FI(j,et,os,ut)}function FI(j,et,ut,Kt){var Qn=0,Rn=j==null?0:j.length;if(Rn===0)return 0;et=ut(et);for(var Kn=et!==et,rr=et===null,sr=Is(et),Fr=et===$;Qn<Rn;){var vr=kn((Qn+Rn)/2),Sr=ut(j[vr]),Lr=Sr!==$,eo=Sr===null,go=Sr===Sr,Fo=Is(Sr);if(Kn)var uo=Kt||go;else Fr?uo=go&&(Kt||Lr):rr?uo=go&&Lr&&(Kt||!eo):sr?uo=go&&Lr&&!eo&&(Kt||!Fo):eo||Fo?uo=!1:uo=Kt?Sr<=et:Sr<et;uo?Qn=vr+1:Rn=vr}return qn(Rn,Et)}function AC(j,et){for(var ut=-1,Kt=j.length,Qn=0,Rn=[];++ut<Kt;){var Kn=j[ut],rr=et?et(Kn):Kn;if(!ut||!vs(rr,sr)){var sr=rr;Rn[Qn++]=Kn===0?0:Kn}}return Rn}function yC(j){return typeof j=="number"?j:Is(j)?Bt:+j}function ds(j){if(typeof j=="string")return j;if(Ao(j))return Yo(j,ds)+"";if(Is(j))return Rl?Rl.call(j):"";var et=j+"";return et=="0"&&1/j==-vn?"-0":et}function Iu(j,et,ut){var Kt=-1,Qn=Rs,Rn=j.length,Kn=!0,rr=[],sr=rr;if(ut)Kn=!1,Qn=Es;else if(Rn>=dt){var Fr=et?null:Um(j);if(Fr)return Tu(Fr);Kn=!1,Qn=fu,sr=new Ps}else sr=et?[]:rr;e:for(;++Kt<Rn;){var vr=j[Kt],Sr=et?et(vr):vr;if(vr=ut||vr!==0?vr:0,Kn&&Sr===Sr){for(var Lr=sr.length;Lr--;)if(sr[Lr]===Sr)continue e;et&&sr.push(Sr),rr.push(vr)}else Qn(sr,Sr,ut)||(sr!==rr&&sr.push(Sr),rr.push(vr))}return rr}function vI(j,et){return et=bu(et,j),j=PC(j,et),j==null||delete j[Ms(As(et))]}function xC(j,et,ut,Kt){return u0(j,et,ut(Fu(j,et)),Kt)}function O0(j,et,ut,Kt){for(var Qn=j.length,Rn=Kt?Qn:-1;(Kt?Rn--:++Rn<Qn)&&et(j[Rn],Rn,j););return ut?Bs(j,Kt?0:Rn,Kt?Rn+1:Qn):Bs(j,Kt?Rn+1:0,Kt?Qn:Rn)}function QC(j,et){var ut=j;return ut instanceof Wr&&(ut=ut.value()),Eu(et,function(Kt,Qn){return Qn.func.apply(Qn.thisArg,Qs([Kt],Qn.args))},ut)}function UI(j,et,ut){var Kt=j.length;if(Kt<2)return Kt?Iu(j[0]):[];for(var Qn=-1,Rn=_n(Kt);++Qn<Kt;)for(var Kn=j[Qn],rr=-1;++rr<Kt;)rr!=Qn&&(Rn[Qn]=c0(Rn[Qn]||Kn,j[rr],et,ut));return Iu(Vl(Rn,1),et,ut)}function FC(j,et,ut){for(var Kt=-1,Qn=j.length,Rn=et.length,Kn={};++Kt<Qn;){var rr=Kt<Rn?et[Kt]:$;ut(Kn,j[Kt],rr)}return Kn}function GI(j){return El(j)?j:[]}function wI(j){return typeof j=="function"?j:os}function bu(j,et){return Ao(j)?j:OI(j,et)?[j]:ep(Mo(j))}var pm=vo;function hu(j,et,ut){var Kt=j.length;return ut=ut===$?Kt:ut,!et&&ut>=Kt?j:Bs(j,et,ut)}var vC=nt||function(j){return yo.clearTimeout(j)};function UC(j,et){if(et)return j.slice();var ut=j.length,Kt=yu?yu(ut):new j.constructor(ut);return j.copy(Kt),Kt}function EI(j){var et=new j.constructor(j.byteLength);return new Ns(et).set(new Ns(j)),et}function mm(j,et){var ut=et?EI(j.buffer):j.buffer;return new j.constructor(ut,j.byteOffset,j.byteLength)}function fm(j){var et=new j.constructor(j.source,Ar.exec(j));return et.lastIndex=j.lastIndex,et}function Bm(j){return Vo?Do(Vo.call(j)):{}}function GC(j,et){var ut=et?EI(j.buffer):j.buffer;return new j.constructor(ut,j.byteOffset,j.length)}function wC(j,et){if(j!==et){var ut=j!==$,Kt=j===null,Qn=j===j,Rn=Is(j),Kn=et!==$,rr=et===null,sr=et===et,Fr=Is(et);if(!rr&&!Fr&&!Rn&&j>et||Rn&&Kn&&sr&&!rr&&!Fr||Kt&&Kn&&sr||!ut&&sr||!Qn)return 1;if(!Kt&&!Rn&&!Fr&&j<et||Fr&&ut&&Qn&&!Kt&&!Rn||rr&&ut&&Qn||!Kn&&Qn||!sr)return-1}return 0}function Am(j,et,ut){for(var Kt=-1,Qn=j.criteria,Rn=et.criteria,Kn=Qn.length,rr=ut.length;++Kt<Kn;){var sr=wC(Qn[Kt],Rn[Kt]);if(sr){if(Kt>=rr)return sr;var Fr=ut[Kt];return sr*(Fr=="desc"?-1:1)}}return j.index-et.index}function EC(j,et,ut,Kt){for(var Qn=-1,Rn=j.length,Kn=ut.length,rr=-1,sr=et.length,Fr=Yn(Rn-Kn,0),vr=_n(sr+Fr),Sr=!Kt;++rr<sr;)vr[rr]=et[rr];for(;++Qn<Kn;)(Sr||Qn<Rn)&&(vr[ut[Qn]]=j[Qn]);for(;Fr--;)vr[rr++]=j[Qn++];return vr}function SC(j,et,ut,Kt){for(var Qn=-1,Rn=j.length,Kn=-1,rr=ut.length,sr=-1,Fr=et.length,vr=Yn(Rn-rr,0),Sr=_n(vr+Fr),Lr=!Kt;++Qn<vr;)Sr[Qn]=j[Qn];for(var eo=Qn;++sr<Fr;)Sr[eo+sr]=et[sr];for(;++Kn<rr;)(Lr||Qn<Rn)&&(Sr[eo+ut[Kn]]=j[Qn++]);return Sr}function rs(j,et){var ut=-1,Kt=j.length;for(et||(et=_n(Kt));++ut<Kt;)et[ut]=j[ut];return et}function Os(j,et,ut,Kt){var Qn=!ut;ut||(ut={});for(var Rn=-1,Kn=et.length;++Rn<Kn;){var rr=et[Rn],sr=Kt?Kt(ut[rr],j[rr],rr,ut,j):$;sr===$&&(sr=j[rr]),Qn?Ks(ut,rr,sr):l0(ut,rr,sr)}return ut}function ym(j,et){return Os(j,DI(j),et)}function xm(j,et){return Os(j,LC(j),et)}function M0(j,et){return function(ut,Kt){var Qn=Ao(ut)?iu:Hp,Rn=et?et():{};return Qn(ut,j,co(Kt,2),Rn)}}function Wu(j){return vo(function(et,ut){var Kt=-1,Qn=ut.length,Rn=Qn>1?ut[Qn-1]:$,Kn=Qn>2?ut[2]:$;for(Rn=j.length>3&&typeof Rn=="function"?(Qn--,Rn):$,Kn&&$l(ut[0],ut[1],Kn)&&(Rn=Qn<3?$:Rn,Qn=1),et=Do(et);++Kt<Qn;){var rr=ut[Kt];rr&&j(et,rr,Kt,Rn)}return et})}function XC(j,et){return function(ut,Kt){if(ut==null)return ut;if(!is(ut))return j(ut,Kt);for(var Qn=ut.length,Rn=et?Qn:-1,Kn=Do(ut);(et?Rn--:++Rn<Qn)&&Kt(Kn[Rn],Rn,Kn)!==!1;);return ut}}function ZC(j){return function(et,ut,Kt){for(var Qn=-1,Rn=Do(et),Kn=Kt(et),rr=Kn.length;rr--;){var sr=Kn[j?rr:++Qn];if(ut(Rn[sr],sr,Rn)===!1)break}return et}}function Qm(j,et,ut){var Kt=et&ht,Qn=d0(j);function Rn(){var Kn=this&&this!==yo&&this instanceof Rn?Qn:j;return Kn.apply(Kt?ut:this,arguments)}return Rn}function NC(j){return function(et){et=Mo(et);var ut=cs(et)?ns(et):$,Kt=ut?ut[0]:et.charAt(0),Qn=ut?hu(ut,1).join(""):et.slice(1);return Kt[j]()+Qn}}function Ru(j){return function(et){return Eu(Xp(Sp(et).replace(br,"")),j,"")}}function d0(j){return function(){var et=arguments;switch(et.length){case 0:return new j;case 1:return new j(et[0]);case 2:return new j(et[0],et[1]);case 3:return new j(et[0],et[1],et[2]);case 4:return new j(et[0],et[1],et[2],et[3]);case 5:return new j(et[0],et[1],et[2],et[3],et[4]);case 6:return new j(et[0],et[1],et[2],et[3],et[4],et[5]);case 7:return new j(et[0],et[1],et[2],et[3],et[4],et[5],et[6])}var ut=zo(j.prototype),Kt=j.apply(ut,et);return Cl(Kt)?Kt:ut}}function Fm(j,et,ut){var Kt=d0(j);function Qn(){for(var Rn=arguments.length,Kn=_n(Rn),rr=Rn,sr=Yu(Qn);rr--;)Kn[rr]=arguments[rr];var Fr=Rn<3&&Kn[0]!==sr&&Kn[Rn-1]!==sr?[]:ss(Kn,sr);if(Rn-=Fr.length,Rn<ut)return MC(j,et,V0,Qn.placeholder,$,Kn,Fr,$,$,ut-Rn);var vr=this&&this!==yo&&this instanceof Qn?Kt:j;return Tl(vr,this,Kn)}return Qn}function kC(j){return function(et,ut,Kt){var Qn=Do(et);if(!is(et)){var Rn=co(ut,3);et=Dl(et),ut=function(rr){return Rn(Qn[rr],rr,Qn)}}var Kn=j(et,ut,Kt);return Kn>-1?Qn[Rn?et[Kn]:Kn]:$}}function TC(j){return $s(function(et){var ut=et.length,Kt=ut,Qn=Wo.prototype.thru;for(j&&et.reverse();Kt--;){var Rn=et[Kt];if(typeof Rn!="function")throw new Xl(an);if(Qn&&!Kn&&L0(Rn)=="wrapper")var Kn=new Wo([],!0)}for(Kt=Kn?Kt:ut;++Kt<ut;){Rn=et[Kt];var rr=L0(Rn),sr=rr=="wrapper"?kI(Rn):$;sr&&MI(sr[0])&&sr[1]==(vt|gt|Ut|Xt)&&!sr[4].length&&sr[9]==1?Kn=Kn[L0(sr[0])].apply(Kn,sr[3]):Kn=Rn.length==1&&MI(Rn)?Kn[rr]():Kn.thru(Rn)}return function(){var Fr=arguments,vr=Fr[0];if(Kn&&Fr.length==1&&Ao(vr))return Kn.plant(vr).value();for(var Sr=0,Lr=ut?et[Sr].apply(this,Fr):vr;++Sr<ut;)Lr=et[Sr].call(this,Lr);return Lr}})}function V0(j,et,ut,Kt,Qn,Rn,Kn,rr,sr,Fr){var vr=et&vt,Sr=et&ht,Lr=et&ot,eo=et&(gt|xt),go=et&nn,Fo=Lr?$:d0(j);function uo(){for(var Go=arguments.length,Xo=_n(Go),bs=Go;bs--;)Xo[bs]=arguments[bs];if(eo)var _c=Yu(uo),hs=rI(Xo,_c);if(Kt&&(Xo=EC(Xo,Kt,Qn,eo)),Rn&&(Xo=SC(Xo,Rn,Kn,eo)),Go-=hs,eo&&Go<Fr){var Sl=ss(Xo,_c);return MC(j,et,V0,uo.placeholder,ut,Xo,Sl,rr,sr,Fr-Go)}var Us=Sr?ut:this,nu=Lr?Us[j]:j;return Go=Xo.length,rr?Xo=Hm(Xo,rr):go&&Go>1&&Xo.reverse(),vr&&sr<Go&&(Xo.length=sr),this&&this!==yo&&this instanceof uo&&(nu=Fo||d0(nu)),nu.apply(Us,Xo)}return uo}function DC(j,et){return function(ut,Kt){return $p(ut,j,et(Kt),{})}}function W0(j,et){return function(ut,Kt){var Qn;if(ut===$&&Kt===$)return et;if(ut!==$&&(Qn=ut),Kt!==$){if(Qn===$)return Kt;typeof ut=="string"||typeof Kt=="string"?(ut=ds(ut),Kt=ds(Kt)):(ut=yC(ut),Kt=yC(Kt)),Qn=j(ut,Kt)}return Qn}}function SI(j){return $s(function(et){return et=Yo(et,Pl(co())),vo(function(ut){var Kt=this;return j(et,function(Qn){return Tl(Qn,Kt,ut)})})})}function R0(j,et){et=et===$?" ":ds(et);var ut=et.length;if(ut<2)return ut?QI(et,j):et;var Kt=QI(et,sn(j/lu(et)));return cs(et)?hu(ns(Kt),0,j).join(""):Kt.slice(0,j)}function vm(j,et,ut,Kt){var Qn=et&ht,Rn=d0(j);function Kn(){for(var rr=-1,sr=arguments.length,Fr=-1,vr=Kt.length,Sr=_n(vr+sr),Lr=this&&this!==yo&&this instanceof Kn?Rn:j;++Fr<vr;)Sr[Fr]=Kt[Fr];for(;sr--;)Sr[Fr++]=arguments[++rr];return Tl(Lr,Qn?ut:this,Sr)}return Kn}function OC(j){return function(et,ut,Kt){return Kt&&typeof Kt!="number"&&$l(et,ut,Kt)&&(ut=Kt=$),et=tu(et),ut===$?(ut=et,et=0):ut=tu(ut),Kt=Kt===$?et<ut?1:-1:tu(Kt),um(et,ut,Kt,j)}}function Y0(j){return function(et,ut){return typeof et=="string"&&typeof ut=="string"||(et=ys(et),ut=ys(ut)),j(et,ut)}}function MC(j,et,ut,Kt,Qn,Rn,Kn,rr,sr,Fr){var vr=et&gt,Sr=vr?Kn:$,Lr=vr?$:Kn,eo=vr?Rn:$,go=vr?$:Rn;et|=vr?Ut:rt,et&=~(vr?rt:Ut),et&at||(et&=~(ht|ot));var Fo=[j,et,Qn,eo,Sr,go,Lr,rr,sr,Fr],uo=ut.apply($,Fo);return MI(j)&&KC(uo,Fo),uo.placeholder=Kt,qC(uo,j,et)}function XI(j){var et=qo[j];return function(ut,Kt){if(ut=ys(ut),Kt=Kt==null?0:qn(xo(Kt),292),Kt&&En(ut)){var Qn=(Mo(ut)+"e").split("e"),Rn=et(Qn[0]+"e"+(+Qn[1]+Kt));return Qn=(Mo(Rn)+"e").split("e"),+(Qn[0]+"e"+(+Qn[1]-Kt))}return et(ut)}}var Um=Qr&&1/Tu(new Qr([,-0]))[1]==vn?function(j){return new Qr(j)}:_b;function VC(j){return function(et){var ut=Ll(et);return ut==$t?ku(et):ut==Vt?lI(et):_l(et,j(et))}}function qs(j,et,ut,Kt,Qn,Rn,Kn,rr){var sr=et&ot;if(!sr&&typeof j!="function")throw new Xl(an);var Fr=Kt?Kt.length:0;if(Fr||(et&=~(Ut|rt),Kt=Qn=$),Kn=Kn===$?Kn:Yn(xo(Kn),0),rr=rr===$?rr:xo(rr),Fr-=Qn?Qn.length:0,et&rt){var vr=Kt,Sr=Qn;Kt=Qn=$}var Lr=sr?$:kI(j),eo=[j,et,ut,Kt,Qn,vr,Sr,Rn,Kn,rr];if(Lr&&Rm(eo,Lr),j=eo[0],et=eo[1],ut=eo[2],Kt=eo[3],Qn=eo[4],rr=eo[9]=eo[9]===$?sr?0:j.length:Yn(eo[9]-Fr,0),!rr&&et&(gt|xt)&&(et&=~(gt|xt)),!et||et==ht)var go=Qm(j,et,ut);else et==gt||et==xt?go=Fm(j,et,rr):(et==Ut||et==(ht|Ut))&&!Qn.length?go=vm(j,et,ut,Kt):go=V0.apply($,eo);var Fo=Lr?BC:KC;return qC(Fo(go,eo),j,et)}function WC(j,et,ut,Kt){return j===$||vs(j,Hs[ut])&&!Eo.call(Kt,ut)?et:j}function RC(j,et,ut,Kt,Qn,Rn){return Cl(j)&&Cl(et)&&(Rn.set(et,j),T0(j,et,$,RC,Rn),Rn.delete(et)),j}function Gm(j){return h0(j)?$:j}function YC(j,et,ut,Kt,Qn,Rn){var Kn=ut&_,rr=j.length,sr=et.length;if(rr!=sr&&!(Kn&&sr>rr))return!1;var Fr=Rn.get(j),vr=Rn.get(et);if(Fr&&vr)return Fr==et&&vr==j;var Sr=-1,Lr=!0,eo=ut&pt?new Ps:$;for(Rn.set(j,et),Rn.set(et,j);++Sr<rr;){var go=j[Sr],Fo=et[Sr];if(Kt)var uo=Kn?Kt(Fo,go,Sr,et,j,Rn):Kt(go,Fo,Sr,j,et,Rn);if(uo!==$){if(uo)continue;Lr=!1;break}if(eo){if(!zu(et,function(Go,Xo){if(!fu(eo,Xo)&&(go===Go||Qn(go,Go,ut,Kt,Rn)))return eo.push(Xo)})){Lr=!1;break}}else if(!(go===Fo||Qn(go,Fo,ut,Kt,Rn))){Lr=!1;break}}return Rn.delete(j),Rn.delete(et),Lr}function wm(j,et,ut,Kt,Qn,Rn,Kn){switch(ut){case ft:if(j.byteLength!=et.byteLength||j.byteOffset!=et.byteOffset)return!1;j=j.buffer,et=et.buffer;case zt:return!(j.byteLength!=et.byteLength||!Rn(new Ns(j),new Ns(et)));case lt:case st:case Wt:return vs(+j,+et);case Dt:return j.name==et.name&&j.message==et.message;case St:case Pt:return j==et+"";case $t:var rr=ku;case Vt:var sr=Kt&_;if(rr||(rr=Tu),j.size!=et.size&&!sr)return!1;var Fr=Kn.get(j);if(Fr)return Fr==et;Kt|=pt,Kn.set(j,et);var vr=YC(rr(j),rr(et),Kt,Qn,Rn,Kn);return Kn.delete(j),vr;case qt:if(Vo)return Vo.call(j)==Vo.call(et)}return!1}function Em(j,et,ut,Kt,Qn,Rn){var Kn=ut&_,rr=ZI(j),sr=rr.length,Fr=ZI(et),vr=Fr.length;if(sr!=vr&&!Kn)return!1;for(var Sr=sr;Sr--;){var Lr=rr[Sr];if(!(Kn?Lr in et:Eo.call(et,Lr)))return!1}var eo=Rn.get(j),go=Rn.get(et);if(eo&&go)return eo==et&&go==j;var Fo=!0;Rn.set(j,et),Rn.set(et,j);for(var uo=Kn;++Sr<sr;){Lr=rr[Sr];var Go=j[Lr],Xo=et[Lr];if(Kt)var bs=Kn?Kt(Xo,Go,Lr,et,j,Rn):Kt(Go,Xo,Lr,j,et,Rn);if(!(bs===$?Go===Xo||Qn(Go,Xo,ut,Kt,Rn):bs)){Fo=!1;break}uo||(uo=Lr=="constructor")}if(Fo&&!uo){var _c=j.constructor,hs=et.constructor;_c!=hs&&"constructor"in j&&"constructor"in et&&!(typeof _c=="function"&&_c instanceof _c&&typeof hs=="function"&&hs instanceof hs)&&(Fo=!1)}return Rn.delete(j),Rn.delete(et),Fo}function $s(j){return WI(_C(j,$,ip),j+"")}function ZI(j){return sC(j,Dl,DI)}function NI(j){return sC(j,as,LC)}var kI=Yr?function(j){return Yr.get(j)}:_b;function L0(j){for(var et=j.name+"",ut=_a[et],Kt=Eo.call(_a,et)?ut.length:0;Kt--;){var Qn=ut[Kt],Rn=Qn.func;if(Rn==null||Rn==j)return Qn.name}return et}function Yu(j){var et=Eo.call(Sn,"placeholder")?Sn:j;return et.placeholder}function co(){var j=Sn.iteratee||qI;return j=j===qI?dC:j,arguments.length?j(arguments[0],arguments[1]):j}function H0(j,et){var ut=j.__data__;return Om(et)?ut[typeof et=="string"?"string":"hash"]:ut.map}function TI(j){for(var et=Dl(j),ut=et.length;ut--;){var Kt=et[ut],Qn=j[Kt];et[ut]=[Kt,Qn,jC(Qn)]}return et}function vu(j,et){var ut=Nu(j,et);return uC(ut)?ut:$}function Sm(j){var et=Eo.call(j,Js),ut=j[Js];try{j[Js]=$;var Kt=!0}catch{}var Qn=ps.call(j);return Kt&&(et?j[Js]=ut:delete j[Js]),Qn}var DI=gn?function(j){return j==null?[]:(j=Do(j),ws(gn(j),function(et){return i0.call(j,et)}))}:_h,LC=gn?function(j){for(var et=[];j;)Qs(et,DI(j)),j=uu(j);return et}:_h,Ll=Kl;(kr&&Ll(new kr(new ArrayBuffer(1)))!=ft||Gr&&Ll(new Gr)!=$t||Pr&&Ll(Pr.resolve())!=rn||Qr&&Ll(new Qr)!=Vt||_i&&Ll(new _i)!=Rt)&&(Ll=function(j){var et=Kl(j),ut=et==In?j.constructor:$,Kt=ut?Uu(ut):"";if(Kt)switch(Kt){case $a:return ft;case ao:return $t;case Bo:return rn;case $o:return Vt;case Ul:return Rt}return et});function Xm(j,et,ut){for(var Kt=-1,Qn=ut.length;++Kt<Qn;){var Rn=ut[Kt],Kn=Rn.size;switch(Rn.type){case"drop":j+=Kn;break;case"dropRight":et-=Kn;break;case"take":et=qn(et,j+Kn);break;case"takeRight":j=Yn(j,et-Kn);break}}return{start:j,end:et}}function Zm(j){var et=j.match(cr);return et?et[1].split(or):[]}function HC(j,et,ut){et=bu(et,j);for(var Kt=-1,Qn=et.length,Rn=!1;++Kt<Qn;){var Kn=Ms(et[Kt]);if(!(Rn=j!=null&&ut(j,Kn)))break;j=j[Kn]}return Rn||++Kt!=Qn?Rn:(Qn=j==null?0:j.length,!!Qn&&q0(Qn)&&_g(Kn,Qn)&&(Ao(j)||Gu(j)))}function Nm(j){var et=j.length,ut=new j.constructor(et);return et&&typeof j[0]=="string"&&Eo.call(j,"index")&&(ut.index=j.index,ut.input=j.input),ut}function zC(j){return typeof j.constructor=="function"&&!I0(j)?zo(uu(j)):{}}function km(j,et,ut){var Kt=j.constructor;switch(et){case zt:return EI(j);case lt:case st:return new Kt(+j);case ft:return mm(j,ut);case Gt:case wt:case Jt:case Mt:case un:case bn:case jt:case Fn:case yn:return GC(j,ut);case $t:return new Kt;case Wt:case Pt:return new Kt(j);case St:return fm(j);case Vt:return new Kt;case qt:return Bm(j)}}function Tm(j,et){var ut=et.length;if(!ut)return j;var Kt=ut-1;return et[Kt]=(ut>1?"& ":"")+et[Kt],et=et.join(ut>2?", ":" "),j.replace($n,`{
/* [wrapped with `+et+`] */
`)}function Dm(j){return Ao(j)||Gu(j)||!!(So&&j&&j[So])}function _g(j,et){var ut=typeof j;return et=et??yt,!!et&&(ut=="number"||ut!="symbol"&&ho.test(j))&&j>-1&&j%1==0&&j<et}function $l(j,et,ut){if(!Cl(ut))return!1;var Kt=typeof et;return(Kt=="number"?is(ut)&&_g(et,ut.length):Kt=="string"&&et in ut)?vs(ut[et],j):!1}function OI(j,et){if(Ao(j))return!1;var ut=typeof j;return ut=="number"||ut=="symbol"||ut=="boolean"||j==null||Is(j)?!0:ln.test(j)||!Wn.test(j)||et!=null&&j in Do(et)}function Om(j){var et=typeof j;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?j!=="__proto__":j===null}function MI(j){var et=L0(j),ut=Sn[et];if(typeof ut!="function"||!(et in Wr.prototype))return!1;if(j===ut)return!0;var Kt=kI(ut);return!!Kt&&j===Kt[0]}function Mm(j){return!!Zs&&Zs in j}var Vm=su?eu:eC;function I0(j){var et=j&&j.constructor,ut=typeof et=="function"&&et.prototype||Hs;return j===ut}function jC(j){return j===j&&!Cl(j)}function JC(j,et){return function(ut){return ut==null?!1:ut[j]===et&&(et!==$||j in Do(ut))}}function Wm(j){var et=P0(j,function(Kt){return ut.size===Jn&&ut.clear(),Kt}),ut=et.cache;return et}function Rm(j,et){var ut=j[1],Kt=et[1],Qn=ut|Kt,Rn=Qn<(ht|ot|vt),Kn=Kt==vt&&ut==gt||Kt==vt&&ut==Xt&&j[7].length<=et[8]||Kt==(vt|Xt)&&et[7].length<=et[8]&&ut==gt;if(!(Rn||Kn))return j;Kt&ht&&(j[2]=et[2],Qn|=ut&ht?0:at);var rr=et[3];if(rr){var sr=j[3];j[3]=sr?EC(sr,rr,et[4]):rr,j[4]=sr?ss(j[3],Vn):et[4]}return rr=et[5],rr&&(sr=j[5],j[5]=sr?SC(sr,rr,et[6]):rr,j[6]=sr?ss(j[5],Vn):et[6]),rr=et[7],rr&&(j[7]=rr),Kt&vt&&(j[8]=j[8]==null?et[8]:qn(j[8],et[8])),j[9]==null&&(j[9]=et[9]),j[0]=et[0],j[1]=Qn,j}function Ym(j){var et=[];if(j!=null)for(var ut in Do(j))et.push(ut);return et}function Lm(j){return ps.call(j)}function _C(j,et,ut){return et=Yn(et===$?j.length-1:et,0),function(){for(var Kt=arguments,Qn=-1,Rn=Yn(Kt.length-et,0),Kn=_n(Rn);++Qn<Rn;)Kn[Qn]=Kt[et+Qn];Qn=-1;for(var rr=_n(et+1);++Qn<et;)rr[Qn]=Kt[Qn];return rr[et]=ut(Kn),Tl(j,this,rr)}}function PC(j,et){return et.length<2?j:Fu(j,Bs(et,0,-1))}function Hm(j,et){for(var ut=j.length,Kt=qn(et.length,ut),Qn=rs(j);Kt--;){var Rn=et[Kt];j[Kt]=_g(Rn,ut)?Qn[Rn]:$}return j}function VI(j,et){if(!(et==="constructor"&&typeof j[et]=="function")&&et!="__proto__")return j[et]}var KC=$C(BC),b0=en||function(j,et){return yo.setTimeout(j,et)},WI=$C(bm);function qC(j,et,ut){var Kt=et+"";return WI(j,Tm(Kt,zm(Zm(Kt),ut)))}function $C(j){var et=0,ut=0;return function(){var Kt=nr(),Qn=fn-(Kt-ut);if(ut=Kt,Qn>0){if(++et>=hn)return arguments[0]}else et=0;return j.apply($,arguments)}}function z0(j,et){var ut=-1,Kt=j.length,Qn=Kt-1;for(et=et===$?Kt:et;++ut<et;){var Rn=xI(ut,Qn),Kn=j[Rn];j[Rn]=j[ut],j[ut]=Kn}return j.length=et,j}var ep=Wm(function(j){var et=[];return j.charCodeAt(0)===46&&et.push(""),j.replace(Un,function(ut,Kt,Qn,Rn){et.push(Qn?Rn.replace(Zr,"$1"):Kt||ut)}),et});function Ms(j){if(typeof j=="string"||Is(j))return j;var et=j+"";return et=="0"&&1/j==-vn?"-0":et}function Uu(j){if(j!=null){try{return Du.call(j)}catch{}try{return j+""}catch{}}return""}function zm(j,et){return ts(Ct,function(ut){var Kt="_."+ut[0];et&ut[1]&&!Rs(j,Kt)&&j.push(Kt)}),j.sort()}function tp(j){if(j instanceof Wr)return j.clone();var et=new Wo(j.__wrapped__,j.__chain__);return et.__actions__=rs(j.__actions__),et.__index__=j.__index__,et.__values__=j.__values__,et}function jm(j,et,ut){(ut?$l(j,et,ut):et===$)?et=1:et=Yn(xo(et),0);var Kt=j==null?0:j.length;if(!Kt||et<1)return[];for(var Qn=0,Rn=0,Kn=_n(sn(Kt/et));Qn<Kt;)Kn[Rn++]=Bs(j,Qn,Qn+=et);return Kn}function Jm(j){for(var et=-1,ut=j==null?0:j.length,Kt=0,Qn=[];++et<ut;){var Rn=j[et];Rn&&(Qn[Kt++]=Rn)}return Qn}function _m(){var j=arguments.length;if(!j)return[];for(var et=_n(j-1),ut=arguments[0],Kt=j;Kt--;)et[Kt-1]=arguments[Kt];return Qs(Ao(ut)?rs(ut):[ut],Vl(et,1))}var Pm=vo(function(j,et){return El(j)?c0(j,Vl(et,1,El,!0)):[]}),Km=vo(function(j,et){var ut=As(et);return El(ut)&&(ut=$),El(j)?c0(j,Vl(et,1,El,!0),co(ut,2)):[]}),qm=vo(function(j,et){var ut=As(et);return El(ut)&&(ut=$),El(j)?c0(j,Vl(et,1,El,!0),$,ut):[]});function $m(j,et,ut){var Kt=j==null?0:j.length;return Kt?(et=ut||et===$?1:xo(et),Bs(j,et<0?0:et,Kt)):[]}function _f(j,et,ut){var Kt=j==null?0:j.length;return Kt?(et=ut||et===$?1:xo(et),et=Kt-et,Bs(j,0,et<0?0:et)):[]}function eB(j,et){return j&&j.length?O0(j,co(et,3),!0,!0):[]}function tB(j,et){return j&&j.length?O0(j,co(et,3),!0):[]}function nB(j,et,ut,Kt){var Qn=j==null?0:j.length;return Qn?(ut&&typeof ut!="number"&&$l(j,et,ut)&&(ut=0,Kt=Qn),_p(j,et,ut,Kt)):[]}function np(j,et,ut){var Kt=j==null?0:j.length;if(!Kt)return-1;var Qn=ut==null?0:xo(ut);return Qn<0&&(Qn=Yn(Kt+Qn,0)),pu(j,co(et,3),Qn)}function rp(j,et,ut){var Kt=j==null?0:j.length;if(!Kt)return-1;var Qn=Kt-1;return ut!==$&&(Qn=xo(ut),Qn=ut<0?Yn(Kt+Qn,0):qn(Qn,Kt-1)),pu(j,co(et,3),Qn,!0)}function ip(j){var et=j==null?0:j.length;return et?Vl(j,1):[]}function rB(j){var et=j==null?0:j.length;return et?Vl(j,vn):[]}function iB(j,et){var ut=j==null?0:j.length;return ut?(et=et===$?1:xo(et),Vl(j,et)):[]}function aB(j){for(var et=-1,ut=j==null?0:j.length,Kt={};++et<ut;){var Qn=j[et];Kt[Qn[0]]=Qn[1]}return Kt}function ap(j){return j&&j.length?j[0]:$}function oB(j,et,ut){var Kt=j==null?0:j.length;if(!Kt)return-1;var Qn=ut==null?0:xo(ut);return Qn<0&&(Qn=Yn(Kt+Qn,0)),au(j,et,Qn)}function lB(j){var et=j==null?0:j.length;return et?Bs(j,0,-1):[]}var cB=vo(function(j){var et=Yo(j,GI);return et.length&&et[0]===j[0]?mI(et):[]}),sB=vo(function(j){var et=As(j),ut=Yo(j,GI);return et===As(ut)?et=$:ut.pop(),ut.length&&ut[0]===j[0]?mI(ut,co(et,2)):[]}),gB=vo(function(j){var et=As(j),ut=Yo(j,GI);return et=typeof et=="function"?et:$,et&&ut.pop(),ut.length&&ut[0]===j[0]?mI(ut,$,et):[]});function uB(j,et){return j==null?"":Zn.call(j,et)}function As(j){var et=j==null?0:j.length;return et?j[et-1]:$}function dB(j,et,ut){var Kt=j==null?0:j.length;if(!Kt)return-1;var Qn=Kt;return ut!==$&&(Qn=xo(ut),Qn=Qn<0?Yn(Kt+Qn,0):qn(Qn,Kt-1)),et===et?Xs(j,et,Qn):pu(j,mu,Qn,!0)}function IB(j,et){return j&&j.length?CC(j,xo(et)):$}var bB=vo(op);function op(j,et){return j&&j.length&&et&&et.length?yI(j,et):j}function hB(j,et,ut){return j&&j.length&&et&&et.length?yI(j,et,co(ut,2)):j}function CB(j,et,ut){return j&&j.length&&et&&et.length?yI(j,et,$,ut):j}var pB=$s(function(j,et){var ut=j==null?0:j.length,Kt=bI(j,et);return fC(j,Yo(et,function(Qn){return _g(Qn,ut)?+Qn:Qn}).sort(wC)),Kt});function mB(j,et){var ut=[];if(!(j&&j.length))return ut;var Kt=-1,Qn=[],Rn=j.length;for(et=co(et,3);++Kt<Rn;){var Kn=j[Kt];et(Kn,Kt,j)&&(ut.push(Kn),Qn.push(Kt))}return fC(j,Qn),ut}function RI(j){return j==null?j:dr.call(j)}function fB(j,et,ut){var Kt=j==null?0:j.length;return Kt?(ut&&typeof ut!="number"&&$l(j,et,ut)?(et=0,ut=Kt):(et=et==null?0:xo(et),ut=ut===$?Kt:xo(ut)),Bs(j,et,ut)):[]}function BB(j,et){return D0(j,et)}function AB(j,et,ut){return FI(j,et,co(ut,2))}function yB(j,et){var ut=j==null?0:j.length;if(ut){var Kt=D0(j,et);if(Kt<ut&&vs(j[Kt],et))return Kt}return-1}function xB(j,et){return D0(j,et,!0)}function QB(j,et,ut){return FI(j,et,co(ut,2),!0)}function FB(j,et){var ut=j==null?0:j.length;if(ut){var Kt=D0(j,et,!0)-1;if(vs(j[Kt],et))return Kt}return-1}function vB(j){return j&&j.length?AC(j):[]}function UB(j,et){return j&&j.length?AC(j,co(et,2)):[]}function GB(j){var et=j==null?0:j.length;return et?Bs(j,1,et):[]}function wB(j,et,ut){return j&&j.length?(et=ut||et===$?1:xo(et),Bs(j,0,et<0?0:et)):[]}function EB(j,et,ut){var Kt=j==null?0:j.length;return Kt?(et=ut||et===$?1:xo(et),et=Kt-et,Bs(j,et<0?0:et,Kt)):[]}function SB(j,et){return j&&j.length?O0(j,co(et,3),!1,!0):[]}function XB(j,et){return j&&j.length?O0(j,co(et,3)):[]}var ZB=vo(function(j){return Iu(Vl(j,1,El,!0))}),NB=vo(function(j){var et=As(j);return El(et)&&(et=$),Iu(Vl(j,1,El,!0),co(et,2))}),kB=vo(function(j){var et=As(j);return et=typeof et=="function"?et:$,Iu(Vl(j,1,El,!0),$,et)});function TB(j){return j&&j.length?Iu(j):[]}function DB(j,et){return j&&j.length?Iu(j,co(et,2)):[]}function OB(j,et){return et=typeof et=="function"?et:$,j&&j.length?Iu(j,$,et):[]}function YI(j){if(!(j&&j.length))return[];var et=0;return j=ws(j,function(ut){if(El(ut))return et=Yn(ut.length,et),!0}),Ju(et,function(ut){return Yo(j,ou(ut))})}function lp(j,et){if(!(j&&j.length))return[];var ut=YI(j);return et==null?ut:Yo(ut,function(Kt){return Tl(et,$,Kt)})}var MB=vo(function(j,et){return El(j)?c0(j,et):[]}),VB=vo(function(j){return UI(ws(j,El))}),WB=vo(function(j){var et=As(j);return El(et)&&(et=$),UI(ws(j,El),co(et,2))}),RB=vo(function(j){var et=As(j);return et=typeof et=="function"?et:$,UI(ws(j,El),$,et)}),YB=vo(YI);function LB(j,et){return FC(j||[],et||[],l0)}function HB(j,et){return FC(j||[],et||[],u0)}var zB=vo(function(j){var et=j.length,ut=et>1?j[et-1]:$;return ut=typeof ut=="function"?(j.pop(),ut):$,lp(j,ut)});function cp(j){var et=Sn(j);return et.__chain__=!0,et}function jB(j,et){return et(j),j}function j0(j,et){return et(j)}var JB=$s(function(j){var et=j.length,ut=et?j[0]:0,Kt=this.__wrapped__,Qn=function(Rn){return bI(Rn,j)};return et>1||this.__actions__.length||!(Kt instanceof Wr)||!_g(ut)?this.thru(Qn):(Kt=Kt.slice(ut,+ut+(et?1:0)),Kt.__actions__.push({func:j0,args:[Qn],thisArg:$}),new Wo(Kt,this.__chain__).thru(function(Rn){return et&&!Rn.length&&Rn.push($),Rn}))});function _B(){return cp(this)}function PB(){return new Wo(this.value(),this.__chain__)}function KB(){this.__values__===$&&(this.__values__=yp(this.value()));var j=this.__index__>=this.__values__.length,et=j?$:this.__values__[this.__index__++];return{done:j,value:et}}function qB(){return this}function $B(j){for(var et,ut=this;ut instanceof jo;){var Kt=tp(ut);Kt.__index__=0,Kt.__values__=$,et?Qn.__wrapped__=Kt:et=Kt;var Qn=Kt;ut=ut.__wrapped__}return Qn.__wrapped__=j,et}function e1(){var j=this.__wrapped__;if(j instanceof Wr){var et=j;return this.__actions__.length&&(et=new Wr(this)),et=et.reverse(),et.__actions__.push({func:j0,args:[RI],thisArg:$}),new Wo(et,this.__chain__)}return this.thru(RI)}function t1(){return QC(this.__wrapped__,this.__actions__)}var n1=M0(function(j,et,ut){Eo.call(j,ut)?++j[ut]:Ks(j,ut,1)});function r1(j,et,ut){var Kt=Ao(j)?Ws:Jp;return ut&&$l(j,et,ut)&&(et=$),Kt(j,co(et,3))}function i1(j,et){var ut=Ao(j)?ws:lC;return ut(j,co(et,3))}var a1=kC(np),o1=kC(rp);function l1(j,et){return Vl(J0(j,et),1)}function c1(j,et){return Vl(J0(j,et),vn)}function s1(j,et,ut){return ut=ut===$?1:xo(ut),Vl(J0(j,et),ut)}function sp(j,et){var ut=Ao(j)?ts:du;return ut(j,co(et,3))}function gp(j,et){var ut=Ao(j)?wu:oC;return ut(j,co(et,3))}var g1=M0(function(j,et,ut){Eo.call(j,ut)?j[ut].push(et):Ks(j,ut,[et])});function u1(j,et,ut,Kt){j=is(j)?j:Hu(j),ut=ut&&!Kt?xo(ut):0;var Qn=j.length;return ut<0&&(ut=Yn(Qn+ut,0)),$0(j)?ut<=Qn&&j.indexOf(et,ut)>-1:!!Qn&&au(j,et,ut)>-1}var d1=vo(function(j,et,ut){var Kt=-1,Qn=typeof et=="function",Rn=is(j)?_n(j.length):[];return du(j,function(Kn){Rn[++Kt]=Qn?Tl(et,Kn,ut):s0(Kn,et,ut)}),Rn}),I1=M0(function(j,et,ut){Ks(j,ut,et)});function J0(j,et){var ut=Ao(j)?Yo:IC;return ut(j,co(et,3))}function b1(j,et,ut,Kt){return j==null?[]:(Ao(et)||(et=et==null?[]:[et]),ut=Kt?$:ut,Ao(ut)||(ut=ut==null?[]:[ut]),pC(j,et,ut))}var h1=M0(function(j,et,ut){j[ut?0:1].push(et)},function(){return[[],[]]});function C1(j,et,ut){var Kt=Ao(j)?Eu:A0,Qn=arguments.length<3;return Kt(j,co(et,4),ut,Qn,du)}function p1(j,et,ut){var Kt=Ao(j)?f0:A0,Qn=arguments.length<3;return Kt(j,co(et,4),ut,Qn,oC)}function m1(j,et){var ut=Ao(j)?ws:lC;return ut(j,K0(co(et,3)))}function f1(j){var et=Ao(j)?nC:dm;return et(j)}function B1(j,et,ut){(ut?$l(j,et,ut):et===$)?et=1:et=xo(et);var Kt=Ao(j)?Yp:Im;return Kt(j,et)}function A1(j){var et=Ao(j)?Lp:hm;return et(j)}function y1(j){if(j==null)return 0;if(is(j))return $0(j)?lu(j):j.length;var et=Ll(j);return et==$t||et==Vt?j.size:BI(j).length}function x1(j,et,ut){var Kt=Ao(j)?zu:Cm;return ut&&$l(j,et,ut)&&(et=$),Kt(j,co(et,3))}var Q1=vo(function(j,et){if(j==null)return[];var ut=et.length;return ut>1&&$l(j,et[0],et[1])?et=[]:ut>2&&$l(et[0],et[1],et[2])&&(et=[et[0]]),pC(j,Vl(et,1),[])}),_0=Ft||function(){return yo.Date.now()};function F1(j,et){if(typeof et!="function")throw new Xl(an);return j=xo(j),function(){if(--j<1)return et.apply(this,arguments)}}function up(j,et,ut){return et=ut?$:et,et=j&&et==null?j.length:et,qs(j,vt,$,$,$,$,et)}function dp(j,et){var ut;if(typeof et!="function")throw new Xl(an);return j=xo(j),function(){return--j>0&&(ut=et.apply(this,arguments)),j<=1&&(et=$),ut}}var LI=vo(function(j,et,ut){var Kt=ht;if(ut.length){var Qn=ss(ut,Yu(LI));Kt|=Ut}return qs(j,Kt,et,ut,Qn)}),Ip=vo(function(j,et,ut){var Kt=ht|ot;if(ut.length){var Qn=ss(ut,Yu(Ip));Kt|=Ut}return qs(et,Kt,j,ut,Qn)});function bp(j,et,ut){et=ut?$:et;var Kt=qs(j,gt,$,$,$,$,$,et);return Kt.placeholder=bp.placeholder,Kt}function hp(j,et,ut){et=ut?$:et;var Kt=qs(j,xt,$,$,$,$,$,et);return Kt.placeholder=hp.placeholder,Kt}function Cp(j,et,ut){var Kt,Qn,Rn,Kn,rr,sr,Fr=0,vr=!1,Sr=!1,Lr=!0;if(typeof j!="function")throw new Xl(an);et=ys(et)||0,Cl(ut)&&(vr=!!ut.leading,Sr="maxWait"in ut,Rn=Sr?Yn(ys(ut.maxWait)||0,et):Rn,Lr="trailing"in ut?!!ut.trailing:Lr);function eo(Sl){var Us=Kt,nu=Qn;return Kt=Qn=$,Fr=Sl,Kn=j.apply(nu,Us),Kn}function go(Sl){return Fr=Sl,rr=b0(Go,et),vr?eo(Sl):Kn}function Fo(Sl){var Us=Sl-sr,nu=Sl-Fr,kp=et-Us;return Sr?qn(kp,Rn-nu):kp}function uo(Sl){var Us=Sl-sr,nu=Sl-Fr;return sr===$||Us>=et||Us<0||Sr&&nu>=Rn}function Go(){var Sl=_0();if(uo(Sl))return Xo(Sl);rr=b0(Go,Fo(Sl))}function Xo(Sl){return rr=$,Lr&&Kt?eo(Sl):(Kt=Qn=$,Kn)}function bs(){rr!==$&&vC(rr),Fr=0,Kt=sr=Qn=rr=$}function _c(){return rr===$?Kn:Xo(_0())}function hs(){var Sl=_0(),Us=uo(Sl);if(Kt=arguments,Qn=this,sr=Sl,Us){if(rr===$)return go(sr);if(Sr)return vC(rr),rr=b0(Go,et),eo(sr)}return rr===$&&(rr=b0(Go,et)),Kn}return hs.cancel=bs,hs.flush=_c,hs}var v1=vo(function(j,et){return aC(j,1,et)}),U1=vo(function(j,et,ut){return aC(j,ys(et)||0,ut)});function G1(j){return qs(j,nn)}function P0(j,et){if(typeof j!="function"||et!=null&&typeof et!="function")throw new Xl(an);var ut=function(){var Kt=arguments,Qn=et?et.apply(this,Kt):Kt[0],Rn=ut.cache;if(Rn.has(Qn))return Rn.get(Qn);var Kn=j.apply(this,Kt);return ut.cache=Rn.set(Qn,Kn)||Rn,Kn};return ut.cache=new(P0.Cache||us),ut}P0.Cache=us;function K0(j){if(typeof j!="function")throw new Xl(an);return function(){var et=arguments;switch(et.length){case 0:return!j.call(this);case 1:return!j.call(this,et[0]);case 2:return!j.call(this,et[0],et[1]);case 3:return!j.call(this,et[0],et[1],et[2])}return!j.apply(this,et)}}function w1(j){return dp(2,j)}var E1=pm(function(j,et){et=et.length==1&&Ao(et[0])?Yo(et[0],Pl(co())):Yo(Vl(et,1),Pl(co()));var ut=et.length;return vo(function(Kt){for(var Qn=-1,Rn=qn(Kt.length,ut);++Qn<Rn;)Kt[Qn]=et[Qn].call(this,Kt[Qn]);return Tl(j,this,Kt)})}),HI=vo(function(j,et){var ut=ss(et,Yu(HI));return qs(j,Ut,$,et,ut)}),pp=vo(function(j,et){var ut=ss(et,Yu(pp));return qs(j,rt,$,et,ut)}),S1=$s(function(j,et){return qs(j,Xt,$,$,$,et)});function X1(j,et){if(typeof j!="function")throw new Xl(an);return et=et===$?et:xo(et),vo(j,et)}function Z1(j,et){if(typeof j!="function")throw new Xl(an);return et=et==null?0:Yn(xo(et),0),vo(function(ut){var Kt=ut[et],Qn=hu(ut,0,et);return Kt&&Qs(Qn,Kt),Tl(j,this,Qn)})}function N1(j,et,ut){var Kt=!0,Qn=!0;if(typeof j!="function")throw new Xl(an);return Cl(ut)&&(Kt="leading"in ut?!!ut.leading:Kt,Qn="trailing"in ut?!!ut.trailing:Qn),Cp(j,et,{leading:Kt,maxWait:et,trailing:Qn})}function k1(j){return up(j,1)}function T1(j,et){return HI(wI(et),j)}function D1(){if(!arguments.length)return[];var j=arguments[0];return Ao(j)?j:[j]}function O1(j){return fs(j,kt)}function M1(j,et){return et=typeof et=="function"?et:$,fs(j,kt,et)}function V1(j){return fs(j,er|kt)}function W1(j,et){return et=typeof et=="function"?et:$,fs(j,er|kt,et)}function R1(j,et){return et==null||iC(j,et,Dl(et))}function vs(j,et){return j===et||j!==j&&et!==et}var Y1=Y0(pI),L1=Y0(function(j,et){return j>=et}),Gu=gC(function(){return arguments}())?gC:function(j){return Ql(j)&&Eo.call(j,"callee")&&!i0.call(j,"callee")},Ao=_n.isArray,H1=Jl?Pl(Jl):em;function is(j){return j!=null&&q0(j.length)&&!eu(j)}function El(j){return Ql(j)&&is(j)}function z1(j){return j===!0||j===!1||Ql(j)&&Kl(j)==lt}var Cu=Yt||eC,j1=yl?Pl(yl):tm;function J1(j){return Ql(j)&&j.nodeType===1&&!h0(j)}function _1(j){if(j==null)return!0;if(is(j)&&(Ao(j)||typeof j=="string"||typeof j.splice=="function"||Cu(j)||Lu(j)||Gu(j)))return!j.length;var et=Ll(j);if(et==$t||et==Vt)return!j.size;if(I0(j))return!BI(j).length;for(var ut in j)if(Eo.call(j,ut))return!1;return!0}function P1(j,et){return g0(j,et)}function K1(j,et,ut){ut=typeof ut=="function"?ut:$;var Kt=ut?ut(j,et):$;return Kt===$?g0(j,et,$,ut):!!Kt}function zI(j){if(!Ql(j))return!1;var et=Kl(j);return et==Dt||et==It||typeof j.message=="string"&&typeof j.name=="string"&&!h0(j)}function q1(j){return typeof j=="number"&&En(j)}function eu(j){if(!Cl(j))return!1;var et=Kl(j);return et==tn||et==Tt||et==_e||et==_t}function mp(j){return typeof j=="number"&&j==xo(j)}function q0(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=yt}function Cl(j){var et=typeof j;return j!=null&&(et=="object"||et=="function")}function Ql(j){return j!=null&&typeof j=="object"}var fp=Cs?Pl(Cs):rm;function $1(j,et){return j===et||fI(j,et,TI(et))}function eA(j,et,ut){return ut=typeof ut=="function"?ut:$,fI(j,et,TI(et),ut)}function tA(j){return Bp(j)&&j!=+j}function nA(j){if(Vm(j))throw new bo(mt);return uC(j)}function rA(j){return j===null}function iA(j){return j==null}function Bp(j){return typeof j=="number"||Ql(j)&&Kl(j)==Wt}function h0(j){if(!Ql(j)||Kl(j)!=In)return!1;var et=uu(j);if(et===null)return!0;var ut=Eo.call(et,"constructor")&&et.constructor;return typeof ut=="function"&&ut instanceof ut&&Du.call(ut)==zs}var jI=C0?Pl(C0):im;function aA(j){return mp(j)&&j>=-yt&&j<=yt}var Ap=p0?Pl(p0):am;function $0(j){return typeof j=="string"||!Ao(j)&&Ql(j)&&Kl(j)==Pt}function Is(j){return typeof j=="symbol"||Ql(j)&&Kl(j)==qt}var Lu=m0?Pl(m0):om;function oA(j){return j===$}function lA(j){return Ql(j)&&Ll(j)==Rt}function cA(j){return Ql(j)&&Kl(j)==Zt}var sA=Y0(AI),gA=Y0(function(j,et){return j<=et});function yp(j){if(!j)return[];if(is(j))return $0(j)?ns(j):rs(j);if(js&&j[js])return Q0(j[js]());var et=Ll(j),ut=et==$t?ku:et==Vt?Tu:Hu;return ut(j)}function tu(j){if(!j)return j===0?j:0;if(j=ys(j),j===vn||j===-vn){var et=j<0?-1:1;return et*Ht}return j===j?j:0}function xo(j){var et=tu(j),ut=et%1;return et===et?ut?et-ut:et:0}function xp(j){return j?Qu(xo(j),0,bt):0}function ys(j){if(typeof j=="number")return j;if(Is(j))return Bt;if(Cl(j)){var et=typeof j.valueOf=="function"?j.valueOf():j;j=Cl(et)?et+"":et}if(typeof j!="string")return j===0?j:+j;j=_u(j);var ut=Nr.test(j);return ut||ba.test(j)?Oo(j.slice(2),ut?2:8):pr.test(j)?Bt:+j}function Qp(j){return Os(j,as(j))}function uA(j){return j?Qu(xo(j),-yt,yt):j===0?j:0}function Mo(j){return j==null?"":ds(j)}var dA=Wu(function(j,et){if(I0(et)||is(et)){Os(et,Dl(et),j);return}for(var ut in et)Eo.call(et,ut)&&l0(j,ut,et[ut])}),Fp=Wu(function(j,et){Os(et,as(et),j)}),eI=Wu(function(j,et,ut,Kt){Os(et,as(et),j,Kt)}),IA=Wu(function(j,et,ut,Kt){Os(et,Dl(et),j,Kt)}),bA=$s(bI);function hA(j,et){var ut=zo(j);return et==null?ut:rC(ut,et)}var CA=vo(function(j,et){j=Do(j);var ut=-1,Kt=et.length,Qn=Kt>2?et[2]:$;for(Qn&&$l(et[0],et[1],Qn)&&(Kt=1);++ut<Kt;)for(var Rn=et[ut],Kn=as(Rn),rr=-1,sr=Kn.length;++rr<sr;){var Fr=Kn[rr],vr=j[Fr];(vr===$||vs(vr,Hs[Fr])&&!Eo.call(j,Fr))&&(j[Fr]=Rn[Fr])}return j}),pA=vo(function(j){return j.push($,RC),Tl(vp,$,j)});function mA(j,et){return B0(j,co(et,3),Ds)}function fA(j,et){return B0(j,co(et,3),CI)}function BA(j,et){return j==null?j:hI(j,co(et,3),as)}function AA(j,et){return j==null?j:cC(j,co(et,3),as)}function yA(j,et){return j&&Ds(j,co(et,3))}function xA(j,et){return j&&CI(j,co(et,3))}function QA(j){return j==null?[]:k0(j,Dl(j))}function FA(j){return j==null?[]:k0(j,as(j))}function JI(j,et,ut){var Kt=j==null?$:Fu(j,et);return Kt===$?ut:Kt}function vA(j,et){return j!=null&&HC(j,et,Pp)}function _I(j,et){return j!=null&&HC(j,et,Kp)}var UA=DC(function(j,et,ut){et!=null&&typeof et.toString!="function"&&(et=ps.call(et)),j[et]=ut},KI(os)),GA=DC(function(j,et,ut){et!=null&&typeof et.toString!="function"&&(et=ps.call(et)),Eo.call(j,et)?j[et].push(ut):j[et]=[ut]},co),wA=vo(s0);function Dl(j){return is(j)?tC(j):BI(j)}function as(j){return is(j)?tC(j,!0):lm(j)}function EA(j,et){var ut={};return et=co(et,3),Ds(j,function(Kt,Qn,Rn){Ks(ut,et(Kt,Qn,Rn),Kt)}),ut}function SA(j,et){var ut={};return et=co(et,3),Ds(j,function(Kt,Qn,Rn){Ks(ut,Qn,et(Kt,Qn,Rn))}),ut}var XA=Wu(function(j,et,ut){T0(j,et,ut)}),vp=Wu(function(j,et,ut,Kt){T0(j,et,ut,Kt)}),ZA=$s(function(j,et){var ut={};if(j==null)return ut;var Kt=!1;et=Yo(et,function(Rn){return Rn=bu(Rn,j),Kt||(Kt=Rn.length>1),Rn}),Os(j,NI(j),ut),Kt&&(ut=fs(ut,er|Lt|kt,Gm));for(var Qn=et.length;Qn--;)vI(ut,et[Qn]);return ut});function NA(j,et){return Up(j,K0(co(et)))}var kA=$s(function(j,et){return j==null?{}:sm(j,et)});function Up(j,et){if(j==null)return{};var ut=Yo(NI(j),function(Kt){return[Kt]});return et=co(et),mC(j,ut,function(Kt,Qn){return et(Kt,Qn[0])})}function TA(j,et,ut){et=bu(et,j);var Kt=-1,Qn=et.length;for(Qn||(Qn=1,j=$);++Kt<Qn;){var Rn=j==null?$:j[Ms(et[Kt])];Rn===$&&(Kt=Qn,Rn=ut),j=eu(Rn)?Rn.call(j):Rn}return j}function DA(j,et,ut){return j==null?j:u0(j,et,ut)}function OA(j,et,ut,Kt){return Kt=typeof Kt=="function"?Kt:$,j==null?j:u0(j,et,ut,Kt)}var Gp=VC(Dl),wp=VC(as);function MA(j,et,ut){var Kt=Ao(j),Qn=Kt||Cu(j)||Lu(j);if(et=co(et,4),ut==null){var Rn=j&&j.constructor;Qn?ut=Kt?new Rn:[]:Cl(j)?ut=eu(Rn)?zo(uu(j)):{}:ut={}}return(Qn?ts:Ds)(j,function(Kn,rr,sr){return et(ut,Kn,rr,sr)}),ut}function VA(j,et){return j==null?!0:vI(j,et)}function WA(j,et,ut){return j==null?j:xC(j,et,wI(ut))}function RA(j,et,ut,Kt){return Kt=typeof Kt=="function"?Kt:$,j==null?j:xC(j,et,wI(ut),Kt)}function Hu(j){return j==null?[]:Pu(j,Dl(j))}function YA(j){return j==null?[]:Pu(j,as(j))}function LA(j,et,ut){return ut===$&&(ut=et,et=$),ut!==$&&(ut=ys(ut),ut=ut===ut?ut:0),et!==$&&(et=ys(et),et=et===et?et:0),Qu(ys(j),et,ut)}function HA(j,et,ut){return et=tu(et),ut===$?(ut=et,et=0):ut=tu(ut),j=ys(j),qp(j,et,ut)}function zA(j,et,ut){if(ut&&typeof ut!="boolean"&&$l(j,et,ut)&&(et=ut=$),ut===$&&(typeof et=="boolean"?(ut=et,et=$):typeof j=="boolean"&&(ut=j,j=$)),j===$&&et===$?(j=0,et=1):(j=tu(j),et===$?(et=j,j=0):et=tu(et)),j>et){var Kt=j;j=et,et=Kt}if(ut||j%1||et%1){var Qn=mr();return qn(j+Qn*(et-j+Ho("1e-"+((Qn+"").length-1))),et)}return xI(j,et)}var jA=Ru(function(j,et,ut){return et=et.toLowerCase(),j+(ut?Ep(et):et)});function Ep(j){return PI(Mo(j).toLowerCase())}function Sp(j){return j=Mo(j),j&&j.replace(oo,x0).replace(xr,"")}function JA(j,et,ut){j=Mo(j),et=ds(et);var Kt=j.length;ut=ut===$?Kt:Qu(xo(ut),0,Kt);var Qn=ut;return ut-=et.length,ut>=0&&j.slice(ut,Qn)==et}function _A(j){return j=Mo(j),j&&Pn.test(j)?j.replace(xn,iI):j}function PA(j){return j=Mo(j),j&&Mn.test(j)?j.replace(wn,"\\$&"):j}var KA=Ru(function(j,et,ut){return j+(ut?"-":"")+et.toLowerCase()}),qA=Ru(function(j,et,ut){return j+(ut?" ":"")+et.toLowerCase()}),$A=NC("toLowerCase");function ey(j,et,ut){j=Mo(j),et=xo(et);var Kt=et?lu(j):0;if(!et||Kt>=et)return j;var Qn=(et-Kt)/2;return R0(kn(Qn),ut)+j+R0(sn(Qn),ut)}function ty(j,et,ut){j=Mo(j),et=xo(et);var Kt=et?lu(j):0;return et&&Kt<et?j+R0(et-Kt,ut):j}function ny(j,et,ut){j=Mo(j),et=xo(et);var Kt=et?lu(j):0;return et&&Kt<et?R0(et-Kt,ut)+j:j}function ry(j,et,ut){return ut||et==null?et=0:et&&(et=+et),hr(Mo(j).replace(zn,""),et||0)}function iy(j,et,ut){return(ut?$l(j,et,ut):et===$)?et=1:et=xo(et),QI(Mo(j),et)}function ay(){var j=arguments,et=Mo(j[0]);return j.length<3?et:et.replace(j[1],j[2])}var oy=Ru(function(j,et,ut){return j+(ut?"_":"")+et.toLowerCase()});function ly(j,et,ut){return ut&&typeof ut!="number"&&$l(j,et,ut)&&(et=ut=$),ut=ut===$?bt:ut>>>0,ut?(j=Mo(j),j&&(typeof et=="string"||et!=null&&!jI(et))&&(et=ds(et),!et&&cs(j))?hu(ns(j),0,ut):j.split(et,ut)):[]}var cy=Ru(function(j,et,ut){return j+(ut?" ":"")+PI(et)});function sy(j,et,ut){return j=Mo(j),ut=ut==null?0:Qu(xo(ut),0,j.length),et=ds(et),j.slice(ut,ut+et.length)==et}function gy(j,et,ut){var Kt=Sn.templateSettings;ut&&$l(j,et,ut)&&(et=$),j=Mo(j),et=eI({},et,Kt,WC);var Qn=eI({},et.imports,Kt.imports,WC),Rn=Dl(Qn),Kn=Pu(Qn,Rn),rr,sr,Fr=0,vr=et.interpolate||lo,Sr="__p += '",Lr=Bu((et.escape||lo).source+"|"+vr.source+"|"+(vr===gr?yr:lo).source+"|"+(et.evaluate||lo).source+"|$","g"),eo="//# sourceURL="+(Eo.call(et,"sourceURL")?(et.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xa+"]")+`
`;j.replace(Lr,function(uo,Go,Xo,bs,_c,hs){return Xo||(Xo=bs),Sr+=j.slice(Fr,hs).replace($r,aI),Go&&(rr=!0,Sr+=`' +
__e(`+Go+`) +
'`),_c&&(sr=!0,Sr+=`';
`+_c+`;
__p += '`),Xo&&(Sr+=`' +
((__t = (`+Xo+`)) == null ? '' : __t) +
'`),Fr=hs+uo.length,uo}),Sr+=`';
`;var go=Eo.call(et,"variable")&&et.variable;if(!go)Sr=`with (obj) {
`+Sr+`
}
`;else if(Ur.test(go))throw new bo(An);Sr=(sr?Sr.replace(Gn,""):Sr).replace(Nt,"$1").replace(Xn,"$1;"),Sr="function("+(go||"obj")+`) {
`+(go?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rr?", __e = _.escape":"")+(sr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Sr+`return __p
}`;var Fo=Zp(function(){return wo(Rn,eo+"return "+Sr).apply($,Kn)});if(Fo.source=Sr,zI(Fo))throw Fo;return Fo}function uy(j){return Mo(j).toLowerCase()}function dy(j){return Mo(j).toUpperCase()}function Iy(j,et,ut){if(j=Mo(j),j&&(ut||et===$))return _u(j);if(!j||!(et=ds(et)))return j;var Kt=ns(j),Qn=ns(et),Rn=Ku(Kt,Qn),Kn=y0(Kt,Qn)+1;return hu(Kt,Rn,Kn).join("")}function by(j,et,ut){if(j=Mo(j),j&&(ut||et===$))return j.slice(0,$u(j)+1);if(!j||!(et=ds(et)))return j;var Kt=ns(j),Qn=y0(Kt,ns(et))+1;return hu(Kt,0,Qn).join("")}function hy(j,et,ut){if(j=Mo(j),j&&(ut||et===$))return j.replace(zn,"");if(!j||!(et=ds(et)))return j;var Kt=ns(j),Qn=Ku(Kt,ns(et));return hu(Kt,Qn).join("")}function Cy(j,et){var ut=cn,Kt=Qt;if(Cl(et)){var Qn="separator"in et?et.separator:Qn;ut="length"in et?xo(et.length):ut,Kt="omission"in et?ds(et.omission):Kt}j=Mo(j);var Rn=j.length;if(cs(j)){var Kn=ns(j);Rn=Kn.length}if(ut>=Rn)return j;var rr=ut-lu(Kt);if(rr<1)return Kt;var sr=Kn?hu(Kn,0,rr).join(""):j.slice(0,rr);if(Qn===$)return sr+Kt;if(Kn&&(rr+=sr.length-rr),jI(Qn)){if(j.slice(rr).search(Qn)){var Fr,vr=sr;for(Qn.global||(Qn=Bu(Qn.source,Mo(Ar.exec(Qn))+"g")),Qn.lastIndex=0;Fr=Qn.exec(vr);)var Sr=Fr.index;sr=sr.slice(0,Sr===$?rr:Sr)}}else if(j.indexOf(ds(Qn),rr)!=rr){var Lr=sr.lastIndexOf(Qn);Lr>-1&&(sr=sr.slice(0,Lr))}return sr+Kt}function py(j){return j=Mo(j),j&&Tn.test(j)?j.replace(Cn,v0):j}var my=Ru(function(j,et,ut){return j+(ut?" ":"")+et.toUpperCase()}),PI=NC("toUpperCase");function Xp(j,et,ut){return j=Mo(j),et=ut?$:et,et===$?oI(j)?sI(j):ju(j):j.match(et)||[]}var Zp=vo(function(j,et){try{return Tl(j,$,et)}catch(ut){return zI(ut)?ut:new bo(ut)}}),fy=$s(function(j,et){return ts(et,function(ut){ut=Ms(ut),Ks(j,ut,LI(j[ut],j))}),j});function By(j){var et=j==null?0:j.length,ut=co();return j=et?Yo(j,function(Kt){if(typeof Kt[1]!="function")throw new Xl(an);return[ut(Kt[0]),Kt[1]]}):[],vo(function(Kt){for(var Qn=-1;++Qn<et;){var Rn=j[Qn];if(Tl(Rn[0],this,Kt))return Tl(Rn[1],this,Kt)}})}function Ay(j){return jp(fs(j,er))}function KI(j){return function(){return j}}function yy(j,et){return j==null||j!==j?et:j}var xy=TC(),Qy=TC(!0);function os(j){return j}function qI(j){return dC(typeof j=="function"?j:fs(j,er))}function Fy(j){return bC(fs(j,er))}function vy(j,et){return hC(j,fs(et,er))}var Uy=vo(function(j,et){return function(ut){return s0(ut,j,et)}}),Gy=vo(function(j,et){return function(ut){return s0(j,ut,et)}});function $I(j,et,ut){var Kt=Dl(et),Qn=k0(et,Kt);ut==null&&!(Cl(et)&&(Qn.length||!Kt.length))&&(ut=et,et=j,j=this,Qn=k0(et,Dl(et)));var Rn=!(Cl(ut)&&"chain"in ut)||!!ut.chain,Kn=eu(j);return ts(Qn,function(rr){var sr=et[rr];j[rr]=sr,Kn&&(j.prototype[rr]=function(){var Fr=this.__chain__;if(Rn||Fr){var vr=j(this.__wrapped__),Sr=vr.__actions__=rs(this.__actions__);return Sr.push({func:sr,args:arguments,thisArg:j}),vr.__chain__=Fr,vr}return sr.apply(j,Qs([this.value()],arguments))})}),j}function wy(){return yo._===this&&(yo._=Au),this}function _b(){}function Ey(j){return j=xo(j),vo(function(et){return CC(et,j)})}var Sy=SI(Yo),Xy=SI(Ws),Zy=SI(zu);function Np(j){return OI(j)?ou(Ms(j)):gm(j)}function Ny(j){return function(et){return j==null?$:Fu(j,et)}}var ky=OC(),Ty=OC(!0);function _h(){return[]}function eC(){return!1}function Dy(){return{}}function Oy(){return""}function My(){return!0}function Vy(j,et){if(j=xo(j),j<1||j>yt)return[];var ut=bt,Kt=qn(j,bt);et=co(et),j-=bt;for(var Qn=Ju(Kt,et);++ut<j;)et(ut);return Qn}function Wy(j){return Ao(j)?Yo(j,Ms):Is(j)?[j]:rs(ep(Mo(j)))}function Ry(j){var et=++t0;return Mo(j)+et}var Yy=W0(function(j,et){return j+et},0),Ly=XI("ceil"),Hy=W0(function(j,et){return j/et},1),zy=XI("floor");function jy(j){return j&&j.length?N0(j,os,pI):$}function Jy(j,et){return j&&j.length?N0(j,co(et,2),pI):$}function _y(j){return Ys(j,os)}function Py(j,et){return Ys(j,co(et,2))}function Ky(j){return j&&j.length?N0(j,os,AI):$}function qy(j,et){return j&&j.length?N0(j,co(et,2),AI):$}var $y=W0(function(j,et){return j*et},1),ex=XI("round"),tx=W0(function(j,et){return j-et},0);function nx(j){return j&&j.length?Zu(j,os):0}function rx(j,et){return j&&j.length?Zu(j,co(et,2)):0}return Sn.after=F1,Sn.ary=up,Sn.assign=dA,Sn.assignIn=Fp,Sn.assignInWith=eI,Sn.assignWith=IA,Sn.at=bA,Sn.before=dp,Sn.bind=LI,Sn.bindAll=fy,Sn.bindKey=Ip,Sn.castArray=D1,Sn.chain=cp,Sn.chunk=jm,Sn.compact=Jm,Sn.concat=_m,Sn.cond=By,Sn.conforms=Ay,Sn.constant=KI,Sn.countBy=n1,Sn.create=hA,Sn.curry=bp,Sn.curryRight=hp,Sn.debounce=Cp,Sn.defaults=CA,Sn.defaultsDeep=pA,Sn.defer=v1,Sn.delay=U1,Sn.difference=Pm,Sn.differenceBy=Km,Sn.differenceWith=qm,Sn.drop=$m,Sn.dropRight=_f,Sn.dropRightWhile=eB,Sn.dropWhile=tB,Sn.fill=nB,Sn.filter=i1,Sn.flatMap=l1,Sn.flatMapDeep=c1,Sn.flatMapDepth=s1,Sn.flatten=ip,Sn.flattenDeep=rB,Sn.flattenDepth=iB,Sn.flip=G1,Sn.flow=xy,Sn.flowRight=Qy,Sn.fromPairs=aB,Sn.functions=QA,Sn.functionsIn=FA,Sn.groupBy=g1,Sn.initial=lB,Sn.intersection=cB,Sn.intersectionBy=sB,Sn.intersectionWith=gB,Sn.invert=UA,Sn.invertBy=GA,Sn.invokeMap=d1,Sn.iteratee=qI,Sn.keyBy=I1,Sn.keys=Dl,Sn.keysIn=as,Sn.map=J0,Sn.mapKeys=EA,Sn.mapValues=SA,Sn.matches=Fy,Sn.matchesProperty=vy,Sn.memoize=P0,Sn.merge=XA,Sn.mergeWith=vp,Sn.method=Uy,Sn.methodOf=Gy,Sn.mixin=$I,Sn.negate=K0,Sn.nthArg=Ey,Sn.omit=ZA,Sn.omitBy=NA,Sn.once=w1,Sn.orderBy=b1,Sn.over=Sy,Sn.overArgs=E1,Sn.overEvery=Xy,Sn.overSome=Zy,Sn.partial=HI,Sn.partialRight=pp,Sn.partition=h1,Sn.pick=kA,Sn.pickBy=Up,Sn.property=Np,Sn.propertyOf=Ny,Sn.pull=bB,Sn.pullAll=op,Sn.pullAllBy=hB,Sn.pullAllWith=CB,Sn.pullAt=pB,Sn.range=ky,Sn.rangeRight=Ty,Sn.rearg=S1,Sn.reject=m1,Sn.remove=mB,Sn.rest=X1,Sn.reverse=RI,Sn.sampleSize=B1,Sn.set=DA,Sn.setWith=OA,Sn.shuffle=A1,Sn.slice=fB,Sn.sortBy=Q1,Sn.sortedUniq=vB,Sn.sortedUniqBy=UB,Sn.split=ly,Sn.spread=Z1,Sn.tail=GB,Sn.take=wB,Sn.takeRight=EB,Sn.takeRightWhile=SB,Sn.takeWhile=XB,Sn.tap=jB,Sn.throttle=N1,Sn.thru=j0,Sn.toArray=yp,Sn.toPairs=Gp,Sn.toPairsIn=wp,Sn.toPath=Wy,Sn.toPlainObject=Qp,Sn.transform=MA,Sn.unary=k1,Sn.union=ZB,Sn.unionBy=NB,Sn.unionWith=kB,Sn.uniq=TB,Sn.uniqBy=DB,Sn.uniqWith=OB,Sn.unset=VA,Sn.unzip=YI,Sn.unzipWith=lp,Sn.update=WA,Sn.updateWith=RA,Sn.values=Hu,Sn.valuesIn=YA,Sn.without=MB,Sn.words=Xp,Sn.wrap=T1,Sn.xor=VB,Sn.xorBy=WB,Sn.xorWith=RB,Sn.zip=YB,Sn.zipObject=LB,Sn.zipObjectDeep=HB,Sn.zipWith=zB,Sn.entries=Gp,Sn.entriesIn=wp,Sn.extend=Fp,Sn.extendWith=eI,$I(Sn,Sn),Sn.add=Yy,Sn.attempt=Zp,Sn.camelCase=jA,Sn.capitalize=Ep,Sn.ceil=Ly,Sn.clamp=LA,Sn.clone=O1,Sn.cloneDeep=V1,Sn.cloneDeepWith=W1,Sn.cloneWith=M1,Sn.conformsTo=R1,Sn.deburr=Sp,Sn.defaultTo=yy,Sn.divide=Hy,Sn.endsWith=JA,Sn.eq=vs,Sn.escape=_A,Sn.escapeRegExp=PA,Sn.every=r1,Sn.find=a1,Sn.findIndex=np,Sn.findKey=mA,Sn.findLast=o1,Sn.findLastIndex=rp,Sn.findLastKey=fA,Sn.floor=zy,Sn.forEach=sp,Sn.forEachRight=gp,Sn.forIn=BA,Sn.forInRight=AA,Sn.forOwn=yA,Sn.forOwnRight=xA,Sn.get=JI,Sn.gt=Y1,Sn.gte=L1,Sn.has=vA,Sn.hasIn=_I,Sn.head=ap,Sn.identity=os,Sn.includes=u1,Sn.indexOf=oB,Sn.inRange=HA,Sn.invoke=wA,Sn.isArguments=Gu,Sn.isArray=Ao,Sn.isArrayBuffer=H1,Sn.isArrayLike=is,Sn.isArrayLikeObject=El,Sn.isBoolean=z1,Sn.isBuffer=Cu,Sn.isDate=j1,Sn.isElement=J1,Sn.isEmpty=_1,Sn.isEqual=P1,Sn.isEqualWith=K1,Sn.isError=zI,Sn.isFinite=q1,Sn.isFunction=eu,Sn.isInteger=mp,Sn.isLength=q0,Sn.isMap=fp,Sn.isMatch=$1,Sn.isMatchWith=eA,Sn.isNaN=tA,Sn.isNative=nA,Sn.isNil=iA,Sn.isNull=rA,Sn.isNumber=Bp,Sn.isObject=Cl,Sn.isObjectLike=Ql,Sn.isPlainObject=h0,Sn.isRegExp=jI,Sn.isSafeInteger=aA,Sn.isSet=Ap,Sn.isString=$0,Sn.isSymbol=Is,Sn.isTypedArray=Lu,Sn.isUndefined=oA,Sn.isWeakMap=lA,Sn.isWeakSet=cA,Sn.join=uB,Sn.kebabCase=KA,Sn.last=As,Sn.lastIndexOf=dB,Sn.lowerCase=qA,Sn.lowerFirst=$A,Sn.lt=sA,Sn.lte=gA,Sn.max=jy,Sn.maxBy=Jy,Sn.mean=_y,Sn.meanBy=Py,Sn.min=Ky,Sn.minBy=qy,Sn.stubArray=_h,Sn.stubFalse=eC,Sn.stubObject=Dy,Sn.stubString=Oy,Sn.stubTrue=My,Sn.multiply=$y,Sn.nth=IB,Sn.noConflict=wy,Sn.noop=_b,Sn.now=_0,Sn.pad=ey,Sn.padEnd=ty,Sn.padStart=ny,Sn.parseInt=ry,Sn.random=zA,Sn.reduce=C1,Sn.reduceRight=p1,Sn.repeat=iy,Sn.replace=ay,Sn.result=TA,Sn.round=ex,Sn.runInContext=ar,Sn.sample=f1,Sn.size=y1,Sn.snakeCase=oy,Sn.some=x1,Sn.sortedIndex=BB,Sn.sortedIndexBy=AB,Sn.sortedIndexOf=yB,Sn.sortedLastIndex=xB,Sn.sortedLastIndexBy=QB,Sn.sortedLastIndexOf=FB,Sn.startCase=cy,Sn.startsWith=sy,Sn.subtract=tx,Sn.sum=nx,Sn.sumBy=rx,Sn.template=gy,Sn.times=Vy,Sn.toFinite=tu,Sn.toInteger=xo,Sn.toLength=xp,Sn.toLower=uy,Sn.toNumber=ys,Sn.toSafeInteger=uA,Sn.toString=Mo,Sn.toUpper=dy,Sn.trim=Iy,Sn.trimEnd=by,Sn.trimStart=hy,Sn.truncate=Cy,Sn.unescape=py,Sn.uniqueId=Ry,Sn.upperCase=my,Sn.upperFirst=PI,Sn.each=sp,Sn.eachRight=gp,Sn.first=ap,$I(Sn,function(){var j={};return Ds(Sn,function(et,ut){Eo.call(Sn.prototype,ut)||(j[ut]=et)}),j}(),{chain:!1}),Sn.VERSION=tt,ts(["bind","bindKey","curry","curryRight","partial","partialRight"],function(j){Sn[j].placeholder=Sn}),ts(["drop","take"],function(j,et){Wr.prototype[j]=function(ut){ut=ut===$?1:Yn(xo(ut),0);var Kt=this.__filtered__&&!et?new Wr(this):this.clone();return Kt.__filtered__?Kt.__takeCount__=qn(ut,Kt.__takeCount__):Kt.__views__.push({size:qn(ut,bt),type:j+(Kt.__dir__<0?"Right":"")}),Kt},Wr.prototype[j+"Right"]=function(ut){return this.reverse()[j](ut).reverse()}}),ts(["filter","map","takeWhile"],function(j,et){var ut=et+1,Kt=ut==Nn||ut==pn;Wr.prototype[j]=function(Qn){var Rn=this.clone();return Rn.__iteratees__.push({iteratee:co(Qn,3),type:ut}),Rn.__filtered__=Rn.__filtered__||Kt,Rn}}),ts(["head","last"],function(j,et){var ut="take"+(et?"Right":"");Wr.prototype[j]=function(){return this[ut](1).value()[0]}}),ts(["initial","tail"],function(j,et){var ut="drop"+(et?"":"Right");Wr.prototype[j]=function(){return this.__filtered__?new Wr(this):this[ut](1)}}),Wr.prototype.compact=function(){return this.filter(os)},Wr.prototype.find=function(j){return this.filter(j).head()},Wr.prototype.findLast=function(j){return this.reverse().find(j)},Wr.prototype.invokeMap=vo(function(j,et){return typeof j=="function"?new Wr(this):this.map(function(ut){return s0(ut,j,et)})}),Wr.prototype.reject=function(j){return this.filter(K0(co(j)))},Wr.prototype.slice=function(j,et){j=xo(j);var ut=this;return ut.__filtered__&&(j>0||et<0)?new Wr(ut):(j<0?ut=ut.takeRight(-j):j&&(ut=ut.drop(j)),et!==$&&(et=xo(et),ut=et<0?ut.dropRight(-et):ut.take(et-j)),ut)},Wr.prototype.takeRightWhile=function(j){return this.reverse().takeWhile(j).reverse()},Wr.prototype.toArray=function(){return this.take(bt)},Ds(Wr.prototype,function(j,et){var ut=/^(?:filter|find|map|reject)|While$/.test(et),Kt=/^(?:head|last)$/.test(et),Qn=Sn[Kt?"take"+(et=="last"?"Right":""):et],Rn=Kt||/^find/.test(et);Qn&&(Sn.prototype[et]=function(){var Kn=this.__wrapped__,rr=Kt?[1]:arguments,sr=Kn instanceof Wr,Fr=rr[0],vr=sr||Ao(Kn),Sr=function(Go){var Xo=Qn.apply(Sn,Qs([Go],rr));return Kt&&Lr?Xo[0]:Xo};vr&&ut&&typeof Fr=="function"&&Fr.length!=1&&(sr=vr=!1);var Lr=this.__chain__,eo=!!this.__actions__.length,go=Rn&&!Lr,Fo=sr&&!eo;if(!Rn&&vr){Kn=Fo?Kn:new Wr(this);var uo=j.apply(Kn,rr);return uo.__actions__.push({func:j0,args:[Sr],thisArg:$}),new Wo(uo,Lr)}return go&&Fo?j.apply(this,rr):(uo=this.thru(Sr),go?Kt?uo.value()[0]:uo.value():uo)})}),ts(["pop","push","shift","sort","splice","unshift"],function(j){var et=cu[j],ut=/^(?:push|sort|unshift)$/.test(j)?"tap":"thru",Kt=/^(?:pop|shift)$/.test(j);Sn.prototype[j]=function(){var Qn=arguments;if(Kt&&!this.__chain__){var Rn=this.value();return et.apply(Ao(Rn)?Rn:[],Qn)}return this[ut](function(Kn){return et.apply(Ao(Kn)?Kn:[],Qn)})}}),Ds(Wr.prototype,function(j,et){var ut=Sn[et];if(ut){var Kt=ut.name+"";Eo.call(_a,Kt)||(_a[Kt]=[]),_a[Kt].push({name:et,func:ut})}}),_a[V0($,ot).name]=[{name:"wrapper",func:$}],Wr.prototype.clone=Uo,Wr.prototype.reverse=Gl,Wr.prototype.value=ks,Sn.prototype.at=JB,Sn.prototype.chain=_B,Sn.prototype.commit=PB,Sn.prototype.next=KB,Sn.prototype.plant=$B,Sn.prototype.reverse=e1,Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=t1,Sn.prototype.first=Sn.prototype.head,js&&(Sn.prototype[js]=qB),Sn},Ls=G0();To?((To.exports=Ls)._=Ls,Dr._=Ls):yo._=Ls}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const Claymate$1="",e=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}return"showOpenFilePicker"in self})();e?Promise.resolve().then(function(){return l}):Promise.resolve().then(function(){return v});e?Promise.resolve().then(function(){return y}):Promise.resolve().then(function(){return b});const a=e?Promise.resolve().then(function(){return m}):Promise.resolve().then(function(){return k});async function o(...i){return(await a).default(...i)}const s=async i=>{const g=await i.getFile();return g.handle=i,g};var c=async(i=[{}])=>{Array.isArray(i)||(i=[i]);const g=[];i.forEach((dt,mt)=>{g[mt]={description:dt.description||"Files",accept:{}},dt.mimeTypes?dt.mimeTypes.map(an=>{g[mt].accept[an]=dt.extensions||[]}):g[mt].accept["*/*"]=dt.extensions||[]});const $=await window.showOpenFilePicker({id:i[0].id,startIn:i[0].startIn,types:g,multiple:i[0].multiple||!1,excludeAcceptAllOption:i[0].excludeAcceptAllOption||!1}),tt=await Promise.all($.map(s));return i[0].multiple?tt:tt[0]},l={__proto__:null,default:c};function u(i){function g($){if(Object($)!==$)return Promise.reject(new TypeError($+" is not an object."));var tt=$.done;return Promise.resolve($.value).then(function(dt){return{value:dt,done:tt}})}return u=function($){this.s=$,this.n=$.next},u.prototype={s:null,n:null,next:function(){return g(this.n.apply(this.s,arguments))},return:function($){var tt=this.s.return;return tt===void 0?Promise.resolve({value:$,done:!0}):g(tt.apply(this.s,arguments))},throw:function($){var tt=this.s.return;return tt===void 0?Promise.reject($):g(tt.apply(this.s,arguments))}},new u(i)}const p=async(i,g,$=i.name,tt)=>{const dt=[],mt=[];var an,An=!1,Dn=!1;try{for(var Jn,Vn=function(er){var Lt,kt,_,pt=2;for(typeof Symbol<"u"&&(kt=Symbol.asyncIterator,_=Symbol.iterator);pt--;){if(kt&&(Lt=er[kt])!=null)return Lt.call(er);if(_&&(Lt=er[_])!=null)return new u(Lt.call(er));kt="@@asyncIterator",_="@@iterator"}throw new TypeError("Object is not async iterable")}(i.values());An=!(Jn=await Vn.next()).done;An=!1){const er=Jn.value,Lt=`${$}/${er.name}`;er.kind==="file"?mt.push(er.getFile().then(kt=>(kt.directoryHandle=i,kt.handle=er,Object.defineProperty(kt,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>Lt})))):er.kind!=="directory"||!g||tt&&tt(er)||dt.push(p(er,g,Lt,tt))}}catch(er){Dn=!0,an=er}finally{try{An&&Vn.return!=null&&await Vn.return()}finally{if(Dn)throw an}}return[...(await Promise.all(dt)).flat(),...await Promise.all(mt)]};var d=async(i={})=>{i.recursive=i.recursive||!1,i.mode=i.mode||"read";const g=await window.showDirectoryPicker({id:i.id,startIn:i.startIn,mode:i.mode});return(await(await g.values()).next()).done?[g]:p(g,i.recursive,void 0,i.skipDirectory)},y={__proto__:null,default:d},f=async(i,g=[{}],$=null,tt=!1,dt=null)=>{Array.isArray(g)||(g=[g]),g[0].fileName=g[0].fileName||"Untitled";const mt=[];let an=null;if(i instanceof Blob&&i.type?an=i.type:i.headers&&i.headers.get("content-type")&&(an=i.headers.get("content-type")),g.forEach((Jn,Vn)=>{mt[Vn]={description:Jn.description||"Files",accept:{}},Jn.mimeTypes?(Vn===0&&an&&Jn.mimeTypes.push(an),Jn.mimeTypes.map(er=>{mt[Vn].accept[er]=Jn.extensions||[]})):an?mt[Vn].accept[an]=Jn.extensions||[]:mt[Vn].accept["*/*"]=Jn.extensions||[]}),$)try{await $.getFile()}catch(Jn){if($=null,tt)throw Jn}const An=$||await window.showSaveFilePicker({suggestedName:g[0].fileName,id:g[0].id,startIn:g[0].startIn,types:mt,excludeAcceptAllOption:g[0].excludeAcceptAllOption||!1});!$&&dt&&dt(An);const Dn=await An.createWritable();return"stream"in i?(await i.stream().pipeTo(Dn),An):"body"in i?(await i.body.pipeTo(Dn),An):(await Dn.write(await i),await Dn.close(),An)},m={__proto__:null,default:f},w=async(i=[{}])=>(Array.isArray(i)||(i=[i]),new Promise((g,$)=>{const tt=document.createElement("input");tt.type="file";const dt=[...i.map(Dn=>Dn.mimeTypes||[]),...i.map(Dn=>Dn.extensions||[])].join();tt.multiple=i[0].multiple||!1,tt.accept=dt||"",tt.style.display="none",document.body.append(tt);const mt=Dn=>{typeof an=="function"&&an(),g(Dn)},an=i[0].legacySetup&&i[0].legacySetup(mt,()=>an($),tt),An=()=>{window.removeEventListener("focus",An),tt.remove()};tt.addEventListener("click",()=>{window.addEventListener("focus",An)}),tt.addEventListener("change",()=>{window.removeEventListener("focus",An),tt.remove(),mt(tt.multiple?Array.from(tt.files):tt.files[0])}),"showPicker"in HTMLInputElement.prototype?tt.showPicker():tt.click()})),v={__proto__:null,default:w},h=async(i=[{}])=>(Array.isArray(i)||(i=[i]),i[0].recursive=i[0].recursive||!1,new Promise((g,$)=>{const tt=document.createElement("input");tt.type="file",tt.webkitdirectory=!0;const dt=an=>{typeof mt=="function"&&mt(),g(an)},mt=i[0].legacySetup&&i[0].legacySetup(dt,()=>mt($),tt);tt.addEventListener("change",()=>{let an=Array.from(tt.files);i[0].recursive?i[0].recursive&&i[0].skipDirectory&&(an=an.filter(An=>An.webkitRelativePath.split("/").every(Dn=>!i[0].skipDirectory({name:Dn,kind:"directory"})))):an=an.filter(An=>An.webkitRelativePath.split("/").length===2),dt(an)}),"showPicker"in HTMLInputElement.prototype?tt.showPicker():tt.click()})),b={__proto__:null,default:h},P=async(i,g={})=>{Array.isArray(g)&&(g=g[0]);const $=document.createElement("a");let tt=i;"body"in i&&(tt=await async function(an,An){const Dn=an.getReader(),Jn=new ReadableStream({start:Lt=>async function kt(){return Dn.read().then(({done:_,value:pt})=>{if(!_)return Lt.enqueue(pt),kt();Lt.close()})}()}),Vn=new Response(Jn),er=await Vn.blob();return Dn.releaseLock(),new Blob([er],{type:An})}(i.body,i.headers.get("content-type"))),$.download=g.fileName||"Untitled",$.href=URL.createObjectURL(await tt);const dt=()=>{typeof mt=="function"&&mt()},mt=g.legacySetup&&g.legacySetup(dt,()=>mt(),$);return $.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL($.href),3e4),dt()}),$.click(),null},k={__proto__:null,default:P};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gif={exports:{}};(function(i,g){(function($){i.exports=$()})(function(){return function $(tt,dt,mt){function an(Jn,Vn){if(!dt[Jn]){if(!tt[Jn]){var er=typeof commonjsRequire=="function"&&commonjsRequire;if(!Vn&&er)return er(Jn,!0);if(An)return An(Jn,!0);var Lt=new Error("Cannot find module '"+Jn+"'");throw Lt.code="MODULE_NOT_FOUND",Lt}var kt=dt[Jn]={exports:{}};tt[Jn][0].call(kt.exports,function(_){var pt=tt[Jn][1][_];return an(pt||_)},kt,kt.exports,$,tt,dt,mt)}return dt[Jn].exports}for(var An=typeof commonjsRequire=="function"&&commonjsRequire,Dn=0;Dn<mt.length;Dn++)an(mt[Dn]);return an}({1:[function($,tt,dt){function mt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}tt.exports=mt,mt.EventEmitter=mt,mt.prototype._events=void 0,mt.prototype._maxListeners=void 0,mt.defaultMaxListeners=10,mt.prototype.setMaxListeners=function(Vn){if(!An(Vn)||Vn<0||isNaN(Vn))throw TypeError("n must be a positive number");return this._maxListeners=Vn,this},mt.prototype.emit=function(Vn){var er,Lt,kt,_,pt,ht;if(this._events||(this._events={}),Vn==="error"&&(!this._events.error||Dn(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;var ot=new Error('Uncaught, unspecified "error" event. ('+er+")");throw ot.context=er,ot}if(Lt=this._events[Vn],Jn(Lt))return!1;if(an(Lt))switch(arguments.length){case 1:Lt.call(this);break;case 2:Lt.call(this,arguments[1]);break;case 3:Lt.call(this,arguments[1],arguments[2]);break;default:_=Array.prototype.slice.call(arguments,1),Lt.apply(this,_)}else if(Dn(Lt))for(_=Array.prototype.slice.call(arguments,1),ht=Lt.slice(),kt=ht.length,pt=0;pt<kt;pt++)ht[pt].apply(this,_);return!0},mt.prototype.addListener=function(Vn,er){var Lt;if(!an(er))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Vn,an(er.listener)?er.listener:er),this._events[Vn]?Dn(this._events[Vn])?this._events[Vn].push(er):this._events[Vn]=[this._events[Vn],er]:this._events[Vn]=er,Dn(this._events[Vn])&&!this._events[Vn].warned&&(Jn(this._maxListeners)?Lt=mt.defaultMaxListeners:Lt=this._maxListeners,Lt&&Lt>0&&this._events[Vn].length>Lt&&(this._events[Vn].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Vn].length),typeof console.trace=="function"&&console.trace())),this},mt.prototype.on=mt.prototype.addListener,mt.prototype.once=function(Vn,er){if(!an(er))throw TypeError("listener must be a function");var Lt=!1;function kt(){this.removeListener(Vn,kt),Lt||(Lt=!0,er.apply(this,arguments))}return kt.listener=er,this.on(Vn,kt),this},mt.prototype.removeListener=function(Vn,er){var Lt,kt,_,pt;if(!an(er))throw TypeError("listener must be a function");if(!this._events||!this._events[Vn])return this;if(Lt=this._events[Vn],_=Lt.length,kt=-1,Lt===er||an(Lt.listener)&&Lt.listener===er)delete this._events[Vn],this._events.removeListener&&this.emit("removeListener",Vn,er);else if(Dn(Lt)){for(pt=_;pt-- >0;)if(Lt[pt]===er||Lt[pt].listener&&Lt[pt].listener===er){kt=pt;break}if(kt<0)return this;Lt.length===1?(Lt.length=0,delete this._events[Vn]):Lt.splice(kt,1),this._events.removeListener&&this.emit("removeListener",Vn,er)}return this},mt.prototype.removeAllListeners=function(Vn){var er,Lt;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Vn]&&delete this._events[Vn],this;if(arguments.length===0){for(er in this._events)er!=="removeListener"&&this.removeAllListeners(er);return this.removeAllListeners("removeListener"),this._events={},this}if(Lt=this._events[Vn],an(Lt))this.removeListener(Vn,Lt);else if(Lt)for(;Lt.length;)this.removeListener(Vn,Lt[Lt.length-1]);return delete this._events[Vn],this},mt.prototype.listeners=function(Vn){var er;return!this._events||!this._events[Vn]?er=[]:an(this._events[Vn])?er=[this._events[Vn]]:er=this._events[Vn].slice(),er},mt.prototype.listenerCount=function(Vn){if(this._events){var er=this._events[Vn];if(an(er))return 1;if(er)return er.length}return 0},mt.listenerCount=function(Vn,er){return Vn.listenerCount(er)};function an(Vn){return typeof Vn=="function"}function An(Vn){return typeof Vn=="number"}function Dn(Vn){return typeof Vn=="object"&&Vn!==null}function Jn(Vn){return Vn===void 0}},{}],2:[function($,tt,dt){var mt,an,An,Dn,Jn;Jn=navigator.userAgent.toLowerCase(),Dn=navigator.platform.toLowerCase(),mt=Jn.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],An=mt[1]==="ie"&&document.documentMode,an={name:mt[1]==="version"?mt[3]:mt[1],version:An||parseFloat(mt[1]==="opera"&&mt[4]?mt[4]:mt[2]),platform:{name:Jn.match(/ip(?:ad|od|hone)/)?"ios":(Jn.match(/(?:webos|android)/)||Dn.match(/mac|win|linux/)||["other"])[0]}},an[an.name]=!0,an[an.name+parseInt(an.version,10)]=!0,an.platform[an.platform.name]=!0,tt.exports=an},{}],3:[function($,tt,dt){var mt,an,An,Dn=function(Lt,kt){for(var _ in kt)Jn.call(kt,_)&&(Lt[_]=kt[_]);function pt(){this.constructor=Lt}return pt.prototype=kt.prototype,Lt.prototype=new pt,Lt.__super__=kt.prototype,Lt},Jn={}.hasOwnProperty,Vn=[].indexOf||function(Lt){for(var kt=0,_=this.length;kt<_;kt++)if(kt in this&&this[kt]===Lt)return kt;return-1},er=[].slice;mt=$("events").EventEmitter,An=$("./browser.coffee"),an=function(Lt){var kt,_;Dn(pt,Lt),kt={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},_={delay:500,copy:!1};function pt(ht){var ot,at,gt;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(ht);for(at in kt)gt=kt[at],(ot=this.options)[at]==null&&(ot[at]=gt)}return pt.prototype.setOption=function(ht,ot){if(this.options[ht]=ot,this._canvas!=null&&(ht==="width"||ht==="height"))return this._canvas[ht]=ot},pt.prototype.setOptions=function(ht){var ot,at,gt;at=[];for(ot in ht)Jn.call(ht,ot)&&(gt=ht[ot],at.push(this.setOption(ot,gt)));return at},pt.prototype.addFrame=function(ht,ot){var at,gt;ot==null&&(ot={}),at={},at.transparent=this.options.transparent;for(gt in _)at[gt]=ot[gt]||_[gt];if(this.options.width==null&&this.setOption("width",ht.width),this.options.height==null&&this.setOption("height",ht.height),typeof ImageData<"u"&&ImageData!==null&&ht instanceof ImageData)at.data=ht.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&ht instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&ht instanceof WebGLRenderingContext)ot.copy?at.data=this.getContextData(ht):at.context=ht;else if(ht.childNodes!=null)ot.copy?at.data=this.getImageData(ht):at.image=ht;else throw new Error("Invalid image");return this.frames.push(at)},pt.prototype.render=function(){var ht,ot,at;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var gt,xt,Ut;for(Ut=[],gt=0,xt=this.frames.length;0<=xt?gt<xt:gt>xt;0<=xt?++gt:--gt)Ut.push(null);return Ut}.call(this),ot=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(ht=0,at=ot;0<=at?ht<at:ht>at;0<=at?++ht:--ht)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},pt.prototype.abort=function(){for(var ht;ht=this.activeWorkers.shift(),ht!=null;)this.log("killing active worker"),ht.terminate();return this.running=!1,this.emit("abort")},pt.prototype.spawnWorkers=function(){var ht,ot,at;return ht=Math.min(this.options.workers,this.frames.length),function(){at=[];for(var gt=ot=this.freeWorkers.length;ot<=ht?gt<ht:gt>ht;ot<=ht?gt++:gt--)at.push(gt);return at}.apply(this).forEach(function(gt){return function(xt){var Ut;return gt.log("spawning worker "+xt),Ut=new Worker(gt.options.workerScript),Ut.onmessage=function(rt){return gt.activeWorkers.splice(gt.activeWorkers.indexOf(Ut),1),gt.freeWorkers.push(Ut),gt.frameFinished(rt.data)},gt.freeWorkers.push(Ut)}}(this)),ht},pt.prototype.frameFinished=function(ht){var ot,at;if(this.log("frame "+ht.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[ht.index]=ht,this.options.globalPalette===!0&&(this.options.globalPalette=ht.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(ot=1,at=this.freeWorkers.length;1<=at?ot<at:ot>at;1<=at?++ot:--ot)this.renderNextFrame();return Vn.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},pt.prototype.finishRendering=function(){var ht,ot,at,gt,xt,Ut,rt,vt,Xt,nn,cn,Qt,hn,fn,Nn,mn;for(vt=0,fn=this.imageParts,xt=0,Xt=fn.length;xt<Xt;xt++)ot=fn[xt],vt+=(ot.data.length-1)*ot.pageSize+ot.cursor;for(vt+=ot.pageSize-ot.cursor,this.log("rendering finished - filesize "+Math.round(vt/1e3)+"kb"),ht=new Uint8Array(vt),Qt=0,Nn=this.imageParts,Ut=0,nn=Nn.length;Ut<nn;Ut++)for(ot=Nn[Ut],mn=ot.data,at=rt=0,cn=mn.length;rt<cn;at=++rt)hn=mn[at],ht.set(hn,Qt),at===ot.data.length-1?Qt+=ot.cursor:Qt+=ot.pageSize;return gt=new Blob([ht],{type:"image/gif"}),this.emit("finished",gt,ht)},pt.prototype.renderNextFrame=function(){var ht,ot,at;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return ht=this.frames[this.nextFrame++],at=this.freeWorkers.shift(),ot=this.getTask(ht),this.log("starting frame "+(ot.index+1)+" of "+this.frames.length),this.activeWorkers.push(at),at.postMessage(ot)},pt.prototype.getContextData=function(ht){return ht.getImageData(0,0,this.options.width,this.options.height).data},pt.prototype.getImageData=function(ht){var ot;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),ot=this._canvas.getContext("2d"),ot.setFill=this.options.background,ot.fillRect(0,0,this.options.width,this.options.height),ot.drawImage(ht,0,0),this.getContextData(ot)},pt.prototype.getTask=function(ht){var ot,at;if(ot=this.frames.indexOf(ht),at={index:ot,last:ot===this.frames.length-1,delay:ht.delay,transparent:ht.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:An.name==="chrome"},ht.data!=null)at.data=ht.data;else if(ht.context!=null)at.data=this.getContextData(ht.context);else if(ht.image!=null)at.data=this.getImageData(ht.image);else throw new Error("Invalid frame");return at},pt.prototype.log=function(){var ht;if(ht=1<=arguments.length?er.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,ht)},pt}(mt),tt.exports=an},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(gif);var gifExports=gif.exports;const GIF=getDefaultExportFromCjs(gifExports),exportToGif=i=>new Promise(g=>{const $=new GIF;i.forEach((tt,dt)=>{const mt=dt+1===i.length;$.addFrame(tt.imageData,{delay:mt?2e3:500})}),$.on("finished",tt=>{o(tt,{fileName:"excalidraw-claymate.gif"}).then(g)}),$.render()}),SVG_NS="http://www.w3.org/2000/svg",findNode=(i,g)=>{const $=i.childNodes;for(let tt=0;tt<$.length;++tt)if($[tt].tagName===g)return $[tt];return null},hideBeforeAnimation=(i,g,$,tt,dt)=>{g.setAttribute("opacity","0");const mt=i.ownerDocument.createElementNS(SVG_NS,"animate");mt.setAttribute("attributeName","opacity"),mt.setAttribute("from","1"),mt.setAttribute("to","1"),mt.setAttribute("begin",`${$}ms`),mt.setAttribute("dur",`${tt}ms`),dt&&mt.setAttribute("fill","freeze"),g.appendChild(mt)},pickOnePathItem=i=>{const g=i.match(/(M[^C]*C[^M]*)/g);if(!g)return i;if(g.length<=2)return g[g.length-1];const[$]=g.reduce((tt,dt,mt)=>{const[,an,An,Dn,Jn]=dt.match(/M([\d.-]+) ([\d.-]+) C([\d.-]+) ([\d.-]+)/)||[],Vn=Math.hypot(Number(Dn)-Number(an),Number(Jn)-Number(An));return Vn>tt[1]?[mt,Vn]:tt},[0,0]);return g[$]},animatePointer=(i,g,$,tt,dt,mt)=>{var an;if(!mt.pointerImg)return;const An=i.ownerDocument.createElementNS(SVG_NS,"image");An.setAttribute("href",mt.pointerImg),mt.pointerWidth&&An.setAttribute("width",mt.pointerWidth),mt.pointerHeight&&An.setAttribute("height",mt.pointerHeight),hideBeforeAnimation(i,An,tt,dt);const Dn=i.ownerDocument.createElementNS(SVG_NS,"animateMotion");Dn.setAttribute("path",pickOnePathItem($)),Dn.setAttribute("begin",`${tt}ms`),Dn.setAttribute("dur",`${dt}ms`),An.appendChild(Dn),(an=g.parentNode)===null||an===void 0||an.appendChild(An)},animatePath=(i,g,$,tt,dt)=>{var mt,an;const An=g.getAttribute("d")||"",Dn=((mt=An.match(/M/g))===null||mt===void 0?void 0:mt.length)||0,Vn=(((an=An.match(/C/g))===null||an===void 0?void 0:an.length)||0)/Dn;let er=An;for(let Lt=Vn-1;Lt>=0;Lt-=1){const kt=An.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){",`${Lt}`,"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(...pt)=>{const[ht,ot]=pt[3]?pt[3].match(/.* (\S+) (\S+)$/).slice(1,3):[pt[1],pt[2]];return`M${pt[1]} ${pt[2]}${pt[3]}`+` C${ht} ${ot}, ${ht} ${ot}, ${ht} ${ot}`.repeat(Vn-Lt)});Lt===0&&g.setAttribute("d",kt);const _=i.ownerDocument.createElementNS(SVG_NS,"animate");_.setAttribute("attributeName","d"),_.setAttribute("from",kt),_.setAttribute("to",er),_.setAttribute("begin",`${$+Lt*(tt/Vn)}ms`),_.setAttribute("dur",`${tt/Vn}ms`),_.setAttribute("fill","freeze"),g.appendChild(_),er=kt}animatePointer(i,g,An,$,tt,dt),hideBeforeAnimation(i,g,$,tt,!0)},animateFillPath=(i,g,$,tt,dt)=>{const mt=g.getAttribute("d")||"";if(mt.includes("C")){animatePath(i,g,$,tt,dt);return}const an=mt.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(...Dn)=>`M${Dn[1]} ${Dn[2]}`+Dn[3].replace(/L\S+ \S+/g,`L${Dn[1]} ${Dn[2]}`));g.setAttribute("d",an);const An=i.ownerDocument.createElementNS(SVG_NS,"animate");An.setAttribute("attributeName","d"),An.setAttribute("from",an),An.setAttribute("to",mt),An.setAttribute("begin",`${$}ms`),An.setAttribute("dur",`${tt}ms`),An.setAttribute("fill","freeze"),g.appendChild(An)},animatePolygon=(i,g,$,tt,dt)=>{var mt,an,An,Dn;let Jn=g.getAttribute("d")||"",Vn=((mt=Jn.match(/M/g))===null||mt===void 0?void 0:mt.length)||0,er=((an=Jn.match(/C/g))===null||an===void 0?void 0:an.length)||0;if(Vn===er+1&&(Jn=Jn.replace(/^M\S+ \S+ M/,"M"),Vn=((An=Jn.match(/M/g))===null||An===void 0?void 0:An.length)||0,er=((Dn=Jn.match(/C/g))===null||Dn===void 0?void 0:Dn.length)||0),Vn!==er)throw new Error("unexpected m/c counts");const Lt=g.getAttribute("stroke-dasharray")?1:Math.min(2,Vn),kt=Vn/Lt;let _=Jn;for(let pt=kt-1;pt>=0;pt-=1){const ht=Jn.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Lt),"){",`${pt}`,"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Lt),".*"].join("")),(...at)=>`${at[1]}`+[...Array(Lt).keys()].map(gt=>{const[xt,Ut]=at.slice(2+Lt*2+gt*2);return`M${xt} ${Ut} C${xt} ${Ut}, ${xt} ${Ut}, ${xt} ${Ut} `}).join("").repeat(kt-pt));pt===0&&g.setAttribute("d",ht);const ot=i.ownerDocument.createElementNS(SVG_NS,"animate");ot.setAttribute("attributeName","d"),ot.setAttribute("from",ht),ot.setAttribute("to",_),ot.setAttribute("begin",`${$+pt*(tt/kt)}ms`),ot.setAttribute("dur",`${tt/kt}ms`),ot.setAttribute("fill","freeze"),g.appendChild(ot),_=ht,animatePointer(i,g,Jn.replace(new RegExp(["(?:","M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Lt),"){",`${pt}`,"}","(M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+) ?".repeat(Lt),".*"].join("")),"$1"),$+pt*(tt/kt),tt/kt,dt)}hideBeforeAnimation(i,g,$,tt,!0)};let pathForTextIndex=0;const animateText=(i,g,$,tt,dt,mt)=>{var an;if(($.getAttribute("text-anchor")||"start")!=="start"){const kt=$.getAttribute("opacity")||"1.0",_=i.ownerDocument.createElementNS(SVG_NS,"animate");_.setAttribute("attributeName","opacity"),_.setAttribute("from","0.0"),_.setAttribute("to",kt),_.setAttribute("begin",`${tt}ms`),_.setAttribute("dur",`${dt}ms`),_.setAttribute("fill","freeze"),$.appendChild(_),$.setAttribute("opacity","0.0");return}const Dn=Number($.getAttribute("x")||0),Jn=Number($.getAttribute("y")||0);pathForTextIndex+=1;const Vn=i.ownerDocument.createElementNS(SVG_NS,"path");Vn.setAttribute("id","pathForText"+pathForTextIndex);const er=i.ownerDocument.createElementNS(SVG_NS,"animate");er.setAttribute("attributeName","d"),er.setAttribute("from",`m${Dn} ${Jn} h0`),er.setAttribute("to",`m${Dn} ${Jn} h${g}`),er.setAttribute("begin",`${tt}ms`),er.setAttribute("dur",`${dt}ms`),er.setAttribute("fill","freeze"),Vn.appendChild(er);const Lt=i.ownerDocument.createElementNS(SVG_NS,"textPath");Lt.setAttribute("href","#pathForText"+pathForTextIndex),Lt.textContent=$.textContent,$.textContent=" ",(an=findNode(i,"defs"))===null||an===void 0||an.appendChild(Vn),$.appendChild(Lt),animatePointer(i,$,`m${Dn} ${Jn} h${g}`,tt,dt,mt)},animateFromToPath=(i,g,$,tt,dt,mt)=>{const an=i.ownerDocument.createElementNS(SVG_NS,"path"),An=i.ownerDocument.createElementNS(SVG_NS,"animate");An.setAttribute("attributeName","d"),An.setAttribute("from",$),An.setAttribute("to",tt),An.setAttribute("begin",`${dt}ms`),An.setAttribute("dur",`${mt}ms`),an.appendChild(An),g.appendChild(an)},patchSvgLine=(i,g,$,tt,dt,mt)=>{const an=$?animatePath:animatePolygon,An=g.childNodes;An[0].getAttribute("fill-rule")?(an(i,An[0].childNodes[1],tt,dt*.75,mt),tt+=dt*.75,animateFillPath(i,An[0].childNodes[0],tt,dt*.25,mt)):an(i,An[0].childNodes[0],tt,dt,mt)},patchSvgArrow=(i,g,$,tt,dt,mt)=>{const an=$?animatePath:animatePolygon,An=g.childNodes.length;an(i,g.childNodes[0].childNodes[0],tt,dt/(An+2)*3,mt),tt+=dt/(An+2)*3;for(let Dn=1;Dn<An;Dn+=1){const Jn=g.childNodes[Dn].childNodes.length;for(let Vn=0;Vn<Jn;Vn+=1)animatePath(i,g.childNodes[Dn].childNodes[Vn],tt,dt/(An+2)/Jn,mt),tt+=dt/(An+2)/Jn}},patchSvgRectangle=(i,g,$,tt,dt)=>{g.childNodes[1]?(animatePolygon(i,g.childNodes[1],$,tt*.75,dt),$+=tt*.75,animateFillPath(i,g.childNodes[0],$,tt*.25,dt)):animatePolygon(i,g.childNodes[0],$,tt,dt)},patchSvgEllipse=(i,g,$,tt,dt)=>{g.childNodes[1]?(animatePath(i,g.childNodes[1],$,tt*.75,dt),$+=tt*.75,animateFillPath(i,g.childNodes[0],$,tt*.25,dt)):animatePath(i,g.childNodes[0],$,tt,dt)},patchSvgText=(i,g,$,tt,dt,mt)=>{const an=g.childNodes,An=an.length;an.forEach(Dn=>{animateText(i,$,Dn,tt,dt/An,mt),tt+=dt/An})},patchSvgFreedraw=(i,g,$,tt,dt,mt)=>{const an=g.childNodes[0];an.setAttribute("opacity","0");const An=i.ownerDocument.createElementNS(SVG_NS,"animate");An.setAttribute("attributeName","opacity"),An.setAttribute("from","0"),An.setAttribute("to","1"),An.setAttribute("calcMode","discrete"),An.setAttribute("begin",`${tt+dt-1}ms`),An.setAttribute("dur","1ms"),An.setAttribute("fill","freeze"),an.appendChild(An),animatePointer(i,an,$.points.reduce((Vn,[er,Lt])=>Vn?Vn+` T ${er} ${Lt}`:`M ${er} ${Lt}`,""),tt,dt,mt);const Dn=$.points.length;let Jn=an.getAttribute("d");for(let Vn=Dn-1;Vn>=0;Vn-=1){const er=Vn>0?mainExports.getFreeDrawSvgPath(Object.assign(Object.assign({},$),{points:$.points.slice(0,Vn)})):"M 0 0";animateFromToPath(i,g,er,Jn,tt+Vn*(dt/Dn),dt/Dn),Jn=er}},patchSvgImage=(i,g,$,tt)=>{const dt=g.getAttribute("opacity")||"1.0",mt=i.ownerDocument.createElementNS(SVG_NS,"animate");mt.setAttribute("attributeName","opacity"),mt.setAttribute("from","0.0"),mt.setAttribute("to",dt),mt.setAttribute("begin",`${$}ms`),mt.setAttribute("dur",`${tt}ms`),mt.setAttribute("fill","freeze"),g.appendChild(mt),g.setAttribute("opacity","0.0")},patchSvgEle=(i,g,$,tt,dt,mt)=>{const{type:an,roundness:An,width:Dn}=$;an==="line"?patchSvgLine(i,g,!!An,tt,dt,mt):an==="arrow"?patchSvgArrow(i,g,!!An,tt,dt,mt):an==="rectangle"||an==="diamond"?patchSvgRectangle(i,g,tt,dt,mt):an==="ellipse"?patchSvgEllipse(i,g,tt,dt,mt):an==="text"?patchSvgText(i,g,Dn,tt,dt,mt):$.type==="freedraw"?patchSvgFreedraw(i,g,$,tt,dt,mt):an==="image"?patchSvgImage(i,g,tt,dt):console.error("unknown excalidraw element type",$.type)},createGroups=(i,g)=>{const $={};let tt=0;return i.childNodes.forEach(mt=>{if(mt.tagName==="g"){const{groupIds:an}=g[tt];if(an.length>=1){const An=an[0];$[An]=$[An]||[],$[An].push([mt,tt])}tt+=1}}),$},filterGroupNodes=i=>[...i].filter(g=>g.tagName==="g"||g.tagName==="use"),extractNumberFromElement=(i,g)=>{const $=i.id.match(new RegExp(`${g}:(-?\\d+)`));return $&&Number($[1])||0},sortSvgNodes=(i,g)=>[...i].sort(($,tt)=>{const dt=i.indexOf($),mt=i.indexOf(tt),an=extractNumberFromElement(g[dt],"animateOrder"),An=extractNumberFromElement(g[mt],"animateOrder");return an-An}),animateSvg=(i,g,$={})=>{var tt;let dt;const mt=createGroups(i,g),an=new Map;let An=(tt=$.startMs)!==null&&tt!==void 0?tt:1e3;const Dn=5e3,Jn=500,Vn=filterGroupNodes(i.childNodes);if(Vn.length!==g.length)throw new Error("element length mismatch");const er=new Map(Vn.map((Lt,kt)=>[Lt,g[kt]]));return sortSvgNodes(Vn,g).forEach(Lt=>{const kt=er.get(Lt),{groupIds:_}=kt;if(!an.has(Lt))if(_.length>=1){const pt=_[0],ht=mt[pt],ot=extractNumberFromElement(kt,"animateDuration")||Dn/(ht.length+1);patchSvgEle(i,Lt,kt,An,ot,$),An+=ot,an.set(Lt,!0),ht.forEach(([at,gt])=>{const xt=extractNumberFromElement(g[gt],"animateDuration")||Dn/(ht.length+1);an.has(at)||(patchSvgEle(i,at,g[gt],An,xt,$),An+=xt,an.set(at,!0))}),delete mt[pt]}else{const pt=extractNumberFromElement(kt,"animateDuration")||Jn;patchSvgEle(i,Lt,kt,An,pt,$),An+=pt,an.set(Lt,!0)}}),dt=An+1e3,{finishedMs:dt}},getBeginTimeList=i=>{const g=[],$=[],tt=dt=>{if(dt.tagName==="animate"){const mt=/([0-9.]+)ms/.exec(dt.getAttribute("begin")||"");mt&&$.push(Number(mt[1]))}dt.childNodes.forEach(mt=>{tt(mt)})};return i.childNodes.forEach(dt=>{dt.tagName==="g"?(tt(dt),$.length&&(g.push(Math.min(...$)),$.splice(0))):dt.tagName==="defs"&&dt.childNodes.forEach(mt=>{tt(mt),$.length&&(g.push(Math.min(...$)),$.splice(0))})}),g};globalThis&&globalThis.__awaiter;const DARK_FILTER$1="invert(93%) hue-rotate(180deg)",getNonDeletedElements=i=>i.filter(g=>!g.isDeleted),getAnimateFunctions=i=>i?`
      function togglePausedAnimations() {
        const svg = document.getElementById('scene' + index);
        if (svg.animationsPaused()) {
          for (const svg of document.getElementsByTagName('svg')) {
            svg.unpauseAnimations();
          }
        } else {
          for (const svg of document.getElementsByTagName('svg')) {
            svg.pauseAnimations();
          }
        }
      }
      const beginTimeLists = [];
      let animateTimer;
      function stepForwardAnimations() {
        const svg = document.getElementById('scene' + index);
        const beginTimeList = beginTimeLists[index];
        const currentTime = svg.getCurrentTime() * 1000;
        let nextTime = beginTimeList.find((t) => t > currentTime + 50);
        console.log(currentTime, beginTimeList, nextTime);
        if (nextTime) {
          nextTime -= 1;
        } else {
          nextTime = currentTime + 500;
        }
        clearTimeout(animateTimer);
        svg.unpauseAnimations();
        animateTimer = setTimeout(() => {
          svg.pauseAnimations();
          svg.setCurrentTime(nextTime / 1000);
        }, nextTime - currentTime);
      }
      function resetAnimations() {
        const svg = document.getElementById('scene' + index);
        svg.setCurrentTime(0);
      }
`:`
      function togglePausedAnimations() {}
      function stepForwardAnimations() {}
      function resetAnimations() {}
`,recordingFunction=`
  function startRecording() {
    import('https://unpkg.com/browser-fs-access').then(({ fileSave }) => {
      navigator.mediaDevices.getDisplayMedia({
        video: { displaySurface: 'browser' },
      }).then(function(stream) {
        navigator.mediaDevices.getUserMedia({
          audio: true,
        }).catch(() => null).then(function(audioStream) {
          if (audioStream) {
            const audioTrack = audioStream.getAudioTracks()[0];
            stream.getVideoTracks()[0].onended = () => {
              audioTrack.stop();
            };
            stream.addTrack(audioTrack);
          }
          const recorder = new MediaRecorder(stream);
          recorder.ondataavailable = (e) => {
            const blob = new Blob([e.data], { type: "video/webm" });
            const opts = { fileName: "video.webm", extensions: [".webm"] };
            fileSave(blob, opts).catch(() => {
              document.getElementById('startrecordingbutton').onclick = () => {
                fileSave(blob, opts);
              };
              window.alert('Click the recording button again to save file');
            });
          };
          recorder.start();
        });
      });
    });
  }
`,exportToHtml=async(i,g)=>{let $=`<!DOCTYPE html>
    <html lang="en">
      <style>
        svg { width: 100%; height: 100%; }
        body { margin: 0px; font-size: 24px; ${g.darkMode?`filter: ${DARK_FILTER$1}; `:""}}
        button { background: transparent; border: none; cursor: pointer; padding: 3px; margin: 0px 10px; font-size: inherit;}
        #container { display: flex; flex-direction: column; height: 100%; background: white; }
        #navigation { display: flex; justify-content: center; align-items: center; padding: 5px; border-top: 1px solid lightgray; background: white; }
        #leftbuttons { position: absolute; left: 10px; display: flex; }
        #rightbuttons { position: absolute; right: 10px; display: flex; }
        #slides { height: calc(100vh - 50px); }
      </style>
      <script>
        let index = 0;
        let totalScenes = ${i.length}
        function updateTitle() {
          document.getElementById('title').innerText = '' + (index + 1) + ' of ' + totalScenes;
        }
        function moveLeft() {
          if (index > 0) {
            document.getElementById('scene' + index).style.display = 'none';
            index -= 1;
            document.getElementById('scene' + index).style.display = 'block';
            updateTitle();
            document.getElementById('scene' + index).setCurrentTime(0);
          }
        }
        function moveRight() {
          if (index < totalScenes - 1) {
            document.getElementById('scene' + index).style.display = 'none';
            index += 1;
            document.getElementById('scene' + index).style.display = 'block';
            updateTitle();
            document.getElementById('scene' + index).setCurrentTime(0);
          }
        }
        function closeNavigation() {
          document.getElementById('navigation').style.display = 'none';
          document.getElementById('slides').style.height = '100vh'
        }
        function toggleMaximise() {
          if (document.fullscreenElement === document.body) {
            document.exitFullscreen();
          } else {
            document.body.requestFullscreen();
          }
        }
        ${getAnimateFunctions(!!g.animate)}
        ${recordingFunction}
        document.addEventListener('DOMContentLoaded', () => {
          document.getElementById('scene' + index).style.display = 'block';
          document.getElementById('scene' + index).setCurrentTime(0);
        });
        document.addEventListener('keydown', (event) => {
          if (event.key === 'ArrowRight') {
            moveRight();
          }
          if (event.key === 'ArrowLeft') {
            moveLeft();
          }
          if (event.key.toLowerCase() === 'f') {
            toggleMaximise();
          }
          if (event.key.toLowerCase() === 'p') {
            togglePausedAnimations();
          }
          if (event.key.toLowerCase() === 's') {
            stepForwardAnimations();
          }
          if (event.key.toLowerCase() === 'r') {
            resetAnimations();
          }
        });
      <\/script>
      <body>
      <div id="container">
      <div id="slides">
  `;for(let dt=0;dt<i.length;++dt){const mt=i[dt],an=await mainExports.exportToSvg({...mt.drawing,appState:{...mt.drawing.appState,exportWithDarkMode:!1}});if(g.animate&&animateSvg(an,getNonDeletedElements(mt.drawing.elements),g.animateOptions),an.id=`scene${dt}`,an.style.display="none",$+=an.outerHTML,g.animate){const An=getBeginTimeList(an);An.sort((Dn,Jn)=>Dn-Jn),$+=`
        <script>
          beginTimeLists.push(${JSON.stringify(An)});
        <\/script>
      `}}const tt=g.animate?`
    <div id="leftbuttons">
     <button type="button" onclick="togglePausedAnimations()" title="Play or pause animations">P</button>
     <button type="button" onclick="stepForwardAnimations()" title="Step forward animations">S</button>
     <button type="button" onclick="resetAnimations()" title="Reset animations">R</button>
    </div>
`:"";$+=`
    </div>
    <div id="navigation">
      ${tt}
      <button class="navbutton" type="button" onclick="moveLeft()" title="Previous slide">&#9664;</button>
      <div id="title">1 of ${i.length}</div>
      <button class="navbutton" type="button" onclick="moveRight()" title="Next slide">&#9654;</button>
      <div id="rightbuttons">
        <button type="button" onclick="startRecording()" title="Start recording" id="startrecordingbutton">&#x1F3A5;</button>
        <button type="button" onclick="toggleMaximise()" title="Toggle full-screen">&#x26F6;</button>
        <button type="button" onclick="closeNavigation()" title="Close this panel">&#x2716;</button>
      </div>
    </div>
  </div></body></html>
`,await o(new Blob([$],{type:"text/html"}),{fileName:"excalidraw-claymate.html"})},previewHtml=async(i,g,$)=>{const tt=await mainExports.exportToSvg(i.drawing);g.animate&&animateSvg(tt,getNonDeletedElements(i.drawing.elements),g.animateOptions);const dt=tt.outerHTML;if($){const mt=document.getElementById($);mt&&(mt.innerHTML=dt)}else{const mt=window.open("","_blank");mt&&(mt.document.body.innerHTML=dt)}},AnimateConfig$1="",extractNumberFromId=(i,g)=>{const $=i.match(new RegExp(`${g}:(-?\\d+)`));return $===null?void 0:Number($[1])||0},applyNumberInId=(i,g,$,tt)=>{const dt={...i.appState.selectedElementIds};return{elements:i.elements.map(an=>{const{id:An}=an;if(!g.includes(An))return an;let Dn;return An.match(new RegExp(`${$}:(-?\\d+)`))?Dn=An.replace(new RegExp(`${$}:(-?\\d+)`),`${$}:${tt}`):Dn=An+`-${$}:${tt}`,An===Dn?an:(dt[Dn]=dt[An],delete dt[An],{...an,id:Dn})}),appState:{...i.appState,selectedElementIds:dt},files:i.files}},AnimateConfig=({animateEnabled:i,setAnimateEnabled:g,scene:$,updateDrawing:tt,animateOptions:dt,setAnimateOptions:mt,previewCurrentScene:an})=>{const An=($==null?void 0:$.drawing.elements)??[],Dn=$?Object.keys($.drawing.appState.selectedElementIds??{}).filter(at=>$.drawing.appState.selectedElementIds[at]&&An.some(gt=>gt.id===at)):[],Jn=new Set;Dn.forEach(at=>{Jn.add(extractNumberFromId(at,"animateOrder"))});const Vn=at=>{const gt=Math.floor(Number(at.target.value));$&&Number.isFinite(gt)&&tt(applyNumberInId($.drawing,Dn,"animateOrder",gt))},er=!i||!Jn.size,Lt=new Set;Dn.forEach(at=>{Lt.add(extractNumberFromId(at,"animateDuration"))});const kt=at=>{const gt=Math.floor(Number(at.target.value));$&&Number.isFinite(gt)&&tt(applyNumberInId($.drawing,Dn,"animateDuration",gt))},_=!i||!Lt.size,pt=at=>{mt(gt=>({...gt,pointerImg:at.target.value}))},ht=at=>{const gt=at.target.files&&at.target.files[0];if(!gt)return;const xt=new FileReader;xt.onload=()=>{if(typeof xt.result=="string"){const Ut=xt.result;mt(rt=>({...rt,pointerImg:Ut}))}},xt.readAsDataURL(gt)},ot=at=>{mt(gt=>({...gt,pointerWidth:at.target.value}))};return jsxRuntimeExports.jsxs("div",{className:"AnimateConfig",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i,onChange:()=>g(at=>!at)}),"Enable animate"]})," ",jsxRuntimeExports.jsx("button",{disabled:!i,onClick:an,children:"Preview"})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:er?.3:1},children:["Animate order:"," ",Jn.size>1?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"(mixed)"}):jsxRuntimeExports.jsx("input",{disabled:er,value:Jn.size===1&&Jn.values().next().value||0,onChange:Vn,type:"number",style:{width:40}})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:_?.3:1},children:["Animate duration (ms):"," ",Lt.size>1?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"(mixed)"}):jsxRuntimeExports.jsx("input",{disabled:_,value:Lt.size===1&&Lt.values().next().value||"",onChange:kt,placeholder:"Default",style:{width:50}})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:i?1:.3},children:["Animate pointer:"," ",jsxRuntimeExports.jsx("input",{disabled:!i,value:dt.pointerImg||"",onChange:pt,placeholder:"URL...",style:{width:50}})," ",jsxRuntimeExports.jsxs("label",{className:`AnimateConfig-button-like ${i?"AnimateConfig-button-like-enabled":"AnimateConfig-button-like-disabled"}`,children:[jsxRuntimeExports.jsx("input",{disabled:!i,type:"file",accept:"image/*",onChange:ht,style:{width:0}}),"File"]})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:i?1:.3},children:["(Pointer width:"," ",jsxRuntimeExports.jsx("input",{disabled:!i,value:dt.pointerWidth||"",onChange:ot,placeholder:"Num...",style:{width:50}}),")"]})]})};var bundle={exports:{}};(function(module,exports){(function(i,g){module.exports=g()})(self,function(){return(()=>{var __webpack_modules__={773:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval(`// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ src)
});

// NAMESPACE OBJECT: ./src/parser.ts
var src_parser_namespaceObject = {};
__webpack_require__.r(src_parser_namespaceObject);
__webpack_require__.d(src_parser_namespaceObject, {
  "convert": () => (convert)
});

;// CONCATENATED MODULE: ./src/elements/ExcalidrawScene.ts
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ExcalidrawScene = /*#__PURE__*/function () {
  function ExcalidrawScene() {
    var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    _classCallCheck(this, ExcalidrawScene);

    _defineProperty(this, "type", "excalidraw");

    _defineProperty(this, "version", 2);

    _defineProperty(this, "source", "https://excalidraw.com");

    _defineProperty(this, "elements", []);

    this.elements = elements;
  }

  _createClass(ExcalidrawScene, [{
    key: "toExJSON",
    value: function toExJSON() {
      return _objectSpread(_objectSpread({}, this), {}, {
        elements: this.elements.map(function (el) {
          return _objectSpread({}, el);
        })
      });
    }
  }]);

  return ExcalidrawScene;
}();

/* harmony default export */ const elements_ExcalidrawScene = (ExcalidrawScene);
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/common.js
/**\r
 * Common utilities\r
 * @module glMatrix\r
 */
// Configuration Constants
var EPSILON = 0.000001;
var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;
var RANDOM = Math.random;
/**\r
 * Sets the type of array used when creating new vectors and matrices\r
 *\r
 * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r
 */

function setMatrixArrayType(type) {
  ARRAY_TYPE = type;
}
var degree = Math.PI / 180;
/**\r
 * Convert Degree To Radian\r
 *\r
 * @param {Number} a Angle in Degrees\r
 */

function toRadian(a) {
  return a * degree;
}
/**\r
 * Tests whether or not the arguments have approximately the same value, within an absolute\r
 * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r
 * than or equal to 1.0, and a relative tolerance is used for larger values)\r
 *\r
 * @param {Number} a The first number to test.\r
 * @param {Number} b The second number to test.\r
 * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r
 */

function equals(a, b) {
  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));
}
if (!Math.hypot) Math.hypot = function () {
  var y = 0,
      i = arguments.length;

  while (i--) {
    y += arguments[i] * arguments[i];
  }

  return Math.sqrt(y);
};
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/mat4.js

/**\r
 * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r
 * @module mat4\r
 */

/**\r
 * Creates a new identity mat4\r
 *\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function create() {
  var out = new ARRAY_TYPE(16);

  if (ARRAY_TYPE != Float32Array) {
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
  }

  out[0] = 1;
  out[5] = 1;
  out[10] = 1;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 initialized with values from an existing matrix\r
 *\r
 * @param {ReadonlyMat4} a matrix to clone\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function clone(a) {
  var out = new ARRAY_TYPE(16);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Copy the values from one mat4 to another\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Create a new mat4 with the given values\r
 *\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} A new mat4\r
 */

function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  var out = new ARRAY_TYPE(16);
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set the components of a mat4 to the given values\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} out\r
 */

function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set a mat4 to the identity matrix\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @returns {mat4} out\r
 */

function identity(out) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Transpose the values of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function transpose(out, a) {
  // If we are transposing ourselves we can skip a few steps but have to cache some values
  if (out === a) {
    var a01 = a[1],
        a02 = a[2],
        a03 = a[3];
    var a12 = a[6],
        a13 = a[7];
    var a23 = a[11];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a01;
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a02;
    out[9] = a12;
    out[11] = a[14];
    out[12] = a03;
    out[13] = a13;
    out[14] = a23;
  } else {
    out[0] = a[0];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a[1];
    out[5] = a[5];
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a[2];
    out[9] = a[6];
    out[10] = a[10];
    out[11] = a[14];
    out[12] = a[3];
    out[13] = a[7];
    out[14] = a[11];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Inverts a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function invert(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;

  if (!det) {
    return null;
  }

  det = 1.0 / det;
  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
  return out;
}
/**\r
 * Calculates the adjugate of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function adjoint(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
  return out;
}
/**\r
 * Calculates the determinant of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {Number} determinant of a\r
 */

function determinant(a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
}
/**\r
 * Multiplies two mat4s\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function multiply(out, a, b) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15]; // Cache only the current line of the second matrix

  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[4];
  b1 = b[5];
  b2 = b[6];
  b3 = b[7];
  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[8];
  b1 = b[9];
  b2 = b[10];
  b3 = b[11];
  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[12];
  b1 = b[13];
  b2 = b[14];
  b3 = b[15];
  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  return out;
}
/**\r
 * Translate a mat4 by the given vector\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to translate\r
 * @param {ReadonlyVec3} v vector to translate by\r
 * @returns {mat4} out\r
 */

function translate(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;

  if (a === out) {
    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
  } else {
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    out[0] = a00;
    out[1] = a01;
    out[2] = a02;
    out[3] = a03;
    out[4] = a10;
    out[5] = a11;
    out[6] = a12;
    out[7] = a13;
    out[8] = a20;
    out[9] = a21;
    out[10] = a22;
    out[11] = a23;
    out[12] = a00 * x + a10 * y + a20 * z + a[12];
    out[13] = a01 * x + a11 * y + a21 * z + a[13];
    out[14] = a02 * x + a12 * y + a22 * z + a[14];
    out[15] = a03 * x + a13 * y + a23 * z + a[15];
  }

  return out;
}
/**\r
 * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r
 * @returns {mat4} out\r
 **/

function scale(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  out[0] = a[0] * x;
  out[1] = a[1] * x;
  out[2] = a[2] * x;
  out[3] = a[3] * x;
  out[4] = a[4] * y;
  out[5] = a[5] * y;
  out[6] = a[6] * y;
  out[7] = a[7] * y;
  out[8] = a[8] * z;
  out[9] = a[9] * z;
  out[10] = a[10] * z;
  out[11] = a[11] * z;
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Rotates a mat4 by the given angle around the given axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function rotate(out, a, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  var b00, b01, b02;
  var b10, b11, b12;
  var b20, b21, b22;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  a00 = a[0];
  a01 = a[1];
  a02 = a[2];
  a03 = a[3];
  a10 = a[4];
  a11 = a[5];
  a12 = a[6];
  a13 = a[7];
  a20 = a[8];
  a21 = a[9];
  a22 = a[10];
  a23 = a[11]; // Construct the elements of the rotation matrix

  b00 = x * x * t + c;
  b01 = y * x * t + z * s;
  b02 = z * x * t - y * s;
  b10 = x * y * t - z * s;
  b11 = y * y * t + c;
  b12 = z * y * t + x * s;
  b20 = x * z * t + y * s;
  b21 = y * z * t - x * s;
  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication

  out[0] = a00 * b00 + a10 * b01 + a20 * b02;
  out[1] = a01 * b00 + a11 * b01 + a21 * b02;
  out[2] = a02 * b00 + a12 * b01 + a22 * b02;
  out[3] = a03 * b00 + a13 * b01 + a23 * b02;
  out[4] = a00 * b10 + a10 * b11 + a20 * b12;
  out[5] = a01 * b10 + a11 * b11 + a21 * b12;
  out[6] = a02 * b10 + a12 * b11 + a22 * b12;
  out[7] = a03 * b10 + a13 * b11 + a23 * b12;
  out[8] = a00 * b20 + a10 * b21 + a20 * b22;
  out[9] = a01 * b20 + a11 * b21 + a21 * b22;
  out[10] = a02 * b20 + a12 * b21 + a22 * b22;
  out[11] = a03 * b20 + a13 * b21 + a23 * b22;

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Rotates a matrix by the given angle around the X axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateX(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[4] = a10 * c + a20 * s;
  out[5] = a11 * c + a21 * s;
  out[6] = a12 * c + a22 * s;
  out[7] = a13 * c + a23 * s;
  out[8] = a20 * c - a10 * s;
  out[9] = a21 * c - a11 * s;
  out[10] = a22 * c - a12 * s;
  out[11] = a23 * c - a13 * s;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Y axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateY(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c - a20 * s;
  out[1] = a01 * c - a21 * s;
  out[2] = a02 * c - a22 * s;
  out[3] = a03 * c - a23 * s;
  out[8] = a00 * s + a20 * c;
  out[9] = a01 * s + a21 * c;
  out[10] = a02 * s + a22 * c;
  out[11] = a03 * s + a23 * c;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Z axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateZ(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c + a10 * s;
  out[1] = a01 * c + a11 * s;
  out[2] = a02 * c + a12 * s;
  out[3] = a03 * c + a13 * s;
  out[4] = a10 * c - a00 * s;
  out[5] = a11 * c - a01 * s;
  out[6] = a12 * c - a02 * s;
  out[7] = a13 * c - a03 * s;
  return out;
}
/**\r
 * Creates a matrix from a vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromTranslation(out, v) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a vector scaling\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.scale(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Scaling vector\r
 * @returns {mat4} out\r
 */

function fromScaling(out, v) {
  out[0] = v[0];
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = v[1];
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = v[2];
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a given angle around a given axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotate(dest, dest, rad, axis);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function fromRotation(out, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c; // Perform rotation-specific matrix multiplication

  out[0] = x * x * t + c;
  out[1] = y * x * t + z * s;
  out[2] = z * x * t - y * s;
  out[3] = 0;
  out[4] = x * y * t - z * s;
  out[5] = y * y * t + c;
  out[6] = z * y * t + x * s;
  out[7] = 0;
  out[8] = x * z * t + y * s;
  out[9] = y * z * t - x * s;
  out[10] = z * z * t + c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the X axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateX(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromXRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = c;
  out[6] = s;
  out[7] = 0;
  out[8] = 0;
  out[9] = -s;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Y axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateY(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromYRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = 0;
  out[2] = -s;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = s;
  out[9] = 0;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Z axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateZ(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromZRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = s;
  out[2] = 0;
  out[3] = 0;
  out[4] = -s;
  out[5] = c;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation and vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslation(out, q, v) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - (yy + zz);
  out[1] = xy + wz;
  out[2] = xz - wy;
  out[3] = 0;
  out[4] = xy - wz;
  out[5] = 1 - (xx + zz);
  out[6] = yz + wx;
  out[7] = 0;
  out[8] = xz + wy;
  out[9] = yz - wx;
  out[10] = 1 - (xx + yy);
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 from a dual quat.\r
 *\r
 * @param {mat4} out Matrix\r
 * @param {ReadonlyQuat2} a Dual Quaternion\r
 * @returns {mat4} mat4 receiving operation result\r
 */

function fromQuat2(out, a) {
  var translation = new glMatrix.ARRAY_TYPE(3);
  var bx = -a[0],
      by = -a[1],
      bz = -a[2],
      bw = a[3],
      ax = a[4],
      ay = a[5],
      az = a[6],
      aw = a[7];
  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense

  if (magnitude > 0) {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
  } else {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
  }

  fromRotationTranslation(out, a, translation);
  return out;
}
/**\r
 * Returns the translation vector component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslation,\r
 *  the returned vector will be the same as the translation vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive translation component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getTranslation(out, mat) {
  out[0] = mat[12];
  out[1] = mat[13];
  out[2] = mat[14];
  return out;
}
/**\r
 * Returns the scaling factor component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslationScale\r
 *  with a normalized Quaternion paramter, the returned vector will be\r
 *  the same as the scaling vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive scaling factor component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getScaling(out, mat) {
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out[0] = Math.hypot(m11, m12, m13);
  out[1] = Math.hypot(m21, m22, m23);
  out[2] = Math.hypot(m31, m32, m33);
  return out;
}
/**\r
 * Returns a quaternion representing the rotational component\r
 *  of a transformation matrix. If a matrix is built with\r
 *  fromRotationTranslation, the returned quaternion will be the\r
 *  same as the quaternion originally supplied.\r
 * @param {quat} out Quaternion to receive the rotation component\r
 * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {quat} out\r
 */

function getRotation(out, mat) {
  var scaling = new glMatrix.ARRAY_TYPE(3);
  getScaling(scaling, mat);
  var is1 = 1 / scaling[0];
  var is2 = 1 / scaling[1];
  var is3 = 1 / scaling[2];
  var sm11 = mat[0] * is1;
  var sm12 = mat[1] * is2;
  var sm13 = mat[2] * is3;
  var sm21 = mat[4] * is1;
  var sm22 = mat[5] * is2;
  var sm23 = mat[6] * is3;
  var sm31 = mat[8] * is1;
  var sm32 = mat[9] * is2;
  var sm33 = mat[10] * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;

  if (trace > 0) {
    S = Math.sqrt(trace + 1.0) * 2;
    out[3] = 0.25 * S;
    out[0] = (sm23 - sm32) / S;
    out[1] = (sm31 - sm13) / S;
    out[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;
    out[3] = (sm23 - sm32) / S;
    out[0] = 0.25 * S;
    out[1] = (sm12 + sm21) / S;
    out[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;
    out[3] = (sm31 - sm13) / S;
    out[0] = (sm12 + sm21) / S;
    out[1] = 0.25 * S;
    out[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;
    out[3] = (sm12 - sm21) / S;
    out[0] = (sm31 + sm13) / S;
    out[1] = (sm23 + sm32) / S;
    out[2] = 0.25 * S;
  }

  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScale(out, q, v, s) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  out[0] = (1 - (yy + zz)) * sx;
  out[1] = (xy + wz) * sx;
  out[2] = (xz - wy) * sx;
  out[3] = 0;
  out[4] = (xy - wz) * sy;
  out[5] = (1 - (xx + zz)) * sy;
  out[6] = (yz + wx) * sy;
  out[7] = 0;
  out[8] = (xz + wy) * sz;
  out[9] = (yz - wx) * sz;
  out[10] = (1 - (xx + yy)) * sz;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     mat4.translate(dest, origin);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *     mat4.translate(dest, negativeOrigin);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  var ox = o[0];
  var oy = o[1];
  var oz = o[2];
  var out0 = (1 - (yy + zz)) * sx;
  var out1 = (xy + wz) * sx;
  var out2 = (xz - wy) * sx;
  var out4 = (xy - wz) * sy;
  var out5 = (1 - (xx + zz)) * sy;
  var out6 = (yz + wx) * sy;
  var out8 = (xz + wy) * sz;
  var out9 = (yz - wx) * sz;
  var out10 = (1 - (xx + yy)) * sz;
  out[0] = out0;
  out[1] = out1;
  out[2] = out2;
  out[3] = 0;
  out[4] = out4;
  out[5] = out5;
  out[6] = out6;
  out[7] = 0;
  out[8] = out8;
  out[9] = out9;
  out[10] = out10;
  out[11] = 0;
  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
  out[15] = 1;
  return out;
}
/**\r
 * Calculates a 4x4 matrix from the given quaternion\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyQuat} q Quaternion to create matrix from\r
 *\r
 * @returns {mat4} out\r
 */

function fromQuat(out, q) {
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var yx = y * x2;
  var yy = y * y2;
  var zx = z * x2;
  var zy = z * y2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - yy - zz;
  out[1] = yx + wz;
  out[2] = zx - wy;
  out[3] = 0;
  out[4] = yx - wz;
  out[5] = 1 - xx - zz;
  out[6] = zy + wx;
  out[7] = 0;
  out[8] = zx + wy;
  out[9] = zy - wx;
  out[10] = 1 - xx - yy;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a frustum matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Number} left Left bound of the frustum\r
 * @param {Number} right Right bound of the frustum\r
 * @param {Number} bottom Bottom bound of the frustum\r
 * @param {Number} top Top bound of the frustum\r
 * @param {Number} near Near bound of the frustum\r
 * @param {Number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function frustum(out, left, right, bottom, top, near, far) {
  var rl = 1 / (right - left);
  var tb = 1 / (top - bottom);
  var nf = 1 / (near - far);
  out[0] = near * 2 * rl;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = near * 2 * tb;
  out[6] = 0;
  out[7] = 0;
  out[8] = (right + left) * rl;
  out[9] = (top + bottom) * tb;
  out[10] = (far + near) * nf;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near * 2 * nf;
  out[15] = 0;
  return out;
}
/**\r
 * Generates a perspective projection matrix with the given bounds.\r
 * Passing null/undefined/no value for far will generate infinite projection matrix.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} fovy Vertical field of view in radians\r
 * @param {number} aspect Aspect ratio. typically viewport width/height\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum, can be null or Infinity\r
 * @returns {mat4} out\r
 */

function perspective(out, fovy, aspect, near, far) {
  var f = 1.0 / Math.tan(fovy / 2),
      nf;
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;

  if (far != null && far !== Infinity) {
    nf = 1 / (near - far);
    out[10] = (far + near) * nf;
    out[14] = 2 * far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -2 * near;
  }

  return out;
}
/**\r
 * Generates a perspective projection matrix with the given field of view.\r
 * This is primarily useful for generating projection matrices to be used\r
 * with the still experiemental WebVR API.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function perspectiveFromFieldOfView(out, fov, near, far) {
  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);
  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);
  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);
  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);
  var xScale = 2.0 / (leftTan + rightTan);
  var yScale = 2.0 / (upTan + downTan);
  out[0] = xScale;
  out[1] = 0.0;
  out[2] = 0.0;
  out[3] = 0.0;
  out[4] = 0.0;
  out[5] = yScale;
  out[6] = 0.0;
  out[7] = 0.0;
  out[8] = -((leftTan - rightTan) * xScale * 0.5);
  out[9] = (upTan - downTan) * yScale * 0.5;
  out[10] = far / (near - far);
  out[11] = -1.0;
  out[12] = 0.0;
  out[13] = 0.0;
  out[14] = far * near / (near - far);
  out[15] = 0.0;
  return out;
}
/**\r
 * Generates a orthogonal projection matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} left Left bound of the frustum\r
 * @param {number} right Right bound of the frustum\r
 * @param {number} bottom Bottom bound of the frustum\r
 * @param {number} top Top bound of the frustum\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function ortho(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 2 * nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = (far + near) * nf;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a look-at matrix with the given eye position, focal point, and up axis.\r
 * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function lookAt(out, eye, center, up) {
  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;
  var eyex = eye[0];
  var eyey = eye[1];
  var eyez = eye[2];
  var upx = up[0];
  var upy = up[1];
  var upz = up[2];
  var centerx = center[0];
  var centery = center[1];
  var centerz = center[2];

  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {
    return identity(out);
  }

  z0 = eyex - centerx;
  z1 = eyey - centery;
  z2 = eyez - centerz;
  len = 1 / Math.hypot(z0, z1, z2);
  z0 *= len;
  z1 *= len;
  z2 *= len;
  x0 = upy * z2 - upz * z1;
  x1 = upz * z0 - upx * z2;
  x2 = upx * z1 - upy * z0;
  len = Math.hypot(x0, x1, x2);

  if (!len) {
    x0 = 0;
    x1 = 0;
    x2 = 0;
  } else {
    len = 1 / len;
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  y0 = z1 * x2 - z2 * x1;
  y1 = z2 * x0 - z0 * x2;
  y2 = z0 * x1 - z1 * x0;
  len = Math.hypot(y0, y1, y2);

  if (!len) {
    y0 = 0;
    y1 = 0;
    y2 = 0;
  } else {
    len = 1 / len;
    y0 *= len;
    y1 *= len;
    y2 *= len;
  }

  out[0] = x0;
  out[1] = y0;
  out[2] = z0;
  out[3] = 0;
  out[4] = x1;
  out[5] = y1;
  out[6] = z1;
  out[7] = 0;
  out[8] = x2;
  out[9] = y2;
  out[10] = z2;
  out[11] = 0;
  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
  out[15] = 1;
  return out;
}
/**\r
 * Generates a matrix that makes something look at something else.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function targetTo(out, eye, target, up) {
  var eyex = eye[0],
      eyey = eye[1],
      eyez = eye[2],
      upx = up[0],
      upy = up[1],
      upz = up[2];
  var z0 = eyex - target[0],
      z1 = eyey - target[1],
      z2 = eyez - target[2];
  var len = z0 * z0 + z1 * z1 + z2 * z2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    z0 *= len;
    z1 *= len;
    z2 *= len;
  }

  var x0 = upy * z2 - upz * z1,
      x1 = upz * z0 - upx * z2,
      x2 = upx * z1 - upy * z0;
  len = x0 * x0 + x1 * x1 + x2 * x2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  out[0] = x0;
  out[1] = x1;
  out[2] = x2;
  out[3] = 0;
  out[4] = z1 * x2 - z2 * x1;
  out[5] = z2 * x0 - z0 * x2;
  out[6] = z0 * x1 - z1 * x0;
  out[7] = 0;
  out[8] = z0;
  out[9] = z1;
  out[10] = z2;
  out[11] = 0;
  out[12] = eyex;
  out[13] = eyey;
  out[14] = eyez;
  out[15] = 1;
  return out;
}
/**\r
 * Returns a string representation of a mat4\r
 *\r
 * @param {ReadonlyMat4} a matrix to represent as a string\r
 * @returns {String} string representation of the matrix\r
 */

function str(a) {
  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
}
/**\r
 * Returns Frobenius norm of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r
 * @returns {Number} Frobenius norm\r
 */

function frob(a) {
  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
}
/**\r
 * Adds two mat4's\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  out[4] = a[4] + b[4];
  out[5] = a[5] + b[5];
  out[6] = a[6] + b[6];
  out[7] = a[7] + b[7];
  out[8] = a[8] + b[8];
  out[9] = a[9] + b[9];
  out[10] = a[10] + b[10];
  out[11] = a[11] + b[11];
  out[12] = a[12] + b[12];
  out[13] = a[13] + b[13];
  out[14] = a[14] + b[14];
  out[15] = a[15] + b[15];
  return out;
}
/**\r
 * Subtracts matrix b from matrix a\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  out[4] = a[4] - b[4];
  out[5] = a[5] - b[5];
  out[6] = a[6] - b[6];
  out[7] = a[7] - b[7];
  out[8] = a[8] - b[8];
  out[9] = a[9] - b[9];
  out[10] = a[10] - b[10];
  out[11] = a[11] - b[11];
  out[12] = a[12] - b[12];
  out[13] = a[13] - b[13];
  out[14] = a[14] - b[14];
  out[15] = a[15] - b[15];
  return out;
}
/**\r
 * Multiply each element of the matrix by a scalar.\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {Number} b amount to scale the matrix's elements by\r
 * @returns {mat4} out\r
 */

function multiplyScalar(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  out[4] = a[4] * b;
  out[5] = a[5] * b;
  out[6] = a[6] * b;
  out[7] = a[7] * b;
  out[8] = a[8] * b;
  out[9] = a[9] * b;
  out[10] = a[10] * b;
  out[11] = a[11] * b;
  out[12] = a[12] * b;
  out[13] = a[13] * b;
  out[14] = a[14] * b;
  out[15] = a[15] * b;
  return out;
}
/**\r
 * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r
 *\r
 * @param {mat4} out the receiving vector\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @param {Number} scale the amount to scale b's elements by before adding\r
 * @returns {mat4} out\r
 */

function multiplyScalarAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  out[3] = a[3] + b[3] * scale;
  out[4] = a[4] + b[4] * scale;
  out[5] = a[5] + b[5] * scale;
  out[6] = a[6] + b[6] * scale;
  out[7] = a[7] + b[7] * scale;
  out[8] = a[8] + b[8] * scale;
  out[9] = a[9] + b[9] * scale;
  out[10] = a[10] + b[10] * scale;
  out[11] = a[11] + b[11] * scale;
  out[12] = a[12] + b[12] * scale;
  out[13] = a[13] + b[13] * scale;
  out[14] = a[14] + b[14] * scale;
  out[15] = a[15] + b[15] * scale;
  return out;
}
/**\r
 * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
}
/**\r
 * Returns whether or not the matrices have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function mat4_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2],
      a3 = a[3];
  var a4 = a[4],
      a5 = a[5],
      a6 = a[6],
      a7 = a[7];
  var a8 = a[8],
      a9 = a[9],
      a10 = a[10],
      a11 = a[11];
  var a12 = a[12],
      a13 = a[13],
      a14 = a[14],
      a15 = a[15];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  var b4 = b[4],
      b5 = b[5],
      b6 = b[6],
      b7 = b[7];
  var b8 = b[8],
      b9 = b[9],
      b10 = b[10],
      b11 = b[11];
  var b12 = b[12],
      b13 = b[13],
      b14 = b[14],
      b15 = b[15];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));
}
/**\r
 * Alias for {@link mat4.multiply}\r
 * @function\r
 */

var mul = (/* unused pure expression or super */ null && (multiply));
/**\r
 * Alias for {@link mat4.subtract}\r
 * @function\r
 */

var sub = (/* unused pure expression or super */ null && (subtract));
;// CONCATENATED MODULE: ./node_modules/roughjs/bin/math.js
function randomSeed() {
    return Math.floor(Math.random() * 2 ** 31);
}
class Random {
    constructor(seed) {
        this.seed = seed;
    }
    next() {
        if (this.seed) {
            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;
        }
        else {
            return Math.random();
        }
    }
}

;// CONCATENATED MODULE: ./node_modules/nanoid/index.prod.js
// This file replaces \`index.js\` in bundlers like webpack or Rollup,
// according to \`browser\` config in \`package.json\`.



if (false) {}

let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))

let customRandom = (alphabet, size, getRandom) => {
  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes
  // values closer to the alphabet size. The bitmask calculates the closest
  // \`2^31 - 1\` number, which exceeds the alphabet size.
  // For example, the bitmask for the alphabet size 30 is 31 (00011111).
  // \`Math.clz32\` is not used, because it is not available in browsers.
  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1
  // Though, the bitmask solution is not perfect since the bytes exceeding
  // the alphabet size are refused. Therefore, to reliably generate the ID,
  // the random bytes redundancy has to be satisfied.

  // Note: every hardware random generator call is performance expensive,
  // because the system call for entropy collection takes a lot of time.
  // So, to avoid additional system calls, extra bytes are requested in advance.

  // Next, a step determines how many random bytes to generate.
  // The number of random bytes gets decided upon the ID size, mask,
  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance
  // according to benchmarks).

  // \`-~f => Math.ceil(f)\` if f is a float
  // \`-~i => i + 1\` if i is an integer
  let step = -~((1.6 * mask * size) / alphabet.length)

  return () => {
    let id = ''
    while (true) {
      let bytes = getRandom(step)
      // A compact alternative for \`for (var i = 0; i < step; i++)\`.
      let j = step
      while (j--) {
        // Adding \`|| ''\` refuses a random byte that exceeds the alphabet size.
        id += alphabet[bytes[j] & mask] || ''
        if (id.length === size) return id
      }
    }
  }
}

let customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)

let nanoid = (size = 21) => {
  let id = ''
  let bytes = crypto.getRandomValues(new Uint8Array(size))

  // A compact alternative for \`for (var i = 0; i < step; i++)\`.
  while (size--) {
    // It is incorrect to use bytes exceeding the alphabet size.
    // The following mask reduces the random byte in the 0-255 value
    // range to the 0-63 value range. Therefore, adding hacks, such
    // as empty string fallback or magic numbers, is unneccessary because
    // the bitmask trims bytes down to the alphabet size.
    let byte = bytes[size] & 63
    if (byte < 36) {
      // \`0-9a-z\`
      id += byte.toString(36)
    } else if (byte < 62) {
      // \`A-Z\`
      id += (byte - 26).toString(36).toUpperCase()
    } else if (byte < 63) {
      id += '_'
    } else {
      id += '-'
    }
  }
  return id
}



;// CONCATENATED MODULE: ./src/utils.ts
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var utils_random = new Random(Date.now());
var randomInteger = function randomInteger() {
  return Math.floor(utils_random.next() * Math.pow(2, 31));
};
var randomId = function randomId() {
  return nanoid();
};
var safeNumber = function safeNumber(number) {
  return Number(number.toFixed(2));
};
function dimensionsFromPoints(points) {
  var xCoords = points.map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 1),
        x = _ref2[0];

    return x;
  });
  var yCoords = points.map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        y = _ref4[1];

    return y;
  });
  var minX = Math.min.apply(Math, _toConsumableArray(xCoords));
  var minY = Math.min.apply(Math, _toConsumableArray(yCoords));
  var maxX = Math.max.apply(Math, _toConsumableArray(xCoords));
  var maxY = Math.max.apply(Math, _toConsumableArray(yCoords));
  return [maxX - minX, maxY - minY];
} // winding order is clockwise values is positive, counter clockwise if negative.

function getWindingOrder(points) {
  var total = points.reduce(function (acc, _ref5, idx, arr) {
    var _ref6 = _slicedToArray(_ref5, 2),
        x1 = _ref6[0],
        y1 = _ref6[1];

    var p2 = arr[idx + 1];
    var x2 = p2 ? p2[0] : 0;
    var y2 = p2 ? p2[1] : 0;
    var e = (x2 - x1) * (y2 + y1);
    return e + acc;
  }, 0);
  return total > 0 ? "clockwise" : "counterclockwise";
}
// EXTERNAL MODULE: ./node_modules/chroma-js/chroma.js
var chroma = __webpack_require__(792);
var chroma_default = /*#__PURE__*/__webpack_require__.n(chroma);
;// CONCATENATED MODULE: ./src/attributes.ts
function attributes_toConsumableArray(arr) { return attributes_arrayWithoutHoles(arr) || attributes_iterableToArray(arr) || attributes_unsupportedIterableToArray(arr) || attributes_nonIterableSpread(); }

function attributes_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function attributes_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return attributes_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return attributes_arrayLikeToArray(o, minLen); }

function attributes_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function attributes_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return attributes_arrayLikeToArray(arr); }

function attributes_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


function hexWithAlpha(color, alpha) {
  return chroma_default()(color).alpha(alpha).css();
}
function has(el, attr) {
  return el.hasAttribute(attr);
}
function get(el, attr, backup) {
  return el.getAttribute(attr) || backup || "";
}
function getNum(el, attr, backup) {
  var numVal = Number(get(el, attr));
  return numVal === NaN ? backup || 0 : numVal;
}
var presAttrs = {
  stroke: "stroke",
  "stroke-opacity": "stroke-opacity",
  "stroke-width": "stroke-width",
  fill: "fill",
  "fill-opacity": "fill-opacity",
  opacity: "opacity"
};
var attrHandlers = {
  stroke: function stroke(_ref) {
    var el = _ref.el,
        exVals = _ref.exVals;
    var strokeColor = get(el, "stroke");
    exVals.strokeColor = has(el, "stroke-opacity") ? hexWithAlpha(strokeColor, getNum(el, "stroke-opacity")) : strokeColor;
  },
  "stroke-opacity": function strokeOpacity(_ref2) {
    var el = _ref2.el,
        exVals = _ref2.exVals;
    exVals.strokeColor = hexWithAlpha(get(el, "stroke", "#000000"), getNum(el, "stroke-opacity"));
  },
  "stroke-width": function strokeWidth(_ref3) {
    var el = _ref3.el,
        exVals = _ref3.exVals;
    exVals.strokeWidth = getNum(el, "stroke-width");
  },
  fill: function fill(_ref4) {
    var el = _ref4.el,
        exVals = _ref4.exVals;
    var fill = get(el, "fill");
    exVals.backgroundColor = fill === "none" ? "#00000000" : fill;
  },
  "fill-opacity": function fillOpacity(_ref5) {
    var el = _ref5.el,
        exVals = _ref5.exVals;
    exVals.backgroundColor = hexWithAlpha(get(el, "fill", "#000000"), getNum(el, "fill-opacity"));
  },
  opacity: function opacity(_ref6) {
    var el = _ref6.el,
        exVals = _ref6.exVals;
    exVals.opacity = getNum(el, "opacity", 100);
  }
}; // Presentation Attributes for SVG Elements:
// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation

function presAttrsToElementValues(el) {
  var exVals = attributes_toConsumableArray(el.attributes).reduce(function (exVals, attr) {
    var name = attr.name;

    if (Object.keys(attrHandlers).includes(name)) {
      attrHandlers[name]({
        el: el,
        exVals: exVals
      });
    }

    return exVals;
  }, {});

  return exVals;
}
function filterAttrsToElementValues(el) {
  var filterVals = {};

  if (has(el, "x")) {
    filterVals.x = getNum(el, "x");
  }

  if (has(el, "y")) {
    filterVals.y = getNum(el, "y");
  }

  if (has(el, "width")) {
    filterVals.width = getNum(el, "width");
  }

  if (has(el, "height")) {
    filterVals.height = getNum(el, "height");
  }

  return filterVals;
}
function pointsAttrToPoints(el) {
  var points = [];

  if (has(el, "points")) {
    points = get(el, "points").split(" ").map(function (p) {
      return p.split(",").map(parseFloat);
    });
  }

  return points;
}
;// CONCATENATED MODULE: ./src/elements/Group.ts
function Group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Group_ownKeys(Object(source), true).forEach(function (key) { Group_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Group_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



function getGroupAttrs(groups) {
  return groups.reduce(function (acc, _ref) {
    var element = _ref.element;
    var elVals = presAttrsToElementValues(element);
    return Group_objectSpread(Group_objectSpread({}, acc), elVals);
  }, {});
}

var Group = function Group(element) {
  Group_classCallCheck(this, Group);

  Group_defineProperty(this, "id", randomId());

  Group_defineProperty(this, "element", void 0);

  this.element = element;
};

/* harmony default export */ const elements_Group = (Group);
;// CONCATENATED MODULE: ./src/elements/ExcalidrawElement.ts
function ExcalidrawElement_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function ExcalidrawElement_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExcalidrawElement_ownKeys(Object(source), true).forEach(function (key) { ExcalidrawElement_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExcalidrawElement_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function ExcalidrawElement_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function createExElement() {
  return {
    id: randomId(),
    x: 0,
    y: 0,
    strokeColor: "#000000",
    backgroundColor: "#000000",
    fillStyle: "solid",
    strokeWidth: 1,
    strokeStyle: "solid",
    strokeSharpness: "sharp",
    roughness: 0,
    opacity: 100,
    width: 0,
    height: 0,
    angle: 0,
    seed: randomInteger(),
    version: 0,
    versionNonce: 0,
    isDeleted: false,
    groupIds: [],
    boundElementIds: null
  };
}
function createExRect() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "rectangle"
  });
}
function createExLine() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "line",
    points: []
  });
}
function createExEllipse() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "ellipse"
  });
}
function createExDraw() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "draw",
    points: []
  });
}
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/vec3.js

/**\r
 * 3 Dimensional Vector\r
 * @module vec3\r
 */

/**\r
 * Creates a new, empty vec3\r
 *\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_create() {
  var out = new ARRAY_TYPE(3);

  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
  }

  return out;
}
/**\r
 * Creates a new vec3 initialized with values from an existing vector\r
 *\r
 * @param {ReadonlyVec3} a vector to clone\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_clone(a) {
  var out = new glMatrix.ARRAY_TYPE(3);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Calculates the length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate length of\r
 * @returns {Number} length of a\r
 */

function vec3_length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Creates a new vec3 initialized with the given values\r
 *\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_fromValues(x, y, z) {
  var out = new ARRAY_TYPE(3);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Copy the values from one vec3 to another\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the source vector\r
 * @returns {vec3} out\r
 */

function vec3_copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Set the components of a vec3 to the given values\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} out\r
 */

function vec3_set(out, x, y, z) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Adds two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  return out;
}
/**\r
 * Subtracts vector b from vector a\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  return out;
}
/**\r
 * Multiplies two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_multiply(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  return out;
}
/**\r
 * Divides two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  return out;
}
/**\r
 * Math.ceil the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to ceil\r
 * @returns {vec3} out\r
 */

function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  return out;
}
/**\r
 * Math.floor the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to floor\r
 * @returns {vec3} out\r
 */

function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  return out;
}
/**\r
 * Returns the minimum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  return out;
}
/**\r
 * Returns the maximum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  return out;
}
/**\r
 * Math.round the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to round\r
 * @returns {vec3} out\r
 */

function round(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  out[2] = Math.round(a[2]);
  return out;
}
/**\r
 * Scales a vec3 by a scalar number\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to scale\r
 * @param {Number} b amount to scale the vector by\r
 * @returns {vec3} out\r
 */

function vec3_scale(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  return out;
}
/**\r
 * Adds two vec3's after scaling the second operand by a scalar value\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} scale the amount to scale b by before adding\r
 * @returns {vec3} out\r
 */

function scaleAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  return out;
}
/**\r
 * Calculates the euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} distance between a and b\r
 */

function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Calculates the squared euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} squared distance between a and b\r
 */

function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Calculates the squared length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate squared length of\r
 * @returns {Number} squared length of a\r
 */

function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Negates the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to negate\r
 * @returns {vec3} out\r
 */

function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  return out;
}
/**\r
 * Returns the inverse of the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to invert\r
 * @returns {vec3} out\r
 */

function inverse(out, a) {
  out[0] = 1.0 / a[0];
  out[1] = 1.0 / a[1];
  out[2] = 1.0 / a[2];
  return out;
}
/**\r
 * Normalize a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to normalize\r
 * @returns {vec3} out\r
 */

function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var len = x * x + y * y + z * z;

  if (len > 0) {
    //TODO: evaluate use of glm_invsqrt here?
    len = 1 / Math.sqrt(len);
  }

  out[0] = a[0] * len;
  out[1] = a[1] * len;
  out[2] = a[2] * len;
  return out;
}
/**\r
 * Calculates the dot product of two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} dot product of a and b\r
 */

function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
}
/**\r
 * Computes the cross product of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function cross(out, a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2];
  var bx = b[0],
      by = b[1],
      bz = b[2];
  out[0] = ay * bz - az * by;
  out[1] = az * bx - ax * bz;
  out[2] = ax * by - ay * bx;
  return out;
}
/**\r
 * Performs a linear interpolation between two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  return out;
}
/**\r
 * Performs a hermite interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function hermite(out, a, b, c, d, t) {
  var factorTimes2 = t * t;
  var factor1 = factorTimes2 * (2 * t - 3) + 1;
  var factor2 = factorTimes2 * (t - 2) + t;
  var factor3 = factorTimes2 * (t - 1);
  var factor4 = factorTimes2 * (3 - 2 * t);
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Performs a bezier interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function bezier(out, a, b, c, d, t) {
  var inverseFactor = 1 - t;
  var inverseFactorTimesTwo = inverseFactor * inverseFactor;
  var factorTimes2 = t * t;
  var factor1 = inverseFactorTimesTwo * inverseFactor;
  var factor2 = 3 * t * inverseFactorTimesTwo;
  var factor3 = 3 * factorTimes2 * inverseFactor;
  var factor4 = factorTimes2 * t;
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Generates a random vector with the given scale\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r
 * @returns {vec3} out\r
 */

function vec3_random(out, scale) {
  scale = scale || 1.0;
  var r = glMatrix.RANDOM() * 2.0 * Math.PI;
  var z = glMatrix.RANDOM() * 2.0 - 1.0;
  var zScale = Math.sqrt(1.0 - z * z) * scale;
  out[0] = Math.cos(r) * zScale;
  out[1] = Math.sin(r) * zScale;
  out[2] = z * scale;
  return out;
}
/**\r
 * Transforms the vec3 with a mat4.\r
 * 4th vector component is implicitly '1'\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat4} m matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat4(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  var w = m[3] * x + m[7] * y + m[11] * z + m[15];
  w = w || 1.0;
  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
  return out;
}
/**\r
 * Transforms the vec3 with a mat3.\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat3(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  out[0] = x * m[0] + y * m[3] + z * m[6];
  out[1] = x * m[1] + y * m[4] + z * m[7];
  out[2] = x * m[2] + y * m[5] + z * m[8];
  return out;
}
/**\r
 * Transforms the vec3 with a quat\r
 * Can also be used for dual quaternions. (Multiply it with the real part)\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyQuat} q quaternion to transform with\r
 * @returns {vec3} out\r
 */

function transformQuat(out, a, q) {
  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed
  var qx = q[0],
      qy = q[1],
      qz = q[2],
      qw = q[3];
  var x = a[0],
      y = a[1],
      z = a[2]; // var qvec = [qx, qy, qz];
  // var uv = vec3.cross([], qvec, a);

  var uvx = qy * z - qz * y,
      uvy = qz * x - qx * z,
      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);

  var uuvx = qy * uvz - qz * uvy,
      uuvy = qz * uvx - qx * uvz,
      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);

  var w2 = qw * 2;
  uvx *= w2;
  uvy *= w2;
  uvz *= w2; // vec3.scale(uuv, uuv, 2);

  uuvx *= 2;
  uuvy *= 2;
  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));

  out[0] = x + uvx + uuvx;
  out[1] = y + uvy + uuvy;
  out[2] = z + uvz + uuvz;
  return out;
}
/**\r
 * Rotate a 3D vector around the x-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateX(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0];
  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the y-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateY(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
  r[1] = p[1];
  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the z-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateZ(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
  r[2] = p[2]; //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Get the angle between two 3D vectors\r
 * @param {ReadonlyVec3} a The first operand\r
 * @param {ReadonlyVec3} b The second operand\r
 * @returns {Number} The angle in radians\r
 */

function angle(a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2],
      bx = b[0],
      by = b[1],
      bz = b[2],
      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),
      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),
      mag = mag1 * mag2,
      cosine = mag && dot(a, b) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}
/**\r
 * Set the components of a vec3 to zero\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @returns {vec3} out\r
 */

function zero(out) {
  out[0] = 0.0;
  out[1] = 0.0;
  out[2] = 0.0;
  return out;
}
/**\r
 * Returns a string representation of a vector\r
 *\r
 * @param {ReadonlyVec3} a vector to represent as a string\r
 * @returns {String} string representation of the vector\r
 */

function vec3_str(a) {
  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
}
/**\r
 * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
}
/**\r
 * Returns whether or not the vectors have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));
}
/**\r
 * Alias for {@link vec3.subtract}\r
 * @function\r
 */

var vec3_sub = (/* unused pure expression or super */ null && (vec3_subtract));
/**\r
 * Alias for {@link vec3.multiply}\r
 * @function\r
 */

var vec3_mul = (/* unused pure expression or super */ null && (vec3_multiply));
/**\r
 * Alias for {@link vec3.divide}\r
 * @function\r
 */

var div = (/* unused pure expression or super */ null && (divide));
/**\r
 * Alias for {@link vec3.distance}\r
 * @function\r
 */

var dist = (/* unused pure expression or super */ null && (distance));
/**\r
 * Alias for {@link vec3.squaredDistance}\r
 * @function\r
 */

var sqrDist = (/* unused pure expression or super */ null && (squaredDistance));
/**\r
 * Alias for {@link vec3.length}\r
 * @function\r
 */

var len = (/* unused pure expression or super */ null && (vec3_length));
/**\r
 * Alias for {@link vec3.squaredLength}\r
 * @function\r
 */

var sqrLen = (/* unused pure expression or super */ null && (squaredLength));
/**\r
 * Perform some operation over an array of vec3s.\r
 *\r
 * @param {Array} a the array of vectors to iterate over\r
 * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r
 * @param {Number} offset Number of elements to skip at the beginning of the array\r
 * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r
 * @param {Function} fn Function to call for each vector in the array\r
 * @param {Object} [arg] additional argument to pass to fn\r
 * @returns {Array} a\r
 * @function\r
 */

var forEach = function () {
  var vec = vec3_create();
  return function (a, stride, offset, count, fn, arg) {
    var i, l;

    if (!stride) {
      stride = 3;
    }

    if (!offset) {
      offset = 0;
    }

    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }

    for (i = offset; i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
    }

    return a;
  };
}();
;// CONCATENATED MODULE: ./src/transform.ts
function transform_slicedToArray(arr, i) { return transform_arrayWithHoles(arr) || transform_iterableToArrayLimit(arr, i) || transform_unsupportedIterableToArray(arr, i) || transform_nonIterableRest(); }

function transform_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function transform_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return transform_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return transform_arrayLikeToArray(o, minLen); }

function transform_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function transform_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function transform_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


/*
SVG transform attr is a bit strange in that it can accept traditional
css transform string (at least per spec) as well as a it's own "unitless"
version of transform functions.

https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform
*/

var transformFunctions = {
  matrix: "matrix",
  matrix3d: "matrix3d",
  perspective: "perspective",
  rotate: "rotate",
  rotate3d: "rotate3d",
  rotateX: "rotateX",
  rotateY: "rotateY",
  rotateZ: "rotateZ",
  scale: "scale",
  scale3d: "scale3d",
  scaleX: "scaleX",
  scaleY: "scaleY",
  scaleZ: "scaleZ",
  skew: "skew",
  skewX: "skewX",
  skewY: "skewY",
  translate: "translate",
  translate3d: "translate3d",
  translateX: "translateX",
  translateY: "translateY",
  translateZ: "translateZ"
};
var transformFunctionsArr = Object.keys(transformFunctions); // type Transform

var defaultUnits = {
  matrix: "",
  matrix3d: "",
  perspective: "perspective",
  rotate: "deg",
  rotate3d: "deg",
  rotateX: "deg",
  rotateY: "deg",
  rotateZ: "deg",
  scale: "",
  scale3d: "",
  scaleX: "",
  scaleY: "",
  scaleZ: "",
  skew: "skew",
  skewX: "deg",
  skewY: "deg",
  translate: "px",
  translate3d: "px",
  translateX: "px",
  translateY: "px",
  translateZ: "px"
}; // Convert between possible svg transform attribute values to css transform attribute values.

var svgTransformToCSSTransform = function svgTransformToCSSTransform(svgTransformStr) {
  // Create transform function string "chunks", e.g "rotate(90deg)"
  var tFuncs = svgTransformStr.match(/(\\w+)\\(([^)]*)\\)/g);

  if (!tFuncs) {
    return "";
  }

  var tFuncValues = tFuncs.map(function (tFuncStr) {
    var _values;

    var type = tFuncStr.split("(")[0];

    if (!type) {
      throw new Error("Unable to find transform name");
    }

    if (!transformFunctionsArr.includes(type)) {
      throw new Error("transform function name \\"".concat(type, "\\" is not valid"));
    } // get the arg/props of the transform function, e.g "90deg".


    var tFuncParts = tFuncStr.match(/([-+]?[0-9]*\\.?[0-9]+)([a-z])*/g);

    if (!tFuncParts) {
      return {
        type: type,
        values: []
      };
    }

    var values = tFuncParts.map(function (a) {
      // Separate the arg value and unit. e.g ["90", "deg"]
      var _a$matchAll = a.matchAll(/([-+]?[0-9]*\\.?[0-9]+)|([a-z])*/g),
          _a$matchAll2 = transform_slicedToArray(_a$matchAll, 2),
          value = _a$matchAll2[0],
          unit = _a$matchAll2[1];

      return {
        unit: unit[0] || defaultUnits[type],
        value: value[0]
      };
    }); // Not supporting x, y args of svg rotate transform yet...

    if (values && type === "rotate" && ((_values = values) === null || _values === void 0 ? void 0 : _values.length) > 1) {
      values = [values[0]];
    }

    return {
      type: type,
      values: values
    };
  }); // Generate a string of transform functions that can be set as a CSS Transform.

  var csstransformStr = tFuncValues.map(function (_ref) {
    var type = _ref.type,
        values = _ref.values;
    var valStr = values.map(function (_ref2) {
      var unit = _ref2.unit,
          value = _ref2.value;
      return "".concat(value).concat(unit);
    }).join(", ");
    return "".concat(type, "(").concat(valStr, ")");
  }).join(" ");
  return csstransformStr;
};

var createDOMMatrixFromSVGStr = function createDOMMatrixFromSVGStr(svgTransformStr) {
  var cssTransformStr = svgTransformToCSSTransform(svgTransformStr);
  return new DOMMatrix(cssTransformStr);
};
function getElementMatrix(el) {
  if (el.hasAttribute("transform")) {
    var elMat = new DOMMatrix(svgTransformToCSSTransform(el.getAttribute("transform") || ""));
    return multiply(create(), create(), elMat.toFloat32Array());
  }

  return create();
}
function getTransformMatrix(el, groups) {
  var accumMat = groups.map(function (_ref3) {
    var element = _ref3.element;
    return getElementMatrix(element);
  }).concat([getElementMatrix(el)]).reduce(function (acc, mat) {
    return multiply(acc, acc, mat);
  }, create());
  return accumMat;
}
function transformPoints(points, transform) {
  return points.map(function (_ref4) {
    var _ref5 = transform_slicedToArray(_ref4, 2),
        x = _ref5[0],
        y = _ref5[1];

    var _vec3$transformMat = transformMat4(vec3_create(), vec3_fromValues(x, y, 1), transform),
        _vec3$transformMat2 = transform_slicedToArray(_vec3$transformMat, 2),
        newX = _vec3$transformMat2[0],
        newY = _vec3$transformMat2[1];

    return [newX, newY];
  });
}
;// CONCATENATED MODULE: ./node_modules/points-on-curve/lib/index.js
// distance between 2 points
function lib_distance(p1, p2) {
    return Math.sqrt(distanceSq(p1, p2));
}
// distance between 2 points squared
function distanceSq(p1, p2) {
    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);
}
// Sistance squared from a point p to the line segment vw
function distanceToSegmentSq(p, v, w) {
    const l2 = distanceSq(v, w);
    if (l2 === 0) {
        return distanceSq(p, v);
    }
    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;
    t = Math.max(0, Math.min(1, t));
    return distanceSq(p, lib_lerp(v, w, t));
}
function lib_lerp(a, b, t) {
    return [
        a[0] + (b[0] - a[0]) * t,
        a[1] + (b[1] - a[1]) * t,
    ];
}
// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/
function flatness(points, offset) {
    const p1 = points[offset + 0];
    const p2 = points[offset + 1];
    const p3 = points[offset + 2];
    const p4 = points[offset + 3];
    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];
    ux *= ux;
    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];
    uy *= uy;
    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];
    vx *= vx;
    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];
    vy *= vy;
    if (ux < vx) {
        ux = vx;
    }
    if (uy < vy) {
        uy = vy;
    }
    return ux + uy;
}
function getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {
    const outPoints = newPoints || [];
    if (flatness(points, offset) < tolerance) {
        const p0 = points[offset + 0];
        if (outPoints.length) {
            const d = lib_distance(outPoints[outPoints.length - 1], p0);
            if (d > 1) {
                outPoints.push(p0);
            }
        }
        else {
            outPoints.push(p0);
        }
        outPoints.push(points[offset + 3]);
    }
    else {
        // subdivide
        const t = .5;
        const p1 = points[offset + 0];
        const p2 = points[offset + 1];
        const p3 = points[offset + 2];
        const p4 = points[offset + 3];
        const q1 = lib_lerp(p1, p2, t);
        const q2 = lib_lerp(p2, p3, t);
        const q3 = lib_lerp(p3, p4, t);
        const r1 = lib_lerp(q1, q2, t);
        const r2 = lib_lerp(q2, q3, t);
        const red = lib_lerp(r1, r2, t);
        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);
        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);
    }
    return outPoints;
}
function simplify(points, distance) {
    return simplifyPoints(points, 0, points.length, distance);
}
// Ramer–Douglas–Peucker algorithm
// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm
function simplifyPoints(points, start, end, epsilon, newPoints) {
    const outPoints = newPoints || [];
    // find the most distance point from the endpoints
    const s = points[start];
    const e = points[end - 1];
    let maxDistSq = 0;
    let maxNdx = 1;
    for (let i = start + 1; i < end - 1; ++i) {
        const distSq = distanceToSegmentSq(points[i], s, e);
        if (distSq > maxDistSq) {
            maxDistSq = distSq;
            maxNdx = i;
        }
    }
    // if that point is too far, split
    if (Math.sqrt(maxDistSq) > epsilon) {
        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);
        simplifyPoints(points, maxNdx, end, epsilon, outPoints);
    }
    else {
        if (!outPoints.length) {
            outPoints.push(s);
        }
        outPoints.push(e);
    }
    return outPoints;
}
function pointsOnBezierCurves(points, tolerance = 0.15, distance) {
    const newPoints = [];
    const numSegments = (points.length - 1) / 3;
    for (let i = 0; i < numSegments; i++) {
        const offset = i * 3;
        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);
    }
    if (distance && distance > 0) {
        return simplifyPoints(newPoints, 0, newPoints.length, distance);
    }
    return newPoints;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/parser.js
const COMMAND = 0;
const NUMBER = 1;
const EOD = 2;
const PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };
function tokenize(d) {
    const tokens = new Array();
    while (d !== '') {
        if (d.match(/^([ \\t\\r\\n,]+)/)) {
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {
            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {
            tokens[tokens.length] = { type: NUMBER, text: \`\${parseFloat(RegExp.$1)}\` };
            d = d.substr(RegExp.$1.length);
        }
        else {
            return [];
        }
    }
    tokens[tokens.length] = { type: EOD, text: '' };
    return tokens;
}
function isType(token, type) {
    return token.type === type;
}
function parsePath(d) {
    const segments = [];
    const tokens = tokenize(d);
    let mode = 'BOD';
    let index = 0;
    let token = tokens[index];
    while (!isType(token, EOD)) {
        let paramsCount = 0;
        const params = [];
        if (mode === 'BOD') {
            if (token.text === 'M' || token.text === 'm') {
                index++;
                paramsCount = PARAMS[token.text];
                mode = token.text;
            }
            else {
                return parsePath('M0,0' + d);
            }
        }
        else if (isType(token, NUMBER)) {
            paramsCount = PARAMS[mode];
        }
        else {
            index++;
            paramsCount = PARAMS[token.text];
            mode = token.text;
        }
        if ((index + paramsCount) < tokens.length) {
            for (let i = index; i < index + paramsCount; i++) {
                const numbeToken = tokens[i];
                if (isType(numbeToken, NUMBER)) {
                    params[params.length] = +numbeToken.text;
                }
                else {
                    throw new Error('Param not a number: ' + mode + ',' + numbeToken.text);
                }
            }
            if (typeof PARAMS[mode] === 'number') {
                const segment = { key: mode, data: params };
                segments.push(segment);
                index += paramsCount;
                token = tokens[index];
                if (mode === 'M')
                    mode = 'L';
                if (mode === 'm')
                    mode = 'l';
            }
            else {
                throw new Error('Bad segment: ' + mode);
            }
        }
        else {
            throw new Error('Path data ended short');
        }
    }
    return segments;
}
function serialize(segments) {
    const tokens = [];
    for (const { key, data } of segments) {
        tokens.push(key);
        switch (key) {
            case 'C':
            case 'c':
                tokens.push(data[0], \`\${data[1]},\`, data[2], \`\${data[3]},\`, data[4], data[5]);
                break;
            case 'S':
            case 's':
            case 'Q':
            case 'q':
                tokens.push(data[0], \`\${data[1]},\`, data[2], data[3]);
                break;
            default:
                tokens.push(...data);
                break;
        }
    }
    return tokens.join(' ');
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/absolutize.js
// Translate relative commands to absolute commands
function absolutize(segments) {
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    const out = [];
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'm':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'M', data: [cx, cy] });
                subx = cx;
                suby = cy;
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'l':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                break;
            case 'c': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'C', data: newdata });
                cx = newdata[4];
                cy = newdata[5];
                break;
            }
            case 'Q':
                out.push({ key: 'Q', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 'q': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'Q', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'A':
                out.push({ key: 'A', data: [...data] });
                cx = data[5];
                cy = data[6];
                break;
            case 'a':
                cx += data[5];
                cy += data[6];
                out.push({ key: 'A', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });
                break;
            case 'H':
                out.push({ key: 'H', data: [...data] });
                cx = data[0];
                break;
            case 'h':
                cx += data[0];
                out.push({ key: 'H', data: [cx] });
                break;
            case 'V':
                out.push({ key: 'V', data: [...data] });
                cy = data[0];
                break;
            case 'v':
                cy += data[0];
                out.push({ key: 'V', data: [cy] });
                break;
            case 'S':
                out.push({ key: 'S', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 's': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'S', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'T':
                out.push({ key: 'T', data: [...data] });
                cx = data[0];
                cy = data[1];
                break;
            case 't':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'T', data: [cx, cy] });
                break;
            case 'Z':
            case 'z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/normalize.js
// Normalize path to include only M, L, C, and Z commands
function normalize_normalize(segments) {
    const out = [];
    let lastType = '';
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    let lcx = 0, lcy = 0;
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                lcx = data[2];
                lcy = data[3];
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'H':
                cx = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'V':
                cy = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'S': {
                let cx1 = 0, cy1 = 0;
                if (lastType === 'C' || lastType === 'S') {
                    cx1 = cx + (cx - lcx);
                    cy1 = cy + (cy - lcy);
                }
                else {
                    cx1 = cx;
                    cy1 = cy;
                }
                out.push({ key: 'C', data: [cx1, cy1, ...data] });
                lcx = data[0];
                lcy = data[1];
                cx = data[2];
                cy = data[3];
                break;
            }
            case 'T': {
                const [x, y] = data;
                let x1 = 0, y1 = 0;
                if (lastType === 'Q' || lastType === 'T') {
                    x1 = cx + (cx - lcx);
                    y1 = cy + (cy - lcy);
                }
                else {
                    x1 = cx;
                    y1 = cy;
                }
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'Q': {
                const [x1, y1, x, y] = data;
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'A': {
                const r1 = Math.abs(data[0]);
                const r2 = Math.abs(data[1]);
                const angle = data[2];
                const largeArcFlag = data[3];
                const sweepFlag = data[4];
                const x = data[5];
                const y = data[6];
                if (r1 === 0 || r2 === 0) {
                    out.push({ key: 'C', data: [cx, cy, x, y, x, y] });
                    cx = x;
                    cy = y;
                }
                else {
                    if (cx !== x || cy !== y) {
                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);
                        curves.forEach(function (curve) {
                            out.push({ key: 'C', data: curve });
                        });
                        cx = x;
                        cy = y;
                    }
                }
                break;
            }
            case 'Z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
        lastType = key;
    }
    return out;
}
function degToRad(degrees) {
    return (Math.PI * degrees) / 180;
}
function normalize_rotate(x, y, angleRad) {
    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);
    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);
    return [X, Y];
}
function arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {
    const angleRad = degToRad(angle);
    let params = [];
    let f1 = 0, f2 = 0, cx = 0, cy = 0;
    if (recursive) {
        [f1, f2, cx, cy] = recursive;
    }
    else {
        [x1, y1] = normalize_rotate(x1, y1, -angleRad);
        [x2, y2] = normalize_rotate(x2, y2, -angleRad);
        const x = (x1 - x2) / 2;
        const y = (y1 - y2) / 2;
        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);
        if (h > 1) {
            h = Math.sqrt(h);
            r1 = h * r1;
            r2 = h * r2;
        }
        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;
        const r1Pow = r1 * r1;
        const r2Pow = r2 * r2;
        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;
        const right = r1Pow * y * y + r2Pow * x * x;
        const k = sign * Math.sqrt(Math.abs(left / right));
        cx = k * r1 * y / r2 + (x1 + x2) / 2;
        cy = k * -r2 * x / r1 + (y1 + y2) / 2;
        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));
        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));
        if (x1 < cx) {
            f1 = Math.PI - f1;
        }
        if (x2 < cx) {
            f2 = Math.PI - f2;
        }
        if (f1 < 0) {
            f1 = Math.PI * 2 + f1;
        }
        if (f2 < 0) {
            f2 = Math.PI * 2 + f2;
        }
        if (sweepFlag && f1 > f2) {
            f1 = f1 - Math.PI * 2;
        }
        if (!sweepFlag && f2 > f1) {
            f2 = f2 - Math.PI * 2;
        }
    }
    let df = f2 - f1;
    if (Math.abs(df) > (Math.PI * 120 / 180)) {
        const f2old = f2;
        const x2old = x2;
        const y2old = y2;
        if (sweepFlag && f2 > f1) {
            f2 = f1 + (Math.PI * 120 / 180) * (1);
        }
        else {
            f2 = f1 + (Math.PI * 120 / 180) * (-1);
        }
        x2 = cx + r1 * Math.cos(f2);
        y2 = cy + r2 * Math.sin(f2);
        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);
    }
    df = f2 - f1;
    const c1 = Math.cos(f1);
    const s1 = Math.sin(f1);
    const c2 = Math.cos(f2);
    const s2 = Math.sin(f2);
    const t = Math.tan(df / 4);
    const hx = 4 / 3 * r1 * t;
    const hy = 4 / 3 * r2 * t;
    const m1 = [x1, y1];
    const m2 = [x1 + hx * s1, y1 - hy * c1];
    const m3 = [x2 + hx * s2, y2 - hy * c2];
    const m4 = [x2, y2];
    m2[0] = 2 * m1[0] - m2[0];
    m2[1] = 2 * m1[1] - m2[1];
    if (recursive) {
        return [m2, m3, m4].concat(params);
    }
    else {
        params = [m2, m3, m4].concat(params);
        const curves = [];
        for (let i = 0; i < params.length; i += 3) {
            const r1 = normalize_rotate(params[i][0], params[i][1], angleRad);
            const r2 = normalize_rotate(params[i + 1][0], params[i + 1][1], angleRad);
            const r3 = normalize_rotate(params[i + 2][0], params[i + 2][1], angleRad);
            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);
        }
        return curves;
    }
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/index.js




;// CONCATENATED MODULE: ./node_modules/points-on-path/lib/index.js


function pointsOnPath(path, tolerance, distance) {
    const segments = parsePath(path);
    const normalized = normalize_normalize(absolutize(segments));
    const sets = [];
    let currentPoints = [];
    let start = [0, 0];
    let pendingCurve = [];
    const appendPendingCurve = () => {
        if (pendingCurve.length >= 4) {
            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));
        }
        pendingCurve = [];
    };
    const appendPendingPoints = () => {
        appendPendingCurve();
        if (currentPoints.length) {
            sets.push(currentPoints);
            currentPoints = [];
        }
    };
    for (const { key, data } of normalized) {
        switch (key) {
            case 'M':
                appendPendingPoints();
                start = [data[0], data[1]];
                currentPoints.push(start);
                break;
            case 'L':
                appendPendingCurve();
                currentPoints.push([data[0], data[1]]);
                break;
            case 'C':
                if (!pendingCurve.length) {
                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;
                    pendingCurve.push([lastPoint[0], lastPoint[1]]);
                }
                pendingCurve.push([data[0], data[1]]);
                pendingCurve.push([data[2], data[3]]);
                pendingCurve.push([data[4], data[5]]);
                break;
            case 'Z':
                appendPendingCurve();
                currentPoints.push([start[0], start[1]]);
                break;
        }
    }
    appendPendingPoints();
    if (!distance) {
        return sets;
    }
    const out = [];
    for (const set of sets) {
        const simplifiedSet = simplify(set, distance);
        if (simplifiedSet.length) {
            out.push(simplifiedSet);
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./src/walker.ts
function walker_slicedToArray(arr, i) { return walker_arrayWithHoles(arr) || walker_iterableToArrayLimit(arr, i) || walker_unsupportedIterableToArray(arr, i) || walker_nonIterableRest(); }

function walker_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function walker_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function walker_toConsumableArray(arr) { return walker_arrayWithoutHoles(arr) || walker_iterableToArray(arr) || walker_unsupportedIterableToArray(arr) || walker_nonIterableSpread(); }

function walker_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return walker_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return walker_arrayLikeToArray(o, minLen); }

function walker_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function walker_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return walker_arrayLikeToArray(arr); }

function walker_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function walker_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function walker_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { walker_ownKeys(Object(source), true).forEach(function (key) { walker_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { walker_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function walker_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var SUPPORTED_TAGS = ["svg", "path", "g", "use", "circle", "ellipse", "rect", "polyline", "polygon"];

var nodeValidator = function nodeValidator(node) {
  if (SUPPORTED_TAGS.includes(node.tagName)) {
    return NodeFilter.FILTER_ACCEPT;
  }

  return NodeFilter.FILTER_REJECT;
};

function createTreeWalker(dom) {
  return document.createTreeWalker(dom, NodeFilter.SHOW_ALL, {
    acceptNode: nodeValidator
  });
}

var walker_presAttrs = function presAttrs(el, groups) {
  return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, getGroupAttrs(groups)), presAttrsToElementValues(el)), filterAttrsToElementValues(el));
};

var skippedUseAttrs = ["id"];
var allwaysPassedUseAttrs = ["x", "y", "width", "height", "href", "xlink:href"];
/*
  "Most attributes on use do not override those already on the element
  referenced by use. (This differs from how CSS style attributes override
  those set 'earlier' in the cascade). Only the attributes x, y, width,
  height and href on the use element will override those set on the
  referenced element. However, any other attributes not set on the referenced
  element will be applied to the use element."

  Situation 1: Attr is set on defEl, NOT on useEl
    - result: use defEl attr
  Situation 2: Attr is on useEl, NOT on defEl
    - result: use the useEl attr
  Situation 3: Attr is on both useEl and defEl
    - result: use the defEl attr (Unless x, y, width, height, href, xlink:href)
*/

var getDefElWithCorrectAttrs = function getDefElWithCorrectAttrs(defEl, useEl) {
  var finalEl = walker_toConsumableArray(useEl.attributes).reduce(function (el, attr) {
    if (skippedUseAttrs.includes(attr.value)) {
      return el;
    } // Does defEl have the attr? If so, use it, else use the useEl attr


    if (!defEl.hasAttribute(attr.name) || allwaysPassedUseAttrs.includes(attr.name)) {
      el.setAttribute(attr.name, useEl.getAttribute(attr.name) || "");
    }

    return el;
  }, defEl.cloneNode());

  return finalEl;
};

var walkers = {
  svg: function svg(args) {
    walk(args, args.tw.nextNode());
  },
  g: function g(args) {
    var nextArgs = walker_objectSpread(walker_objectSpread({}, args), {}, {
      tw: createTreeWalker(args.tw.currentNode),
      groups: [].concat(walker_toConsumableArray(args.groups), [new elements_Group(args.tw.currentNode)])
    });

    walk(nextArgs, nextArgs.tw.nextNode());
    walk(args, args.tw.nextSibling());
  },
  use: function use(args) {
    var root = args.root,
        tw = args.tw,
        scene = args.scene;
    var useEl = tw.currentNode;
    var id = useEl.getAttribute("href") || useEl.getAttribute("xlink:href");

    if (!id) {
      throw new Error("unable to get id of use element");
    }

    var defEl = root.querySelector(id);

    if (!defEl) {
      throw new Error("unable to find def element with id: ".concat(id));
    }

    var tempScene = new elements_ExcalidrawScene();
    var finalEl = getDefElWithCorrectAttrs(defEl, useEl);
    walk(walker_objectSpread(walker_objectSpread({}, args), {}, {
      scene: tempScene,
      tw: createTreeWalker(finalEl)
    }), finalEl);
    var exEl = tempScene.elements.pop();

    if (!exEl) {
      throw new Error("Unable to create ex element");
    }

    scene.elements.push(exEl);
    walk(args, args.tw.nextNode());
  },
  circle: function circle(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var r = getNum(el, "r", 0);
    var d = r * 2;
    var x = getNum(el, "x", 0) + getNum(el, "cx", 0) - r;
    var y = getNum(el, "y", 0) + getNum(el, "cy", 0) - r;
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(d, 0, 0, 0, 0, d, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var circle = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(circle);
    walk(args, tw.nextNode());
  },
  ellipse: function ellipse(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var rx = getNum(el, "rx", 0);
    var ry = getNum(el, "ry", 0);
    var cx = getNum(el, "cx", 0);
    var cy = getNum(el, "cy", 0);
    var x = getNum(el, "x", 0) + cx - rx;
    var y = getNum(el, "y", 0) + cy - ry;
    var w = rx * 2;
    var h = ry * 2;
    var mat = getTransformMatrix(el, groups);
    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var ellipse = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(ellipse);
    walk(args, tw.nextNode());
  },
  line: function line(args) {
    // unimplemented
    walk(args, args.tw.nextNode());
  },
  polygon: function polygon(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var points = pointsAttrToPoints(el);
    var mat = getTransformMatrix(el, groups);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref) {
      var _ref2 = walker_slicedToArray(_ref, 2),
          _x = _ref2[0],
          _y = _ref2[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints2 = walker_slicedToArray(_dimensionsFromPoints, 2),
        width = _dimensionsFromPoints2[0],
        height = _dimensionsFromPoints2[1];

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat([[0, 0]]),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  polyline: function polyline(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsAttrToPoints(el);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref3) {
      var _ref4 = walker_slicedToArray(_ref3, 2),
          _x = _ref4[0],
          _y = _ref4[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints3 = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints4 = walker_slicedToArray(_dimensionsFromPoints3, 2),
        width = _dimensionsFromPoints4[0],
        height = _dimensionsFromPoints4[1];

    var hasFill = has(el, "fill");
    var fill = get(el, "fill");
    var shouldFill = !hasFill || hasFill && fill !== "none";

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat(shouldFill ? [[0, 0]] : []),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  rect: function rect(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var x = getNum(el, "x", 0);
    var y = getNum(el, "y", 0);
    var w = getNum(el, "width", 0);
    var h = getNum(el, "height", 0);
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);
    /*
    NOTE: Currently there doesn't seem to be a way to specify the border
          radius of a rect within Excalidraw. This means that attributes
          rx and ry can't be used.
    */

    var isRound = el.hasAttribute("rx") || el.hasAttribute("ry");

    var rect = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExRect()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      strokeSharpness: isRound ? "round" : "sharp"
    });

    scene.elements.push(rect);
    walk(args, args.tw.nextNode());
  },
  path: function path(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsOnPath(get(el, "d"));
    var fillColor = get(el, "fill", "black");
    var fillRule = get(el, "fill-rule", "nonzero");
    var elements = [];
    var localGroup = randomId();

    switch (fillRule) {
      case "nonzero":
        var initialWindingOrder = "clockwise";
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints5 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints6 = walker_slicedToArray(_dimensionsFromPoints5, 2),
              width = _dimensionsFromPoints6[0],
              height = _dimensionsFromPoints6[1];

          var relativePoints = tPoints.map(function (_ref5) {
            var _ref6 = walker_slicedToArray(_ref5, 2),
                _x = _ref6[0],
                _y = _ref6[1];

            return [_x - x, _y - y];
          });
          var windingOrder = getWindingOrder(relativePoints);

          if (idx === 0) {
            initialWindingOrder = windingOrder;
            localGroup = randomId();
          }

          var backgroundColor = fillColor;

          if (initialWindingOrder !== windingOrder) {
            backgroundColor = "#FFFFFF";
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), {}, {
            strokeWidth: 0,
            strokeColor: "#00000000"
          }, walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            backgroundColor: backgroundColor,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0),
            groupIds: [localGroup]
          });
        });
        break;

      case "evenodd":
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints7 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints8 = walker_slicedToArray(_dimensionsFromPoints7, 2),
              width = _dimensionsFromPoints8[0],
              height = _dimensionsFromPoints8[1];

          var relativePoints = tPoints.map(function (_ref7) {
            var _ref8 = walker_slicedToArray(_ref7, 2),
                _x = _ref8[0],
                _y = _ref8[1];

            return [_x - x, _y - y];
          });

          if (idx === 0) {
            localGroup = randomId();
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0)
          });
        });
        break;

      default:
    }

    scene.elements = scene.elements.concat(elements);
    walk(args, tw.nextNode());
  }
};
function walk(args, nextNode) {
  if (!nextNode) {
    return;
  }

  var nodeName = nextNode.nodeName;

  if (walkers[nodeName]) {
    walkers[nodeName](args);
  }
}
;// CONCATENATED MODULE: ./src/parser.ts
function parser_toConsumableArray(arr) { return parser_arrayWithoutHoles(arr) || parser_iterableToArray(arr) || parser_unsupportedIterableToArray(arr) || parser_nonIterableSpread(); }

function parser_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function parser_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parser_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parser_arrayLikeToArray(o, minLen); }

function parser_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function parser_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parser_arrayLikeToArray(arr); }

function parser_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var convert = function convert(svgString) {
  var parser = new DOMParser();
  var svgDOM = parser.parseFromString(svgString, "image/svg+xml"); // was there a parsing error?

  var errorsElements = svgDOM.querySelectorAll("parsererror");
  var hasErrors = errorsElements.length > 0;
  var content = null;

  if (hasErrors) {
    console.error("There were errors while parsing the given SVG: ", parser_toConsumableArray(errorsElements).map(function (el) {
      return el.innerHTML;
    }));
  } else {
    var tw = createTreeWalker(svgDOM);
    var scene = new elements_ExcalidrawScene();
    var groups = [];
    walk({
      tw: tw,
      scene: scene,
      groups: groups,
      root: svgDOM
    }, tw.nextNode());
    content = scene.toExJSON();
  }

  return {
    hasErrors: hasErrors,
    errors: hasErrors ? errorsElements : null,
    content: content
  };
};
;// CONCATENATED MODULE: ./src/index.ts

/* harmony default export */ const src = (src_parser_namespaceObject);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQXdCLFVBQUNDLEVBQUQ7QUFBQSxhQUFRQSxFQUFFLENBQUNvUCxTQUFYO0FBQUEsS0FBeEIsQ0FGRjtBQUlELEdBTEQsTUFLTztBQUNMLFFBQU0zRCxFQUFFLEdBQUdqQixnQkFBZ0IsQ0FBQ29FLE1BQUQsQ0FBM0I7QUFDQSxRQUFNM0MsS0FBSyxHQUFHLElBQUlwTSx3QkFBSixFQUFkO0FBQ0EsUUFBTWdGLE1BQWUsR0FBRyxFQUF4QjtBQUVBMkcsSUFBQUEsSUFBSSxDQUFDO0FBQUVDLE1BQUFBLEVBQUUsRUFBRkEsRUFBRjtBQUFNUSxNQUFBQSxLQUFLLEVBQUxBLEtBQU47QUFBYXBILE1BQUFBLE1BQU0sRUFBTkEsTUFBYjtBQUFxQm1ILE1BQUFBLElBQUksRUFBRTRDO0FBQTNCLEtBQUQsRUFBc0NuRCxFQUFFLENBQUNDLFFBQUgsRUFBdEMsQ0FBSjtBQUVBdUQsSUFBQUEsT0FBTyxHQUFHaEQsS0FBSyxDQUFDb0QsUUFBTixFQUFWO0FBQ0Q7O0FBRUQsU0FBTztBQUNMTCxJQUFBQSxTQUFTLEVBQVRBLFNBREs7QUFFTE0sSUFBQUEsTUFBTSxFQUFFTixTQUFTLEdBQUdGLGNBQUgsR0FBb0IsSUFGaEM7QUFHTEcsSUFBQUEsT0FBTyxFQUFQQTtBQUhLLEdBQVA7QUFLRCxDQTdCTSxDOztBQ1ZQO0FBRUEsMENBQWVQLDBCQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lLnRzPzFjNDQiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanM/Yzk0ZCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanM/NjVhMSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9yb3VnaGpzL2Jpbi9tYXRoLmpzPzIxMmIiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvbmFub2lkL2luZGV4LnByb2QuanM/NmQ3NyIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy91dGlscy50cz83ZGRhIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2F0dHJpYnV0ZXMudHM/M2Q5NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy9lbGVtZW50cy9Hcm91cC50cz9hNzI3Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50LnRzP2QzNWEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzPzlmZTciLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvdHJhbnNmb3JtLnRzPzVjZmEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcG9pbnRzLW9uLWN1cnZlL2xpYi9pbmRleC5qcz9mNDQ4Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL3BhcnNlci5qcz8xOWQ5Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL2Fic29sdXRpemUuanM/YzMwNiIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9ub3JtYWxpemUuanM/MzA4NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9pbmRleC5qcz85ZDg2Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BvaW50cy1vbi1wYXRoL2xpYi9pbmRleC5qcz9mMTkxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3dhbGtlci50cz8wMWRjIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3BhcnNlci50cz9iOTcxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjYWxpZHJhd0dlbmVyaWNFbGVtZW50IH0gZnJvbSBcIi4vRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuY2xhc3MgRXhjYWxpZHJhd1NjZW5lIHtcbiAgdHlwZSA9IFwiZXhjYWxpZHJhd1wiO1xuICB2ZXJzaW9uID0gMjtcbiAgc291cmNlID0gXCJodHRwczovL2V4Y2FsaWRyYXcuY29tXCI7XG4gIGVsZW1lbnRzOiBFeGNhbGlkcmF3R2VuZXJpY0VsZW1lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gW10pIHtcbiAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gIH1cblxuICB0b0V4SlNPTigpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLFxuICAgICAgZWxlbWVudHM6IHRoaXMuZWxlbWVudHMubWFwKChlbCkgPT4gKHsgLi4uZWwgfSkpLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhjYWxpZHJhd1NjZW5lO1xuIiwiLyoqXHJcbiAqIENvbW1vbiB1dGlsaXRpZXNcclxuICogQG1vZHVsZSBnbE1hdHJpeFxyXG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcclxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xyXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxyXG4gKiBAbW9kdWxlIG1hdDRcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcclxuICpcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcclxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcclxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxyXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxyXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXHJcbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tU2VlZCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMiAqKiAzMSk7XG59XG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKDIgKiogMzEgLSAxKSAmICh0aGlzLnNlZWQgPSBNYXRoLmltdWwoNDgyNzEsIHRoaXMuc2VlZCkpKSAvIDIgKiogMzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIFRoaXMgZmlsZSByZXBsYWNlcyBgaW5kZXguanNgIGluIGJ1bmRsZXJzIGxpa2Ugd2VicGFjayBvciBSb2xsdXAsXG4vLyBhY2NvcmRpbmcgdG8gYGJyb3dzZXJgIGNvbmZpZyBpbiBgcGFja2FnZS5qc29uYC5cblxuaW1wb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcblxuaWYgKGZhbHNlKSB7XG4gIC8vIEFsbCBidW5kbGVycyB3aWxsIHJlbW92ZSB0aGlzIGJsb2NrIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgJiZcbiAgICB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnUmVhY3QgTmF0aXZlIGRvZXMgbm90IGhhdmUgYSBidWlsdC1pbiBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzIHVzZSBgbmFub2lkL25vbi1zZWN1cmVgLiAnICtcbiAgICAgICAgJ0ZvciBzZWN1cmUgSURzLCBpbXBvcnQgYHJlYWN0LW5hdGl2ZS1nZXQtcmFuZG9tLXZhbHVlc2AgJyArXG4gICAgICAgICdiZWZvcmUgTmFubyBJRC4nXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0ltcG9ydCBmaWxlIHdpdGggYGlmICghd2luZG93LmNyeXB0bykgd2luZG93LmNyeXB0byA9IHdpbmRvdy5tc0NyeXB0b2AnICtcbiAgICAgICAgJyBiZWZvcmUgaW1wb3J0aW5nIE5hbm8gSUQgdG8gZml4IElFIDExIHN1cHBvcnQnXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzLCB5b3UgY2FuIHVzZSBuYW5vaWQvbm9uLXNlY3VyZS4nXG4gICAgKVxuICB9XG59XG5cbmxldCByYW5kb20gPSBieXRlcyA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzKSlcblxubGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgc2l6ZSwgZ2V0UmFuZG9tKSA9PiB7XG4gIC8vIEZpcnN0LCBhIGJpdG1hc2sgaXMgbmVjZXNzYXJ5IHRvIGdlbmVyYXRlIHRoZSBJRC4gVGhlIGJpdG1hc2sgbWFrZXMgYnl0ZXNcbiAgLy8gdmFsdWVzIGNsb3NlciB0byB0aGUgYWxwaGFiZXQgc2l6ZS4gVGhlIGJpdG1hc2sgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdFxuICAvLyBgMl4zMSAtIDFgIG51bWJlciwgd2hpY2ggZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBiaXRtYXNrIGZvciB0aGUgYWxwaGFiZXQgc2l6ZSAzMCBpcyAzMSAoMDAwMTExMTEpLlxuICAvLyBgTWF0aC5jbHozMmAgaXMgbm90IHVzZWQsIGJlY2F1c2UgaXQgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2Vycy5cbiAgbGV0IG1hc2sgPSAoMiA8PCAoTWF0aC5sb2coYWxwaGFiZXQubGVuZ3RoIC0gMSkgLyBNYXRoLkxOMikpIC0gMVxuICAvLyBUaG91Z2gsIHRoZSBiaXRtYXNrIHNvbHV0aW9uIGlzIG5vdCBwZXJmZWN0IHNpbmNlIHRoZSBieXRlcyBleGNlZWRpbmdcbiAgLy8gdGhlIGFscGhhYmV0IHNpemUgYXJlIHJlZnVzZWQuIFRoZXJlZm9yZSwgdG8gcmVsaWFibHkgZ2VuZXJhdGUgdGhlIElELFxuICAvLyB0aGUgcmFuZG9tIGJ5dGVzIHJlZHVuZGFuY3kgaGFzIHRvIGJlIHNhdGlzZmllZC5cblxuICAvLyBOb3RlOiBldmVyeSBoYXJkd2FyZSByYW5kb20gZ2VuZXJhdG9yIGNhbGwgaXMgcGVyZm9ybWFuY2UgZXhwZW5zaXZlLFxuICAvLyBiZWNhdXNlIHRoZSBzeXN0ZW0gY2FsbCBmb3IgZW50cm9weSBjb2xsZWN0aW9uIHRha2VzIGEgbG90IG9mIHRpbWUuXG4gIC8vIFNvLCB0byBhdm9pZCBhZGRpdGlvbmFsIHN5c3RlbSBjYWxscywgZXh0cmEgYnl0ZXMgYXJlIHJlcXVlc3RlZCBpbiBhZHZhbmNlLlxuXG4gIC8vIE5leHQsIGEgc3RlcCBkZXRlcm1pbmVzIGhvdyBtYW55IHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cbiAgLy8gVGhlIG51bWJlciBvZiByYW5kb20gYnl0ZXMgZ2V0cyBkZWNpZGVkIHVwb24gdGhlIElEIHNpemUsIG1hc2ssXG4gIC8vIGFscGhhYmV0IHNpemUsIGFuZCBtYWdpYyBudW1iZXIgMS42ICh1c2luZyAxLjYgcGVha3MgYXQgcGVyZm9ybWFuY2VcbiAgLy8gYWNjb3JkaW5nIHRvIGJlbmNobWFya3MpLlxuXG4gIC8vIGAtfmYgPT4gTWF0aC5jZWlsKGYpYCBpZiBmIGlzIGEgZmxvYXRcbiAgLy8gYC1+aSA9PiBpICsgMWAgaWYgaSBpcyBhbiBpbnRlZ2VyXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBzaXplKSAvIGFscGhhYmV0Lmxlbmd0aClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBpZCA9ICcnXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBieXRlcyA9IGdldFJhbmRvbShzdGVwKVxuICAgICAgLy8gQSBjb21wYWN0IGFsdGVybmF0aXZlIGZvciBgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyBpKyspYC5cbiAgICAgIGxldCBqID0gc3RlcFxuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAvLyBBZGRpbmcgYHx8ICcnYCByZWZ1c2VzIGEgcmFuZG9tIGJ5dGUgdGhhdCBleGNlZWRzIHRoZSBhbHBoYWJldCBzaXplLlxuICAgICAgICBpZCArPSBhbHBoYWJldFtieXRlc1tqXSAmIG1hc2tdIHx8ICcnXG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09IHNpemUpIHJldHVybiBpZFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUpID0+IGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKVxuXG5sZXQgbmFub2lkID0gKHNpemUgPSAyMSkgPT4ge1xuICBsZXQgaWQgPSAnJ1xuICBsZXQgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKVxuXG4gIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gIHdoaWxlIChzaXplLS0pIHtcbiAgICAvLyBJdCBpcyBpbmNvcnJlY3QgdG8gdXNlIGJ5dGVzIGV4Y2VlZGluZyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAvLyBUaGUgZm9sbG93aW5nIG1hc2sgcmVkdWNlcyB0aGUgcmFuZG9tIGJ5dGUgaW4gdGhlIDAtMjU1IHZhbHVlXG4gICAgLy8gcmFuZ2UgdG8gdGhlIDAtNjMgdmFsdWUgcmFuZ2UuIFRoZXJlZm9yZSwgYWRkaW5nIGhhY2tzLCBzdWNoXG4gICAgLy8gYXMgZW1wdHkgc3RyaW5nIGZhbGxiYWNrIG9yIG1hZ2ljIG51bWJlcnMsIGlzIHVubmVjY2Vzc2FyeSBiZWNhdXNlXG4gICAgLy8gdGhlIGJpdG1hc2sgdHJpbXMgYnl0ZXMgZG93biB0byB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICBsZXQgYnl0ZSA9IGJ5dGVzW3NpemVdICYgNjNcbiAgICBpZiAoYnl0ZSA8IDM2KSB7XG4gICAgICAvLyBgMC05YS16YFxuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgLy8gYEEtWmBcbiAgICAgIGlkICs9IChieXRlIC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpXG4gICAgfSBlbHNlIGlmIChieXRlIDwgNjMpIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCArPSAnLSdcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkXG59XG5cbmV4cG9ydCB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQsIGN1c3RvbVJhbmRvbSwgdXJsQWxwaGFiZXQsIHJhbmRvbSB9XG4iLCJpbXBvcnQgeyBSYW5kb20gfSBmcm9tIFwicm91Z2hqcy9iaW4vbWF0aFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5jb25zdCByYW5kb20gPSBuZXcgUmFuZG9tKERhdGUubm93KCkpO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tSW50ZWdlciA9ICgpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogMiAqKiAzMSk7XG5cbmV4cG9ydCBjb25zdCByYW5kb21JZCA9ICgpOiBzdHJpbmcgPT4gbmFub2lkKCk7XG5cbmV4cG9ydCBjb25zdCBzYWZlTnVtYmVyID0gKG51bWJlcjogbnVtYmVyKTogbnVtYmVyID0+IE51bWJlcihudW1iZXIudG9GaXhlZCgyKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkaW1lbnNpb25zRnJvbVBvaW50cyhwb2ludHM6IG51bWJlcltdW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHhDb29yZHMgPSBwb2ludHMubWFwKChbeF0pID0+IHgpO1xuICBjb25zdCB5Q29vcmRzID0gcG9pbnRzLm1hcCgoWywgeV0pID0+IHkpO1xuXG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbiguLi54Q29vcmRzKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlDb29yZHMpO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueENvb3Jkcyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCguLi55Q29vcmRzKTtcblxuICByZXR1cm4gW21heFggLSBtaW5YLCBtYXhZIC0gbWluWV07XG59XG5cbi8vIHdpbmRpbmcgb3JkZXIgaXMgY2xvY2t3aXNlIHZhbHVlcyBpcyBwb3NpdGl2ZSwgY291bnRlciBjbG9ja3dpc2UgaWYgbmVnYXRpdmUuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZGluZ09yZGVyKFxuICBwb2ludHM6IFBvaW50W10sXG4pOiBcImNsb2Nrd2lzZVwiIHwgXCJjb3VudGVyY2xvY2t3aXNlXCIge1xuICBjb25zdCB0b3RhbCA9IHBvaW50cy5yZWR1Y2UoKGFjYywgW3gxLCB5MV0sIGlkeCwgYXJyKSA9PiB7XG4gICAgY29uc3QgcDIgPSBhcnJbaWR4ICsgMV07XG4gICAgY29uc3QgeDIgPSBwMiA/IHAyWzBdIDogMDtcbiAgICBjb25zdCB5MiA9IHAyID8gcDJbMV0gOiAwO1xuXG4gICAgY29uc3QgZSA9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcblxuICAgIHJldHVybiBlICsgYWNjO1xuICB9LCAwKTtcblxuICByZXR1cm4gdG90YWwgPiAwID8gXCJjbG9ja3dpc2VcIiA6IFwiY291bnRlcmNsb2Nrd2lzZVwiO1xufVxuIiwiaW1wb3J0IGNocm9tYSBmcm9tIFwiY2hyb21hLWpzXCI7XG5pbXBvcnQgeyBFeGNhbGlkcmF3RWxlbWVudEJhc2UgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGV4V2l0aEFscGhhKGNvbG9yOiBzdHJpbmcsIGFscGhhOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gY2hyb21hKGNvbG9yKS5hbHBoYShhbHBoYSkuY3NzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXMoZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKGF0dHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcsIGJhY2t1cD86IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgYmFja3VwIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROdW0oZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZywgYmFja3VwPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbnVtVmFsID0gTnVtYmVyKGdldChlbCwgYXR0cikpO1xuICByZXR1cm4gbnVtVmFsID09PSBOYU4gPyBiYWNrdXAgfHwgMCA6IG51bVZhbDtcbn1cblxuY29uc3QgcHJlc0F0dHJzID0ge1xuICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2Utb3BhY2l0eVwiLFxuICBcInN0cm9rZS13aWR0aFwiOiBcInN0cm9rZS13aWR0aFwiLFxuICBmaWxsOiBcImZpbGxcIixcbiAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsLW9wYWNpdHlcIixcbiAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG59IGFzIGNvbnN0O1xuXG50eXBlIEV4UGFydGlhbEVsZW1lbnQgPSBQYXJ0aWFsPEV4Y2FsaWRyYXdFbGVtZW50QmFzZT47XG5cbnR5cGUgQXR0ckhhbmRsZXJBcmdzID0ge1xuICBlbDogRWxlbWVudDtcbiAgZXhWYWxzOiBFeFBhcnRpYWxFbGVtZW50O1xufTtcblxudHlwZSBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBba2V5IGluIGtleW9mIHR5cGVvZiBwcmVzQXR0cnNdOiAoYXJnczogQXR0ckhhbmRsZXJBcmdzKSA9PiB2b2lkO1xufTtcblxuY29uc3QgYXR0ckhhbmRsZXJzOiBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBzdHJva2U6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gZ2V0KGVsLCBcInN0cm9rZVwiKTtcblxuICAgIGV4VmFscy5zdHJva2VDb2xvciA9IGhhcyhlbCwgXCJzdHJva2Utb3BhY2l0eVwiKVxuICAgICAgPyBoZXhXaXRoQWxwaGEoc3Ryb2tlQ29sb3IsIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSlcbiAgICAgIDogc3Ryb2tlQ29sb3I7XG4gIH0sXG5cbiAgXCJzdHJva2Utb3BhY2l0eVwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuc3Ryb2tlQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwic3Ryb2tlXCIsIFwiIzAwMDAwMFwiKSxcbiAgICAgIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSxcbiAgICApO1xuICB9LFxuXG4gIFwic3Ryb2tlLXdpZHRoXCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5zdHJva2VXaWR0aCA9IGdldE51bShlbCwgXCJzdHJva2Utd2lkdGhcIik7XG4gIH0sXG5cbiAgZmlsbDogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgYGZpbGxgKTtcblxuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBmaWxsID09PSBcIm5vbmVcIiA/IFwiIzAwMDAwMDAwXCIgOiBmaWxsO1xuICB9LFxuXG4gIFwiZmlsbC1vcGFjaXR5XCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwiZmlsbFwiLCBcIiMwMDAwMDBcIiksXG4gICAgICBnZXROdW0oZWwsIFwiZmlsbC1vcGFjaXR5XCIpLFxuICAgICk7XG4gIH0sXG5cbiAgb3BhY2l0eTogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgZXhWYWxzLm9wYWNpdHkgPSBnZXROdW0oZWwsIFwib3BhY2l0eVwiLCAxMDApO1xuICB9LFxufTtcblxuLy8gUHJlc2VudGF0aW9uIEF0dHJpYnV0ZXMgZm9yIFNWRyBFbGVtZW50czpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvUHJlc2VudGF0aW9uXG5leHBvcnQgZnVuY3Rpb24gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKFxuICBlbDogRWxlbWVudCxcbik6IFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPiB7XG4gIGNvbnN0IGV4VmFscyA9IFsuLi5lbC5hdHRyaWJ1dGVzXS5yZWR1Y2UoKGV4VmFscywgYXR0cikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBhdHRyLm5hbWU7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoYXR0ckhhbmRsZXJzKS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgYXR0ckhhbmRsZXJzW25hbWUgYXMga2V5b2YgUHJlc0F0dHJIYW5kbGVyc10oeyBlbCwgZXhWYWxzIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBleFZhbHM7XG4gIH0sIHt9IGFzIEV4UGFydGlhbEVsZW1lbnQpO1xuXG4gIHJldHVybiBleFZhbHM7XG59XG5cbnR5cGUgRmlsdGVyQXR0cnMgPSBQYXJ0aWFsPFxuICBQaWNrPEV4Y2FsaWRyYXdFbGVtZW50QmFzZSwgXCJ4XCIgfCBcInlcIiB8IFwid2lkdGhcIiB8IFwiaGVpZ2h0XCI+XG4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWw6IEVsZW1lbnQpOiBGaWx0ZXJBdHRycyB7XG4gIGNvbnN0IGZpbHRlclZhbHM6IEZpbHRlckF0dHJzID0ge307XG5cbiAgaWYgKGhhcyhlbCwgXCJ4XCIpKSB7XG4gICAgZmlsdGVyVmFscy54ID0gZ2V0TnVtKGVsLCBcInhcIik7XG4gIH1cblxuICBpZiAoaGFzKGVsLCBcInlcIikpIHtcbiAgICBmaWx0ZXJWYWxzLnkgPSBnZXROdW0oZWwsIFwieVwiKTtcbiAgfVxuXG4gIGlmIChoYXMoZWwsIFwid2lkdGhcIikpIHtcbiAgICBmaWx0ZXJWYWxzLndpZHRoID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIpO1xuICB9XG5cbiAgaWYgKGhhcyhlbCwgXCJoZWlnaHRcIikpIHtcbiAgICBmaWx0ZXJWYWxzLmhlaWdodCA9IGdldE51bShlbCwgXCJoZWlnaHRcIik7XG4gIH1cblxuICByZXR1cm4gZmlsdGVyVmFscztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0F0dHJUb1BvaW50cyhlbDogRWxlbWVudCk6IG51bWJlcltdW10ge1xuICBsZXQgcG9pbnRzOiBudW1iZXJbXVtdID0gW107XG5cbiAgaWYgKGhhcyhlbCwgXCJwb2ludHNcIikpIHtcbiAgICBwb2ludHMgPSBnZXQoZWwsIFwicG9pbnRzXCIpXG4gICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAubWFwKChwKSA9PiBwLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VGbG9hdCkpO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50cztcbn1cbiIsImltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi4vYXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgRXhjYWxpZHJhd0VsZW1lbnRCYXNlIH0gZnJvbSBcIi4uL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cEF0dHJzKGdyb3VwczogR3JvdXBbXSk6IGFueSB7XG4gIHJldHVybiBncm91cHMucmVkdWNlKChhY2MsIHsgZWxlbWVudCB9KSA9PiB7XG4gICAgY29uc3QgZWxWYWxzID0gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHsgLi4uYWNjLCAuLi5lbFZhbHMgfTtcbiAgfSwge30gYXMgUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+KTtcbn1cblxuY2xhc3MgR3JvdXAge1xuICBpZCA9IHJhbmRvbUlkKCk7XG5cbiAgZWxlbWVudDogRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDtcbiIsImltcG9ydCB7IHJhbmRvbUlkLCByYW5kb21JbnRlZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gIEdyb3VwSWQsXG4gIEZpbGxTdHlsZSxcbiAgU3Ryb2tlU3R5bGUsXG4gIFN0cm9rZVNoYXJwbmVzcyxcbiAgRXhjYWxpZHJhd0xpbmVhckVsZW1lbnQsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGVtZW50QmFzZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHN0cm9rZUNvbG9yOiBzdHJpbmc7XG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICBmaWxsU3R5bGU6IEZpbGxTdHlsZTtcbiAgc3Ryb2tlV2lkdGg6IG51bWJlcjtcbiAgc3Ryb2tlU3R5bGU6IFN0cm9rZVN0eWxlO1xuICBzdHJva2VTaGFycG5lc3M6IFN0cm9rZVNoYXJwbmVzcztcbiAgcm91Z2huZXNzOiBudW1iZXI7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGFuZ2xlOiBudW1iZXI7XG4gIC8qKiBSYW5kb20gaW50ZWdlciB1c2VkIHRvIHNlZWQgc2hhcGUgZ2VuZXJhdGlvbiBzbyB0aGF0IHRoZSByb3VnaGpzIHNoYXBlXG4gICAgICBkb2Vzbid0IGRpZmZlciBhY3Jvc3MgcmVuZGVycy4gKi9cbiAgc2VlZDogbnVtYmVyO1xuICAvKiogSW50ZWdlciB0aGF0IGlzIHNlcXVlbnRpYWxseSBpbmNyZW1lbnRlZCBvbiBlYWNoIGNoYW5nZS4gVXNlZCB0byByZWNvbmNpbGVcbiAgICAgIGVsZW1lbnRzIGR1cmluZyBjb2xsYWJvcmF0aW9uIG9yIHdoZW4gc2F2aW5nIHRvIHNlcnZlci4gKi9cbiAgdmVyc2lvbjogbnVtYmVyO1xuICAvKiogUmFuZG9tIGludGVnZXIgdGhhdCBpcyByZWdlbmVyYXRlZCBvbiBlYWNoIGNoYW5nZS5cbiAgICAgIFVzZWQgZm9yIGRldGVybWluaXN0aWMgcmVjb25jaWxpYXRpb24gb2YgdXBkYXRlcyBkdXJpbmcgY29sbGFib3JhdGlvbixcbiAgICAgIGluIGNhc2UgdGhlIHZlcnNpb25zIChzZWUgYWJvdmUpIGFyZSBpZGVudGljYWwuICovXG4gIHZlcnNpb25Ob25jZTogbnVtYmVyO1xuICBpc0RlbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKiBMaXN0IG9mIGdyb3VwcyB0aGUgZWxlbWVudCBiZWxvbmdzIHRvLlxuICAgICAgT3JkZXJlZCBmcm9tIGRlZXBlc3QgdG8gc2hhbGxvd2VzdC4gKi9cbiAgZ3JvdXBJZHM6IEdyb3VwSWRbXTtcbiAgLyoqIElkcyBvZiAobGluZWFyKSBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCB0byB0aGlzIGVsZW1lbnQuICovXG4gIGJvdW5kRWxlbWVudElkczogRXhjYWxpZHJhd0xpbmVhckVsZW1lbnRbXCJpZFwiXVtdIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwicmVjdGFuZ2xlXCI7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3TGluZSA9IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSAmIHtcbiAgdHlwZTogXCJsaW5lXCI7XG4gIHBvaW50czogcmVhZG9ubHkgUG9pbnRbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGxpcHNlID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcImVsbGlwc2VcIjtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdHZW5lcmljRWxlbWVudCA9XG4gIHwgRXhjYWxpZHJhd1JlY3RhbmdsZVxuICB8IEV4Y2FsaWRyYXdFbGxpcHNlXG4gIHwgRXhjYWxpZHJhd0xpbmVcbiAgfCBFeGNhbGlkcmF3RHJhdztcblxuZXhwb3J0IHR5cGUgRXhjYWxpZHJhd0RyYXcgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwiZHJhd1wiO1xuICBwb2ludHM6IHJlYWRvbmx5IFBvaW50W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGVtZW50KCk6IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJhbmRvbUlkKCksXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHN0cm9rZUNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgIGZpbGxTdHlsZTogXCJzb2xpZFwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIHN0cm9rZVN0eWxlOiBcInNvbGlkXCIsXG4gICAgc3Ryb2tlU2hhcnBuZXNzOiBcInNoYXJwXCIsXG4gICAgcm91Z2huZXNzOiAwLFxuICAgIG9wYWNpdHk6IDEwMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgYW5nbGU6IDAsXG4gICAgc2VlZDogcmFuZG9tSW50ZWdlcigpLFxuICAgIHZlcnNpb246IDAsXG4gICAgdmVyc2lvbk5vbmNlOiAwLFxuICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgZ3JvdXBJZHM6IFtdLFxuICAgIGJvdW5kRWxlbWVudElkczogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4UmVjdCgpOiBFeGNhbGlkcmF3UmVjdGFuZ2xlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcInJlY3RhbmdsZVwiLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhMaW5lKCk6IEV4Y2FsaWRyYXdMaW5lIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImxpbmVcIixcbiAgICBwb2ludHM6IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGxpcHNlKCk6IEV4Y2FsaWRyYXdFbGxpcHNlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImVsbGlwc2VcIixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RHJhdygpOiBFeGNhbGlkcmF3RHJhdyB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJkcmF3XCIsXG4gICAgcG9pbnRzOiBbXSxcbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjM1xyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxyXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcclxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IEdyb3VwIGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuXG4vKlxuU1ZHIHRyYW5zZm9ybSBhdHRyIGlzIGEgYml0IHN0cmFuZ2UgaW4gdGhhdCBpdCBjYW4gYWNjZXB0IHRyYWRpdGlvbmFsXG5jc3MgdHJhbnNmb3JtIHN0cmluZyAoYXQgbGVhc3QgcGVyIHNwZWMpIGFzIHdlbGwgYXMgYSBpdCdzIG93biBcInVuaXRsZXNzXCJcbnZlcnNpb24gb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucy5cblxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS90cmFuc2Zvcm1cbiovXG5cbmNvbnN0IHRyYW5zZm9ybUZ1bmN0aW9ucyA9IHtcbiAgbWF0cml4OiBcIm1hdHJpeFwiLFxuICBtYXRyaXgzZDogXCJtYXRyaXgzZFwiLFxuICBwZXJzcGVjdGl2ZTogXCJwZXJzcGVjdGl2ZVwiLFxuICByb3RhdGU6IFwicm90YXRlXCIsXG4gIHJvdGF0ZTNkOiBcInJvdGF0ZTNkXCIsXG4gIHJvdGF0ZVg6IFwicm90YXRlWFwiLFxuICByb3RhdGVZOiBcInJvdGF0ZVlcIixcbiAgcm90YXRlWjogXCJyb3RhdGVaXCIsXG4gIHNjYWxlOiBcInNjYWxlXCIsXG4gIHNjYWxlM2Q6IFwic2NhbGUzZFwiLFxuICBzY2FsZVg6IFwic2NhbGVYXCIsXG4gIHNjYWxlWTogXCJzY2FsZVlcIixcbiAgc2NhbGVaOiBcInNjYWxlWlwiLFxuICBza2V3OiBcInNrZXdcIixcbiAgc2tld1g6IFwic2tld1hcIixcbiAgc2tld1k6IFwic2tld1lcIixcbiAgdHJhbnNsYXRlOiBcInRyYW5zbGF0ZVwiLFxuICB0cmFuc2xhdGUzZDogXCJ0cmFuc2xhdGUzZFwiLFxuICB0cmFuc2xhdGVYOiBcInRyYW5zbGF0ZVhcIixcbiAgdHJhbnNsYXRlWTogXCJ0cmFuc2xhdGVZXCIsXG4gIHRyYW5zbGF0ZVo6IFwidHJhbnNsYXRlWlwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgdHJhbnNmb3JtRnVuY3Rpb25zQXJyID0gT2JqZWN0LmtleXModHJhbnNmb3JtRnVuY3Rpb25zKTtcblxuLy8gdHlwZSBUcmFuc2Zvcm1cblxudHlwZSBUcmFuc2Zvcm1GdW5jVmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHVuaXQ6IHN0cmluZztcbn07XG5cbnR5cGUgVHJhbnNmb3JtRnVuYyA9IHtcbiAgdHlwZToga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgdmFsdWVzOiBUcmFuc2Zvcm1GdW5jVmFsdWVbXTtcbn07XG5cbmNvbnN0IGRlZmF1bHRVbml0cyA9IHtcbiAgbWF0cml4OiBcIlwiLFxuICBtYXRyaXgzZDogXCJcIixcbiAgcGVyc3BlY3RpdmU6IFwicGVyc3BlY3RpdmVcIixcbiAgcm90YXRlOiBcImRlZ1wiLFxuICByb3RhdGUzZDogXCJkZWdcIixcbiAgcm90YXRlWDogXCJkZWdcIixcbiAgcm90YXRlWTogXCJkZWdcIixcbiAgcm90YXRlWjogXCJkZWdcIixcbiAgc2NhbGU6IFwiXCIsXG4gIHNjYWxlM2Q6IFwiXCIsXG4gIHNjYWxlWDogXCJcIixcbiAgc2NhbGVZOiBcIlwiLFxuICBzY2FsZVo6IFwiXCIsXG4gIHNrZXc6IFwic2tld1wiLFxuICBza2V3WDogXCJkZWdcIixcbiAgc2tld1k6IFwiZGVnXCIsXG4gIHRyYW5zbGF0ZTogXCJweFwiLFxuICB0cmFuc2xhdGUzZDogXCJweFwiLFxuICB0cmFuc2xhdGVYOiBcInB4XCIsXG4gIHRyYW5zbGF0ZVk6IFwicHhcIixcbiAgdHJhbnNsYXRlWjogXCJweFwiLFxufTtcblxuLy8gQ29udmVydCBiZXR3ZWVuIHBvc3NpYmxlIHN2ZyB0cmFuc2Zvcm0gYXR0cmlidXRlIHZhbHVlcyB0byBjc3MgdHJhbnNmb3JtIGF0dHJpYnV0ZSB2YWx1ZXMuXG5jb25zdCBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybSA9IChzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIC8vIENyZWF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24gc3RyaW5nIFwiY2h1bmtzXCIsIGUuZyBcInJvdGF0ZSg5MGRlZylcIlxuICBjb25zdCB0RnVuY3MgPSBzdmdUcmFuc2Zvcm1TdHIubWF0Y2goLyhcXHcrKVxcKChbXildKilcXCkvZyk7XG4gIGlmICghdEZ1bmNzKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBjb25zdCB0RnVuY1ZhbHVlczogVHJhbnNmb3JtRnVuY1tdID0gdEZ1bmNzLm1hcChcbiAgICAodEZ1bmNTdHIpOiBUcmFuc2Zvcm1GdW5jID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0RnVuY1N0ci5zcGxpdChcIihcIilbMF0gYXMga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0cmFuc2Zvcm0gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNmb3JtRnVuY3Rpb25zQXJyLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNmb3JtIGZ1bmN0aW9uIG5hbWUgXCIke3R5cGV9XCIgaXMgbm90IHZhbGlkYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCB0aGUgYXJnL3Byb3BzIG9mIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24sIGUuZyBcIjkwZGVnXCIuXG4gICAgICBjb25zdCB0RnVuY1BhcnRzID0gdEZ1bmNTdHIubWF0Y2goLyhbLStdP1swLTldKlxcLj9bMC05XSspKFthLXpdKSovZyk7XG4gICAgICBpZiAoIXRGdW5jUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZSwgdmFsdWVzOiBbXSB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgdmFsdWVzID0gdEZ1bmNQYXJ0cy5tYXAoXG4gICAgICAgIChhKTogVHJhbnNmb3JtRnVuY1ZhbHVlID0+IHtcbiAgICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgYXJnIHZhbHVlIGFuZCB1bml0LiBlLmcgW1wiOTBcIiwgXCJkZWdcIl1cbiAgICAgICAgICBjb25zdCBbdmFsdWUsIHVuaXRdID0gYS5tYXRjaEFsbCgvKFstK10/WzAtOV0qXFwuP1swLTldKyl8KFthLXpdKSovZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5pdDogdW5pdFswXSB8fCBkZWZhdWx0VW5pdHNbdHlwZV0sXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVbMF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIC8vIE5vdCBzdXBwb3J0aW5nIHgsIHkgYXJncyBvZiBzdmcgcm90YXRlIHRyYW5zZm9ybSB5ZXQuLi5cbiAgICAgIGlmICh2YWx1ZXMgJiYgdHlwZSA9PT0gXCJyb3RhdGVcIiAmJiB2YWx1ZXM/Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsdWVzID0gW3ZhbHVlc1swXV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHZhbHVlcyxcbiAgICAgIH07XG4gICAgfSxcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBhIHN0cmluZyBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHNldCBhcyBhIENTUyBUcmFuc2Zvcm0uXG4gIGNvbnN0IGNzc3RyYW5zZm9ybVN0ciA9IHRGdW5jVmFsdWVzXG4gICAgLm1hcCgoeyB0eXBlLCB2YWx1ZXMgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsU3RyID0gdmFsdWVzXG4gICAgICAgIC5tYXAoKHsgdW5pdCwgdmFsdWUgfSkgPT4gYCR7dmFsdWV9JHt1bml0fWApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICByZXR1cm4gYCR7dHlwZX0oJHt2YWxTdHJ9KWA7XG4gICAgfSlcbiAgICAuam9pbihcIiBcIik7XG5cbiAgcmV0dXJuIGNzc3RyYW5zZm9ybVN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVET01NYXRyaXhGcm9tU1ZHU3RyID0gKFxuICBzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyxcbik6IERPTU1hdHJpeCA9PiB7XG4gIGNvbnN0IGNzc1RyYW5zZm9ybVN0ciA9IHN2Z1RyYW5zZm9ybVRvQ1NTVHJhbnNmb3JtKHN2Z1RyYW5zZm9ybVN0cik7XG5cbiAgcmV0dXJuIG5ldyBET01NYXRyaXgoY3NzVHJhbnNmb3JtU3RyKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TWF0cml4KGVsOiBFbGVtZW50KTogbWF0NCB7XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICBjb25zdCBlbE1hdCA9IG5ldyBET01NYXRyaXgoXG4gICAgICBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybShlbC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikgfHwgXCJcIiksXG4gICAgKTtcblxuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdDQuY3JlYXRlKCksIGVsTWF0LnRvRmxvYXQzMkFycmF5KCkpO1xuICB9XG5cbiAgcmV0dXJuIG1hdDQuY3JlYXRlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1NYXRyaXgoZWw6IEVsZW1lbnQsIGdyb3VwczogR3JvdXBbXSk6IG1hdDQge1xuICBjb25zdCBhY2N1bU1hdCA9IGdyb3Vwc1xuICAgIC5tYXAoKHsgZWxlbWVudCB9KSA9PiBnZXRFbGVtZW50TWF0cml4KGVsZW1lbnQpKVxuICAgIC5jb25jYXQoW2dldEVsZW1lbnRNYXRyaXgoZWwpXSlcbiAgICAucmVkdWNlKChhY2MsIG1hdCkgPT4gbWF0NC5tdWx0aXBseShhY2MsIGFjYywgbWF0KSwgbWF0NC5jcmVhdGUoKSk7XG5cbiAgcmV0dXJuIGFjY3VtTWF0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzKFxuICBwb2ludHM6IG51bWJlcltdW10sXG4gIHRyYW5zZm9ybTogbWF0NCxcbik6IFtudW1iZXIsIG51bWJlcl1bXSB7XG4gIHJldHVybiBwb2ludHMubWFwKChbeCwgeV0pID0+IHtcbiAgICBjb25zdCBbbmV3WCwgbmV3WV0gPSB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKHgsIHksIDEpLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICk7XG5cbiAgICByZXR1cm4gW25ld1gsIG5ld1ldO1xuICB9KTtcbn1cbiIsIi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbmZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcShwMSwgcDIpKTtcbn1cbi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHMgc3F1YXJlZFxuZnVuY3Rpb24gZGlzdGFuY2VTcShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgKyBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKTtcbn1cbi8vIFNpc3RhbmNlIHNxdWFyZWQgZnJvbSBhIHBvaW50IHAgdG8gdGhlIGxpbmUgc2VnbWVudCB2d1xuZnVuY3Rpb24gZGlzdGFuY2VUb1NlZ21lbnRTcShwLCB2LCB3KSB7XG4gICAgY29uc3QgbDIgPSBkaXN0YW5jZVNxKHYsIHcpO1xuICAgIGlmIChsMiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGlzdGFuY2VTcShwLCB2KTtcbiAgICB9XG4gICAgbGV0IHQgPSAoKHBbMF0gLSB2WzBdKSAqICh3WzBdIC0gdlswXSkgKyAocFsxXSAtIHZbMV0pICogKHdbMV0gLSB2WzFdKSkgLyBsMjtcbiAgICB0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdCkpO1xuICAgIHJldHVybiBkaXN0YW5jZVNxKHAsIGxlcnAodiwgdywgdCkpO1xufVxuZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYVswXSArIChiWzBdIC0gYVswXSkgKiB0LFxuICAgICAgICBhWzFdICsgKGJbMV0gLSBhWzFdKSAqIHQsXG4gICAgXTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3NlYW50MjMud29yZHByZXNzLmNvbS8yMDEwLzExLzEyL29mZnNldC1iZXppZXItY3VydmVzL1xuZnVuY3Rpb24gZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIHtcbiAgICBjb25zdCBwMSA9IHBvaW50c1tvZmZzZXQgKyAwXTtcbiAgICBjb25zdCBwMiA9IHBvaW50c1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICBjb25zdCBwNCA9IHBvaW50c1tvZmZzZXQgKyAzXTtcbiAgICBsZXQgdXggPSAzICogcDJbMF0gLSAyICogcDFbMF0gLSBwNFswXTtcbiAgICB1eCAqPSB1eDtcbiAgICBsZXQgdXkgPSAzICogcDJbMV0gLSAyICogcDFbMV0gLSBwNFsxXTtcbiAgICB1eSAqPSB1eTtcbiAgICBsZXQgdnggPSAzICogcDNbMF0gLSAyICogcDRbMF0gLSBwMVswXTtcbiAgICB2eCAqPSB2eDtcbiAgICBsZXQgdnkgPSAzICogcDNbMV0gLSAyICogcDRbMV0gLSBwMVsxXTtcbiAgICB2eSAqPSB2eTtcbiAgICBpZiAodXggPCB2eCkge1xuICAgICAgICB1eCA9IHZ4O1xuICAgIH1cbiAgICBpZiAodXkgPCB2eSkge1xuICAgICAgICB1eSA9IHZ5O1xuICAgIH1cbiAgICByZXR1cm4gdXggKyB1eTtcbn1cbmZ1bmN0aW9uIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cykge1xuICAgIGNvbnN0IG91dFBvaW50cyA9IG5ld1BvaW50cyB8fCBbXTtcbiAgICBpZiAoZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIDwgdG9sZXJhbmNlKSB7XG4gICAgICAgIGNvbnN0IHAwID0gcG9pbnRzW29mZnNldCArIDBdO1xuICAgICAgICBpZiAob3V0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGRpc3RhbmNlKG91dFBvaW50c1tvdXRQb2ludHMubGVuZ3RoIC0gMV0sIHAwKTtcbiAgICAgICAgICAgIGlmIChkID4gMSkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChwb2ludHNbb2Zmc2V0ICsgM10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3ViZGl2aWRlXG4gICAgICAgIGNvbnN0IHQgPSAuNTtcbiAgICAgICAgY29uc3QgcDEgPSBwb2ludHNbb2Zmc2V0ICsgMF07XG4gICAgICAgIGNvbnN0IHAyID0gcG9pbnRzW29mZnNldCArIDFdO1xuICAgICAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICAgICAgY29uc3QgcDQgPSBwb2ludHNbb2Zmc2V0ICsgM107XG4gICAgICAgIGNvbnN0IHExID0gbGVycChwMSwgcDIsIHQpO1xuICAgICAgICBjb25zdCBxMiA9IGxlcnAocDIsIHAzLCB0KTtcbiAgICAgICAgY29uc3QgcTMgPSBsZXJwKHAzLCBwNCwgdCk7XG4gICAgICAgIGNvbnN0IHIxID0gbGVycChxMSwgcTIsIHQpO1xuICAgICAgICBjb25zdCByMiA9IGxlcnAocTIsIHEzLCB0KTtcbiAgICAgICAgY29uc3QgcmVkID0gbGVycChyMSwgcjIsIHQpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcDEsIHExLCByMSwgcmVkXSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcmVkLCByMiwgcTMsIHA0XSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0UG9pbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICByZXR1cm4gc2ltcGxpZnlQb2ludHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBkaXN0YW5jZSk7XG59XG4vLyBSYW1lcuKAk0RvdWdsYXPigJNQZXVja2VyIGFsZ29yaXRobVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXIlRTIlODAlOTNEb3VnbGFzJUUyJTgwJTkzUGV1Y2tlcl9hbGdvcml0aG1cbmZ1bmN0aW9uIHNpbXBsaWZ5UG9pbnRzKHBvaW50cywgc3RhcnQsIGVuZCwgZXBzaWxvbiwgbmV3UG9pbnRzKSB7XG4gICAgY29uc3Qgb3V0UG9pbnRzID0gbmV3UG9pbnRzIHx8IFtdO1xuICAgIC8vIGZpbmQgdGhlIG1vc3QgZGlzdGFuY2UgcG9pbnQgZnJvbSB0aGUgZW5kcG9pbnRzXG4gICAgY29uc3QgcyA9IHBvaW50c1tzdGFydF07XG4gICAgY29uc3QgZSA9IHBvaW50c1tlbmQgLSAxXTtcbiAgICBsZXQgbWF4RGlzdFNxID0gMDtcbiAgICBsZXQgbWF4TmR4ID0gMTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgZW5kIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RTcSA9IGRpc3RhbmNlVG9TZWdtZW50U3EocG9pbnRzW2ldLCBzLCBlKTtcbiAgICAgICAgaWYgKGRpc3RTcSA+IG1heERpc3RTcSkge1xuICAgICAgICAgICAgbWF4RGlzdFNxID0gZGlzdFNxO1xuICAgICAgICAgICAgbWF4TmR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB0aGF0IHBvaW50IGlzIHRvbyBmYXIsIHNwbGl0XG4gICAgaWYgKE1hdGguc3FydChtYXhEaXN0U3EpID4gZXBzaWxvbikge1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIHN0YXJ0LCBtYXhOZHggKyAxLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIG1heE5keCwgZW5kLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFvdXRQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXRQb2ludHMucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChlKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dFBvaW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkJlemllckN1cnZlcyhwb2ludHMsIHRvbGVyYW5jZSA9IDAuMTUsIGRpc3RhbmNlKSB7XG4gICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgY29uc3QgbnVtU2VnbWVudHMgPSAocG9pbnRzLmxlbmd0aCAtIDEpIC8gMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIDM7XG4gICAgICAgIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cyk7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZSAmJiBkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZ5UG9pbnRzKG5ld1BvaW50cywgMCwgbmV3UG9pbnRzLmxlbmd0aCwgZGlzdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UG9pbnRzO1xufVxuIiwiY29uc3QgQ09NTUFORCA9IDA7XG5jb25zdCBOVU1CRVIgPSAxO1xuY29uc3QgRU9EID0gMjtcbmNvbnN0IFBBUkFNUyA9IHsgQTogNywgYTogNywgQzogNiwgYzogNiwgSDogMSwgaDogMSwgTDogMiwgbDogMiwgTTogMiwgbTogMiwgUTogNCwgcTogNCwgUzogNCwgczogNCwgVDogMiwgdDogMiwgVjogMSwgdjogMSwgWjogMCwgejogMCB9O1xuZnVuY3Rpb24gdG9rZW5pemUoZCkge1xuICAgIGNvbnN0IHRva2VucyA9IG5ldyBBcnJheSgpO1xuICAgIHdoaWxlIChkICE9PSAnJykge1xuICAgICAgICBpZiAoZC5tYXRjaCgvXihbIFxcdFxcclxcbixdKykvKSkge1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGQubWF0Y2goL14oW2FBY0NoSGxMbU1xUXNTdFR2VnpaXSkvKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0geyB0eXBlOiBDT01NQU5ELCB0ZXh0OiBSZWdFeHAuJDEgfTtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkLm1hdGNoKC9eKChbLStdP1swLTldKyhcXC5bMC05XSopP3xbLStdP1xcLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogTlVNQkVSLCB0ZXh0OiBgJHtwYXJzZUZsb2F0KFJlZ0V4cC4kMSl9YCB9O1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogRU9ELCB0ZXh0OiAnJyB9O1xuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBpc1R5cGUodG9rZW4sIHR5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gdHlwZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgoZCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoZCk7XG4gICAgbGV0IG1vZGUgPSAnQk9EJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgd2hpbGUgKCFpc1R5cGUodG9rZW4sIEVPRCkpIHtcbiAgICAgICAgbGV0IHBhcmFtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgIGlmIChtb2RlID09PSAnQk9EJykge1xuICAgICAgICAgICAgaWYgKHRva2VuLnRleHQgPT09ICdNJyB8fCB0b2tlbi50ZXh0ID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgICAgIG1vZGUgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGF0aCgnTTAsMCcgKyBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1R5cGUodG9rZW4sIE5VTUJFUikpIHtcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW21vZGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgbW9kZSA9IHRva2VuLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChpbmRleCArIHBhcmFtc0NvdW50KSA8IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGluZGV4ICsgcGFyYW1zQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlVG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzVHlwZShudW1iZVRva2VuLCBOVU1CRVIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbXMubGVuZ3RoXSA9ICtudW1iZVRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtIG5vdCBhIG51bWJlcjogJyArIG1vZGUgKyAnLCcgKyBudW1iZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgUEFSQU1TW21vZGVdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB7IGtleTogbW9kZSwgZGF0YTogcGFyYW1zIH07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBwYXJhbXNDb3VudDtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdNJylcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9ICdMJztcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ20nKVxuICAgICAgICAgICAgICAgICAgICBtb2RlID0gJ2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudDogJyArIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIGRhdGEgZW5kZWQgc2hvcnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKHNlZ21lbnRzKSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKGtleSk7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGRhdGFbMF0sIGAke2RhdGFbMV19LGAsIGRhdGFbMl0sIGAke2RhdGFbM119LGAsIGRhdGFbNF0sIGRhdGFbNV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goZGF0YVswXSwgYCR7ZGF0YVsxXX0sYCwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKC4uLmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnMuam9pbignICcpO1xufVxuIiwiLy8gVHJhbnNsYXRlIHJlbGF0aXZlIGNvbW1hbmRzIHRvIGFic29sdXRlIGNvbW1hbmRzXG5leHBvcnQgZnVuY3Rpb24gYWJzb2x1dGl6ZShzZWdtZW50cykge1xuICAgIGxldCBjeCA9IDAsIGN5ID0gMDtcbiAgICBsZXQgc3VieCA9IDAsIHN1YnkgPSAwO1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZvciAoY29uc3QgeyBrZXksIGRhdGEgfSBvZiBzZWdtZW50cykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdNJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIFtjeCwgY3ldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBbc3VieCwgc3VieV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIHN1YnggPSBjeDtcbiAgICAgICAgICAgICAgICBzdWJ5ID0gY3k7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVs0XTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1EnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSwgZGF0YVs0XSwgY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICBjeCArPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFtjeF0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdTJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBOb3JtYWxpemUgcGF0aCB0byBpbmNsdWRlIG9ubHkgTSwgTCwgQywgYW5kIFogY29tbWFuZHNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoc2VnbWVudHMpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBsZXQgbGFzdFR5cGUgPSAnJztcbiAgICBsZXQgY3ggPSAwLCBjeSA9IDA7XG4gICAgbGV0IHN1YnggPSAwLCBzdWJ5ID0gMDtcbiAgICBsZXQgbGN4ID0gMCwgbGN5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgW3N1YngsIHN1YnldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGxjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgbGN5ID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTJzoge1xuICAgICAgICAgICAgICAgIGxldCBjeDEgPSAwLCBjeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ0MnIHx8IGxhc3RUeXBlID09PSAnUycpIHtcbiAgICAgICAgICAgICAgICAgICAgY3gxID0gY3ggKyAoY3ggLSBsY3gpO1xuICAgICAgICAgICAgICAgICAgICBjeTEgPSBjeSArIChjeSAtIGxjeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgY3kxID0gY3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBsY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHgxID0gMCwgeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ1EnIHx8IGxhc3RUeXBlID09PSAnVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeCArIChjeCAtIGxjeCk7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gY3kgKyAoY3kgLSBsY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBjeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3gxID0gY3ggKyAyICogKHgxIC0gY3gpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTEgPSBjeSArIDIgKiAoeTEgLSBjeSkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN4MiA9IHggKyAyICogKHgxIC0geCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MiA9IHkgKyAyICogKHkxIC0geSkgLyAzO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgY3gyLCBjeTIsIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IHgxO1xuICAgICAgICAgICAgICAgIGxjeSA9IHkxO1xuICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdRJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4MSwgeTEsIHgsIHldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBjeDEgPSBjeCArIDIgKiAoeDEgLSBjeCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MSA9IGN5ICsgMiAqICh5MSAtIGN5KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3gyID0geCArIDIgKiAoeDEgLSB4KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3kyID0geSArIDIgKiAoeTEgLSB5KSAvIDM7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogW2N4MSwgY3kxLCBjeDIsIGN5MiwgeCwgeV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0geDE7XG4gICAgICAgICAgICAgICAgbGN5ID0geTE7XG4gICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0EnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjEgPSBNYXRoLmFicyhkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByMiA9IE1hdGguYWJzKGRhdGFbMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN3ZWVwRmxhZyA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgaWYgKHIxID09PSAwIHx8IHIyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeCwgY3ksIHgsIHksIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCAhPT0geCB8fCBjeSAhPT0geSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VydmVzID0gYXJjVG9DdWJpY0N1cnZlcyhjeCwgY3ksIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJ2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IGN1cnZlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUeXBlID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiAoTWF0aC5QSSAqIGRlZ3JlZXMpIC8gMTgwO1xufVxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlUmFkKSB7XG4gICAgY29uc3QgWCA9IHggKiBNYXRoLmNvcyhhbmdsZVJhZCkgLSB5ICogTWF0aC5zaW4oYW5nbGVSYWQpO1xuICAgIGNvbnN0IFkgPSB4ICogTWF0aC5zaW4oYW5nbGVSYWQpICsgeSAqIE1hdGguY29zKGFuZ2xlUmFkKTtcbiAgICByZXR1cm4gW1gsIFldO1xufVxuZnVuY3Rpb24gYXJjVG9DdWJpY0N1cnZlcyh4MSwgeTEsIHgyLCB5MiwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcsIHJlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IGFuZ2xlUmFkID0gZGVnVG9SYWQoYW5nbGUpO1xuICAgIGxldCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgZjEgPSAwLCBmMiA9IDAsIGN4ID0gMCwgY3kgPSAwO1xuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgW2YxLCBmMiwgY3gsIGN5XSA9IHJlY3Vyc2l2ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFt4MSwgeTFdID0gcm90YXRlKHgxLCB5MSwgLWFuZ2xlUmFkKTtcbiAgICAgICAgW3gyLCB5Ml0gPSByb3RhdGUoeDIsIHkyLCAtYW5nbGVSYWQpO1xuICAgICAgICBjb25zdCB4ID0gKHgxIC0geDIpIC8gMjtcbiAgICAgICAgY29uc3QgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgIGxldCBoID0gKHggKiB4KSAvIChyMSAqIHIxKSArICh5ICogeSkgLyAocjIgKiByMik7XG4gICAgICAgIGlmIChoID4gMSkge1xuICAgICAgICAgICAgaCA9IE1hdGguc3FydChoKTtcbiAgICAgICAgICAgIHIxID0gaCAqIHIxO1xuICAgICAgICAgICAgcjIgPSBoICogcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbiA9IChsYXJnZUFyY0ZsYWcgPT09IHN3ZWVwRmxhZykgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHIxUG93ID0gcjEgKiByMTtcbiAgICAgICAgY29uc3QgcjJQb3cgPSByMiAqIHIyO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcjFQb3cgKiByMlBvdyAtIHIxUG93ICogeSAqIHkgLSByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCByaWdodCA9IHIxUG93ICogeSAqIHkgKyByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCBrID0gc2lnbiAqIE1hdGguc3FydChNYXRoLmFicyhsZWZ0IC8gcmlnaHQpKTtcbiAgICAgICAgY3ggPSBrICogcjEgKiB5IC8gcjIgKyAoeDEgKyB4MikgLyAyO1xuICAgICAgICBjeSA9IGsgKiAtcjIgKiB4IC8gcjEgKyAoeTEgKyB5MikgLyAyO1xuICAgICAgICBmMSA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTEgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBmMiA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTIgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBpZiAoeDEgPCBjeCkge1xuICAgICAgICAgICAgZjEgPSBNYXRoLlBJIC0gZjE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgyIDwgY3gpIHtcbiAgICAgICAgICAgIGYyID0gTWF0aC5QSSAtIGYyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmMSA8IDApIHtcbiAgICAgICAgICAgIGYxID0gTWF0aC5QSSAqIDIgKyBmMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZjIgPCAwKSB7XG4gICAgICAgICAgICBmMiA9IE1hdGguUEkgKiAyICsgZjI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3ZWVwRmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICBmMSA9IGYxIC0gTWF0aC5QSSAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzd2VlcEZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgZjIgPSBmMiAtIE1hdGguUEkgKiAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBkZiA9IGYyIC0gZjE7XG4gICAgaWYgKE1hdGguYWJzKGRmKSA+IChNYXRoLlBJICogMTIwIC8gMTgwKSkge1xuICAgICAgICBjb25zdCBmMm9sZCA9IGYyO1xuICAgICAgICBjb25zdCB4Mm9sZCA9IHgyO1xuICAgICAgICBjb25zdCB5Mm9sZCA9IHkyO1xuICAgICAgICBpZiAoc3dlZXBGbGFnICYmIGYyID4gZjEpIHtcbiAgICAgICAgICAgIGYyID0gZjEgKyAoTWF0aC5QSSAqIDEyMCAvIDE4MCkgKiAoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmMiA9IGYxICsgKE1hdGguUEkgKiAxMjAgLyAxODApICogKC0xKTtcbiAgICAgICAgfVxuICAgICAgICB4MiA9IGN4ICsgcjEgKiBNYXRoLmNvcyhmMik7XG4gICAgICAgIHkyID0gY3kgKyByMiAqIE1hdGguc2luKGYyKTtcbiAgICAgICAgcGFyYW1zID0gYXJjVG9DdWJpY0N1cnZlcyh4MiwgeTIsIHgyb2xkLCB5Mm9sZCwgcjEsIHIyLCBhbmdsZSwgMCwgc3dlZXBGbGFnLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICB9XG4gICAgZGYgPSBmMiAtIGYxO1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoZjEpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oZjEpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoZjIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oZjIpO1xuICAgIGNvbnN0IHQgPSBNYXRoLnRhbihkZiAvIDQpO1xuICAgIGNvbnN0IGh4ID0gNCAvIDMgKiByMSAqIHQ7XG4gICAgY29uc3QgaHkgPSA0IC8gMyAqIHIyICogdDtcbiAgICBjb25zdCBtMSA9IFt4MSwgeTFdO1xuICAgIGNvbnN0IG0yID0gW3gxICsgaHggKiBzMSwgeTEgLSBoeSAqIGMxXTtcbiAgICBjb25zdCBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl07XG4gICAgY29uc3QgbTQgPSBbeDIsIHkyXTtcbiAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gcm90YXRlKHBhcmFtc1tpXVswXSwgcGFyYW1zW2ldWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMiA9IHJvdGF0ZShwYXJhbXNbaSArIDFdWzBdLCBwYXJhbXNbaSArIDFdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMyA9IHJvdGF0ZShwYXJhbXNbaSArIDJdWzBdLCBwYXJhbXNbaSArIDJdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjdXJ2ZXMucHVzaChbcjFbMF0sIHIxWzFdLCByMlswXSwgcjJbMV0sIHIzWzBdLCByM1sxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJ2ZXM7XG4gICAgfVxufVxuIiwiZXhwb3J0IHsgcGFyc2VQYXRoLCBzZXJpYWxpemUgfSBmcm9tICcuL3BhcnNlci5qcyc7XG5leHBvcnQgeyBhYnNvbHV0aXplIH0gZnJvbSAnLi9hYnNvbHV0aXplLmpzJztcbmV4cG9ydCB7IG5vcm1hbGl6ZSB9IGZyb20gJy4vbm9ybWFsaXplLmpzJztcbiIsImltcG9ydCB7IHBvaW50c09uQmV6aWVyQ3VydmVzLCBzaW1wbGlmeSB9IGZyb20gJ3BvaW50cy1vbi1jdXJ2ZSc7XG5pbXBvcnQgeyBwYXJzZVBhdGgsIGFic29sdXRpemUsIG5vcm1hbGl6ZSB9IGZyb20gJ3BhdGgtZGF0YS1wYXJzZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c09uUGF0aChwYXRoLCB0b2xlcmFuY2UsIGRpc3RhbmNlKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZShhYnNvbHV0aXplKHNlZ21lbnRzKSk7XG4gICAgY29uc3Qgc2V0cyA9IFtdO1xuICAgIGxldCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgIGxldCBwZW5kaW5nQ3VydmUgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRQZW5kaW5nQ3VydmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwZW5kaW5nQ3VydmUubGVuZ3RoID49IDQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaCguLi5wb2ludHNPbkJlemllckN1cnZlcyhwZW5kaW5nQ3VydmUsIHRvbGVyYW5jZSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdDdXJ2ZSA9IFtdO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kUGVuZGluZ1BvaW50cyA9ICgpID0+IHtcbiAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgIGlmIChjdXJyZW50UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0cy5wdXNoKGN1cnJlbnRQb2ludHMpO1xuICAgICAgICAgICAgY3VycmVudFBvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygbm9ybWFsaXplZCkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ1BvaW50cygpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2RhdGFbMF0sIGRhdGFbMV1dO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ0N1cnZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBjdXJyZW50UG9pbnRzLmxlbmd0aCA/IGN1cnJlbnRQb2ludHNbY3VycmVudFBvaW50cy5sZW5ndGggLSAxXSA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbbGFzdFBvaW50WzBdLCBsYXN0UG9pbnRbMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbZGF0YVsyXSwgZGF0YVszXV0pO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdDdXJ2ZS5wdXNoKFtkYXRhWzRdLCBkYXRhWzVdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW3N0YXJ0WzBdLCBzdGFydFsxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZFBlbmRpbmdQb2ludHMoKTtcbiAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBzZXRzO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNldCBvZiBzZXRzKSB7XG4gICAgICAgIGNvbnN0IHNpbXBsaWZpZWRTZXQgPSBzaW1wbGlmeShzZXQsIGRpc3RhbmNlKTtcbiAgICAgICAgaWYgKHNpbXBsaWZpZWRTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXQucHVzaChzaW1wbGlmaWVkU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IHsgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7IGRpbWVuc2lvbnNGcm9tUG9pbnRzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAsIHsgZ2V0R3JvdXBBdHRycyB9IGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQge1xuICBFeGNhbGlkcmF3RWxlbWVudEJhc2UsXG4gIEV4Y2FsaWRyYXdSZWN0YW5nbGUsXG4gIEV4Y2FsaWRyYXdFbGxpcHNlLFxuICBFeGNhbGlkcmF3TGluZSxcbiAgRXhjYWxpZHJhd0RyYXcsXG4gIGNyZWF0ZUV4UmVjdCxcbiAgY3JlYXRlRXhFbGxpcHNlLFxuICBjcmVhdGVFeExpbmUsXG4gIGNyZWF0ZUV4RHJhdyxcbiAgUG9pbnQsXG59IGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5pbXBvcnQge1xuICBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMsXG4gIGZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzLFxuICBwb2ludHNBdHRyVG9Qb2ludHMsXG4gIGhhcyxcbiAgZ2V0LFxuICBnZXROdW0sXG59IGZyb20gXCIuL2F0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IGdldFRyYW5zZm9ybU1hdHJpeCwgdHJhbnNmb3JtUG9pbnRzIH0gZnJvbSBcIi4vdHJhbnNmb3JtXCI7XG5pbXBvcnQgeyBwb2ludHNPblBhdGggfSBmcm9tIFwicG9pbnRzLW9uLXBhdGhcIjtcbmltcG9ydCB7IHJhbmRvbUlkLCBnZXRXaW5kaW5nT3JkZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jb25zdCBTVVBQT1JURURfVEFHUyA9IFtcbiAgXCJzdmdcIixcbiAgXCJwYXRoXCIsXG4gIFwiZ1wiLFxuICBcInVzZVwiLFxuICBcImNpcmNsZVwiLFxuICBcImVsbGlwc2VcIixcbiAgXCJyZWN0XCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJwb2x5Z29uXCIsXG5dO1xuXG5jb25zdCBub2RlVmFsaWRhdG9yID0gKG5vZGU6IEVsZW1lbnQpOiBudW1iZXIgPT4ge1xuICBpZiAoU1VQUE9SVEVEX1RBR1MuaW5jbHVkZXMobm9kZS50YWdOYW1lKSkge1xuICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gIH1cblxuICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyZWVXYWxrZXIoZG9tOiBOb2RlKTogVHJlZVdhbGtlciB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvbSwgTm9kZUZpbHRlci5TSE9XX0FMTCwge1xuICAgIGFjY2VwdE5vZGU6IG5vZGVWYWxpZGF0b3IsXG4gIH0pO1xufVxuXG50eXBlIFdhbGtlckFyZ3MgPSB7XG4gIHJvb3Q6IERvY3VtZW50O1xuICB0dzogVHJlZVdhbGtlcjtcbiAgc2NlbmU6IEV4Y2FsaWRyYXdTY2VuZTtcbiAgZ3JvdXBzOiBHcm91cFtdO1xufTtcblxuY29uc3QgcHJlc0F0dHJzID0gKFxuICBlbDogRWxlbWVudCxcbiAgZ3JvdXBzOiBHcm91cFtdLFxuKTogUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgLi4ucHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsKSxcbiAgICAuLi5maWx0ZXJBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gIH07XG59O1xuXG5jb25zdCBza2lwcGVkVXNlQXR0cnMgPSBbXCJpZFwiXTtcbmNvbnN0IGFsbHdheXNQYXNzZWRVc2VBdHRycyA9IFtcbiAgXCJ4XCIsXG4gIFwieVwiLFxuICBcIndpZHRoXCIsXG4gIFwiaGVpZ2h0XCIsXG4gIFwiaHJlZlwiLFxuICBcInhsaW5rOmhyZWZcIixcbl07XG5cbi8qXG4gIFwiTW9zdCBhdHRyaWJ1dGVzIG9uIHVzZSBkbyBub3Qgb3ZlcnJpZGUgdGhvc2UgYWxyZWFkeSBvbiB0aGUgZWxlbWVudFxuICByZWZlcmVuY2VkIGJ5IHVzZS4gKFRoaXMgZGlmZmVycyBmcm9tIGhvdyBDU1Mgc3R5bGUgYXR0cmlidXRlcyBvdmVycmlkZVxuICB0aG9zZSBzZXQgJ2VhcmxpZXInIGluIHRoZSBjYXNjYWRlKS4gT25seSB0aGUgYXR0cmlidXRlcyB4LCB5LCB3aWR0aCxcbiAgaGVpZ2h0IGFuZCBocmVmIG9uIHRoZSB1c2UgZWxlbWVudCB3aWxsIG92ZXJyaWRlIHRob3NlIHNldCBvbiB0aGVcbiAgcmVmZXJlbmNlZCBlbGVtZW50LiBIb3dldmVyLCBhbnkgb3RoZXIgYXR0cmlidXRlcyBub3Qgc2V0IG9uIHRoZSByZWZlcmVuY2VkXG4gIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSB1c2UgZWxlbWVudC5cIlxuXG4gIFNpdHVhdGlvbiAxOiBBdHRyIGlzIHNldCBvbiBkZWZFbCwgTk9UIG9uIHVzZUVsXG4gICAgLSByZXN1bHQ6IHVzZSBkZWZFbCBhdHRyXG4gIFNpdHVhdGlvbiAyOiBBdHRyIGlzIG9uIHVzZUVsLCBOT1Qgb24gZGVmRWxcbiAgICAtIHJlc3VsdDogdXNlIHRoZSB1c2VFbCBhdHRyXG4gIFNpdHVhdGlvbiAzOiBBdHRyIGlzIG9uIGJvdGggdXNlRWwgYW5kIGRlZkVsXG4gICAgLSByZXN1bHQ6IHVzZSB0aGUgZGVmRWwgYXR0ciAoVW5sZXNzIHgsIHksIHdpZHRoLCBoZWlnaHQsIGhyZWYsIHhsaW5rOmhyZWYpXG4qL1xuY29uc3QgZ2V0RGVmRWxXaXRoQ29ycmVjdEF0dHJzID0gKGRlZkVsOiBFbGVtZW50LCB1c2VFbDogRWxlbWVudCk6IEVsZW1lbnQgPT4ge1xuICBjb25zdCBmaW5hbEVsID0gWy4uLnVzZUVsLmF0dHJpYnV0ZXNdLnJlZHVjZSgoZWwsIGF0dHIpID0+IHtcbiAgICBpZiAoc2tpcHBlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gRG9lcyBkZWZFbCBoYXZlIHRoZSBhdHRyPyBJZiBzbywgdXNlIGl0LCBlbHNlIHVzZSB0aGUgdXNlRWwgYXR0clxuICAgIGlmIChcbiAgICAgICFkZWZFbC5oYXNBdHRyaWJ1dGUoYXR0ci5uYW1lKSB8fFxuICAgICAgYWxsd2F5c1Bhc3NlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIubmFtZSlcbiAgICApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIHVzZUVsLmdldEF0dHJpYnV0ZShhdHRyLm5hbWUpIHx8IFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sIGRlZkVsLmNsb25lTm9kZSgpIGFzIEVsZW1lbnQpO1xuXG4gIHJldHVybiBmaW5hbEVsO1xufTtcblxuY29uc3Qgd2Fsa2VycyA9IHtcbiAgc3ZnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IG5leHRBcmdzID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHR3OiBjcmVhdGVUcmVlV2Fsa2VyKGFyZ3MudHcuY3VycmVudE5vZGUpLFxuICAgICAgZ3JvdXBzOiBbLi4uYXJncy5ncm91cHMsIG5ldyBHcm91cChhcmdzLnR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQpXSxcbiAgICB9O1xuXG4gICAgd2FsayhuZXh0QXJncywgbmV4dEFyZ3MudHcubmV4dE5vZGUoKSk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dFNpYmxpbmcoKSk7XG4gIH0sXG5cbiAgdXNlOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgcm9vdCwgdHcsIHNjZW5lIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVzZUVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IGlkID0gdXNlRWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fCB1c2VFbC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5hYmxlIHRvIGdldCBpZCBvZiB1c2UgZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZFbCA9IHJvb3QucXVlcnlTZWxlY3RvcihpZCk7XG5cbiAgICBpZiAoIWRlZkVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuYWJsZSB0byBmaW5kIGRlZiBlbGVtZW50IHdpdGggaWQ6ICR7aWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcFNjZW5lID0gbmV3IEV4Y2FsaWRyYXdTY2VuZSgpO1xuXG4gICAgY29uc3QgZmluYWxFbCA9IGdldERlZkVsV2l0aENvcnJlY3RBdHRycyhkZWZFbCwgdXNlRWwpO1xuXG4gICAgd2FsayhcbiAgICAgIHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgc2NlbmU6IHRlbXBTY2VuZSxcbiAgICAgICAgdHc6IGNyZWF0ZVRyZWVXYWxrZXIoZmluYWxFbCksXG4gICAgICB9LFxuICAgICAgZmluYWxFbCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhFbCA9IHRlbXBTY2VuZS5lbGVtZW50cy5wb3AoKTtcblxuICAgIGlmICghZXhFbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBleCBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2goZXhFbCk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgY2lyY2xlOiAoYXJnczogV2Fsa2VyQXJncyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgciA9IGdldE51bShlbCwgXCJyXCIsIDApO1xuICAgIGNvbnN0IGQgPSByICogMjtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBnZXROdW0oZWwsIFwiY3hcIiwgMCkgLSByO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGdldE51bShlbCwgXCJjeVwiLCAwKSAtIHI7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyhkLCAwLCAwLCAwLCAwLCBkLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGNpcmNsZTogRXhjYWxpZHJhd0VsbGlwc2UgPSB7XG4gICAgICAuLi5jcmVhdGVFeEVsbGlwc2UoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgZ3JvdXBJZHM6IGdyb3Vwcy5tYXAoKGcpID0+IGcuaWQpLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGNpcmNsZSk7XG5cbiAgICB3YWxrKGFyZ3MsIHR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGVsbGlwc2U6IChhcmdzOiBXYWxrZXJBcmdzKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCByeCA9IGdldE51bShlbCwgXCJyeFwiLCAwKTtcbiAgICBjb25zdCByeSA9IGdldE51bShlbCwgXCJyeVwiLCAwKTtcbiAgICBjb25zdCBjeCA9IGdldE51bShlbCwgXCJjeFwiLCAwKTtcbiAgICBjb25zdCBjeSA9IGdldE51bShlbCwgXCJjeVwiLCAwKTtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBjeCAtIHJ4O1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGN5IC0gcnk7XG4gICAgY29uc3QgdyA9IHJ4ICogMjtcbiAgICBjb25zdCBoID0gcnkgKiAyO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyh3LCAwLCAwLCAwLCAwLCBoLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGVsbGlwc2U6IEV4Y2FsaWRyYXdFbGxpcHNlID0ge1xuICAgICAgLi4uY3JlYXRlRXhFbGxpcHNlKCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIGdyb3VwSWRzOiBncm91cHMubWFwKChnKSA9PiBnLmlkKSxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChlbGxpcHNlKTtcblxuICAgIHdhbGsoYXJncywgdHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgbGluZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICAvLyB1bmltcGxlbWVudGVkXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlnb246IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNBdHRyVG9Qb2ludHMoZWwpO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludHMgPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXQpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBvaW50IG5lZWRzIHRvIGJlIDAsIDAsIGFuZCBhbGwgZm9sbG93aW5nIHBvaW50c1xuICAgIC8vIGFyZSByZWxhdGl2ZSB0byB0aGUgZmlyc3QgcG9pbnQuXG4gICAgY29uc3QgeCA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzBdO1xuICAgIGNvbnN0IHkgPSB0cmFuc2Zvcm1lZFBvaW50c1swXVsxXTtcblxuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdHJhbnNmb3JtZWRQb2ludHMubWFwKChbX3gsIF95XSkgPT4gW1xuICAgICAgX3ggLSB4LFxuICAgICAgX3kgLSB5LFxuICAgIF0pO1xuXG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHMocmVsYXRpdmVQb2ludHMpO1xuXG4gICAgY29uc3QgbGluZTogRXhjYWxpZHJhd0xpbmUgPSB7XG4gICAgICAuLi5jcmVhdGVFeExpbmUoKSxcbiAgICAgIC4uLmdldEdyb3VwQXR0cnMoZ3JvdXBzKSxcbiAgICAgIC4uLnByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLmNvbmNhdChbWzAsIDBdXSksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGxpbmUpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlsaW5lOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzQXR0clRvUG9pbnRzKGVsKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFBvaW50cyA9IHRyYW5zZm9ybVBvaW50cyhwb2ludHMsIG1hdCk7XG5cbiAgICAvLyBUaGUgZmlyc3QgcG9pbnQgbmVlZHMgdG8gYmUgMCwgMCwgYW5kIGFsbCBmb2xsb3dpbmcgcG9pbnRzXG4gICAgLy8gYXJlIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCBwb2ludC5cbiAgICBjb25zdCB4ID0gdHJhbnNmb3JtZWRQb2ludHNbMF1bMF07XG4gICAgY29uc3QgeSA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzFdO1xuXG4gICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0cmFuc2Zvcm1lZFBvaW50cy5tYXAoKFtfeCwgX3ldKSA9PiBbXG4gICAgICBfeCAtIHgsXG4gICAgICBfeSAtIHksXG4gICAgXSk7XG5cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyhyZWxhdGl2ZVBvaW50cyk7XG5cbiAgICBjb25zdCBoYXNGaWxsID0gaGFzKGVsLCBcImZpbGxcIik7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgXCJmaWxsXCIpO1xuXG4gICAgY29uc3Qgc2hvdWxkRmlsbCA9ICFoYXNGaWxsIHx8IChoYXNGaWxsICYmIGZpbGwgIT09IFwibm9uZVwiKTtcblxuICAgIGNvbnN0IGxpbmU6IEV4Y2FsaWRyYXdMaW5lID0ge1xuICAgICAgLi4uY3JlYXRlRXhMaW5lKCksXG4gICAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgICAuLi5wcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cy5jb25jYXQoc2hvdWxkRmlsbCA/IFtbMCwgMF1dIDogW10pLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChsaW5lKTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICByZWN0OiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKTtcbiAgICBjb25zdCB3ID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIsIDApO1xuICAgIGNvbnN0IGggPSBnZXROdW0oZWwsIFwiaGVpZ2h0XCIsIDApO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXModywgMCwgMCwgMCwgMCwgaCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICAvKlxuICAgIE5PVEU6IEN1cnJlbnRseSB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSB3YXkgdG8gc3BlY2lmeSB0aGUgYm9yZGVyXG4gICAgICAgICAgcmFkaXVzIG9mIGEgcmVjdCB3aXRoaW4gRXhjYWxpZHJhdy4gVGhpcyBtZWFucyB0aGF0IGF0dHJpYnV0ZXNcbiAgICAgICAgICByeCBhbmQgcnkgY2FuJ3QgYmUgdXNlZC5cbiAgICAqL1xuICAgIGNvbnN0IGlzUm91bmQgPSBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSB8fCBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKTtcblxuICAgIGNvbnN0IHJlY3Q6IEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSB7XG4gICAgICAuLi5jcmVhdGVFeFJlY3QoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgc3Ryb2tlU2hhcnBuZXNzOiBpc1JvdW5kID8gXCJyb3VuZFwiIDogXCJzaGFycFwiLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKHJlY3QpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBhdGg6IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNPblBhdGgoZ2V0KGVsLCBcImRcIikpO1xuXG4gICAgY29uc3QgZmlsbENvbG9yID0gZ2V0KGVsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcbiAgICBjb25zdCBmaWxsUnVsZSA9IGdldChlbCwgXCJmaWxsLXJ1bGVcIiwgXCJub256ZXJvXCIpO1xuXG4gICAgbGV0IGVsZW1lbnRzOiBFeGNhbGlkcmF3RHJhd1tdID0gW107XG4gICAgbGV0IGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuXG4gICAgc3dpdGNoIChmaWxsUnVsZSkge1xuICAgICAgY2FzZSBcIm5vbnplcm9cIjpcbiAgICAgICAgbGV0IGluaXRpYWxXaW5kaW5nT3JkZXIgPSBcImNsb2Nrd2lzZVwiO1xuXG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpbmRpbmdPcmRlciA9IGdldFdpbmRpbmdPcmRlcihyZWxhdGl2ZVBvaW50cyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxXaW5kaW5nT3JkZXIgPSB3aW5kaW5nT3JkZXI7XG4gICAgICAgICAgICAgIGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxXaW5kaW5nT3JkZXIgIT09IHdpbmRpbmdPcmRlcikge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNGRkZGRkZcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uY3JlYXRlRXhEcmF3KCksXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgICAgICAgICAgICBzdHJva2VDb2xvcjogXCIjMDAwMDAwMDBcIixcbiAgICAgICAgICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgICAgICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgICBncm91cElkczogW2xvY2FsR3JvdXBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVub2RkXCI6XG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgbG9jYWxHcm91cCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUV4RHJhdygpLFxuICAgICAgICAgICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICAgICAgICAgIHBvaW50czogcmVsYXRpdmVQb2ludHMsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgc2NlbmUuZWxlbWVudHMgPSBzY2VuZS5lbGVtZW50cy5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgd2FsayhhcmdzLCB0dy5uZXh0Tm9kZSgpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWxrKGFyZ3M6IFdhbGtlckFyZ3MsIG5leHROb2RlOiBOb2RlIHwgbnVsbCk6IHZvaWQge1xuICBpZiAoIW5leHROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgbm9kZU5hbWUgPSBuZXh0Tm9kZS5ub2RlTmFtZSBhcyBrZXlvZiB0eXBlb2Ygd2Fsa2VycztcbiAgaWYgKHdhbGtlcnNbbm9kZU5hbWVdKSB7XG4gICAgd2Fsa2Vyc1tub2RlTmFtZV0oYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZWxlbWVudHMvR3JvdXBcIjtcbmltcG9ydCB7IGNyZWF0ZVRyZWVXYWxrZXIsIHdhbGsgfSBmcm9tIFwiLi93YWxrZXJcIjtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2lvblJlc3VsdCA9IHtcbiAgaGFzRXJyb3JzOiBib29sZWFuO1xuICBlcnJvcnM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsO1xuICBjb250ZW50OiBhbnk7IC8vIFNlcmlhbGl6ZWQgRXhjYWxpZHJhdyBKU09OXG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydCA9IChzdmdTdHJpbmc6IHN0cmluZyk6IENvbnZlcnNpb25SZXN1bHQgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHN2Z0RPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnU3RyaW5nLCBcImltYWdlL3N2Zyt4bWxcIik7XG5cbiAgLy8gd2FzIHRoZXJlIGEgcGFyc2luZyBlcnJvcj9cbiAgY29uc3QgZXJyb3JzRWxlbWVudHMgPSBzdmdET00ucXVlcnlTZWxlY3RvckFsbChcInBhcnNlcmVycm9yXCIpO1xuICBjb25zdCBoYXNFcnJvcnMgPSBlcnJvcnNFbGVtZW50cy5sZW5ndGggPiAwO1xuICBsZXQgY29udGVudCA9IG51bGw7XG5cbiAgaWYgKGhhc0Vycm9ycykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZXJlIHdlcmUgZXJyb3JzIHdoaWxlIHBhcnNpbmcgdGhlIGdpdmVuIFNWRzogXCIsXG4gICAgICBbLi4uZXJyb3JzRWxlbWVudHNdLm1hcCgoZWwpID0+IGVsLmlubmVySFRNTCksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0dyA9IGNyZWF0ZVRyZWVXYWxrZXIoc3ZnRE9NKTtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBFeGNhbGlkcmF3U2NlbmUoKTtcbiAgICBjb25zdCBncm91cHM6IEdyb3VwW10gPSBbXTtcblxuICAgIHdhbGsoeyB0dywgc2NlbmUsIGdyb3Vwcywgcm9vdDogc3ZnRE9NIH0sIHR3Lm5leHROb2RlKCkpO1xuXG4gICAgY29udGVudCA9IHNjZW5lLnRvRXhKU09OKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhhc0Vycm9ycyxcbiAgICBlcnJvcnM6IGhhc0Vycm9ycyA/IGVycm9yc0VsZW1lbnRzIDogbnVsbCxcbiAgICBjb250ZW50LFxuICB9O1xufTtcbiIsImltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwiLi9wYXJzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VyO1xuIl0sIm5hbWVzIjpbIkV4Y2FsaWRyYXdTY2VuZSIsImVsZW1lbnRzIiwibWFwIiwiZWwiLCJSYW5kb20iLCJuYW5vaWQiLCJyYW5kb20iLCJEYXRlIiwibm93IiwicmFuZG9tSW50ZWdlciIsIk1hdGgiLCJmbG9vciIsIm5leHQiLCJyYW5kb21JZCIsInNhZmVOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZGltZW5zaW9uc0Zyb21Qb2ludHMiLCJwb2ludHMiLCJ4Q29vcmRzIiwieCIsInlDb29yZHMiLCJ5IiwibWluWCIsIm1pbiIsIm1pblkiLCJtYXhYIiwibWF4IiwibWF4WSIsImdldFdpbmRpbmdPcmRlciIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiaWR4IiwiYXJyIiwieDEiLCJ5MSIsInAyIiwieDIiLCJ5MiIsImUiLCJjaHJvbWEiLCJoZXhXaXRoQWxwaGEiLCJjb2xvciIsImFscGhhIiwiY3NzIiwiaGFzIiwiYXR0ciIsImhhc0F0dHJpYnV0ZSIsImdldCIsImJhY2t1cCIsImdldEF0dHJpYnV0ZSIsImdldE51bSIsIm51bVZhbCIsIk5hTiIsInByZXNBdHRycyIsInN0cm9rZSIsImZpbGwiLCJvcGFjaXR5IiwiYXR0ckhhbmRsZXJzIiwiZXhWYWxzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImJhY2tncm91bmRDb2xvciIsInByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyIsImF0dHJpYnV0ZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMiLCJmaWx0ZXJWYWxzIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludHNBdHRyVG9Qb2ludHMiLCJzcGxpdCIsInAiLCJwYXJzZUZsb2F0IiwiZ2V0R3JvdXBBdHRycyIsImdyb3VwcyIsImVsZW1lbnQiLCJlbFZhbHMiLCJHcm91cCIsImNyZWF0ZUV4RWxlbWVudCIsImlkIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VTaGFycG5lc3MiLCJyb3VnaG5lc3MiLCJhbmdsZSIsInNlZWQiLCJ2ZXJzaW9uIiwidmVyc2lvbk5vbmNlIiwiaXNEZWxldGVkIiwiZ3JvdXBJZHMiLCJib3VuZEVsZW1lbnRJZHMiLCJjcmVhdGVFeFJlY3QiLCJ0eXBlIiwiY3JlYXRlRXhMaW5lIiwiY3JlYXRlRXhFbGxpcHNlIiwiY3JlYXRlRXhEcmF3IiwidmVjMyIsIm1hdDQiLCJ0cmFuc2Zvcm1GdW5jdGlvbnMiLCJtYXRyaXgiLCJtYXRyaXgzZCIsInBlcnNwZWN0aXZlIiwicm90YXRlIiwicm90YXRlM2QiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZSIsInNjYWxlM2QiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJza2V3Iiwic2tld1giLCJza2V3WSIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZTNkIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwidHJhbnNmb3JtRnVuY3Rpb25zQXJyIiwiZGVmYXVsdFVuaXRzIiwic3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0iLCJzdmdUcmFuc2Zvcm1TdHIiLCJ0RnVuY3MiLCJtYXRjaCIsInRGdW5jVmFsdWVzIiwidEZ1bmNTdHIiLCJFcnJvciIsInRGdW5jUGFydHMiLCJ2YWx1ZXMiLCJhIiwibWF0Y2hBbGwiLCJ2YWx1ZSIsInVuaXQiLCJsZW5ndGgiLCJjc3N0cmFuc2Zvcm1TdHIiLCJ2YWxTdHIiLCJqb2luIiwiY3JlYXRlRE9NTWF0cml4RnJvbVNWR1N0ciIsImNzc1RyYW5zZm9ybVN0ciIsIkRPTU1hdHJpeCIsImdldEVsZW1lbnRNYXRyaXgiLCJlbE1hdCIsIm11bHRpcGx5IiwiY3JlYXRlIiwidG9GbG9hdDMyQXJyYXkiLCJnZXRUcmFuc2Zvcm1NYXRyaXgiLCJhY2N1bU1hdCIsImNvbmNhdCIsIm1hdCIsInRyYW5zZm9ybVBvaW50cyIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU1hdDQiLCJmcm9tVmFsdWVzIiwibmV3WCIsIm5ld1kiLCJwb2ludHNPblBhdGgiLCJTVVBQT1JURURfVEFHUyIsIm5vZGVWYWxpZGF0b3IiLCJub2RlIiwidGFnTmFtZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJkb20iLCJkb2N1bWVudCIsIlNIT1dfQUxMIiwiYWNjZXB0Tm9kZSIsInNraXBwZWRVc2VBdHRycyIsImFsbHdheXNQYXNzZWRVc2VBdHRycyIsImdldERlZkVsV2l0aENvcnJlY3RBdHRycyIsImRlZkVsIiwidXNlRWwiLCJmaW5hbEVsIiwic2V0QXR0cmlidXRlIiwiY2xvbmVOb2RlIiwid2Fsa2VycyIsInN2ZyIsImFyZ3MiLCJ3YWxrIiwidHciLCJuZXh0Tm9kZSIsImciLCJuZXh0QXJncyIsImN1cnJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJ1c2UiLCJyb290Iiwic2NlbmUiLCJxdWVyeVNlbGVjdG9yIiwidGVtcFNjZW5lIiwiZXhFbCIsInBvcCIsInB1c2giLCJjaXJjbGUiLCJyIiwiZCIsIm0iLCJyZXN1bHQiLCJlbGxpcHNlIiwicngiLCJyeSIsImN4IiwiY3kiLCJ3IiwiaCIsImxpbmUiLCJwb2x5Z29uIiwidHJhbnNmb3JtZWRQb2ludHMiLCJyZWxhdGl2ZVBvaW50cyIsIl94IiwiX3kiLCJwb2x5bGluZSIsImhhc0ZpbGwiLCJzaG91bGRGaWxsIiwicmVjdCIsImlzUm91bmQiLCJwYXRoIiwiZmlsbENvbG9yIiwiZmlsbFJ1bGUiLCJsb2NhbEdyb3VwIiwiaW5pdGlhbFdpbmRpbmdPcmRlciIsInBvaW50QXJyIiwidFBvaW50cyIsImNsb25lIiwid2luZGluZ09yZGVyIiwibm9kZU5hbWUiLCJjb252ZXJ0Iiwic3ZnU3RyaW5nIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwic3ZnRE9NIiwicGFyc2VGcm9tU3RyaW5nIiwiZXJyb3JzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFzRXJyb3JzIiwiY29udGVudCIsImNvbnNvbGUiLCJlcnJvciIsImlubmVySFRNTCIsInRvRXhKU09OIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///773
`)},792:function(module){eval(`/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

(function (global, factory) {
     true ? module.exports = factory() :
    0;
}(this, (function () { 'use strict';

    var limit = function (x, min, max) {
        if ( min === void 0 ) min=0;
        if ( max === void 0 ) max=1;

        return x < min ? min : x > max ? max : x;
    };

    var clip_rgb = function (rgb) {
        rgb._clipped = false;
        rgb._unclipped = rgb.slice(0);
        for (var i=0; i<=3; i++) {
            if (i < 3) {
                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }
                rgb[i] = limit(rgb[i], 0, 255);
            } else if (i === 3) {
                rgb[i] = limit(rgb[i], 0, 1);
            }
        }
        return rgb;
    };

    // ported from jQuery's $.type
    var classToType = {};
    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {
        var name = list[i];

        classToType[("[object " + name + "]")] = name.toLowerCase();
    }
    var type = function(obj) {
        return classToType[Object.prototype.toString.call(obj)] || "object";
    };

    var unpack = function (args, keyOrder) {
        if ( keyOrder === void 0 ) keyOrder=null;

    	// if called with more than 3 arguments, we return the arguments
        if (args.length >= 3) { return Array.prototype.slice.call(args); }
        // with less than 3 args we check if first arg is object
        // and use the keyOrder string to extract and sort properties
    	if (type(args[0]) == 'object' && keyOrder) {
    		return keyOrder.split('')
    			.filter(function (k) { return args[0][k] !== undefined; })
    			.map(function (k) { return args[0][k]; });
    	}
    	// otherwise we just return the first argument
    	// (which we suppose is an array of args)
        return args[0];
    };

    var last = function (args) {
        if (args.length < 2) { return null; }
        var l = args.length-1;
        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }
        return null;
    };

    var PI = Math.PI;

    var utils = {
    	clip_rgb: clip_rgb,
    	limit: limit,
    	type: type,
    	unpack: unpack,
    	last: last,
    	PI: PI,
    	TWOPI: PI*2,
    	PITHIRD: PI/3,
    	DEG2RAD: PI / 180,
    	RAD2DEG: 180 / PI
    };

    var input = {
    	format: {},
    	autodetect: []
    };

    var last$1 = utils.last;
    var clip_rgb$1 = utils.clip_rgb;
    var type$1 = utils.type;


    var Color = function Color() {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var me = this;
        if (type$1(args[0]) === 'object' &&
            args[0].constructor &&
            args[0].constructor === this.constructor) {
            // the argument is already a Color instance
            return args[0];
        }

        // last argument could be the mode
        var mode = last$1(args);
        var autodetect = false;

        if (!mode) {
            autodetect = true;
            if (!input.sorted) {
                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });
                input.sorted = true;
            }
            // auto-detect format
            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {
                var chk = list[i];

                mode = chk.test.apply(chk, args);
                if (mode) { break; }
            }
        }

        if (input.format[mode]) {
            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));
            me._rgb = clip_rgb$1(rgb);
        } else {
            throw new Error('unknown format: '+args);
        }

        // add alpha channel
        if (me._rgb.length === 3) { me._rgb.push(1); }
    };

    Color.prototype.toString = function toString () {
        if (type$1(this.hex) == 'function') { return this.hex(); }
        return ("[" + (this._rgb.join(',')) + "]");
    };

    var Color_1 = Color;

    var chroma = function () {
    	var args = [], len = arguments.length;
    	while ( len-- ) args[ len ] = arguments[ len ];

    	return new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));
    };

    chroma.Color = Color_1;
    chroma.version = '2.1.2';

    var chroma_1 = chroma;

    var unpack$1 = utils.unpack;
    var max = Math.max;

    var rgb2cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$1(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r = r / 255;
        g = g / 255;
        b = b / 255;
        var k = 1 - max(r,max(g,b));
        var f = k < 1 ? 1 / (1-k) : 0;
        var c = (1-r-k) * f;
        var m = (1-g-k) * f;
        var y = (1-b-k) * f;
        return [c,m,y,k];
    };

    var rgb2cmyk_1 = rgb2cmyk;

    var unpack$2 = utils.unpack;

    var cmyk2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$2(args, 'cmyk');
        var c = args[0];
        var m = args[1];
        var y = args[2];
        var k = args[3];
        var alpha = args.length > 4 ? args[4] : 1;
        if (k === 1) { return [0,0,0,alpha]; }
        return [
            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r
            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g
            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b
            alpha
        ];
    };

    var cmyk2rgb_1 = cmyk2rgb;

    var unpack$3 = utils.unpack;
    var type$2 = utils.type;



    Color_1.prototype.cmyk = function() {
        return rgb2cmyk_1(this._rgb);
    };

    chroma_1.cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));
    };

    input.format.cmyk = cmyk2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$3(args, 'cmyk');
            if (type$2(args) === 'array' && args.length === 4) {
                return 'cmyk';
            }
        }
    });

    var unpack$4 = utils.unpack;
    var last$2 = utils.last;
    var rnd = function (a) { return Math.round(a*100)/100; };

    /*
     * supported arguments:
     * - hsl2css(h,s,l)
     * - hsl2css(h,s,l,a)
     * - hsl2css([h,s,l], mode)
     * - hsl2css([h,s,l,a], mode)
     * - hsl2css({h,s,l,a}, mode)
     */
    var hsl2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hsla = unpack$4(args, 'hsla');
        var mode = last$2(args) || 'lsa';
        hsla[0] = rnd(hsla[0] || 0);
        hsla[1] = rnd(hsla[1]*100) + '%';
        hsla[2] = rnd(hsla[2]*100) + '%';
        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {
            hsla[3] = hsla.length > 3 ? hsla[3] : 1;
            mode = 'hsla';
        } else {
            hsla.length = 3;
        }
        return (mode + "(" + (hsla.join(',')) + ")");
    };

    var hsl2css_1 = hsl2css;

    var unpack$5 = utils.unpack;

    /*
     * supported arguments:
     * - rgb2hsl(r,g,b)
     * - rgb2hsl(r,g,b,a)
     * - rgb2hsl([r,g,b])
     * - rgb2hsl([r,g,b,a])
     * - rgb2hsl({r,g,b,a})
     */
    var rgb2hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$5(args, 'rgba');
        var r = args[0];
        var g = args[1];
        var b = args[2];

        r /= 255;
        g /= 255;
        b /= 255;

        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);

        var l = (max + min) / 2;
        var s, h;

        if (max === min){
            s = 0;
            h = Number.NaN;
        } else {
            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
        }

        if (r == max) { h = (g - b) / (max - min); }
        else if (g == max) { h = 2 + (b - r) / (max - min); }
        else if (b == max) { h = 4 + (r - g) / (max - min); }

        h *= 60;
        if (h < 0) { h += 360; }
        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }
        return [h,s,l];
    };

    var rgb2hsl_1 = rgb2hsl;

    var unpack$6 = utils.unpack;
    var last$3 = utils.last;


    var round = Math.round;

    /*
     * supported arguments:
     * - rgb2css(r,g,b)
     * - rgb2css(r,g,b,a)
     * - rgb2css([r,g,b], mode)
     * - rgb2css([r,g,b,a], mode)
     * - rgb2css({r,g,b,a}, mode)
     */
    var rgb2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$6(args, 'rgba');
        var mode = last$3(args) || 'rgb';
        if (mode.substr(0,3) == 'hsl') {
            return hsl2css_1(rgb2hsl_1(rgba), mode);
        }
        rgba[0] = round(rgba[0]);
        rgba[1] = round(rgba[1]);
        rgba[2] = round(rgba[2]);
        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {
            rgba[3] = rgba.length > 3 ? rgba[3] : 1;
            mode = 'rgba';
        }
        return (mode + "(" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + ")");
    };

    var rgb2css_1 = rgb2css;

    var unpack$7 = utils.unpack;
    var round$1 = Math.round;

    var hsl2rgb = function () {
        var assign;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$7(args, 'hsl');
        var h = args[0];
        var s = args[1];
        var l = args[2];
        var r,g,b;
        if (s === 0) {
            r = g = b = l*255;
        } else {
            var t3 = [0,0,0];
            var c = [0,0,0];
            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;
            var t1 = 2 * l - t2;
            var h_ = h / 360;
            t3[0] = h_ + 1/3;
            t3[1] = h_;
            t3[2] = h_ - 1/3;
            for (var i=0; i<3; i++) {
                if (t3[i] < 0) { t3[i] += 1; }
                if (t3[i] > 1) { t3[i] -= 1; }
                if (6 * t3[i] < 1)
                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }
                else if (2 * t3[i] < 1)
                    { c[i] = t2; }
                else if (3 * t3[i] < 2)
                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }
                else
                    { c[i] = t1; }
            }
            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);
        }
        if (args.length > 3) {
            // keep alpha channel
            return [r,g,b,args[3]];
        }
        return [r,g,b,1];
    };

    var hsl2rgb_1 = hsl2rgb;

    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;
    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;

    var round$2 = Math.round;

    var css2rgb = function (css) {
        css = css.toLowerCase().trim();
        var m;

        if (input.format.named) {
            try {
                return input.format.named(css);
            } catch (e) {
                // eslint-disable-next-line
            }
        }

        // rgb(250,20,0)
        if ((m = css.match(RE_RGB))) {
            var rgb = m.slice(1,4);
            for (var i=0; i<3; i++) {
                rgb[i] = +rgb[i];
            }
            rgb[3] = 1;  // default alpha
            return rgb;
        }

        // rgba(250,20,0,0.4)
        if ((m = css.match(RE_RGBA))) {
            var rgb$1 = m.slice(1,5);
            for (var i$1=0; i$1<4; i$1++) {
                rgb$1[i$1] = +rgb$1[i$1];
            }
            return rgb$1;
        }

        // rgb(100%,0%,0%)
        if ((m = css.match(RE_RGB_PCT))) {
            var rgb$2 = m.slice(1,4);
            for (var i$2=0; i$2<3; i$2++) {
                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);
            }
            rgb$2[3] = 1;  // default alpha
            return rgb$2;
        }

        // rgba(100%,0%,0%,0.4)
        if ((m = css.match(RE_RGBA_PCT))) {
            var rgb$3 = m.slice(1,5);
            for (var i$3=0; i$3<3; i$3++) {
                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);
            }
            rgb$3[3] = +rgb$3[3];
            return rgb$3;
        }

        // hsl(0,100%,50%)
        if ((m = css.match(RE_HSL))) {
            var hsl = m.slice(1,4);
            hsl[1] *= 0.01;
            hsl[2] *= 0.01;
            var rgb$4 = hsl2rgb_1(hsl);
            rgb$4[3] = 1;
            return rgb$4;
        }

        // hsla(0,100%,50%,0.5)
        if ((m = css.match(RE_HSLA))) {
            var hsl$1 = m.slice(1,4);
            hsl$1[1] *= 0.01;
            hsl$1[2] *= 0.01;
            var rgb$5 = hsl2rgb_1(hsl$1);
            rgb$5[3] = +m[4];  // default alpha = 1
            return rgb$5;
        }
    };

    css2rgb.test = function (s) {
        return RE_RGB.test(s) ||
            RE_RGBA.test(s) ||
            RE_RGB_PCT.test(s) ||
            RE_RGBA_PCT.test(s) ||
            RE_HSL.test(s) ||
            RE_HSLA.test(s);
    };

    var css2rgb_1 = css2rgb;

    var type$3 = utils.type;




    Color_1.prototype.css = function(mode) {
        return rgb2css_1(this._rgb, mode);
    };

    chroma_1.css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));
    };

    input.format.css = css2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {
                return 'css';
            }
        }
    });

    var unpack$8 = utils.unpack;

    input.format.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$8(args, 'rgba');
        rgb[0] *= 255;
        rgb[1] *= 255;
        rgb[2] *= 255;
        return rgb;
    };

    chroma_1.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));
    };

    Color_1.prototype.gl = function() {
        var rgb = this._rgb;
        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];
    };

    var unpack$9 = utils.unpack;

    var rgb2hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$9(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var c = delta * 100 / 255;
        var _g = min / (255 - delta) * 100;
        var h;
        if (delta === 0) {
            h = Number.NaN;
        } else {
            if (r === max) { h = (g - b) / delta; }
            if (g === max) { h = 2+(b - r) / delta; }
            if (b === max) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, c, _g];
    };

    var rgb2hcg_1 = rgb2hcg;

    var unpack$a = utils.unpack;
    var floor = Math.floor;

    /*
     * this is basically just HSV with some minor tweaks
     *
     * hue.. [0..360]
     * chroma .. [0..1]
     * grayness .. [0..1]
     */

    var hcg2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$a(args, 'hcg');
        var h = args[0];
        var c = args[1];
        var _g = args[2];
        var r,g,b;
        _g = _g * 255;
        var _c = c * 255;
        if (c === 0) {
            r = g = b = _g;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;
            var i = floor(h);
            var f = h - i;
            var p = _g * (1 - c);
            var q = p + _c * (1 - f);
            var t = p + _c * f;
            var v = p + _c;
            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var hcg2rgb_1 = hcg2rgb;

    var unpack$b = utils.unpack;
    var type$4 = utils.type;






    Color_1.prototype.hcg = function() {
        return rgb2hcg_1(this._rgb);
    };

    chroma_1.hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));
    };

    input.format.hcg = hcg2rgb_1;

    input.autodetect.push({
        p: 1,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$b(args, 'hcg');
            if (type$4(args) === 'array' && args.length === 3) {
                return 'hcg';
            }
        }
    });

    var unpack$c = utils.unpack;
    var last$4 = utils.last;
    var round$3 = Math.round;

    var rgb2hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$c(args, 'rgba');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var a = ref[3];
        var mode = last$4(args) || 'auto';
        if (a === undefined) { a = 1; }
        if (mode === 'auto') {
            mode = a < 1 ? 'rgba' : 'rgb';
        }
        r = round$3(r);
        g = round$3(g);
        b = round$3(b);
        var u = r << 16 | g << 8 | b;
        var str = "000000" + u.toString(16); //#.toUpperCase();
        str = str.substr(str.length - 6);
        var hxa = '0' + round$3(a * 255).toString(16);
        hxa = hxa.substr(hxa.length - 2);
        switch (mode.toLowerCase()) {
            case 'rgba': return ("#" + str + hxa);
            case 'argb': return ("#" + hxa + str);
            default: return ("#" + str);
        }
    };

    var rgb2hex_1 = rgb2hex;

    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;
    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;

    var hex2rgb = function (hex) {
        if (hex.match(RE_HEX)) {
            // remove optional leading #
            if (hex.length === 4 || hex.length === 7) {
                hex = hex.substr(1);
            }
            // expand short-notation to full six-digit
            if (hex.length === 3) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            }
            var u = parseInt(hex, 16);
            var r = u >> 16;
            var g = u >> 8 & 0xFF;
            var b = u & 0xFF;
            return [r,g,b,1];
        }

        // match rgba hex format, eg #FF000077
        if (hex.match(RE_HEXA)) {
            if (hex.length === 5 || hex.length === 9) {
                // remove optional leading #
                hex = hex.substr(1);
            }
            // expand short-notation to full eight-digit
            if (hex.length === 4) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];
            }
            var u$1 = parseInt(hex, 16);
            var r$1 = u$1 >> 24 & 0xFF;
            var g$1 = u$1 >> 16 & 0xFF;
            var b$1 = u$1 >> 8 & 0xFF;
            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;
            return [r$1,g$1,b$1,a];
        }

        // we used to check for css colors here
        // if _input.css? and rgb = _input.css hex
        //     return rgb

        throw new Error(("unknown hex color: " + hex));
    };

    var hex2rgb_1 = hex2rgb;

    var type$5 = utils.type;




    Color_1.prototype.hex = function(mode) {
        return rgb2hex_1(this._rgb, mode);
    };

    chroma_1.hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));
    };

    input.format.hex = hex2rgb_1;
    input.autodetect.push({
        p: 4,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {
                return 'hex';
            }
        }
    });

    var unpack$d = utils.unpack;
    var TWOPI = utils.TWOPI;
    var min = Math.min;
    var sqrt = Math.sqrt;
    var acos = Math.acos;

    var rgb2hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp
        */
        var ref = unpack$d(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r /= 255;
        g /= 255;
        b /= 255;
        var h;
        var min_ = min(r,g,b);
        var i = (r+g+b) / 3;
        var s = i > 0 ? 1 - min_/i : 0;
        if (s === 0) {
            h = NaN;
        } else {
            h = ((r-g)+(r-b)) / 2;
            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));
            h = acos(h);
            if (b > g) {
                h = TWOPI - h;
            }
            h /= TWOPI;
        }
        return [h*360,s,i];
    };

    var rgb2hsi_1 = rgb2hsi;

    var unpack$e = utils.unpack;
    var limit$1 = utils.limit;
    var TWOPI$1 = utils.TWOPI;
    var PITHIRD = utils.PITHIRD;
    var cos = Math.cos;

    /*
     * hue [0..360]
     * saturation [0..1]
     * intensity [0..1]
     */
    var hsi2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp
        */
        args = unpack$e(args, 'hsi');
        var h = args[0];
        var s = args[1];
        var i = args[2];
        var r,g,b;

        if (isNaN(h)) { h = 0; }
        if (isNaN(s)) { s = 0; }
        // normalize hue
        if (h > 360) { h -= 360; }
        if (h < 0) { h += 360; }
        h /= 360;
        if (h < 1/3) {
            b = (1-s)/3;
            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            g = 1 - (b+r);
        } else if (h < 2/3) {
            h -= 1/3;
            r = (1-s)/3;
            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            b = 1 - (r+g);
        } else {
            h -= 2/3;
            g = (1-s)/3;
            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            r = 1 - (g+b);
        }
        r = limit$1(i*r*3);
        g = limit$1(i*g*3);
        b = limit$1(i*b*3);
        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];
    };

    var hsi2rgb_1 = hsi2rgb;

    var unpack$f = utils.unpack;
    var type$6 = utils.type;






    Color_1.prototype.hsi = function() {
        return rgb2hsi_1(this._rgb);
    };

    chroma_1.hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));
    };

    input.format.hsi = hsi2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$f(args, 'hsi');
            if (type$6(args) === 'array' && args.length === 3) {
                return 'hsi';
            }
        }
    });

    var unpack$g = utils.unpack;
    var type$7 = utils.type;






    Color_1.prototype.hsl = function() {
        return rgb2hsl_1(this._rgb);
    };

    chroma_1.hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));
    };

    input.format.hsl = hsl2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$g(args, 'hsl');
            if (type$7(args) === 'array' && args.length === 3) {
                return 'hsl';
            }
        }
    });

    var unpack$h = utils.unpack;
    var min$1 = Math.min;
    var max$1 = Math.max;

    /*
     * supported arguments:
     * - rgb2hsv(r,g,b)
     * - rgb2hsv([r,g,b])
     * - rgb2hsv({r,g,b})
     */
    var rgb2hsl$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$h(args, 'rgb');
        var r = args[0];
        var g = args[1];
        var b = args[2];
        var min_ = min$1(r, g, b);
        var max_ = max$1(r, g, b);
        var delta = max_ - min_;
        var h,s,v;
        v = max_ / 255.0;
        if (max_ === 0) {
            h = Number.NaN;
            s = 0;
        } else {
            s = delta / max_;
            if (r === max_) { h = (g - b) / delta; }
            if (g === max_) { h = 2+(b - r) / delta; }
            if (b === max_) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, s, v]
    };

    var rgb2hsv = rgb2hsl$1;

    var unpack$i = utils.unpack;
    var floor$1 = Math.floor;

    var hsv2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$i(args, 'hsv');
        var h = args[0];
        var s = args[1];
        var v = args[2];
        var r,g,b;
        v *= 255;
        if (s === 0) {
            r = g = b = v;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;

            var i = floor$1(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r,g,b,args.length > 3?args[3]:1];
    };

    var hsv2rgb_1 = hsv2rgb;

    var unpack$j = utils.unpack;
    var type$8 = utils.type;






    Color_1.prototype.hsv = function() {
        return rgb2hsv(this._rgb);
    };

    chroma_1.hsv = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));
    };

    input.format.hsv = hsv2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$j(args, 'hsv');
            if (type$8(args) === 'array' && args.length === 3) {
                return 'hsv';
            }
        }
    });

    var labConstants = {
        // Corresponds roughly to RGB brighter/darker
        Kn: 18,

        // D65 standard referent
        Xn: 0.950470,
        Yn: 1,
        Zn: 1.088830,

        t0: 0.137931034,  // 4 / 29
        t1: 0.206896552,  // 6 / 29
        t2: 0.12841855,   // 3 * t1 * t1
        t3: 0.008856452,  // t1 * t1 * t1
    };

    var unpack$k = utils.unpack;
    var pow = Math.pow;

    var rgb2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$k(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2xyz(r,g,b);
        var x = ref$1[0];
        var y = ref$1[1];
        var z = ref$1[2];
        var l = 116 * y - 16;
        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];
    };

    var rgb_xyz = function (r) {
        if ((r /= 255) <= 0.04045) { return r / 12.92; }
        return pow((r + 0.055) / 1.055, 2.4);
    };

    var xyz_lab = function (t) {
        if (t > labConstants.t3) { return pow(t, 1 / 3); }
        return t / labConstants.t2 + labConstants.t0;
    };

    var rgb2xyz = function (r,g,b) {
        r = rgb_xyz(r);
        g = rgb_xyz(g);
        b = rgb_xyz(b);
        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);
        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);
        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);
        return [x,y,z];
    };

    var rgb2lab_1 = rgb2lab;

    var unpack$l = utils.unpack;
    var pow$1 = Math.pow;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var lab2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$l(args, 'lab');
        var l = args[0];
        var a = args[1];
        var b = args[2];
        var x,y,z, r,g,b_;

        y = (l + 16) / 116;
        x = isNaN(a) ? y : y + a / 500;
        z = isNaN(b) ? y : y - b / 200;

        y = labConstants.Yn * lab_xyz(y);
        x = labConstants.Xn * lab_xyz(x);
        z = labConstants.Zn * lab_xyz(z);

        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB
        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);
        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);

        return [r,g,b_,args.length > 3 ? args[3] : 1];
    };

    var xyz_rgb = function (r) {
        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)
    };

    var lab_xyz = function (t) {
        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)
    };

    var lab2rgb_1 = lab2rgb;

    var unpack$m = utils.unpack;
    var type$9 = utils.type;






    Color_1.prototype.lab = function() {
        return rgb2lab_1(this._rgb);
    };

    chroma_1.lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));
    };

    input.format.lab = lab2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$m(args, 'lab');
            if (type$9(args) === 'array' && args.length === 3) {
                return 'lab';
            }
        }
    });

    var unpack$n = utils.unpack;
    var RAD2DEG = utils.RAD2DEG;
    var sqrt$1 = Math.sqrt;
    var atan2 = Math.atan2;
    var round$4 = Math.round;

    var lab2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$n(args, 'lab');
        var l = ref[0];
        var a = ref[1];
        var b = ref[2];
        var c = sqrt$1(a * a + b * b);
        var h = (atan2(b, a) * RAD2DEG + 360) % 360;
        if (round$4(c*10000) === 0) { h = Number.NaN; }
        return [l, c, h];
    };

    var lab2lch_1 = lab2lch;

    var unpack$o = utils.unpack;



    var rgb2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$o(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2lab_1(r,g,b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch_1(l,a,b_);
    };

    var rgb2lch_1 = rgb2lch;

    var unpack$p = utils.unpack;
    var DEG2RAD = utils.DEG2RAD;
    var sin = Math.sin;
    var cos$1 = Math.cos;

    var lch2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.
        These formulas were invented by David Dalrymple to obtain maximum contrast without going
        out of gamut if the parameters are in the range 0-1.

        A saturation multiplier was added by Gregor Aisch
        */
        var ref = unpack$p(args, 'lch');
        var l = ref[0];
        var c = ref[1];
        var h = ref[2];
        if (isNaN(h)) { h = 0; }
        h = h * DEG2RAD;
        return [l, cos$1(h) * c, sin(h) * c]
    };

    var lch2lab_1 = lch2lab;

    var unpack$q = utils.unpack;



    var lch2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$q(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab_1 (l,c,h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = lab2rgb_1 (L,a,b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var lch2rgb_1 = lch2rgb;

    var unpack$r = utils.unpack;


    var hcl2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hcl = unpack$r(args, 'hcl').reverse();
        return lch2rgb_1.apply(void 0, hcl);
    };

    var hcl2rgb_1 = hcl2rgb;

    var unpack$s = utils.unpack;
    var type$a = utils.type;






    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };
    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };

    chroma_1.lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));
    };
    chroma_1.hcl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));
    };

    input.format.lch = lch2rgb_1;
    input.format.hcl = hcl2rgb_1;

    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$s(args, m);
            if (type$a(args) === 'array' && args.length === 3) {
                return m;
            }
        }
    }); });

    /**
    	X11 color names

    	http://www.w3.org/TR/css3-color/#svg-color
    */

    var w3cx11 = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflower: '#6495ed',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        gold: '#ffd700',
        goldenrod: '#daa520',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        laserlemon: '#ffff54',
        lavender: '#e6e6fa',
        lavenderblush: '#fff0f5',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrod: '#fafad2',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        maroon2: '#7f0000',
        maroon3: '#b03060',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        purple2: '#7f007f',
        purple3: '#a020f0',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32'
    };

    var w3cx11_1 = w3cx11;

    var type$b = utils.type;





    Color_1.prototype.name = function() {
        var hex = rgb2hex_1(this._rgb, 'rgb');
        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {
            var n = list[i];

            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }
        }
        return hex;
    };

    input.format.named = function (name) {
        name = name.toLowerCase();
        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }
        throw new Error('unknown color name: '+name);
    };

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {
                return 'named';
            }
        }
    });

    var unpack$t = utils.unpack;

    var rgb2num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$t(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        return (r << 16) + (g << 8) + b;
    };

    var rgb2num_1 = rgb2num;

    var type$c = utils.type;

    var num2rgb = function (num) {
        if (type$c(num) == "number" && num >= 0 && num <= 0xFFFFFF) {
            var r = num >> 16;
            var g = (num >> 8) & 0xFF;
            var b = num & 0xFF;
            return [r,g,b,1];
        }
        throw new Error("unknown num color: "+num);
    };

    var num2rgb_1 = num2rgb;

    var type$d = utils.type;



    Color_1.prototype.num = function() {
        return rgb2num_1(this._rgb);
    };

    chroma_1.num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));
    };

    input.format.num = num2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {
                return 'num';
            }
        }
    });

    var unpack$u = utils.unpack;
    var type$e = utils.type;
    var round$5 = Math.round;

    Color_1.prototype.rgb = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        if (rnd === false) { return this._rgb.slice(0,3); }
        return this._rgb.slice(0,3).map(round$5);
    };

    Color_1.prototype.rgba = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        return this._rgb.slice(0,4).map(function (v,i) {
            return i<3 ? (rnd === false ? v : round$5(v)) : v;
        });
    };

    chroma_1.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));
    };

    input.format.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$u(args, 'rgba');
        if (rgba[3] === undefined) { rgba[3] = 1; }
        return rgba;
    };

    input.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$u(args, 'rgba');
            if (type$e(args) === 'array' && (args.length === 3 ||
                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {
                return 'rgb';
            }
        }
    });

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     */

    var log = Math.log;

    var temperature2rgb = function (kelvin) {
        var temp = kelvin / 100;
        var r,g,b;
        if (temp < 66) {
            r = 255;
            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);
            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);
        } else {
            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);
            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);
            b = 255;
        }
        return [r,g,b,1];
    };

    var temperature2rgb_1 = temperature2rgb;

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     **/


    var unpack$v = utils.unpack;
    var round$6 = Math.round;

    var rgb2temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$v(args, 'rgb');
        var r = rgb[0], b = rgb[2];
        var minTemp = 1000;
        var maxTemp = 40000;
        var eps = 0.4;
        var temp;
        while (maxTemp - minTemp > eps) {
            temp = (maxTemp + minTemp) * 0.5;
            var rgb$1 = temperature2rgb_1(temp);
            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {
                maxTemp = temp;
            } else {
                minTemp = temp;
            }
        }
        return round$6(temp);
    };

    var rgb2temperature_1 = rgb2temperature;

    Color_1.prototype.temp =
    Color_1.prototype.kelvin =
    Color_1.prototype.temperature = function() {
        return rgb2temperature_1(this._rgb);
    };

    chroma_1.temp =
    chroma_1.kelvin =
    chroma_1.temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));
    };

    input.format.temp =
    input.format.kelvin =
    input.format.temperature = temperature2rgb_1;

    var type$f = utils.type;

    Color_1.prototype.alpha = function(a, mutate) {
        if ( mutate === void 0 ) mutate=false;

        if (a !== undefined && type$f(a) === 'number') {
            if (mutate) {
                this._rgb[3] = a;
                return this;
            }
            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');
        }
        return this._rgb[3];
    };

    Color_1.prototype.clipped = function() {
        return this._rgb._clipped || false;
    };

    Color_1.prototype.darken = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lab = me.lab();
    	lab[0] -= labConstants.Kn * amount;
    	return new Color_1(lab, 'lab').alpha(me.alpha(), true);
    };

    Color_1.prototype.brighten = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.darken(-amount);
    };

    Color_1.prototype.darker = Color_1.prototype.darken;
    Color_1.prototype.brighter = Color_1.prototype.brighten;

    Color_1.prototype.get = function(mc) {
        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) { return src[i]; }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var type$g = utils.type;
    var pow$2 = Math.pow;

    var EPS = 1e-7;
    var MAX_ITER = 20;

    Color_1.prototype.luminance = function(lum) {
        if (lum !== undefined && type$g(lum) === 'number') {
            if (lum === 0) {
                // return pure black
                return new Color_1([0,0,0,this._rgb[3]], 'rgb');
            }
            if (lum === 1) {
                // return pure white
                return new Color_1([255,255,255,this._rgb[3]], 'rgb');
            }
            // compute new color using...
            var cur_lum = this.luminance();
            var mode = 'rgb';
            var max_iter = MAX_ITER;

            var test = function (low, high) {
                var mid = low.interpolate(high, 0.5, mode);
                var lm = mid.luminance();
                if (Math.abs(lum - lm) < EPS || !max_iter--) {
                    // close enough
                    return mid;
                }
                return lm > lum ? test(low, mid) : test(mid, high);
            };

            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();
            return new Color_1(rgb.concat( [this._rgb[3]]));
        }
        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));
    };


    var rgb2luminance = function (r,g,b) {
        // relative luminance
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        r = luminance_x(r);
        g = luminance_x(g);
        b = luminance_x(b);
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };

    var luminance_x = function (x) {
        x /= 255;
        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);
    };

    var interpolator = {};

    var type$h = utils.type;


    var mix = function (col1, col2, f) {
        if ( f === void 0 ) f=0.5;
        var rest = [], len = arguments.length - 3;
        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];

        var mode = rest[0] || 'lrgb';
        if (!interpolator[mode] && !rest.length) {
            // fall back to the first supported mode
            mode = Object.keys(interpolator)[0];
        }
        if (!interpolator[mode]) {
            throw new Error(("interpolation mode " + mode + " is not defined"));
        }
        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }
        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }
        return interpolator[mode](col1, col2, f)
            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));
    };

    Color_1.prototype.mix =
    Color_1.prototype.interpolate = function(col2, f) {
    	if ( f === void 0 ) f=0.5;
    	var rest = [], len = arguments.length - 2;
    	while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];

    	return mix.apply(void 0, [ this, col2, f ].concat( rest ));
    };

    Color_1.prototype.premultiply = function(mutate) {
    	if ( mutate === void 0 ) mutate=false;

    	var rgb = this._rgb;
    	var a = rgb[3];
    	if (mutate) {
    		this._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];
    		return this;
    	} else {
    		return new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');
    	}
    };

    Color_1.prototype.saturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lch = me.lch();
    	lch[1] += labConstants.Kn * amount;
    	if (lch[1] < 0) { lch[1] = 0; }
    	return new Color_1(lch, 'lch').alpha(me.alpha(), true);
    };

    Color_1.prototype.desaturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.saturate(-amount);
    };

    var type$i = utils.type;

    Color_1.prototype.set = function(mc, value, mutate) {
        if ( mutate === void 0 ) mutate=false;

        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) {
                if (type$i(value) == 'string') {
                    switch(value.charAt(0)) {
                        case '+': src[i] += +value; break;
                        case '-': src[i] += +value; break;
                        case '*': src[i] *= +(value.substr(1)); break;
                        case '/': src[i] /= +(value.substr(1)); break;
                        default: src[i] = +value;
                    }
                } else if (type$i(value) === 'number') {
                    src[i] = value;
                } else {
                    throw new Error("unsupported value for Color.set");
                }
                var out = new Color_1(src, mode);
                if (mutate) {
                    this._rgb = out._rgb;
                    return this;
                }
                return out;
            }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var rgb$1 = function (col1, col2, f) {
        var xyz0 = col1._rgb;
        var xyz1 = col2._rgb;
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'rgb'
        )
    };

    // register interpolator
    interpolator.rgb = rgb$1;

    var sqrt$2 = Math.sqrt;
    var pow$3 = Math.pow;

    var lrgb = function (col1, col2, f) {
        var ref = col1._rgb;
        var x1 = ref[0];
        var y1 = ref[1];
        var z1 = ref[2];
        var ref$1 = col2._rgb;
        var x2 = ref$1[0];
        var y2 = ref$1[1];
        var z2 = ref$1[2];
        return new Color_1(
            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),
            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),
            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),
            'rgb'
        )
    };

    // register interpolator
    interpolator.lrgb = lrgb;

    var lab$1 = function (col1, col2, f) {
        var xyz0 = col1.lab();
        var xyz1 = col2.lab();
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'lab'
        )
    };

    // register interpolator
    interpolator.lab = lab$1;

    var _hsx = function (col1, col2, f, m) {
        var assign, assign$1;

        var xyz0, xyz1;
        if (m === 'hsl') {
            xyz0 = col1.hsl();
            xyz1 = col2.hsl();
        } else if (m === 'hsv') {
            xyz0 = col1.hsv();
            xyz1 = col2.hsv();
        } else if (m === 'hcg') {
            xyz0 = col1.hcg();
            xyz1 = col2.hcg();
        } else if (m === 'hsi') {
            xyz0 = col1.hsi();
            xyz1 = col2.hsi();
        } else if (m === 'lch' || m === 'hcl') {
            m = 'hcl';
            xyz0 = col1.hcl();
            xyz1 = col2.hcl();
        }

        var hue0, hue1, sat0, sat1, lbv0, lbv1;
        if (m.substr(0, 1) === 'h') {
            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);
            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);
        }

        var sat, hue, lbv, dh;

        if (!isNaN(hue0) && !isNaN(hue1)) {
            // both colors have hue
            if (hue1 > hue0 && hue1 - hue0 > 180) {
                dh = hue1-(hue0+360);
            } else if (hue1 < hue0 && hue0 - hue1 > 180) {
                dh = hue1+360-hue0;
            } else{
                dh = hue1 - hue0;
            }
            hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
            hue = hue0;
            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }
        } else if (!isNaN(hue1)) {
            hue = hue1;
            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }
        } else {
            hue = Number.NaN;
        }

        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }
        lbv = lbv0 + f * (lbv1-lbv0);
        return new Color_1([hue, sat, lbv], m);
    };

    var lch$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'lch');
    };

    // register interpolator
    interpolator.lch = lch$1;
    interpolator.hcl = lch$1;

    var num$1 = function (col1, col2, f) {
        var c1 = col1.num();
        var c2 = col2.num();
        return new Color_1(c1 + f * (c2-c1), 'num')
    };

    // register interpolator
    interpolator.num = num$1;

    var hcg$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hcg');
    };

    // register interpolator
    interpolator.hcg = hcg$1;

    var hsi$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsi');
    };

    // register interpolator
    interpolator.hsi = hsi$1;

    var hsl$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsl');
    };

    // register interpolator
    interpolator.hsl = hsl$1;

    var hsv$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsv');
    };

    // register interpolator
    interpolator.hsv = hsv$1;

    var clip_rgb$2 = utils.clip_rgb;
    var pow$4 = Math.pow;
    var sqrt$3 = Math.sqrt;
    var PI$1 = Math.PI;
    var cos$2 = Math.cos;
    var sin$1 = Math.sin;
    var atan2$1 = Math.atan2;

    var average = function (colors, mode, weights) {
        if ( mode === void 0 ) mode='lrgb';
        if ( weights === void 0 ) weights=null;

        var l = colors.length;
        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }
        // normalize weights
        var k = l / weights.reduce(function(a, b) { return a + b; });
        weights.forEach(function (w,i) { weights[i] *= k; });
        // convert colors to Color objects
        colors = colors.map(function (c) { return new Color_1(c); });
        if (mode === 'lrgb') {
            return _average_lrgb(colors, weights)
        }
        var first = colors.shift();
        var xyz = first.get(mode);
        var cnt = [];
        var dx = 0;
        var dy = 0;
        // initial color
        for (var i=0; i<xyz.length; i++) {
            xyz[i] = (xyz[i] || 0) * weights[0];
            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);
            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {
                var A = xyz[i] / 180 * PI$1;
                dx += cos$2(A) * weights[0];
                dy += sin$1(A) * weights[0];
            }
        }

        var alpha = first.alpha() * weights[0];
        colors.forEach(function (c,ci) {
            var xyz2 = c.get(mode);
            alpha += c.alpha() * weights[ci+1];
            for (var i=0; i<xyz.length; i++) {
                if (!isNaN(xyz2[i])) {
                    cnt[i] += weights[ci+1];
                    if (mode.charAt(i) === 'h') {
                        var A = xyz2[i] / 180 * PI$1;
                        dx += cos$2(A) * weights[ci+1];
                        dy += sin$1(A) * weights[ci+1];
                    } else {
                        xyz[i] += xyz2[i] * weights[ci+1];
                    }
                }
            }
        });

        for (var i$1=0; i$1<xyz.length; i$1++) {
            if (mode.charAt(i$1) === 'h') {
                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;
                while (A$1 < 0) { A$1 += 360; }
                while (A$1 >= 360) { A$1 -= 360; }
                xyz[i$1] = A$1;
            } else {
                xyz[i$1] = xyz[i$1]/cnt[i$1];
            }
        }
        alpha /= l;
        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);
    };


    var _average_lrgb = function (colors, weights) {
        var l = colors.length;
        var xyz = [0,0,0,0];
        for (var i=0; i < colors.length; i++) {
            var col = colors[i];
            var f = weights[i] / l;
            var rgb = col._rgb;
            xyz[0] += pow$4(rgb[0],2) * f;
            xyz[1] += pow$4(rgb[1],2) * f;
            xyz[2] += pow$4(rgb[2],2) * f;
            xyz[3] += rgb[3] * f;
        }
        xyz[0] = sqrt$3(xyz[0]);
        xyz[1] = sqrt$3(xyz[1]);
        xyz[2] = sqrt$3(xyz[2]);
        if (xyz[3] > 0.9999999) { xyz[3] = 1; }
        return new Color_1(clip_rgb$2(xyz));
    };

    // minimal multi-purpose interface

    // @requires utils color analyze


    var type$j = utils.type;

    var pow$5 = Math.pow;

    var scale = function(colors) {

        // constructor
        var _mode = 'rgb';
        var _nacol = chroma_1('#ccc');
        var _spread = 0;
        // const _fixed = false;
        var _domain = [0, 1];
        var _pos = [];
        var _padding = [0,0];
        var _classes = false;
        var _colors = [];
        var _out = false;
        var _min = 0;
        var _max = 1;
        var _correctLightness = false;
        var _colorCache = {};
        var _useCache = true;
        var _gamma = 1;

        // private methods

        var setColors = function(colors) {
            colors = colors || ['#fff', '#000'];
            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&
                chroma_1.brewer[colors.toLowerCase()]) {
                colors = chroma_1.brewer[colors.toLowerCase()];
            }
            if (type$j(colors) === 'array') {
                // handle single color
                if (colors.length === 1) {
                    colors = [colors[0], colors[0]];
                }
                // make a copy of the colors
                colors = colors.slice(0);
                // convert to chroma classes
                for (var c=0; c<colors.length; c++) {
                    colors[c] = chroma_1(colors[c]);
                }
                // auto-fill color position
                _pos.length = 0;
                for (var c$1=0; c$1<colors.length; c$1++) {
                    _pos.push(c$1/(colors.length-1));
                }
            }
            resetCache();
            return _colors = colors;
        };

        var getClass = function(value) {
            if (_classes != null) {
                var n = _classes.length-1;
                var i = 0;
                while (i < n && value >= _classes[i]) {
                    i++;
                }
                return i-1;
            }
            return 0;
        };

        var tMapLightness = function (t) { return t; };
        var tMapDomain = function (t) { return t; };

        // const classifyValue = function(value) {
        //     let val = value;
        //     if (_classes.length > 2) {
        //         const n = _classes.length-1;
        //         const i = getClass(value);
        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class
        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class
        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));
        //     }
        //     return val;
        // };

        var getColor = function(val, bypassMap) {
            var col, t;
            if (bypassMap == null) { bypassMap = false; }
            if (isNaN(val) || (val === null)) { return _nacol; }
            if (!bypassMap) {
                if (_classes && (_classes.length > 2)) {
                    // find the class
                    var c = getClass(val);
                    t = c / (_classes.length-2);
                } else if (_max !== _min) {
                    // just interpolate between min/max
                    t = (val - _min) / (_max - _min);
                } else {
                    t = 1;
                }
            } else {
                t = val;
            }

            // domain map
            t = tMapDomain(t);

            if (!bypassMap) {
                t = tMapLightness(t);  // lightness correction
            }

            if (_gamma !== 1) { t = pow$5(t, _gamma); }

            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));

            t = Math.min(1, Math.max(0, t));

            var k = Math.floor(t * 10000);

            if (_useCache && _colorCache[k]) {
                col = _colorCache[k];
            } else {
                if (type$j(_colors) === 'array') {
                    //for i in [0.._pos.length-1]
                    for (var i=0; i<_pos.length; i++) {
                        var p = _pos[i];
                        if (t <= p) {
                            col = _colors[i];
                            break;
                        }
                        if ((t >= p) && (i === (_pos.length-1))) {
                            col = _colors[i];
                            break;
                        }
                        if (t > p && t < _pos[i+1]) {
                            t = (t-p)/(_pos[i+1]-p);
                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);
                            break;
                        }
                    }
                } else if (type$j(_colors) === 'function') {
                    col = _colors(t);
                }
                if (_useCache) { _colorCache[k] = col; }
            }
            return col;
        };

        var resetCache = function () { return _colorCache = {}; };

        setColors(colors);

        // public interface

        var f = function(v) {
            var c = chroma_1(getColor(v));
            if (_out && c[_out]) { return c[_out](); } else { return c; }
        };

        f.classes = function(classes) {
            if (classes != null) {
                if (type$j(classes) === 'array') {
                    _classes = classes;
                    _domain = [classes[0], classes[classes.length-1]];
                } else {
                    var d = chroma_1.analyze(_domain);
                    if (classes === 0) {
                        _classes = [d.min, d.max];
                    } else {
                        _classes = chroma_1.limits(d, 'e', classes);
                    }
                }
                return f;
            }
            return _classes;
        };


        f.domain = function(domain) {
            if (!arguments.length) {
                return _domain;
            }
            _min = domain[0];
            _max = domain[domain.length-1];
            _pos = [];
            var k = _colors.length;
            if ((domain.length === k) && (_min !== _max)) {
                // update positions
                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {
                    var d = list[i];

                  _pos.push((d-_min) / (_max-_min));
                }
            } else {
                for (var c=0; c<k; c++) {
                    _pos.push(c/(k-1));
                }
                if (domain.length > 2) {
                    // set domain map
                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });
                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });
                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {
                        tMapDomain = function (t) {
                            if (t <= 0 || t >= 1) { return t; }
                            var i = 0;
                            while (t >= tBreaks[i+1]) { i++; }
                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);
                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);
                            return out;
                        };
                    }

                }
            }
            _domain = [_min, _max];
            return f;
        };

        f.mode = function(_m) {
            if (!arguments.length) {
                return _mode;
            }
            _mode = _m;
            resetCache();
            return f;
        };

        f.range = function(colors, _pos) {
            setColors(colors, _pos);
            return f;
        };

        f.out = function(_o) {
            _out = _o;
            return f;
        };

        f.spread = function(val) {
            if (!arguments.length) {
                return _spread;
            }
            _spread = val;
            return f;
        };

        f.correctLightness = function(v) {
            if (v == null) { v = true; }
            _correctLightness = v;
            resetCache();
            if (_correctLightness) {
                tMapLightness = function(t) {
                    var L0 = getColor(0, true).lab()[0];
                    var L1 = getColor(1, true).lab()[0];
                    var pol = L0 > L1;
                    var L_actual = getColor(t, true).lab()[0];
                    var L_ideal = L0 + ((L1 - L0) * t);
                    var L_diff = L_actual - L_ideal;
                    var t0 = 0;
                    var t1 = 1;
                    var max_iter = 20;
                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {
                        (function() {
                            if (pol) { L_diff *= -1; }
                            if (L_diff < 0) {
                                t0 = t;
                                t += (t1 - t) * 0.5;
                            } else {
                                t1 = t;
                                t += (t0 - t) * 0.5;
                            }
                            L_actual = getColor(t, true).lab()[0];
                            return L_diff = L_actual - L_ideal;
                        })();
                    }
                    return t;
                };
            } else {
                tMapLightness = function (t) { return t; };
            }
            return f;
        };

        f.padding = function(p) {
            if (p != null) {
                if (type$j(p) === 'number') {
                    p = [p,p];
                }
                _padding = p;
                return f;
            } else {
                return _padding;
            }
        };

        f.colors = function(numColors, out) {
            // If no arguments are given, return the original colors that were provided
            if (arguments.length < 2) { out = 'hex'; }
            var result = [];

            if (arguments.length === 0) {
                result = _colors.slice(0);

            } else if (numColors === 1) {
                result = [f(0.5)];

            } else if (numColors > 1) {
                var dm = _domain[0];
                var dd = _domain[1] - dm;
                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });

            } else { // returns all colors based on the defined classes
                colors = [];
                var samples = [];
                if (_classes && (_classes.length > 2)) {
                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {
                        samples.push((_classes[i-1]+_classes[i])*0.5);
                    }
                } else {
                    samples = _domain;
                }
                result = samples.map(function (v) { return f(v); });
            }

            if (chroma_1[out]) {
                result = result.map(function (c) { return c[out](); });
            }
            return result;
        };

        f.cache = function(c) {
            if (c != null) {
                _useCache = c;
                return f;
            } else {
                return _useCache;
            }
        };

        f.gamma = function(g) {
            if (g != null) {
                _gamma = g;
                return f;
            } else {
                return _gamma;
            }
        };

        f.nodata = function(d) {
            if (d != null) {
                _nacol = chroma_1(d);
                return f;
            } else {
                return _nacol;
            }
        };

        return f;
    };

    function __range__(left, right, inclusive) {
      var range = [];
      var ascending = left < right;
      var end = !inclusive ? right : ascending ? right + 1 : right - 1;
      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {
        range.push(i);
      }
      return range;
    }

    //
    // interpolates between a set of colors uzing a bezier spline
    //

    // @requires utils lab




    var bezier = function(colors) {
        var assign, assign$1, assign$2;

        var I, lab0, lab1, lab2;
        colors = colors.map(function (c) { return new Color_1(c); });
        if (colors.length === 2) {
            // linear interpolation
            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 3) {
            // quadratic bezier interpolation
            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 4) {
            // cubic bezier interpolation
            var lab3;
            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 5) {
            var I0 = bezier(colors.slice(0, 3));
            var I1 = bezier(colors.slice(2, 5));
            I = function(t) {
                if (t < 0.5) {
                    return I0(t*2);
                } else {
                    return I1((t-0.5)*2);
                }
            };
        }
        return I;
    };

    var bezier_1 = function (colors) {
        var f = bezier(colors);
        f.scale = function () { return scale(f); };
        return f;
    };

    /*
     * interpolates between a set of colors uzing a bezier spline
     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/
     */




    var blend = function (bottom, top, mode) {
        if (!blend[mode]) {
            throw new Error('unknown blend mode ' + mode);
        }
        return blend[mode](bottom, top);
    };

    var blend_f = function (f) { return function (bottom,top) {
            var c0 = chroma_1(top).rgb();
            var c1 = chroma_1(bottom).rgb();
            return chroma_1.rgb(f(c0, c1));
        }; };

    var each = function (f) { return function (c0, c1) {
            var out = [];
            out[0] = f(c0[0], c1[0]);
            out[1] = f(c0[1], c1[1]);
            out[2] = f(c0[2], c1[2]);
            return out;
        }; };

    var normal = function (a) { return a; };
    var multiply = function (a,b) { return a * b / 255; };
    var darken$1 = function (a,b) { return a > b ? b : a; };
    var lighten = function (a,b) { return a > b ? a : b; };
    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };
    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };
    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };
    var dodge = function (a,b) {
        if (a === 255) { return 255; }
        a = 255 * (b / 255) / (1 - a / 255);
        return a > 255 ? 255 : a
    };

    // # add = (a,b) ->
    // #     if (a + b > 255) then 255 else a + b

    blend.normal = blend_f(each(normal));
    blend.multiply = blend_f(each(multiply));
    blend.screen = blend_f(each(screen));
    blend.overlay = blend_f(each(overlay));
    blend.darken = blend_f(each(darken$1));
    blend.lighten = blend_f(each(lighten));
    blend.dodge = blend_f(each(dodge));
    blend.burn = blend_f(each(burn));
    // blend.add = blend_f(each(add));

    var blend_1 = blend;

    // cubehelix interpolation
    // based on D.A. Green "A colour scheme for the display of astronomical intensity images"
    // http://astron-soc.in/bulletin/11June/289392011.pdf

    var type$k = utils.type;
    var clip_rgb$3 = utils.clip_rgb;
    var TWOPI$2 = utils.TWOPI;
    var pow$6 = Math.pow;
    var sin$2 = Math.sin;
    var cos$3 = Math.cos;


    var cubehelix = function(start, rotations, hue, gamma, lightness) {
        if ( start === void 0 ) start=300;
        if ( rotations === void 0 ) rotations=-1.5;
        if ( hue === void 0 ) hue=1;
        if ( gamma === void 0 ) gamma=1;
        if ( lightness === void 0 ) lightness=[0,1];

        var dh = 0, dl;
        if (type$k(lightness) === 'array') {
            dl = lightness[1] - lightness[0];
        } else {
            dl = 0;
            lightness = [lightness, lightness];
        }

        var f = function(fract) {
            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));
            var l = pow$6(lightness[0] + (dl * fract), gamma);
            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;
            var amp = (h * l * (1-l)) / 2;
            var cos_a = cos$3(a);
            var sin_a = sin$2(a);
            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));
            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));
            var b = l + (amp * (+1.97294 * cos_a));
            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));
        };

        f.start = function(s) {
            if ((s == null)) { return start; }
            start = s;
            return f;
        };

        f.rotations = function(r) {
            if ((r == null)) { return rotations; }
            rotations = r;
            return f;
        };

        f.gamma = function(g) {
            if ((g == null)) { return gamma; }
            gamma = g;
            return f;
        };

        f.hue = function(h) {
            if ((h == null)) { return hue; }
            hue = h;
            if (type$k(hue) === 'array') {
                dh = hue[1] - hue[0];
                if (dh === 0) { hue = hue[1]; }
            } else {
                dh = 0;
            }
            return f;
        };

        f.lightness = function(h) {
            if ((h == null)) { return lightness; }
            if (type$k(h) === 'array') {
                lightness = h;
                dl = h[1] - h[0];
            } else {
                lightness = [h,h];
                dl = 0;
            }
            return f;
        };

        f.scale = function () { return chroma_1.scale(f); };

        f.hue(hue);

        return f;
    };

    var digits = '0123456789abcdef';

    var floor$2 = Math.floor;
    var random = Math.random;

    var random_1 = function () {
        var code = '#';
        for (var i=0; i<6; i++) {
            code += digits.charAt(floor$2(random() * 16));
        }
        return new Color_1(code, 'hex');
    };

    var log$1 = Math.log;
    var pow$7 = Math.pow;
    var floor$3 = Math.floor;
    var abs = Math.abs;


    var analyze = function (data, key) {
        if ( key === void 0 ) key=null;

        var r = {
            min: Number.MAX_VALUE,
            max: Number.MAX_VALUE*-1,
            sum: 0,
            values: [],
            count: 0
        };
        if (type(data) === 'object') {
            data = Object.values(data);
        }
        data.forEach(function (val) {
            if (key && type(val) === 'object') { val = val[key]; }
            if (val !== undefined && val !== null && !isNaN(val)) {
                r.values.push(val);
                r.sum += val;
                if (val < r.min) { r.min = val; }
                if (val > r.max) { r.max = val; }
                r.count += 1;
            }
        });

        r.domain = [r.min, r.max];

        r.limits = function (mode, num) { return limits(r, mode, num); };

        return r;
    };


    var limits = function (data, mode, num) {
        if ( mode === void 0 ) mode='equal';
        if ( num === void 0 ) num=7;

        if (type(data) == 'array') {
            data = analyze(data);
        }
        var min = data.min;
        var max = data.max;
        var values = data.values.sort(function (a,b) { return a-b; });

        if (num === 1) { return [min,max]; }

        var limits = [];

        if (mode.substr(0,1) === 'c') { // continuous
            limits.push(min);
            limits.push(max);
        }

        if (mode.substr(0,1) === 'e') { // equal interval
            limits.push(min);
            for (var i=1; i<num; i++) {
                limits.push(min+((i/num)*(max-min)));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'l') { // log scale
            if (min <= 0) {
                throw new Error('Logarithmic scales are only possible for values > 0');
            }
            var min_log = Math.LOG10E * log$1(min);
            var max_log = Math.LOG10E * log$1(max);
            limits.push(min);
            for (var i$1=1; i$1<num; i$1++) {
                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'q') { // quantile scale
            limits.push(min);
            for (var i$2=1; i$2<num; i$2++) {
                var p = ((values.length-1) * i$2)/num;
                var pb = floor$3(p);
                if (pb === p) {
                    limits.push(values[pb]);
                } else { // p > pb
                    var pr = p - pb;
                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));
                }
            }
            limits.push(max);

        }

        else if (mode.substr(0,1) === 'k') { // k-means clustering
            /*
            implementation based on
            http://code.google.com/p/figue/source/browse/trunk/figue.js#336
            simplified for 1-d input values
            */
            var cluster;
            var n = values.length;
            var assignments = new Array(n);
            var clusterSizes = new Array(num);
            var repeat = true;
            var nb_iters = 0;
            var centroids = null;

            // get seed values
            centroids = [];
            centroids.push(min);
            for (var i$3=1; i$3<num; i$3++) {
                centroids.push(min + ((i$3/num) * (max-min)));
            }
            centroids.push(max);

            while (repeat) {
                // assignment step
                for (var j=0; j<num; j++) {
                    clusterSizes[j] = 0;
                }
                for (var i$4=0; i$4<n; i$4++) {
                    var value = values[i$4];
                    var mindist = Number.MAX_VALUE;
                    var best = (void 0);
                    for (var j$1=0; j$1<num; j$1++) {
                        var dist = abs(centroids[j$1]-value);
                        if (dist < mindist) {
                            mindist = dist;
                            best = j$1;
                        }
                        clusterSizes[best]++;
                        assignments[i$4] = best;
                    }
                }

                // update centroids step
                var newCentroids = new Array(num);
                for (var j$2=0; j$2<num; j$2++) {
                    newCentroids[j$2] = null;
                }
                for (var i$5=0; i$5<n; i$5++) {
                    cluster = assignments[i$5];
                    if (newCentroids[cluster] === null) {
                        newCentroids[cluster] = values[i$5];
                    } else {
                        newCentroids[cluster] += values[i$5];
                    }
                }
                for (var j$3=0; j$3<num; j$3++) {
                    newCentroids[j$3] *= 1/clusterSizes[j$3];
                }

                // check convergence
                repeat = false;
                for (var j$4=0; j$4<num; j$4++) {
                    if (newCentroids[j$4] !== centroids[j$4]) {
                        repeat = true;
                        break;
                    }
                }

                centroids = newCentroids;
                nb_iters++;

                if (nb_iters > 200) {
                    repeat = false;
                }
            }

            // finished k-means clustering
            // the next part is borrowed from gabrielflor.it
            var kClusters = {};
            for (var j$5=0; j$5<num; j$5++) {
                kClusters[j$5] = [];
            }
            for (var i$6=0; i$6<n; i$6++) {
                cluster = assignments[i$6];
                kClusters[cluster].push(values[i$6]);
            }
            var tmpKMeansBreaks = [];
            for (var j$6=0; j$6<num; j$6++) {
                tmpKMeansBreaks.push(kClusters[j$6][0]);
                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);
            }
            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });
            limits.push(tmpKMeansBreaks[0]);
            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {
                var v = tmpKMeansBreaks[i$7];
                if (!isNaN(v) && (limits.indexOf(v) === -1)) {
                    limits.push(v);
                }
            }
        }
        return limits;
    };

    var analyze_1 = {analyze: analyze, limits: limits};

    var contrast = function (a, b) {
        // WCAG contrast ratio
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.luminance();
        var l2 = b.luminance();
        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);
    };

    var sqrt$4 = Math.sqrt;
    var atan2$2 = Math.atan2;
    var abs$1 = Math.abs;
    var cos$4 = Math.cos;
    var PI$2 = Math.PI;

    var deltaE = function(a, b, L, C) {
        if ( L === void 0 ) L=1;
        if ( C === void 0 ) C=1;

        // Delta E (CMC)
        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html
        a = new Color_1(a);
        b = new Color_1(b);
        var ref = Array.from(a.lab());
        var L1 = ref[0];
        var a1 = ref[1];
        var b1 = ref[2];
        var ref$1 = Array.from(b.lab());
        var L2 = ref$1[0];
        var a2 = ref$1[1];
        var b2 = ref$1[2];
        var c1 = sqrt$4((a1 * a1) + (b1 * b1));
        var c2 = sqrt$4((a2 * a2) + (b2 * b2));
        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));
        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;
        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;
        while (h1 < 0) { h1 += 360; }
        while (h1 >= 360) { h1 -= 360; }
        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));
        var c4 = c1 * c1 * c1 * c1;
        var f = sqrt$4(c4 / (c4 + 1900.0));
        var sh = sc * (((f * t) + 1.0) - f);
        var delL = L1 - L2;
        var delC = c1 - c2;
        var delA = a1 - a2;
        var delB = b1 - b2;
        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);
        var v1 = delL / (L * sl);
        var v2 = delC / (C * sc);
        var v3 = sh;
        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));
    };

    // simple Euclidean distance
    var distance = function(a, b, mode) {
        if ( mode === void 0 ) mode='lab';

        // Delta E (CIE 1976)
        // see http://www.brucelindbloom.com/index.html?Equations.html
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.get(mode);
        var l2 = b.get(mode);
        var sum_sq = 0;
        for (var i in l1) {
            var d = (l1[i] || 0) - (l2[i] || 0);
            sum_sq += d*d;
        }
        return Math.sqrt(sum_sq);
    };

    var valid = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        try {
            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));
            return true;
        } catch (e) {
            return false;
        }
    };

    // some pre-defined color scales:




    var scales = {
    	cool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },
    	hot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }
    };

    /**
        ColorBrewer colors for chroma.js

        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The
        Pennsylvania State University.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software distributed
        under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
        CONDITIONS OF ANY KIND, either express or implied. See the License for the
        specific language governing permissions and limitations under the License.
    */

    var colorbrewer = {
        // sequential
        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],
        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],
        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],
        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],
        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],
        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],
        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],
        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],
        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],
        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],
        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],
        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],
        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],
        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],

        // diverging

        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],
        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],
        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],
        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],
        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],
        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],
        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],

        // qualitative

        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],
        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],
        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],
        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],
        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],
    };

    // add lowercase aliases for case-insensitive matches
    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {
        var key = list$1[i$1];

        colorbrewer[key.toLowerCase()] = colorbrewer[key];
    }

    var colorbrewer_1 = colorbrewer;

    // feel free to comment out anything to rollup
    // a smaller chroma.js built

    // io --> convert colors















    // operators --> modify existing Colors










    // interpolators










    // generators -- > create new colors
    chroma_1.average = average;
    chroma_1.bezier = bezier_1;
    chroma_1.blend = blend_1;
    chroma_1.cubehelix = cubehelix;
    chroma_1.mix = chroma_1.interpolate = mix;
    chroma_1.random = random_1;
    chroma_1.scale = scale;

    // other utility methods
    chroma_1.analyze = analyze_1.analyze;
    chroma_1.contrast = contrast;
    chroma_1.deltaE = deltaE;
    chroma_1.distance = distance;
    chroma_1.limits = analyze_1.limits;
    chroma_1.valid = valid;

    // scale
    chroma_1.scales = scales;

    // colors
    chroma_1.colors = w3cx11_1;
    chroma_1.brewer = colorbrewer_1;

    var chroma_js = chroma_1;

    return chroma_js;

})));
//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLEVBQUUsYUFBYSxFQUFFO0FBQ25ELG1DQUFtQyxFQUFFLGFBQWEsRUFBRTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEI7QUFDQSx1QkFBdUI7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsTUFBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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cUJBQXFCO0FBQzlFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9jaHJvbWEtanMvY2hyb21hLmpzPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbC5jaHJvbWEgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiAoeCwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKCBtaW4gPT09IHZvaWQgMCApIG1pbj0wO1xuICAgICAgICBpZiAoIG1heCA9PT0gdm9pZCAwICkgbWF4PTE7XG5cbiAgICAgICAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbiAgICB9O1xuXG4gICAgdmFyIGNsaXBfcmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgICAgICByZ2IuX2NsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgcmdiLl91bmNsaXBwZWQgPSByZ2Iuc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmdiW2ldIDwgMCB8fCByZ2JbaV0gPiAyNTUpIHsgcmdiLl9jbGlwcGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLy8gcG9ydGVkIGZyb20galF1ZXJ5J3MgJC50eXBlXG4gICAgdmFyIGNsYXNzVG9UeXBlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3RbaV07XG5cbiAgICAgICAgY2xhc3NUb1R5cGVbKFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIildID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2sgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUoYXJnc1swXSkgPT0gJ29iamVjdCcgJiYga2V5T3JkZXIpIHtcbiAgICBcdFx0cmV0dXJuIGtleU9yZGVyLnNwbGl0KCcnKVxuICAgIFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba10gIT09IHVuZGVmaW5lZDsgfSlcbiAgICBcdFx0XHQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBhcmdzWzBdW2tdOyB9KTtcbiAgICBcdH1cbiAgICBcdC8vIG90aGVyd2lzZSB3ZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICBcdC8vICh3aGljaCB3ZSBzdXBwb3NlIGlzIGFuIGFycmF5IG9mIGFyZ3MpXG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBhcmdzLmxlbmd0aC0xO1xuICAgICAgICBpZiAodHlwZShhcmdzW2xdKSA9PSAnc3RyaW5nJykgeyByZXR1cm4gYXJnc1tsXS50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiLFxuICAgIFx0bGltaXQ6IGxpbWl0LFxuICAgIFx0dHlwZTogdHlwZSxcbiAgICBcdHVucGFjazogdW5wYWNrLFxuICAgIFx0bGFzdDogbGFzdCxcbiAgICBcdFBJOiBQSSxcbiAgICBcdFRXT1BJOiBQSSoyLFxuICAgIFx0UElUSElSRDogUEkvMyxcbiAgICBcdERFRzJSQUQ6IFBJIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUElcbiAgICB9O1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgIFx0Zm9ybWF0OiB7fSxcbiAgICBcdGF1dG9kZXRlY3Q6IFtdXG4gICAgfTtcblxuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBjbGlwX3JnYiQxID0gdXRpbHMuY2xpcF9yZ2I7XG4gICAgdmFyIHR5cGUkMSA9IHV0aWxzLnR5cGU7XG5cblxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIENvbG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlJDEoYXJnc1swXSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgYXJndW1lbnQgaXMgYWxyZWFkeSBhIENvbG9yIGluc3RhbmNlXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgYXJndW1lbnQgY291bGQgYmUgdGhlIG1vZGVcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDEoYXJncyk7XG4gICAgICAgIHZhciBhdXRvZGV0ZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFtb2RlKSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaW5wdXQuc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2RldGVjdCA9IGlucHV0LmF1dG9kZXRlY3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiLnAgLSBhLnA7IH0pO1xuICAgICAgICAgICAgICAgIGlucHV0LnNvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvLWRldGVjdCBmb3JtYXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQuZm9ybWF0W21vZGVdKSB7XG4gICAgICAgICAgICB2YXIgcmdiID0gaW5wdXQuZm9ybWF0W21vZGVdLmFwcGx5KG51bGwsIGF1dG9kZXRlY3QgPyBhcmdzIDogYXJncy5zbGljZSgwLC0xKSk7XG4gICAgICAgICAgICBtZS5fcmdiID0gY2xpcF9yZ2IkMShyZ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdDogJythcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBhbHBoYSBjaGFubmVsXG4gICAgICAgIGlmIChtZS5fcmdiLmxlbmd0aCA9PT0gMykgeyBtZS5fcmdiLnB1c2goMSk7IH1cbiAgICB9O1xuXG4gICAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICBpZiAodHlwZSQxKHRoaXMuaGV4KSA9PSAnZnVuY3Rpb24nKSB7IHJldHVybiB0aGlzLmhleCgpOyB9XG4gICAgICAgIHJldHVybiAoXCJbXCIgKyAodGhpcy5fcmdiLmpvaW4oJywnKSkgKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHZhciBDb2xvcl8xID0gQ29sb3I7XG5cbiAgICB2YXIgY2hyb21hID0gZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBcdHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBjaHJvbWEuQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgfTtcblxuICAgIGNocm9tYS5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hLnZlcnNpb24gPSAnMi4xLjInO1xuXG4gICAgdmFyIGNocm9tYV8xID0gY2hyb21hO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDEoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICByID0gciAvIDI1NTtcbiAgICAgICAgZyA9IGcgLyAyNTU7XG4gICAgICAgIGIgPSBiIC8gMjU1O1xuICAgICAgICB2YXIgayA9IDEgLSBtYXgocixtYXgoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIGNteWsycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skMihhcmdzLCAnY215aycpO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBtID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgayA9IGFyZ3NbM107XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAxO1xuICAgICAgICBpZiAoayA9PT0gMSkgeyByZXR1cm4gWzAsMCwwLGFscGhhXTsgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYyA+PSAxID8gMCA6IDI1NSAqICgxLWMpICogKDEtayksIC8vIHJcbiAgICAgICAgICAgIG0gPj0gMSA/IDAgOiAyNTUgKiAoMS1tKSAqICgxLWspLCAvLyBnXG4gICAgICAgICAgICB5ID49IDEgPyAwIDogMjU1ICogKDEteSkgKiAoMS1rKSwgLy8gYlxuICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgdmFyIGNteWsycmdiXzEgPSBjbXlrMnJnYjtcblxuICAgIHZhciB1bnBhY2skMyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQyID0gdXRpbHMudHlwZTtcblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5jbXlrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyY215a18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmNteWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjbXlrJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuY215ayA9IGNteWsycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQzKGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQyKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ0ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhzbGEgPSB1bnBhY2skNChhcmdzLCAnaHNsYScpO1xuICAgICAgICB2YXIgbW9kZSA9IGxhc3QkMihhcmdzKSB8fCAnbHNhJztcbiAgICAgICAgaHNsYVswXSA9IHJuZChoc2xhWzBdIHx8IDApO1xuICAgICAgICBoc2xhWzFdID0gcm5kKGhzbGFbMV0qMTAwKSArICclJztcbiAgICAgICAgaHNsYVsyXSA9IHJuZChoc2xhWzJdKjEwMCkgKyAnJSc7XG4gICAgICAgIGlmIChtb2RlID09PSAnaHNsYScgfHwgKGhzbGEubGVuZ3RoID4gMyAmJiBoc2xhWzNdPDEpKSB7XG4gICAgICAgICAgICBoc2xhWzNdID0gaHNsYS5sZW5ndGggPiAzID8gaHNsYVszXSA6IDE7XG4gICAgICAgICAgICBtb2RlID0gJ2hzbGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHNsYS5sZW5ndGggPSAzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobW9kZSArIFwiKFwiICsgKGhzbGEuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJjc3NfMSA9IGhzbDJjc3M7XG5cbiAgICB2YXIgdW5wYWNrJDUgPSB1dGlscy51bnBhY2s7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHNsKHIsZyxiKVxuICAgICAqIC0gcmdiMmhzbChyLGcsYixhKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGIsYV0pXG4gICAgICogLSByZ2IyaHNsKHtyLGcsYixhfSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbDtcblxuICAgIHZhciB1bnBhY2skNiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcblxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIC8qXG4gICAgICogc3VwcG9ydGVkIGFyZ3VtZW50czpcbiAgICAgKiAtIHJnYjJjc3MocixnLGIpXG4gICAgICogLSByZ2IyY3NzKHIsZyxiLGEpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYl0sIG1vZGUpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYixhXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3Moe3IsZyxiLGF9LCBtb2RlKVxuICAgICAqL1xuICAgIHZhciByZ2IyY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDYoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDMoYXJncykgfHwgJ3JnYic7XG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDMpID09ICdoc2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHNsMmNzc18xKHJnYjJoc2xfMShyZ2JhKSwgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmdiYVswXSA9IHJvdW5kKHJnYmFbMF0pO1xuICAgICAgICByZ2JhWzFdID0gcm91bmQocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZChyZ2JhWzJdKTtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdyZ2JhJyB8fCAocmdiYS5sZW5ndGggPiAzICYmIHJnYmFbM108MSkpIHtcbiAgICAgICAgICAgIHJnYmFbM10gPSByZ2JhLmxlbmd0aCA+IDMgPyByZ2JhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAncmdiYSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAocmdiYS5zbGljZSgwLG1vZGU9PT0ncmdiJz8zOjQpLmpvaW4oJywnKSkgKyBcIilcIik7XG4gICAgfTtcblxuICAgIHZhciByZ2IyY3NzXzEgPSByZ2IyY3NzO1xuXG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBoc2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skNyhhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkMShjWzBdKjI1NSkscm91bmQkMShjWzFdKjI1NSkscm91bmQkMShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2I7XG5cbiAgICB2YXIgUkVfUkdCID0gL15yZ2JcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC87XG4gICAgdmFyIFJFX1JHQkEgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX1JHQl9QQ1QgPSAvXnJnYlxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQV9QQ1QgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX0hTTCA9IC9eaHNsXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqXFwpJC87XG4gICAgdmFyIFJFX0hTTEEgPSAvXmhzbGFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcblxuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBjc3MycmdiID0gZnVuY3Rpb24gKGNzcykge1xuICAgICAgICBjc3MgPSBjc3MudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciBtO1xuXG4gICAgICAgIGlmIChpbnB1dC5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZvcm1hdC5uYW1lZChjc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiKDI1MCwyMCwwKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gK3JnYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYlszXSA9IDE7ICAvLyBkZWZhdWx0IGFscGhhXG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgyNTAsMjAsMCwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMT0wOyBpJDE8NDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkMVtpJDFdID0gK3JnYiQxW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmdiJDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMTAwJSwwJSwwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQl9QQ1QpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQyID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQyPTA7IGkkMjwzOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJnYiQyW2kkMl0gPSByb3VuZCQyKHJnYiQyW2kkMl0gKiAyLjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYiQyWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2IkMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYmEoMTAwJSwwJSwwJSwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDMgPSBtLnNsaWNlKDEsNSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDM9MDsgaSQzPDM7IGkkMysrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDNbaSQzXSA9IHJvdW5kJDIocmdiJDNbaSQzXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDNbM10gPSArcmdiJDNbM107XG4gICAgICAgICAgICByZXR1cm4gcmdiJDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoc2woMCwxMDAlLDUwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTCkpKSB7XG4gICAgICAgICAgICB2YXIgaHNsID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsWzFdICo9IDAuMDE7XG4gICAgICAgICAgICBoc2xbMl0gKj0gMC4wMTtcbiAgICAgICAgICAgIHZhciByZ2IkNCA9IGhzbDJyZ2JfMShoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiXzEoaHNsJDEpO1xuICAgICAgICAgICAgcmdiJDVbM10gPSArbVs0XTsgIC8vIGRlZmF1bHQgYWxwaGEgPSAxXG4gICAgICAgICAgICByZXR1cm4gcmdiJDU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY3NzMnJnYi50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2I7XG5cbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3NfMSh0aGlzLl9yZ2IsIG1vZGUpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5jc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjc3MnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5jc3MgPSBjc3MycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSQzKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiXzEudGVzdChoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ4ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQuZm9ybWF0LmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2IgPSB1bnBhY2skOChhcmdzLCAncmdiYScpO1xuICAgICAgICByZ2JbMF0gKj0gMjU1O1xuICAgICAgICByZ2JbMV0gKj0gMjU1O1xuICAgICAgICByZ2JbMl0gKj0gMjU1O1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5nbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2dsJ10pICkpO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmdiID0gdGhpcy5fcmdiO1xuICAgICAgICByZXR1cm4gW3JnYlswXS8yNTUsIHJnYlsxXS8yNTUsIHJnYlsyXS8yNTUsIHJnYlszXV07XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2skOSA9IHV0aWxzLnVucGFjaztcblxuICAgIHZhciByZ2IyaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciBjID0gZGVsdGEgKiAxMDAgLyAyNTU7XG4gICAgICAgIHZhciBfZyA9IG1pbiAvICgyNTUgLSBkZWx0YSkgKiAxMDA7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4KSB7IGggPSAyKyhiIC0gcikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGIgPT09IG1heCkgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIGMsIF9nXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoY2dfMSA9IHJnYjJoY2c7XG5cbiAgICB2YXIgdW5wYWNrJGEgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICAgIC8qXG4gICAgICogdGhpcyBpcyBiYXNpY2FsbHkganVzdCBIU1Ygd2l0aCBzb21lIG1pbm9yIHR3ZWFrc1xuICAgICAqXG4gICAgICogaHVlLi4gWzAuLjM2MF1cbiAgICAgKiBjaHJvbWEgLi4gWzAuLjFdXG4gICAgICogZ3JheW5lc3MgLi4gWzAuLjFdXG4gICAgICovXG5cbiAgICB2YXIgaGNnMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFzc2lnbiwgYXNzaWduJDEsIGFzc2lnbiQyLCBhc3NpZ24kMywgYXNzaWduJDQsIGFzc2lnbiQ1O1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYShhcmdzLCAnaGNnJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgX2cgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIF9nID0gX2cgKiAyNTU7XG4gICAgICAgIHZhciBfYyA9IGMgKiAyNTU7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBfZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yKGgpO1xuICAgICAgICAgICAgdmFyIGYgPSBoIC0gaTtcbiAgICAgICAgICAgIHZhciBwID0gX2cgKiAoMSAtIGMpO1xuICAgICAgICAgICAgdmFyIHEgPSBwICsgX2MgKiAoMSAtIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSBwICsgX2MgKiBmO1xuICAgICAgICAgICAgdmFyIHYgPSBwICsgX2M7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IChhc3NpZ24gPSBbdiwgdCwgcF0sIHIgPSBhc3NpZ25bMF0sIGcgPSBhc3NpZ25bMV0sIGIgPSBhc3NpZ25bMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMTogKGFzc2lnbiQxID0gW3EsIHYsIHBdLCByID0gYXNzaWduJDFbMF0sIGcgPSBhc3NpZ24kMVsxXSwgYiA9IGFzc2lnbiQxWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDI6IChhc3NpZ24kMiA9IFtwLCB2LCB0XSwgciA9IGFzc2lnbiQyWzBdLCBnID0gYXNzaWduJDJbMV0sIGIgPSBhc3NpZ24kMlsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAoYXNzaWduJDMgPSBbcCwgcSwgdl0sIHIgPSBhc3NpZ24kM1swXSwgZyA9IGFzc2lnbiQzWzFdLCBiID0gYXNzaWduJDNbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNDogKGFzc2lnbiQ0ID0gW3QsIHAsIHZdLCByID0gYXNzaWduJDRbMF0sIGcgPSBhc3NpZ24kNFsxXSwgYiA9IGFzc2lnbiQ0WzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IChhc3NpZ24kNSA9IFt2LCBwLCBxXSwgciA9IGFzc2lnbiQ1WzBdLCBnID0gYXNzaWduJDVbMV0sIGIgPSBhc3NpZ24kNVsyXSk7IGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiLCBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciBoY2cycmdiXzEgPSBoY2cycmdiO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDQgPSB1dGlscy50eXBlO1xuXG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmhjZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhjZ18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmhjZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjZyddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmhjZyA9IGhjZzJyZ2JfMTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGIoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkNChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRjID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDQgPSB1dGlscy5sYXN0O1xuICAgIHZhciByb3VuZCQzID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IyaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skYyhhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDQoYXJncykgfHwgJ2F1dG8nO1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChtb2RlID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIG1vZGUgPSBhIDwgMSA/ICdyZ2JhJyA6ICdyZ2InO1xuICAgICAgICB9XG4gICAgICAgIHIgPSByb3VuZCQzKHIpO1xuICAgICAgICBnID0gcm91bmQkMyhnKTtcbiAgICAgICAgYiA9IHJvdW5kJDMoYik7XG4gICAgICAgIHZhciB1ID0gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG4gICAgICAgIHZhciBzdHIgPSBcIjAwMDAwMFwiICsgdS50b1N0cmluZygxNik7IC8vIy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSA2KTtcbiAgICAgICAgdmFyIGh4YSA9ICcwJyArIHJvdW5kJDMoYSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBoeGEgPSBoeGEuc3Vic3RyKGh4YS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3dpdGNoIChtb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gKFwiI1wiICsgc3RyICsgaHhhKTtcbiAgICAgICAgICAgIGNhc2UgJ2FyZ2InOiByZXR1cm4gKFwiI1wiICsgaHhhICsgc3RyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAoXCIjXCIgKyBzdHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGV4XzEgPSByZ2IyaGV4O1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wdGlvbmFsIGxlYWRpbmcgI1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDQgfHwgaGV4Lmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHBhbmQgc2hvcnQtbm90YXRpb24gdG8gZnVsbCBzaXgtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgICAgICB2YXIgciA9IHUgPj4gMTY7XG4gICAgICAgICAgICB2YXIgZyA9IHUgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiA9IHUgJiAweEZGO1xuICAgICAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hdGNoIHJnYmEgaGV4IGZvcm1hdCwgZWcgI0ZGMDAwMDc3XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYQSkpIHtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA1IHx8IGhleC5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIGVpZ2h0LWRpZ2l0XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdK2hleFswXStoZXhbMV0raGV4WzFdK2hleFsyXStoZXhbMl0raGV4WzNdK2hleFszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1JDEgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByJDEgPSB1JDEgPj4gMjQgJiAweEZGO1xuICAgICAgICAgICAgdmFyIGckMSA9IHUkMSA+PiAxNiAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiQxID0gdSQxID4+IDggJiAweEZGO1xuICAgICAgICAgICAgdmFyIGEgPSBNYXRoLnJvdW5kKCh1JDEgJiAweEZGKSAvIDB4RkYgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFtyJDEsZyQxLGIkMSxhXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHVzZWQgdG8gY2hlY2sgZm9yIGNzcyBjb2xvcnMgaGVyZVxuICAgICAgICAvLyBpZiBfaW5wdXQuY3NzPyBhbmQgcmdiID0gX2lucHV0LmNzcyBoZXhcbiAgICAgICAgLy8gICAgIHJldHVybiByZ2JcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBoZXggY29sb3I6IFwiICsgaGV4KSk7XG4gICAgfTtcblxuICAgIHZhciBoZXgycmdiXzEgPSBoZXgycmdiO1xuXG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIHJldHVybiByZ2IyaGV4XzEodGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGV4J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDQsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJDUoaCkgPT09ICdzdHJpbmcnICYmIFszLDQsNSw2LDcsOCw5XS5pbmRleE9mKGgubGVuZ3RoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGQgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFRXT1BJID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIHZhciBhY29zID0gTWF0aC5hY29zO1xuXG4gICAgdmFyIHJnYjJoc2kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvcmdiMmhzaS5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRkKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIHZhciBtaW5fID0gbWluKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCgoci1nKSooci1nKSArIChyLWIpKihnLWIpKTtcbiAgICAgICAgICAgIGggPSBhY29zKGgpO1xuICAgICAgICAgICAgaWYgKGIgPiBnKSB7XG4gICAgICAgICAgICAgICAgaCA9IFRXT1BJIC0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggLz0gVFdPUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaTtcblxuICAgIHZhciB1bnBhY2skZSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGltaXQkMSA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcztcblxuICAgIC8qXG4gICAgICogaHVlIFswLi4zNjBdXG4gICAgICogc2F0dXJhdGlvbiBbMC4uMV1cbiAgICAgKiBpbnRlbnNpdHkgWzAuLjFdXG4gICAgICovXG4gICAgdmFyIGhzaTJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvaHNpMnJnYi5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgYXJncyA9IHVucGFjayRlKGFyZ3MsICdoc2knKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBpID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuXG4gICAgICAgIGlmIChpc05hTihoKSkgeyBoID0gMDsgfVxuICAgICAgICBpZiAoaXNOYU4ocykpIHsgcyA9IDA7IH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGh1ZVxuICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgIGlmIChoIDwgMS8zKSB7XG4gICAgICAgICAgICBiID0gKDEtcykvMztcbiAgICAgICAgICAgIHIgPSAoMStzKmNvcyhUV09QSSQxKmgpL2NvcyhQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgYiA9IDEgLSAocitnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLT0gMi8zO1xuICAgICAgICAgICAgZyA9ICgxLXMpLzM7XG4gICAgICAgICAgICBiID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgciA9IDEgLSAoZytiKTtcbiAgICAgICAgfVxuICAgICAgICByID0gbGltaXQkMShpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdCQxKGkqZyozKTtcbiAgICAgICAgYiA9IGxpbWl0JDEoaSpiKjMpO1xuICAgICAgICByZXR1cm4gW3IqMjU1LCBnKjI1NSwgYioyNTUsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzaTJyZ2JfMSA9IGhzaTJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNpXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNpID0gaHNpMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnaHNpJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ2KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2knO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGcgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNyA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNsID0gaHNsMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZyhhcmdzLCAnaHNsJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIG1pbiQxID0gTWF0aC5taW47XG4gICAgdmFyIG1heCQxID0gTWF0aC5tYXg7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHN2KHIsZyxiKVxuICAgICAqIC0gcmdiMmhzdihbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzdih7cixnLGJ9KVxuICAgICAqL1xuICAgIHZhciByZ2IyaHNsJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRoKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIG1pbl8gPSBtaW4kMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heF8gPSBtYXgkMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4XyAtIG1pbl87XG4gICAgICAgIHZhciBoLHMsdjtcbiAgICAgICAgdiA9IG1heF8gLyAyNTUuMDtcbiAgICAgICAgaWYgKG1heF8gPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gZGVsdGEgLyBtYXhfO1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heF8pIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heF8pIHsgaCA9IDIrKGIgLSByKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoYiA9PT0gbWF4XykgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIHMsIHZdXG4gICAgfTtcblxuICAgIHZhciByZ2IyaHN2ID0gcmdiMmhzbCQxO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAgIHZhciBoc3YycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRpKGFyZ3MsICdoc3YnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciB2ID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuICAgICAgICB2ICo9IDI1NTtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaCA9PT0gMzYwKSB7IGggPSAwOyB9XG4gICAgICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgICAgICBoIC89IDYwO1xuXG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yJDEoaCk7XG4gICAgICAgICAgICB2YXIgZiA9IGggLSBpO1xuICAgICAgICAgICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgIHZhciBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogKGFzc2lnbiA9IFt2LCB0LCBwXSwgciA9IGFzc2lnblswXSwgZyA9IGFzc2lnblsxXSwgYiA9IGFzc2lnblsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAoYXNzaWduJDEgPSBbcSwgdiwgcF0sIHIgPSBhc3NpZ24kMVswXSwgZyA9IGFzc2lnbiQxWzFdLCBiID0gYXNzaWduJDFbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMjogKGFzc2lnbiQyID0gW3AsIHYsIHRdLCByID0gYXNzaWduJDJbMF0sIGcgPSBhc3NpZ24kMlsxXSwgYiA9IGFzc2lnbiQyWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM6IChhc3NpZ24kMyA9IFtwLCBxLCB2XSwgciA9IGFzc2lnbiQzWzBdLCBnID0gYXNzaWduJDNbMV0sIGIgPSBhc3NpZ24kM1syXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAoYXNzaWduJDQgPSBbdCwgcCwgdl0sIHIgPSBhc3NpZ24kNFswXSwgZyA9IGFzc2lnbiQ0WzFdLCBiID0gYXNzaWduJDRbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNTogKGFzc2lnbiQ1ID0gW3YsIHAsIHFdLCByID0gYXNzaWduJDVbMF0sIGcgPSBhc3NpZ24kNVsxXSwgYiA9IGFzc2lnbiQ1WzJdKTsgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLGFyZ3MubGVuZ3RoID4gMz9hcmdzWzNdOjFdO1xuICAgIH07XG5cbiAgICB2YXIgaHN2MnJnYl8xID0gaHN2MnJnYjtcblxuICAgIHZhciB1bnBhY2skaiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ4ID0gdXRpbHMudHlwZTtcblxuXG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oc3YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc3YodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHN2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHN2J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHN2ID0gaHN2MnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaihhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ4KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBwb3cgPSBNYXRoLnBvdztcblxuICAgIHZhciByZ2IybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skayhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X2xhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0ID4gbGFiQ29uc3RhbnRzLnQzKSB7IHJldHVybiBwb3codCwgMSAvIDMpOyB9XG4gICAgICAgIHJldHVybiB0IC8gbGFiQ29uc3RhbnRzLnQyICsgbGFiQ29uc3RhbnRzLnQwO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnh5eiA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICByID0gcmdiX3h5eihyKTtcbiAgICAgICAgZyA9IHJnYl94eXooZyk7XG4gICAgICAgIGIgPSByZ2JfeHl6KGIpO1xuICAgICAgICB2YXIgeCA9IHh5el9sYWIoKDAuNDEyNDU2NCAqIHIgKyAwLjM1NzU3NjEgKiBnICsgMC4xODA0Mzc1ICogYikgLyBsYWJDb25zdGFudHMuWG4pO1xuICAgICAgICB2YXIgeSA9IHh5el9sYWIoKDAuMjEyNjcyOSAqIHIgKyAwLjcxNTE1MjIgKiBnICsgMC4wNzIxNzUwICogYikgLyBsYWJDb25zdGFudHMuWW4pO1xuICAgICAgICB2YXIgeiA9IHh5el9sYWIoKDAuMDE5MzMzOSAqIHIgKyAwLjExOTE5MjAgKiBnICsgMC45NTAzMDQxICogYikgLyBsYWJDb25zdGFudHMuWm4pO1xuICAgICAgICByZXR1cm4gW3gseSx6XTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsYWJfMSA9IHJnYjJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJGwgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyQxID0gTWF0aC5wb3c7XG5cbiAgICAvKlxuICAgICAqIEwqIFswLi4xMDBdXG4gICAgICogYSBbLTEwMC4uMTAwXVxuICAgICAqIGIgWy0xMDAuLjEwMF1cbiAgICAgKi9cbiAgICB2YXIgbGFiMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgeCx5LHosIHIsZyxiXztcblxuICAgICAgICB5ID0gKGwgKyAxNikgLyAxMTY7XG4gICAgICAgIHggPSBpc05hTihhKSA/IHkgOiB5ICsgYSAvIDUwMDtcbiAgICAgICAgeiA9IGlzTmFOKGIpID8geSA6IHkgLSBiIC8gMjAwO1xuXG4gICAgICAgIHkgPSBsYWJDb25zdGFudHMuWW4gKiBsYWJfeHl6KHkpO1xuICAgICAgICB4ID0gbGFiQ29uc3RhbnRzLlhuICogbGFiX3h5eih4KTtcbiAgICAgICAgeiA9IGxhYkNvbnN0YW50cy5abiAqIGxhYl94eXooeik7XG5cbiAgICAgICAgciA9IHh5el9yZ2IoMy4yNDA0NTQyICogeCAtIDEuNTM3MTM4NSAqIHkgLSAwLjQ5ODUzMTQgKiB6KTsgIC8vIEQ2NSAtPiBzUkdCXG4gICAgICAgIGcgPSB4eXpfcmdiKC0wLjk2OTI2NjAgKiB4ICsgMS44NzYwMTA4ICogeSArIDAuMDQxNTU2MCAqIHopO1xuICAgICAgICBiXyA9IHh5el9yZ2IoMC4wNTU2NDM0ICogeCAtIDAuMjA0MDI1OSAqIHkgKyAxLjA1NzIyNTIgKiB6KTtcblxuICAgICAgICByZXR1cm4gW3IsZyxiXyxhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciB4eXpfcmdiID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIDI1NSAqIChyIDw9IDAuMDAzMDQgPyAxMi45MiAqIHIgOiAxLjA1NSAqIHBvdyQxKHIsIDEgLyAyLjQpIC0gMC4wNTUpXG4gICAgfTtcblxuICAgIHZhciBsYWJfeHl6ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPiBsYWJDb25zdGFudHMudDEgPyB0ICogdCAqIHQgOiBsYWJDb25zdGFudHMudDIgKiAodCAtIGxhYkNvbnN0YW50cy50MClcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJyZ2JfMSA9IGxhYjJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJG0gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkOSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybGFiXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGFiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubGFiID0gbGFiMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skbShhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJG4gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yID0gTWF0aC5hdGFuMjtcbiAgICB2YXIgcm91bmQkNCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbGFiMmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJG4oYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYyA9IHNxcnQkMShhICogYSArIGIgKiBiKTtcbiAgICAgICAgdmFyIGggPSAoYXRhbjIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDQoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJG8gPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIHJnYjJsY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRvKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gcmdiMmxhYl8xKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoXzEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJHAgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIERFRzJSQUQgPSB1dGlscy5ERUcyUkFEO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcblxuICAgIHZhciBsY2gybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHAoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQxKGgpICogYywgc2luKGgpICogY11cbiAgICB9O1xuXG4gICAgdmFyIGxjaDJsYWJfMSA9IGxjaDJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJHEgPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIGxjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWJfMSAobCxjLGgpO1xuICAgICAgICB2YXIgTCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gbGFiMnJnYl8xIChMLGEsYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGxjaDJyZ2JfMSA9IGxjaDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG5cblxuICAgIHZhciBoY2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBoY2wgPSB1bnBhY2skcihhcmdzLCAnaGNsJykucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gbGNoMnJnYl8xLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHMgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkYSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoXzEodGhpcy5fcmdiKTsgfTtcbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oY2wgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYjJsY2hfMSh0aGlzLl9yZ2IpLnJldmVyc2UoKTsgfTtcblxuICAgIGNocm9tYV8xLmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2xjaCddKSApKTtcbiAgICB9O1xuICAgIGNocm9tYV8xLmhjbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjbCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmxjaCA9IGxjaDJyZ2JfMTtcbiAgICBpbnB1dC5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayRzKGFyZ3MsIG0pO1xuICAgICAgICAgICAgaWYgKHR5cGUkYShhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pO1xuXG4gICAgLyoqXG4gICAgXHRYMTEgY29sb3IgbmFtZXNcblxuICAgIFx0aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAgKi9cblxuICAgIHZhciB3M2N4MTEgPSB7XG4gICAgICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgICAgICBhbnRpcXVld2hpdGU6ICcjZmFlYmQ3JyxcbiAgICAgICAgYXF1YTogJyMwMGZmZmYnLFxuICAgICAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgICAgIGF6dXJlOiAnI2YwZmZmZicsXG4gICAgICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgICAgICBibGFjazogJyMwMDAwMDAnLFxuICAgICAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgICAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgICAgIGJsdWV2aW9sZXQ6ICcjOGEyYmUyJyxcbiAgICAgICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICAgICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgICAgIGNhZGV0Ymx1ZTogJyM1ZjllYTAnLFxuICAgICAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgICAgICBjb3JhbDogJyNmZjdmNTAnLFxuICAgICAgICBjb3JuZmxvd2VyOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICAgICAgY3lhbjogJyMwMGZmZmYnLFxuICAgICAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgICAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgICAgICBkYXJrZ29sZGVucm9kOiAnI2I4ODYwYicsXG4gICAgICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgICAgICBkYXJrZ3JleTogJyNhOWE5YTknLFxuICAgICAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICAgICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICAgICAgZGFya29saXZlZ3JlZW46ICcjNTU2YjJmJyxcbiAgICAgICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgICAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgICAgIGRhcmtyZWQ6ICcjOGIwMDAwJyxcbiAgICAgICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgICAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICAgICAgZGFya3NsYXRlYmx1ZTogJyM0ODNkOGInLFxuICAgICAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICAgICAgZGFya3R1cnF1b2lzZTogJyMwMGNlZDEnLFxuICAgICAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgICAgIGRlZXBza3libHVlOiAnIzAwYmZmZicsXG4gICAgICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgICAgICBkb2RnZXJibHVlOiAnIzFlOTBmZicsXG4gICAgICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgICAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgICAgICBmb3Jlc3RncmVlbjogJyMyMjhiMjInLFxuICAgICAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgICAgICBnaG9zdHdoaXRlOiAnI2Y4ZjhmZicsXG4gICAgICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICAgICAgZ29sZGVucm9kOiAnI2RhYTUyMCcsXG4gICAgICAgIGdyYXk6ICcjODA4MDgwJyxcbiAgICAgICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICAgICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICAgICAgZ3JleTogJyM4MDgwODAnLFxuICAgICAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgICAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgICAgIGluZGlhbnJlZDogJyNjZDVjNWMnLFxuICAgICAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICAgICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICAgICAga2hha2k6ICcjZjBlNjhjJyxcbiAgICAgICAgbGFzZXJsZW1vbjogJyNmZmZmNTQnLFxuICAgICAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgICAgICBsYXZlbmRlcmJsdXNoOiAnI2ZmZjBmNScsXG4gICAgICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgICAgICBsZW1vbmNoaWZmb246ICcjZmZmYWNkJyxcbiAgICAgICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICAgICAgbGlnaHRjeWFuOiAnI2UwZmZmZicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9kOiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodGdyZWVuOiAnIzkwZWU5MCcsXG4gICAgICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICAgICAgbGlnaHRzYWxtb246ICcjZmZhMDdhJyxcbiAgICAgICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgICAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyYXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICAgICAgbGlnaHR5ZWxsb3c6ICcjZmZmZmUwJyxcbiAgICAgICAgbGltZTogJyMwMGZmMDAnLFxuICAgICAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICAgICAgbGluZW46ICcjZmFmMGU2JyxcbiAgICAgICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgICAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICAgICAgbWFyb29uMjogJyM3ZjAwMDAnLFxuICAgICAgICBtYXJvb24zOiAnI2IwMzA2MCcsXG4gICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICAgICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgICAgICBtZWRpdW1vcmNoaWQ6ICcjYmE1NWQzJyxcbiAgICAgICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgICAgIG1lZGl1bXNsYXRlYmx1ZTogJyM3YjY4ZWUnLFxuICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgICAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICAgICAgbWVkaXVtdmlvbGV0cmVkOiAnI2M3MTU4NScsXG4gICAgICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgICAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICAgICAgbWlzdHlyb3NlOiAnI2ZmZTRlMScsXG4gICAgICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgICAgIG5hdnk6ICcjMDAwMDgwJyxcbiAgICAgICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgICAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgICAgICBvbGl2ZWRyYWI6ICcjNmI4ZTIzJyxcbiAgICAgICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgICAgICBvcmNoaWQ6ICcjZGE3MGQ2JyxcbiAgICAgICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgICAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICAgICAgcGFsZXR1cnF1b2lzZTogJyNhZmVlZWUnLFxuICAgICAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICAgICAgcGVhY2hwdWZmOiAnI2ZmZGFiOScsXG4gICAgICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICAgICAgcGluazogJyNmZmMwY2InLFxuICAgICAgICBwbHVtOiAnI2RkYTBkZCcsXG4gICAgICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICAgICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgICAgIHB1cnBsZTI6ICcjN2YwMDdmJyxcbiAgICAgICAgcHVycGxlMzogJyNhMDIwZjAnLFxuICAgICAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgICAgIHJlZDogJyNmZjAwMDAnLFxuICAgICAgICByb3N5YnJvd246ICcjYmM4ZjhmJyxcbiAgICAgICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgICAgIHNhbG1vbjogJyNmYTgwNzInLFxuICAgICAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgICAgIHNlYXNoZWxsOiAnI2ZmZjVlZScsXG4gICAgICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgICAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICAgICAgc2t5Ymx1ZTogJyM4N2NlZWInLFxuICAgICAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICAgICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgICAgIHNsYXRlZ3JleTogJyM3MDgwOTAnLFxuICAgICAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgICAgIHN0ZWVsYmx1ZTogJyM0NjgyYjQnLFxuICAgICAgICB0YW46ICcjZDJiNDhjJyxcbiAgICAgICAgdGVhbDogJyMwMDgwODAnLFxuICAgICAgICB0aGlzdGxlOiAnI2Q4YmZkOCcsXG4gICAgICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgICAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICAgICAgdmlvbGV0OiAnI2VlODJlZScsXG4gICAgICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgICAgIHdoaXRlc21va2U6ICcjZjVmNWY1JyxcbiAgICAgICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMidcbiAgICB9O1xuXG4gICAgdmFyIHczY3gxMV8xID0gdzNjeDExO1xuXG4gICAgdmFyIHR5cGUkYiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXhfMSh0aGlzLl9yZ2IsICdyZ2InKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyh3M2N4MTFfMSk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgIGlmICh3M2N4MTFfMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodzNjeDExXzFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2JfMSh3M2N4MTFfMVtuYW1lXSk7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbG9yIG5hbWU6ICcrbmFtZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDUsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJGIoaCkgPT09ICdzdHJpbmcnICYmIHczY3gxMV8xW2gudG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25hbWVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayR0KGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgcmV0dXJuIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJudW1fMSA9IHJnYjJudW07XG5cbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRjKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubnVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbnVtJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNSxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlJGQoYXJnc1swXSkgPT09ICdudW1iZXInICYmIGFyZ3NbMF0gPj0gMCAmJiBhcmdzWzBdIDw9IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJHUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHJvdW5kJDUgPSBNYXRoLnJvdW5kO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24ocm5kKSB7XG4gICAgICAgIGlmICggcm5kID09PSB2b2lkIDAgKSBybmQ9dHJ1ZTtcblxuICAgICAgICBpZiAocm5kID09PSBmYWxzZSkgeyByZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyk7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpLm1hcChyb3VuZCQ1KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiYSA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDQpLm1hcChmdW5jdGlvbiAodixpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTwzID8gKHJuZCA9PT0gZmFsc2UgPyB2IDogcm91bmQkNSh2KSkgOiB2O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsncmdiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJHUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAncmdiYScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZShhcmdzKSA9PT0gJ2FycmF5JyAmJiAoYXJncy5sZW5ndGggPT09IDMgfHxcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlJGUoYXJnc1szXSkgPT0gJ251bWJlcicgJiYgYXJnc1szXSA+PSAwICYmIGFyZ3NbM10gPD0gMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQmFzZWQgb24gaW1wbGVtZW50YXRpb24gYnkgTmVpbCBCYXJ0bGV0dFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZWlsYmFydGxldHQvY29sb3ItdGVtcGVyYXR1cmVcbiAgICAgKi9cblxuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2coZyk7XG4gICAgICAgICAgICBiID0gdGVtcCA8IDIwID8gMCA6IC0yNTQuNzY5MzUxODQxMjA5MDIgKyAwLjgyNzQwOTYwNjQwMDczOTUgKiAoYiA9IHRlbXAtMTApICsgMTE1LjY3OTk0NDAxMDY2MTQ3ICogbG9nKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IDM1MS45NzY5MDU2NjgwNTY5MyArIDAuMTE0MjA2NDUzNzg0MTY1ICogKHIgPSB0ZW1wLTU1KSAtIDQwLjI1MzY2MzA5MzMyMTI3ICogbG9nKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nKGcpO1xuICAgICAgICAgICAgYiA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgIH07XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiXzEgPSB0ZW1wZXJhdHVyZTJyZ2I7XG5cbiAgICAvKlxuICAgICAqIEJhc2VkIG9uIGltcGxlbWVudGF0aW9uIGJ5IE5laWwgQmFydGxldHRcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbmVpbGJhcnRsZXR0L2NvbG9yLXRlbXBlcmF0dXJlXG4gICAgICoqL1xuXG5cbiAgICB2YXIgdW5wYWNrJHYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIHJnYjJ0ZW1wZXJhdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJHYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYl8xKHRlbXApO1xuICAgICAgICAgICAgaWYgKChyZ2IkMVsyXSAvIHJnYiQxWzBdKSA+PSAoYiAvIHIpKSB7XG4gICAgICAgICAgICAgICAgbWF4VGVtcCA9IHRlbXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3VuZCQ2KHRlbXApO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnRlbXBlcmF0dXJlXzEgPSByZ2IydGVtcGVyYXR1cmU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS50ZW1wID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5rZWx2aW4gPVxuICAgIENvbG9yXzEucHJvdG90eXBlLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IydGVtcGVyYXR1cmVfMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS50ZW1wID1cbiAgICBjaHJvbWFfMS5rZWx2aW4gPVxuICAgIGNocm9tYV8xLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LnRlbXAgPVxuICAgIGlucHV0LmZvcm1hdC5rZWx2aW4gPVxuICAgIGlucHV0LmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHR5cGUkZiA9IHV0aWxzLnR5cGU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5hbHBoYSA9IGZ1bmN0aW9uKGEsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlPWZhbHNlO1xuXG4gICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQgJiYgdHlwZSRmKGEpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JnYlszXSA9IGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoW3RoaXMuX3JnYlswXSwgdGhpcy5fcmdiWzFdLCB0aGlzLl9yZ2JbMl0sIGFdLCAncmdiJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYlszXTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuY2xpcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmdiLl9jbGlwcGVkIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5kYXJrZW4gPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsYWIgPSBtZS5sYWIoKTtcbiAgICBcdGxhYlswXSAtPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGFiLCAnbGFiJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHJldHVybiB0aGlzLmRhcmtlbigtYW1vdW50KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuZGFya2VyID0gQ29sb3JfMS5wcm90b3R5cGUuZGFya2VuO1xuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVyID0gQ29sb3JfMS5wcm90b3R5cGUuYnJpZ2h0ZW47XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihtYykge1xuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7IHJldHVybiBzcmNbaV07IH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR5cGUkZyA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQyID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSRnKGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yXzEoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDIoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yID0ge307XG5cbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcblxuXG4gICAgdmFyIG1peCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAzIF07XG5cbiAgICAgICAgdmFyIG1vZGUgPSByZXN0WzBdIHx8ICdscmdiJztcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0gJiYgIXJlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHN1cHBvcnRlZCBtb2RlXG4gICAgICAgICAgICBtb2RlID0gT2JqZWN0LmtleXMoaW50ZXJwb2xhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVycG9sYXRvclttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImludGVycG9sYXRpb24gbW9kZSBcIiArIG1vZGUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUkaChjb2wxKSAhPT0gJ29iamVjdCcpIHsgY29sMSA9IG5ldyBDb2xvcl8xKGNvbDEpOyB9XG4gICAgICAgIGlmICh0eXBlJGgoY29sMikgIT09ICdvYmplY3QnKSB7IGNvbDIgPSBuZXcgQ29sb3JfMShjb2wyKTsgfVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yW21vZGVdKGNvbDEsIGNvbDIsIGYpXG4gICAgICAgICAgICAuYWxwaGEoY29sMS5hbHBoYSgpICsgZiAqIChjb2wyLmFscGhhKCkgLSBjb2wxLmFscGhhKCkpKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubWl4ID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKGNvbDIsIGYpIHtcbiAgICBcdGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgXHR2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBcdHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICAgIFx0cmV0dXJuIG1peC5hcHBseSh2b2lkIDAsIFsgdGhpcywgY29sMiwgZiBdLmNvbmNhdCggcmVzdCApKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucHJlbXVsdGlwbHkgPSBmdW5jdGlvbihtdXRhdGUpIHtcbiAgICBcdGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICBcdHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgXHR2YXIgYSA9IHJnYlszXTtcbiAgICBcdGlmIChtdXRhdGUpIHtcbiAgICBcdFx0dGhpcy5fcmdiID0gW3JnYlswXSphLCByZ2JbMV0qYSwgcmdiWzJdKmEsIGFdO1xuICAgIFx0XHRyZXR1cm4gdGhpcztcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHJldHVybiBuZXcgQ29sb3JfMShbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV0sICdyZ2InKTtcbiAgICBcdH1cbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsY2ggPSBtZS5sY2goKTtcbiAgICBcdGxjaFsxXSArPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJGkgPSB1dGlscy50eXBlO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obWMsIHZhbHVlLCBtdXRhdGUpIHtcbiAgICAgICAgaWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaSh2YWx1ZSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKyc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKic6IHNyY1tpXSAqPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6IHNyY1tpXSAvPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc3JjW2ldID0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlJGkodmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzcmNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB2YWx1ZSBmb3IgQ29sb3Iuc2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3V0ID0gbmV3IENvbG9yXzEoc3JjLCBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JnYiA9IG91dC5fcmdiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJnYiQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIHh5ejAgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5fcmdiO1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoXG4gICAgICAgICAgICB4eXowWzBdICsgZiAqICh4eXoxWzBdLXh5ejBbMF0pLFxuICAgICAgICAgICAgeHl6MFsxXSArIGYgKiAoeHl6MVsxXS14eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0teHl6MFsyXSksXG4gICAgICAgICAgICAncmdiJ1xuICAgICAgICApXG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvci5yZ2IgPSByZ2IkMTtcblxuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQzID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHgxLDIpICogKDEtZikgKyBwb3ckMyh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHkxLDIpICogKDEtZikgKyBwb3ckMyh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHoxLDIpICogKDEtZikgKyBwb3ckMyh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubHJnYiA9IGxyZ2I7XG5cbiAgICB2YXIgbGFiJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGFiID0gbGFiJDE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHVlMCwgaHVlMSwgc2F0MCwgc2F0MSwgbGJ2MCwgbGJ2MTtcbiAgICAgICAgaWYgKG0uc3Vic3RyKDAsIDEpID09PSAnaCcpIHtcbiAgICAgICAgICAgIChhc3NpZ24gPSB4eXowLCBodWUwID0gYXNzaWduWzBdLCBzYXQwID0gYXNzaWduWzFdLCBsYnYwID0gYXNzaWduWzJdKTtcbiAgICAgICAgICAgIChhc3NpZ24kMSA9IHh5ejEsIGh1ZTEgPSBhc3NpZ24kMVswXSwgc2F0MSA9IGFzc2lnbiQxWzFdLCBsYnYxID0gYXNzaWduJDFbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhdCwgaHVlLCBsYnYsIGRoO1xuXG4gICAgICAgIGlmICghaXNOYU4oaHVlMCkgJiYgIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICAvLyBib3RoIGNvbG9ycyBoYXZlIGh1ZVxuICAgICAgICAgICAgaWYgKGh1ZTEgPiBodWUwICYmIGh1ZTEgLSBodWUwID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxLShodWUwKzM2MCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGh1ZTEgPCBodWUwICYmIGh1ZTAgLSBodWUxID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxKzM2MC1odWUwO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIGh1ZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBodWUwICsgZiAqIGRoO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUwKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMDtcbiAgICAgICAgICAgIGlmICgobGJ2MSA9PSAxIHx8IGxidjEgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQwOyB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICBodWUgPSBodWUxO1xuICAgICAgICAgICAgaWYgKChsYnYwID09IDEgfHwgbGJ2MCA9PSAwKSAmJiBtICE9ICdoc3YnKSB7IHNhdCA9IHNhdDE7IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IE51bWJlci5OYU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2F0ID09PSB1bmRlZmluZWQpIHsgc2F0ID0gc2F0MCArIGYgKiAoc2F0MSAtIHNhdDApOyB9XG4gICAgICAgIGxidiA9IGxidjAgKyBmICogKGxidjEtbGJ2MCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbaHVlLCBzYXQsIGxidl0sIG0pO1xuICAgIH07XG5cbiAgICB2YXIgbGNoJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2xjaCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGNoID0gbGNoJDE7XG4gICAgaW50ZXJwb2xhdG9yLmhjbCA9IGxjaCQxO1xuXG4gICAgdmFyIG51bSQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubnVtID0gbnVtJDE7XG5cbiAgICB2YXIgaGNnJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaGNnID0gaGNnJDE7XG5cbiAgICB2YXIgaHNpJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNpID0gaHNpJDE7XG5cbiAgICB2YXIgaHNsJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNsID0gaHNsJDE7XG5cbiAgICB2YXIgaHN2JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHN2ID0gaHN2JDE7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMSA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yXzEoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDEoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQxKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yXzEoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQzKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMyh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDMoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShjbGlwX3JnYiQyKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG5cbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBwb3ckNSA9IE1hdGgucG93O1xuXG4gICAgdmFyIHNjYWxlID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWFfMSgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkaihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWFfMS5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWFfMS5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hXzEuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJGooY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYV8xKGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQ1KHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSRqKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hXzEoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSRqKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYV8xLmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWFfMS5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMsIF9wb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYV8xW291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hXzEoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuXG5cblxuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvcl8xKGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICB2YXIgSTAgPSBiZXppZXIoY29sb3JzLnNsaWNlKDAsIDMpKTtcbiAgICAgICAgICAgIHZhciBJMSA9IGJlemllcihjb2xvcnMuc2xpY2UoMiwgNSkpO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTAodCoyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTEoKHQtMC41KSoyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgIH07XG5cbiAgICB2YXIgYmV6aWVyXzEgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG4gICAgICAgIHZhciBmID0gYmV6aWVyKGNvbG9ycyk7XG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FsZShmKTsgfTtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogaW50ZXJwb2xhdGVzIGJldHdlZW4gYSBzZXQgb2YgY29sb3JzIHV6aW5nIGEgYmV6aWVyIHNwbGluZVxuICAgICAqIGJsZW5kIG1vZGUgZm9ybXVsYXMgdGFrZW4gZnJvbSBodHRwOi8vd3d3LnZlbnR1cmUtd2FyZS5jb20va2V2aW4vY29kaW5nL2xldHMtbGVhcm4tbWF0aC1waG90b3Nob3AtYmxlbmQtbW9kZXMvXG4gICAgICovXG5cblxuXG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWFfMSh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hXzEoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMS5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiQxID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSA+IGIgPyBiIDogYTsgfTtcbiAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYSA6IGI7IH07XG4gICAgdmFyIHNjcmVlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIDI1NSAqICgxIC0gKDEtYS8yNTUpICogKDEtYi8yNTUpKTsgfTtcbiAgICB2YXIgb3ZlcmxheSA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGIgPCAxMjggPyAyICogYSAqIGIgLyAyNTUgOiAyNTUgKiAoMSAtIDIgKiAoMSAtIGEgLyAyNTUgKSAqICggMSAtIGIgLyAyNTUgKSk7IH07XG4gICAgdmFyIGJ1cm4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxIC0gYiAvIDI1NSkgLyAoYS8yNTUpKTsgfTtcbiAgICB2YXIgZG9kZ2UgPSBmdW5jdGlvbiAoYSxiKSB7XG4gICAgICAgIGlmIChhID09PSAyNTUpIHsgcmV0dXJuIDI1NTsgfVxuICAgICAgICBhID0gMjU1ICogKGIgLyAyNTUpIC8gKDEgLSBhIC8gMjU1KTtcbiAgICAgICAgcmV0dXJuIGEgPiAyNTUgPyAyNTUgOiBhXG4gICAgfTtcblxuICAgIC8vICMgYWRkID0gKGEsYikgLT5cbiAgICAvLyAjICAgICBpZiAoYSArIGIgPiAyNTUpIHRoZW4gMjU1IGVsc2UgYSArIGJcblxuICAgIGJsZW5kLm5vcm1hbCA9IGJsZW5kX2YoZWFjaChub3JtYWwpKTtcbiAgICBibGVuZC5tdWx0aXBseSA9IGJsZW5kX2YoZWFjaChtdWx0aXBseSkpO1xuICAgIGJsZW5kLnNjcmVlbiA9IGJsZW5kX2YoZWFjaChzY3JlZW4pKTtcbiAgICBibGVuZC5vdmVybGF5ID0gYmxlbmRfZihlYWNoKG92ZXJsYXkpKTtcbiAgICBibGVuZC5kYXJrZW4gPSBibGVuZF9mKGVhY2goZGFya2VuJDEpKTtcbiAgICBibGVuZC5saWdodGVuID0gYmxlbmRfZihlYWNoKGxpZ2h0ZW4pKTtcbiAgICBibGVuZC5kb2RnZSA9IGJsZW5kX2YoZWFjaChkb2RnZSkpO1xuICAgIGJsZW5kLmJ1cm4gPSBibGVuZF9mKGVhY2goYnVybikpO1xuICAgIC8vIGJsZW5kLmFkZCA9IGJsZW5kX2YoZWFjaChhZGQpKTtcblxuICAgIHZhciBibGVuZF8xID0gYmxlbmQ7XG5cbiAgICAvLyBjdWJlaGVsaXggaW50ZXJwb2xhdGlvblxuICAgIC8vIGJhc2VkIG9uIEQuQS4gR3JlZW4gXCJBIGNvbG91ciBzY2hlbWUgZm9yIHRoZSBkaXNwbGF5IG9mIGFzdHJvbm9taWNhbCBpbnRlbnNpdHkgaW1hZ2VzXCJcbiAgICAvLyBodHRwOi8vYXN0cm9uLXNvYy5pbi9idWxsZXRpbi8xMUp1bmUvMjg5MzkyMDExLnBkZlxuXG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNsaXBfcmdiJDMgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBwb3ckNiA9IE1hdGgucG93O1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBjb3MkMyA9IE1hdGguY29zO1xuXG5cbiAgICB2YXIgY3ViZWhlbGl4ID0gZnVuY3Rpb24oc3RhcnQsIHJvdGF0aW9ucywgaHVlLCBnYW1tYSwgbGlnaHRuZXNzKSB7XG4gICAgICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0PTMwMDtcbiAgICAgICAgaWYgKCByb3RhdGlvbnMgPT09IHZvaWQgMCApIHJvdGF0aW9ucz0tMS41O1xuICAgICAgICBpZiAoIGh1ZSA9PT0gdm9pZCAwICkgaHVlPTE7XG4gICAgICAgIGlmICggZ2FtbWEgPT09IHZvaWQgMCApIGdhbW1hPTE7XG4gICAgICAgIGlmICggbGlnaHRuZXNzID09PSB2b2lkIDAgKSBsaWdodG5lc3M9WzAsMV07XG5cbiAgICAgICAgdmFyIGRoID0gMCwgZGw7XG4gICAgICAgIGlmICh0eXBlJGsobGlnaHRuZXNzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgZGwgPSBsaWdodG5lc3NbMV0gLSBsaWdodG5lc3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICBsaWdodG5lc3MgPSBbbGlnaHRuZXNzLCBsaWdodG5lc3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihmcmFjdCkge1xuICAgICAgICAgICAgdmFyIGEgPSBUV09QSSQyICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQ2KGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDMoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMihhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMShjbGlwX3JnYiQzKFtyKjI1NSxnKjI1NSxiKjI1NSwxXSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc3RhcnQgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBpZiAoKHMgPT0gbnVsbCkpIHsgcmV0dXJuIHN0YXJ0OyB9XG4gICAgICAgICAgICBzdGFydCA9IHM7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnJvdGF0aW9ucyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGlmICgociA9PSBudWxsKSkgeyByZXR1cm4gcm90YXRpb25zOyB9XG4gICAgICAgICAgICByb3RhdGlvbnMgPSByO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5nYW1tYSA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgIGlmICgoZyA9PSBudWxsKSkgeyByZXR1cm4gZ2FtbWE7IH1cbiAgICAgICAgICAgIGdhbW1hID0gZztcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuaHVlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBodWU7IH1cbiAgICAgICAgICAgIGh1ZSA9IGg7XG4gICAgICAgICAgICBpZiAodHlwZSRrKGh1ZSkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZVsxXSAtIGh1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZGggPT09IDApIHsgaHVlID0gaHVlWzFdOyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYubGlnaHRuZXNzID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBsaWdodG5lc3M7IH1cbiAgICAgICAgICAgIGlmICh0eXBlJGsoaCkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBoO1xuICAgICAgICAgICAgICAgIGRsID0gaFsxXSAtIGhbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtoLGhdO1xuICAgICAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaHJvbWFfMS5zY2FsZShmKTsgfTtcblxuICAgICAgICBmLmh1ZShodWUpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICB2YXIgZGlnaXRzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIHZhciByYW5kb21fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSAnIyc7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gZGlnaXRzLmNoYXJBdChmbG9vciQyKHJhbmRvbSgpICogMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoY29kZSwgJ2hleCcpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nJDEgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IkMyA9IE1hdGguZmxvb3I7XG4gICAgdmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2ckMShtaW4pO1xuICAgICAgICAgICAgdmFyIG1heF9sb2cgPSBNYXRoLkxPRzEwRSAqIGxvZyQxKG1heCk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTE7IGkkMTxudW07IGkkMSsrKSB7XG4gICAgICAgICAgICAgICAgbGltaXRzLnB1c2gocG93JDcoMTAsIG1pbl9sb2cgKyAoKGkkMS9udW0pICogKG1heF9sb2cgLSBtaW5fbG9nKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAncScpIHsgLy8gcXVhbnRpbGUgc2NhbGVcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MTsgaSQyPG51bTsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9ICgodmFsdWVzLmxlbmd0aC0xKSAqIGkkMikvbnVtO1xuICAgICAgICAgICAgICAgIHZhciBwYiA9IGZsb29yJDMocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzKGNlbnRyb2lkc1tqJDFdLXZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluZGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVyU2l6ZXNbYmVzdF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW2kkNF0gPSBiZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbnRyb2lkcyBzdGVwXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NlbnRyb2lkcyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMj0wOyBqJDI8bnVtOyBqJDIrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkkNT0wOyBpJDU8bjsgaSQ1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbY2x1c3Rlcl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdICs9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMz0wOyBqJDM8bnVtOyBqJDMrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQzXSAqPSAxL2NsdXN0ZXJTaXplc1tqJDNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGNvbnZlcmdlbmNlXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQ0PTA7IGokNDxudW07IGokNCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbaiQ0XSAhPT0gY2VudHJvaWRzW2okNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRyb2lkcyA9IG5ld0NlbnRyb2lkcztcbiAgICAgICAgICAgICAgICBuYl9pdGVycysrO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5iX2l0ZXJzID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmluaXNoZWQgay1tZWFucyBjbHVzdGVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0IGlzIGJvcnJvd2VkIGZyb20gZ2FicmllbGZsb3IuaXRcbiAgICAgICAgICAgIHZhciBrQ2x1c3RlcnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGokNT0wOyBqJDU8bnVtOyBqJDUrKykge1xuICAgICAgICAgICAgICAgIGtDbHVzdGVyc1tqJDVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpJDY9MDsgaSQ2PG47IGkkNisrKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNl07XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2NsdXN0ZXJdLnB1c2godmFsdWVzW2kkNl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRtcEtNZWFuc0JyZWFrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ2PTA7IGokNjxudW07IGokNisrKSB7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1bMF0pO1xuICAgICAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcy5wdXNoKGtDbHVzdGVyc1tqJDZdW2tDbHVzdGVyc1tqJDZdLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MgPSB0bXBLTWVhbnNCcmVha3Muc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaCh0bXBLTWVhbnNCcmVha3NbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ3PTE7IGkkNyA8IHRtcEtNZWFuc0JyZWFrcy5sZW5ndGg7IGkkNys9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRtcEtNZWFuc0JyZWFrc1tpJDddO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odikgJiYgKGxpbWl0cy5pbmRleE9mKHYpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfTtcblxuICAgIHZhciBhbmFseXplXzEgPSB7YW5hbHl6ZTogYW5hbHl6ZSwgbGltaXRzOiBsaW1pdHN9O1xuXG4gICAgdmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gV0NBRyBjb250cmFzdCByYXRpb1xuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZlxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5sdW1pbmFuY2UoKTtcbiAgICAgICAgdmFyIGwyID0gYi5sdW1pbmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGwxID4gbDIgPyAobDEgKyAwLjA1KSAvIChsMiArIDAuMDUpIDogKGwyICsgMC4wNSkgLyAobDEgKyAwLjA1KTtcbiAgICB9O1xuXG4gICAgdmFyIHNxcnQkNCA9IE1hdGguc3FydDtcbiAgICB2YXIgYXRhbjIkMiA9IE1hdGguYXRhbjI7XG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG4gICAgdmFyIGNvcyQ0ID0gTWF0aC5jb3M7XG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEwsIEMpIHtcbiAgICAgICAgaWYgKCBMID09PSB2b2lkIDAgKSBMPTE7XG4gICAgICAgIGlmICggQyA9PT0gdm9pZCAwICkgQz0xO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENNQylcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DTUMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIHJlZiA9IEFycmF5LmZyb20oYS5sYWIoKSk7XG4gICAgICAgIHZhciBMMSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGExID0gcmVmWzFdO1xuICAgICAgICB2YXIgYjEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IEFycmF5LmZyb20oYi5sYWIoKSk7XG4gICAgICAgIHZhciBMMiA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgYTIgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGIyID0gcmVmJDFbMl07XG4gICAgICAgIHZhciBjMSA9IHNxcnQkNCgoYTEgKiBhMSkgKyAoYjEgKiBiMSkpO1xuICAgICAgICB2YXIgYzIgPSBzcXJ0JDQoKGEyICogYTIpICsgKGIyICogYjIpKTtcbiAgICAgICAgdmFyIHNsID0gTDEgPCAxNi4wID8gMC41MTEgOiAoMC4wNDA5NzUgKiBMMSkgLyAoMS4wICsgKDAuMDE3NjUgKiBMMSkpO1xuICAgICAgICB2YXIgc2MgPSAoKDAuMDYzOCAqIGMxKSAvICgxLjAgKyAoMC4wMTMxICogYzEpKSkgKyAwLjYzODtcbiAgICAgICAgdmFyIGgxID0gYzEgPCAwLjAwMDAwMSA/IDAuMCA6IChhdGFuMiQyKGIxLCBhMSkgKiAxODAuMCkgLyBQSSQyO1xuICAgICAgICB3aGlsZSAoaDEgPCAwKSB7IGgxICs9IDM2MDsgfVxuICAgICAgICB3aGlsZSAoaDEgPj0gMzYwKSB7IGgxIC09IDM2MDsgfVxuICAgICAgICB2YXIgdCA9IChoMSA+PSAxNjQuMCkgJiYgKGgxIDw9IDM0NS4wKSA/ICgwLjU2ICsgYWJzJDEoMC4yICogY29zJDQoKFBJJDIgKiAoaDEgKyAxNjguMCkpIC8gMTgwLjApKSkgOiAoMC4zNiArIGFicyQxKDAuNCAqIGNvcyQ0KChQSSQyICogKGgxICsgMzUuMCkpIC8gMTgwLjApKSk7XG4gICAgICAgIHZhciBjNCA9IGMxICogYzEgKiBjMSAqIGMxO1xuICAgICAgICB2YXIgZiA9IHNxcnQkNChjNCAvIChjNCArIDE5MDAuMCkpO1xuICAgICAgICB2YXIgc2ggPSBzYyAqICgoKGYgKiB0KSArIDEuMCkgLSBmKTtcbiAgICAgICAgdmFyIGRlbEwgPSBMMSAtIEwyO1xuICAgICAgICB2YXIgZGVsQyA9IGMxIC0gYzI7XG4gICAgICAgIHZhciBkZWxBID0gYTEgLSBhMjtcbiAgICAgICAgdmFyIGRlbEIgPSBiMSAtIGIyO1xuICAgICAgICB2YXIgZEgyID0gKChkZWxBICogZGVsQSkgKyAoZGVsQiAqIGRlbEIpKSAtIChkZWxDICogZGVsQyk7XG4gICAgICAgIHZhciB2MSA9IGRlbEwgLyAoTCAqIHNsKTtcbiAgICAgICAgdmFyIHYyID0gZGVsQyAvIChDICogc2MpO1xuICAgICAgICB2YXIgdjMgPSBzaDtcbiAgICAgICAgcmV0dXJuIHNxcnQkNCgodjEgKiB2MSkgKyAodjIgKiB2MikgKyAoZEgyIC8gKHYzICogdjMpKSk7XG4gICAgfTtcblxuICAgIC8vIHNpbXBsZSBFdWNsaWRlYW4gZGlzdGFuY2VcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiLCBtb2RlKSB7XG4gICAgICAgIGlmICggbW9kZSA9PT0gdm9pZCAwICkgbW9kZT0nbGFiJztcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMTk3NilcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXF1YXRpb25zLmh0bWxcbiAgICAgICAgYSA9IG5ldyBDb2xvcl8xKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yXzEoYik7XG4gICAgICAgIHZhciBsMSA9IGEuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgbDIgPSBiLmdldChtb2RlKTtcbiAgICAgICAgdmFyIHN1bV9zcSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbDEpIHtcbiAgICAgICAgICAgIHZhciBkID0gKGwxW2ldIHx8IDApIC0gKGwyW2ldIHx8IDApO1xuICAgICAgICAgICAgc3VtX3NxICs9IGQqZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bV9zcSk7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzKSApKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc29tZSBwcmUtZGVmaW5lZCBjb2xvciBzY2FsZXM6XG5cblxuXG5cbiAgICB2YXIgc2NhbGVzID0ge1xuICAgIFx0Y29vbDogZnVuY3Rpb24gY29vbCgpIHsgcmV0dXJuIHNjYWxlKFtjaHJvbWFfMS5oc2woMTgwLDEsLjkpLCBjaHJvbWFfMS5oc2woMjUwLC43LC40KV0pIH0sXG4gICAgXHRob3Q6IGZ1bmN0aW9uIGhvdCgpIHsgcmV0dXJuIHNjYWxlKFsnIzAwMCcsJyNmMDAnLCcjZmYwJywnI2ZmZiddLCBbMCwuMjUsLjc1LDFdKS5tb2RlKCdyZ2InKSB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgICBDb2xvckJyZXdlciBjb2xvcnMgZm9yIGNocm9tYS5qc1xuXG4gICAgICAgIENvcHlyaWdodCAoYykgMjAwMiBDeW50aGlhIEJyZXdlciwgTWFyayBIYXJyb3dlciwgYW5kIFRoZVxuICAgICAgICBQZW5uc3lsdmFuaWEgU3RhdGUgVW5pdmVyc2l0eS5cblxuICAgICAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICAgICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICAgICAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG4gICAgICAgIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SXG4gICAgICAgIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gICAgICAgIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAgKi9cblxuICAgIHZhciBjb2xvcmJyZXdlciA9IHtcbiAgICAgICAgLy8gc2VxdWVudGlhbFxuICAgICAgICBPclJkOiBbJyNmZmY3ZWMnLCAnI2ZlZThjOCcsICcjZmRkNDllJywgJyNmZGJiODQnLCAnI2ZjOGQ1OScsICcjZWY2NTQ4JywgJyNkNzMwMWYnLCAnI2IzMDAwMCcsICcjN2YwMDAwJ10sXG4gICAgICAgIFB1QnU6IFsnI2ZmZjdmYicsICcjZWNlN2YyJywgJyNkMGQxZTYnLCAnI2E2YmRkYicsICcjNzRhOWNmJywgJyMzNjkwYzAnLCAnIzA1NzBiMCcsICcjMDQ1YThkJywgJyMwMjM4NTgnXSxcbiAgICAgICAgQnVQdTogWycjZjdmY2ZkJywgJyNlMGVjZjQnLCAnI2JmZDNlNicsICcjOWViY2RhJywgJyM4Yzk2YzYnLCAnIzhjNmJiMScsICcjODg0MTlkJywgJyM4MTBmN2MnLCAnIzRkMDA0YiddLFxuICAgICAgICBPcmFuZ2VzOiBbJyNmZmY1ZWInLCAnI2ZlZTZjZScsICcjZmRkMGEyJywgJyNmZGFlNmInLCAnI2ZkOGQzYycsICcjZjE2OTEzJywgJyNkOTQ4MDEnLCAnI2E2MzYwMycsICcjN2YyNzA0J10sXG4gICAgICAgIEJ1R246IFsnI2Y3ZmNmZCcsICcjZTVmNWY5JywgJyNjY2VjZTYnLCAnIzk5ZDhjOScsICcjNjZjMmE0JywgJyM0MWFlNzYnLCAnIzIzOGI0NScsICcjMDA2ZDJjJywgJyMwMDQ0MWInXSxcbiAgICAgICAgWWxPckJyOiBbJyNmZmZmZTUnLCAnI2ZmZjdiYycsICcjZmVlMzkxJywgJyNmZWM0NGYnLCAnI2ZlOTkyOScsICcjZWM3MDE0JywgJyNjYzRjMDInLCAnIzk5MzQwNCcsICcjNjYyNTA2J10sXG4gICAgICAgIFlsR246IFsnI2ZmZmZlNScsICcjZjdmY2I5JywgJyNkOWYwYTMnLCAnI2FkZGQ4ZScsICcjNzhjNjc5JywgJyM0MWFiNWQnLCAnIzIzODQ0MycsICcjMDA2ODM3JywgJyMwMDQ1MjknXSxcbiAgICAgICAgUmVkczogWycjZmZmNWYwJywgJyNmZWUwZDInLCAnI2ZjYmJhMScsICcjZmM5MjcyJywgJyNmYjZhNGEnLCAnI2VmM2IyYycsICcjY2IxODFkJywgJyNhNTBmMTUnLCAnIzY3MDAwZCddLFxuICAgICAgICBSZFB1OiBbJyNmZmY3ZjMnLCAnI2ZkZTBkZCcsICcjZmNjNWMwJywgJyNmYTlmYjUnLCAnI2Y3NjhhMScsICcjZGQzNDk3JywgJyNhZTAxN2UnLCAnIzdhMDE3NycsICcjNDkwMDZhJ10sXG4gICAgICAgIEdyZWVuczogWycjZjdmY2Y1JywgJyNlNWY1ZTAnLCAnI2M3ZTljMCcsICcjYTFkOTliJywgJyM3NGM0NzYnLCAnIzQxYWI1ZCcsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbEduQnU6IFsnI2ZmZmZkOScsICcjZWRmOGIxJywgJyNjN2U5YjQnLCAnIzdmY2RiYicsICcjNDFiNmM0JywgJyMxZDkxYzAnLCAnIzIyNWVhOCcsICcjMjUzNDk0JywgJyMwODFkNTgnXSxcbiAgICAgICAgUHVycGxlczogWycjZmNmYmZkJywgJyNlZmVkZjUnLCAnI2RhZGFlYicsICcjYmNiZGRjJywgJyM5ZTlhYzgnLCAnIzgwN2RiYScsICcjNmE1MWEzJywgJyM1NDI3OGYnLCAnIzNmMDA3ZCddLFxuICAgICAgICBHbkJ1OiBbJyNmN2ZjZjAnLCAnI2UwZjNkYicsICcjY2NlYmM1JywgJyNhOGRkYjUnLCAnIzdiY2NjNCcsICcjNGViM2QzJywgJyMyYjhjYmUnLCAnIzA4NjhhYycsICcjMDg0MDgxJ10sXG4gICAgICAgIEdyZXlzOiBbJyNmZmZmZmYnLCAnI2YwZjBmMCcsICcjZDlkOWQ5JywgJyNiZGJkYmQnLCAnIzk2OTY5NicsICcjNzM3MzczJywgJyM1MjUyNTInLCAnIzI1MjUyNScsICcjMDAwMDAwJ10sXG4gICAgICAgIFlsT3JSZDogWycjZmZmZmNjJywgJyNmZmVkYTAnLCAnI2ZlZDk3NicsICcjZmViMjRjJywgJyNmZDhkM2MnLCAnI2ZjNGUyYScsICcjZTMxYTFjJywgJyNiZDAwMjYnLCAnIzgwMDAyNiddLFxuICAgICAgICBQdVJkOiBbJyNmN2Y0ZjknLCAnI2U3ZTFlZicsICcjZDRiOWRhJywgJyNjOTk0YzcnLCAnI2RmNjViMCcsICcjZTcyOThhJywgJyNjZTEyNTYnLCAnIzk4MDA0MycsICcjNjcwMDFmJ10sXG4gICAgICAgIEJsdWVzOiBbJyNmN2ZiZmYnLCAnI2RlZWJmNycsICcjYzZkYmVmJywgJyM5ZWNhZTEnLCAnIzZiYWVkNicsICcjNDI5MmM2JywgJyMyMTcxYjUnLCAnIzA4NTE5YycsICcjMDgzMDZiJ10sXG4gICAgICAgIFB1QnVHbjogWycjZmZmN2ZiJywgJyNlY2UyZjAnLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM2N2E5Y2YnLCAnIzM2OTBjMCcsICcjMDI4MThhJywgJyMwMTZjNTknLCAnIzAxNDYzNiddLFxuICAgICAgICBWaXJpZGlzOiBbJyM0NDAxNTQnLCAnIzQ4Mjc3NycsICcjM2Y0YThhJywgJyMzMTY3OGUnLCAnIzI2ODM4ZicsICcjMWY5ZDhhJywgJyM2Y2NlNWEnLCAnI2I2ZGUyYicsICcjZmVlODI1J10sXG5cbiAgICAgICAgLy8gZGl2ZXJnaW5nXG5cbiAgICAgICAgU3BlY3RyYWw6IFsnIzllMDE0MicsICcjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNmZmZmYmYnLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCcsICcjNWU0ZmEyJ10sXG4gICAgICAgIFJkWWxHbjogWycjYTUwMDI2JywgJyNkNzMwMjcnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZDllZjhiJywgJyNhNmQ5NmEnLCAnIzY2YmQ2MycsICcjMWE5ODUwJywgJyMwMDY4MzcnXSxcbiAgICAgICAgUmRCdTogWycjNjcwMDFmJywgJyNiMjE4MmInLCAnI2Q2NjA0ZCcsICcjZjRhNTgyJywgJyNmZGRiYzcnLCAnI2Y3ZjdmNycsICcjZDFlNWYwJywgJyM5MmM1ZGUnLCAnIzQzOTNjMycsICcjMjE2NmFjJywgJyMwNTMwNjEnXSxcbiAgICAgICAgUGlZRzogWycjOGUwMTUyJywgJyNjNTFiN2QnLCAnI2RlNzdhZScsICcjZjFiNmRhJywgJyNmZGUwZWYnLCAnI2Y3ZjdmNycsICcjZTZmNWQwJywgJyNiOGUxODYnLCAnIzdmYmM0MScsICcjNGQ5MjIxJywgJyMyNzY0MTknXSxcbiAgICAgICAgUFJHbjogWycjNDAwMDRiJywgJyM3NjJhODMnLCAnIzk5NzBhYicsICcjYzJhNWNmJywgJyNlN2Q0ZTgnLCAnI2Y3ZjdmNycsICcjZDlmMGQzJywgJyNhNmRiYTAnLCAnIzVhYWU2MScsICcjMWI3ODM3JywgJyMwMDQ0MWInXSxcbiAgICAgICAgUmRZbEJ1OiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA5MCcsICcjZmZmZmJmJywgJyNlMGYzZjgnLCAnI2FiZDllOScsICcjNzRhZGQxJywgJyM0NTc1YjQnLCAnIzMxMzY5NSddLFxuICAgICAgICBCckJHOiBbJyM1NDMwMDUnLCAnIzhjNTEwYScsICcjYmY4MTJkJywgJyNkZmMyN2QnLCAnI2Y2ZThjMycsICcjZjVmNWY1JywgJyNjN2VhZTUnLCAnIzgwY2RjMScsICcjMzU5NzhmJywgJyMwMTY2NWUnLCAnIzAwM2MzMCddLFxuICAgICAgICBSZEd5OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZmZmZmZmJywgJyNlMGUwZTAnLCAnI2JhYmFiYScsICcjODc4Nzg3JywgJyM0ZDRkNGQnLCAnIzFhMWExYSddLFxuICAgICAgICBQdU9yOiBbJyM3ZjNiMDgnLCAnI2IzNTgwNicsICcjZTA4MjE0JywgJyNmZGI4NjMnLCAnI2ZlZTBiNicsICcjZjdmN2Y3JywgJyNkOGRhZWInLCAnI2IyYWJkMicsICcjODA3M2FjJywgJyM1NDI3ODgnLCAnIzJkMDA0YiddLFxuXG4gICAgICAgIC8vIHF1YWxpdGF0aXZlXG5cbiAgICAgICAgU2V0MjogWycjNjZjMmE1JywgJyNmYzhkNjInLCAnIzhkYTBjYicsICcjZTc4YWMzJywgJyNhNmQ4NTQnLCAnI2ZmZDkyZicsICcjZTVjNDk0JywgJyNiM2IzYjMnXSxcbiAgICAgICAgQWNjZW50OiBbJyM3ZmM5N2YnLCAnI2JlYWVkNCcsICcjZmRjMDg2JywgJyNmZmZmOTknLCAnIzM4NmNiMCcsICcjZjAwMjdmJywgJyNiZjViMTcnLCAnIzY2NjY2NiddLFxuICAgICAgICBTZXQxOiBbJyNlNDFhMWMnLCAnIzM3N2ViOCcsICcjNGRhZjRhJywgJyM5ODRlYTMnLCAnI2ZmN2YwMCcsICcjZmZmZjMzJywgJyNhNjU2MjgnLCAnI2Y3ODFiZicsICcjOTk5OTk5J10sXG4gICAgICAgIFNldDM6IFsnIzhkZDNjNycsICcjZmZmZmIzJywgJyNiZWJhZGEnLCAnI2ZiODA3MicsICcjODBiMWQzJywgJyNmZGI0NjInLCAnI2IzZGU2OScsICcjZmNjZGU1JywgJyNkOWQ5ZDknLCAnI2JjODBiZCcsICcjY2NlYmM1JywgJyNmZmVkNmYnXSxcbiAgICAgICAgRGFyazI6IFsnIzFiOWU3NycsICcjZDk1ZjAyJywgJyM3NTcwYjMnLCAnI2U3Mjk4YScsICcjNjZhNjFlJywgJyNlNmFiMDInLCAnI2E2NzYxZCcsICcjNjY2NjY2J10sXG4gICAgICAgIFBhaXJlZDogWycjYTZjZWUzJywgJyMxZjc4YjQnLCAnI2IyZGY4YScsICcjMzNhMDJjJywgJyNmYjlhOTknLCAnI2UzMWExYycsICcjZmRiZjZmJywgJyNmZjdmMDAnLCAnI2NhYjJkNicsICcjNmEzZDlhJywgJyNmZmZmOTknLCAnI2IxNTkyOCddLFxuICAgICAgICBQYXN0ZWwyOiBbJyNiM2UyY2QnLCAnI2ZkY2RhYycsICcjY2JkNWU4JywgJyNmNGNhZTQnLCAnI2U2ZjVjOScsICcjZmZmMmFlJywgJyNmMWUyY2MnLCAnI2NjY2NjYyddLFxuICAgICAgICBQYXN0ZWwxOiBbJyNmYmI0YWUnLCAnI2IzY2RlMycsICcjY2NlYmM1JywgJyNkZWNiZTQnLCAnI2ZlZDlhNicsICcjZmZmZmNjJywgJyNlNWQ4YmQnLCAnI2ZkZGFlYycsICcjZjJmMmYyJ10sXG4gICAgfTtcblxuICAgIC8vIGFkZCBsb3dlcmNhc2UgYWxpYXNlcyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGVzXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGlzdCQxID0gT2JqZWN0LmtleXMoY29sb3JicmV3ZXIpOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdCQxW2kkMV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIG9wZXJhdG9ycyAtLT4gbW9kaWZ5IGV4aXN0aW5nIENvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gaW50ZXJwb2xhdG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gZ2VuZXJhdG9ycyAtLSA+IGNyZWF0ZSBuZXcgY29sb3JzXG4gICAgY2hyb21hXzEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hXzEuYmV6aWVyID0gYmV6aWVyXzE7XG4gICAgY2hyb21hXzEuYmxlbmQgPSBibGVuZF8xO1xuICAgIGNocm9tYV8xLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWFfMS5taXggPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZSA9IG1peDtcbiAgICBjaHJvbWFfMS5yYW5kb20gPSByYW5kb21fMTtcbiAgICBjaHJvbWFfMS5zY2FsZSA9IHNjYWxlO1xuXG4gICAgLy8gb3RoZXIgdXRpbGl0eSBtZXRob2RzXG4gICAgY2hyb21hXzEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYV8xLmNvbnRyYXN0ID0gY29udHJhc3Q7XG4gICAgY2hyb21hXzEuZGVsdGFFID0gZGVsdGFFO1xuICAgIGNocm9tYV8xLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hXzEubGltaXRzID0gYW5hbHl6ZV8xLmxpbWl0cztcbiAgICBjaHJvbWFfMS52YWxpZCA9IHZhbGlkO1xuXG4gICAgLy8gc2NhbGVcbiAgICBjaHJvbWFfMS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWFfMS5jb2xvcnMgPSB3M2N4MTFfMTtcbiAgICBjaHJvbWFfMS5icmV3ZXIgPSBjb2xvcmJyZXdlcl8xO1xuXG4gICAgdmFyIGNocm9tYV9qcyA9IGNocm9tYV8xO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///792
`)}},__webpack_module_cache__={};function __webpack_require__(i){var g=__webpack_module_cache__[i];if(g!==void 0)return g.exports;var $=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call($.exports,$,$.exports,__webpack_require__),$.exports}__webpack_require__.n=i=>{var g=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(g,{a:g}),g},__webpack_require__.d=(i,g)=>{for(var $ in g)__webpack_require__.o(g,$)&&!__webpack_require__.o(i,$)&&Object.defineProperty(i,$,{enumerable:!0,get:g[$]})},__webpack_require__.o=(i,g)=>Object.prototype.hasOwnProperty.call(i,g),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(773);return __webpack_exports__})()})})(bundle);var bundleExports=bundle.exports;let nanoid=(i=21)=>crypto.getRandomValues(new Uint8Array(i)).reduce((g,$)=>($&=63,$<36?g+=$.toString(36):$<62?g+=($-26).toString(36).toUpperCase():$>62?g+="-":g+="_",g),"");const importFromFile=async(i,g)=>{if(i.name.endsWith(".excalidraw")){const $=await mainExports.loadFromBlob(i,g,null);return{...$,appState:{...g,...$.appState}}}return i.type==="image/svg+xml"?{elements:await convertSvgToElements(i),appState:g,files:null}:i.type.startsWith("image/")?{elements:await convertImageToElements(i),appState:g,files:null}:(console.log("Unsupported file dropped",i),window.alert("Unsupported file dropped"),null)},convertSvgToElements=async i=>{const g=await i.text(),{hasErrors:$,content:tt}=bundleExports.convert(g);if($)throw Error("Error in convertSvgToElements");return tt.elements},convertImageToElements=async i=>{const g=await createImageBitmap(i),$=64/Math.max(g.width,g.height),tt=document.createElement("canvas");tt.width=g.width*$,tt.height=g.height*$;const dt=tt.getContext("2d");if(!dt)throw Error("Error in convertSvgToElements");dt.drawImage(g,0,0,g.width,g.height,0,0,tt.width,tt.height);const mt=dt.getImageData(0,0,tt.width,tt.height),an=[],An=nanoid();for(let Dn=0;Dn<tt.height;++Dn)for(let Jn=0;Jn<tt.width;++Jn){const[Vn,er,Lt,kt]=mt.data.slice((Dn*tt.width+Jn)*4),_={type:"rectangle",version:1,versionNonce:0,isDeleted:!1,id:nanoid(),fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",roughness:0,opacity:100,angle:0,x:300+Jn*5,y:100+Dn*5,strokeColor:"transparent",backgroundColor:`rgba(${Vn},${er},${Lt},${kt})`,width:5,height:5,seed:0,groupIds:[An],roundness:null,boundElements:null,updated:1,link:null,locked:!1};an.push(_)}return an},DARK_FILTER="invert(93%) hue-rotate(180deg)",Preview=reactExports.memo(({scene:i,darkMode:g})=>{const $=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!$.current)return;const tt=$.current.getContext("2d");tt&&tt.putImageData(i.imageData,0,0)},[i]),jsxRuntimeExports.jsx("canvas",{ref:$,width:i.width,height:i.height,style:{filter:g?DARK_FILTER:void 0}})}),Claymate=({scenes:i,currentIndex:g,updateScenes:$,moveToScene:tt,addScene:dt,updateDrawing:mt})=>{var Ut;const[an,An]=reactExports.useState(!1),[Dn,Jn]=reactExports.useState(!1),[Vn,er]=reactExports.useState({}),Lt=((Ut=i[g||0])==null?void 0:Ut.drawing.appState.theme)==="dark",kt=async rt=>{var nn;const vt=(nn=rt.dataTransfer)==null?void 0:nn.files[0],Xt=g!==void 0&&i[g].drawing.appState;if(vt&&Xt){const cn=await importFromFile(vt,Xt);cn&&dt(cn)}},_=async()=>{await exportToGif(i)},pt=async()=>{await exportToHtml(i,{darkMode:Lt,animate:Dn,animateOptions:Vn})},ht=async()=>{if(g!==void 0){let rt="";const vt=document.getElementById("previewOuter");vt&&(rt="previewInner"),await previewHtml(i[g],{darkMode:Lt,animate:Dn,animateOptions:Vn},rt),vt&&(vt.style.display="block")}},ot=rt=>{const vt=i.findIndex(Xt=>Xt.id===rt);if(vt>=0){const Xt=i.length-1;if(Xt>0){let nn;if(g!==void 0){const cn=vt===g;if(g>vt||cn){let Qt=g;cn&&(g===Xt?Qt=g-1:g===0&&(Qt=1)),nn={index:g>0?g-1:g,drawing:i[Qt].drawing}}}$(cn=>cn.filter(Qt=>Qt.id!==rt),nn)}}},at=rt=>{const vt=i.findIndex(Xt=>Xt.id===rt);$(Xt=>{const nn=[...Xt];return nn[vt-1]=Xt[vt],nn[vt]=Xt[vt-1],nn},{index:vt-1,drawing:i[vt].drawing})},gt=rt=>{const vt=i.findIndex(Xt=>Xt.id===rt);$(Xt=>{const nn=[...Xt];return nn[vt+1]=Xt[vt],nn[vt]=Xt[vt+1],nn},{index:vt+1,drawing:i[vt].drawing})},xt=()=>{$(rt=>[...rt].reverse(),g!==void 0?{index:i.length-1-g,drawing:i[g].drawing}:void 0)};return jsxRuntimeExports.jsxs("div",{className:"Claymate",style:{filter:Lt?DARK_FILTER:void 0},onDragOver:rt=>rt.preventDefault(),onDrop:kt,children:[jsxRuntimeExports.jsx("div",{className:"Claymate-scenes",children:i.map((rt,vt)=>{let Xt="MissingId";return lodashExports.isEmpty(i[vt].drawing.elements)||(Xt=i[vt].drawing.elements[0].id),jsxRuntimeExports.jsxs("div",{className:`Claymate-scene ${vt===g?"Claymate-current-scene":""}`,onClick:()=>tt(vt),"data-testid":Xt,children:[jsxRuntimeExports.jsx(Preview,{scene:rt,darkMode:Lt}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-delete","aria-label":"Delete",disabled:i.length<=1,onClick:nn=>{nn.stopPropagation(),ot(rt.id)},children:"✖"}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-left","aria-label":"Move Left",disabled:vt===0,onClick:nn=>{nn.stopPropagation(),at(rt.id)},children:"⬅"}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-right","aria-label":"Move Right",disabled:vt===i.length-1,onClick:nn=>{nn.stopPropagation(),gt(rt.id)},children:"➡"})]},rt.id)})}),jsxRuntimeExports.jsx("div",{className:"Claymate-configs",children:an&&jsxRuntimeExports.jsx(AnimateConfig,{animateEnabled:Dn,setAnimateEnabled:Jn,scene:g===void 0?void 0:i[g],updateDrawing:mt,animateOptions:Vn,setAnimateOptions:er,previewCurrentScene:ht})}),jsxRuntimeExports.jsxs("div",{className:"Claymate-buttons",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dt(),children:"Add scene"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:_,disabled:i.length===0,children:"Export GIF"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>An(rt=>!rt),children:an?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"▸"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"◂"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pt(),disabled:i.length===0,children:"Export HTML"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:xt,disabled:i.length<=1,children:"Reverse order"})]})]})},createScene=async(i,g)=>{const $=await mainExports.exportToCanvas(i),tt=g?g.width:$.width,dt=g?g.height:$.height;if(!tt||!dt)return;const mt=$.getContext("2d");if(mt)return{id:nanoid(),width:tt,height:dt,imageData:mt.getImageData(0,0,tt,dt),drawing:i}},ELEMENTS_STORAGE_KEY="excalidraw-elements",SCENE_STORAGE_KEY="claymate-scenes",loadDrawingFromStorage=()=>{try{const i=JSON.parse(localStorage.getItem(ELEMENTS_STORAGE_KEY)||"");return i.appState.collaborators=new Map,i}catch{return null}},loadStorage=async()=>{try{const i=localStorage.getItem(SCENE_STORAGE_KEY)||"",g=i&&i.length>0?JSON.parse(i):void 0;if(g&&g.length>0){let $;const tt=[];for(const dt of g){dt.appState.collaborators=new Map;const mt=await createScene(dt,$?{width:$.width,height:$.height}:void 0);mt&&($||($=mt),tt.push(mt))}return tt}}catch(i){console.error("Error loading from storage",i);try{const g=loadDrawingFromStorage();if(g){const $=await createScene(g);if($)return[$]}}catch{}}return null},saveStorage=i=>{const g=JSON.stringify(i.map($=>$.drawing));localStorage.setItem(SCENE_STORAGE_KEY,g)},useScenes=()=>{const i=reactExports.useRef(0),[g,$]=reactExports.useState(0),[tt,dt]=reactExports.useState(0),[mt,an]=reactExports.useState([]),[An,Dn]=reactExports.useState(),Jn=tt!==void 0&&tt<mt.length?{...mt[tt],drawing:An}:void 0;let Vn,er;Jn!=null&&mt.length!==1&&(Vn=Jn.width,er=Jn.height);const Lt=reactExports.useCallback((at,gt,xt)=>{$(Ut=>Ut+1),Dn(at),xt&&gt!==void 0&&xt(gt,at)},[]),kt=reactExports.useCallback((at,gt)=>{at!=null&&gt&&(async()=>{const xt=await createScene(gt,Vn===void 0||er===void 0?void 0:{width:Vn,height:er});xt&&an(Ut=>{const rt=[...Ut];return rt[at]=xt,rt})})()},[Vn,er]),_=reactExports.useCallback((at,gt)=>{an(at),gt&&(dt(gt.index),Lt(gt.drawing,gt.index,kt))},[dt,Lt,kt]),pt=(at,gt,xt)=>{if(tt!==void 0&&(An==null||!lodashExports.isEqual(at,An.elements)||!lodashExports.isEqual(gt,An.appState))){const Ut={elements:at.map(rt=>({...rt})),appState:{...gt},files:xt};Dn(Ut),kt(tt,Ut)}},ht=reactExports.useCallback(at=>{Lt(mt[at].drawing,at,kt),dt(at)},[Lt,mt,kt]),ot=reactExports.useCallback(at=>{const gt=at||An;gt&&(async()=>{const xt=await createScene(gt,mt[0]&&{width:mt[0].width,height:mt[0].height});xt&&_(Ut=>[...Ut,xt],{index:mt.length,drawing:gt})})()},[_,mt,An]);return reactExports.useEffect(()=>{i.current===0&&(i.current=1,(async()=>{const at=await loadStorage();at&&at.length>0?(an(at),dt(0),Lt(at[0].drawing,0,kt)):ot(),i.current=2})())},[kt,Lt,ot]),reactExports.useEffect(()=>{i.current===2&&saveStorage(mt)},[mt]),{moveToScene:ht,addScene:ot,onChange:pt,drawingVersion:g,currentIndex:tt,scenes:mt,updateScenes:_,initialData:An}},LIBRARY_STORAGE_KEY="claymate-libraries",loadLibraries=()=>{try{const i=localStorage.getItem(LIBRARY_STORAGE_KEY),g=i?JSON.parse(i):void 0;if(g)return g}catch(i){console.error("Unable to load libraries",i)}},saveLibraries=i=>{const g=JSON.stringify(i);localStorage.setItem(LIBRARY_STORAGE_KEY,g)},useLibrary=()=>{const i=reactExports.useMemo(()=>loadLibraries(),[]),g=reactExports.useRef(i);return{onLibraryChange:reactExports.useCallback(tt=>{saveLibraries(tt),g.current=tt},[]),libraryItems:g.current}},App=()=>{const i=reactExports.useRef(null),g=kt=>{var _;(_=i.current)==null||_.updateScene(kt)},{moveToScene:$,addScene:tt,onChange:dt,drawingVersion:mt,currentIndex:an,initialData:An,scenes:Dn,updateScenes:Jn}=useScenes(),{onLibraryChange:Vn,libraryItems:er}=useLibrary(),Lt=reactExports.useMemo(()=>er?{...An,libraryItems:er,files:(An==null?void 0:An.files)||void 0}:{...An,files:(An==null?void 0:An.files)||void 0},[An,er]);return jsxRuntimeExports.jsxs("div",{className:"ClaymateApp",children:[jsxRuntimeExports.jsx(mainExports.Excalidraw,{ref:i,initialData:Lt,onChange:dt,onLibraryChange:Vn},mt),jsxRuntimeExports.jsx(Claymate,{scenes:Dn,currentIndex:an,updateScenes:Jn,moveToScene:$,addScene:tt,updateDrawing:g})]})};window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function unregister(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(i=>{i.unregister()}).catch(i=>{console.error(i.message)})}const index="",container=document.getElementById("root"),root=createRoot(container);root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));unregister();
